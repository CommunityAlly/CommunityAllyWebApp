/*! CommunityAllyWebApp 2024-05-26 */
angular.module("CondoAlly").run(["$templateCache",function(t){"use strict";t.put("/ngApp/admin/manage-address-polys.html",'<div class="page margin-vertical padding white-bg"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><google-map-poly-editor visible-points="$ctrl.addressPoints" edit-poly-verts="$ctrl.selectedGpsPoly" enable-clustering="true"></google-map-poly-editor><button data-ng-click="$ctrl.onSavePoly()">Save Polygon for Address</button><div><h2>Selected Address</h2><p>{{ $ctrl.selectedAddress.oneLiner }}</p><p>Filter: <select data-ng-model="$ctrl.filterAddresses" data-ng-change="$ctrl.refreshAddresses()"><option value="unset">Unset Bounds</option><option value="watch">Watch Ally</option><option value="condo">Condo Ally</option><option value="hoa">HOA Ally</option><option value="currentSite">Current Site</option><option value="">All</option></select> <label><input type="checkbox" data-ng-model="$ctrl.includeAddresses" data-ng-change="$ctrl.refreshAddresses()">Include Address Markers</label></p><h2>Addresses</h2><div><p class="text-link" data-ng-repeat="address in $ctrl.addresses" data-ng-click="$ctrl.onAddressSelected( address )">({{ address.polyType }}) {{ address.oneLiner }} <a data-ng-if="address.visitUrl" data-ng-href="{{address.visitUrl}}" target="_blank" class="ms-3">Visit Site</a></p></div></div></div>'),t.put("/ngApp/admin/manage-groups.html",'<div class="page margin-vertical padding white-bg spinner-effect"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div style="border:1px solid #000">Find associations for user by email: <input data-ng-model="$ctrl.findUserAssociationsEmail" data-ng-enter="$ctrl.findAssociationsForUser()" type="text"><button data-ng-click="$ctrl.findAssociationsForUser()">Find</button><div><p data-ng-repeat="group in $ctrl.foundUserAssociations"><a data-ng-href="{{ group.viewUrl }}">{{ group.shortName }} ({{ group.appName }})</a> (Group ID: {{group.groupId}})<span data-ng-if="group.deactivationDateUtc"> (Deactivated {{group.deactivationDateUtc | date}})</span></p></div></div><div class="p-3">Current Group ID: <b>{{$ctrl.curGroupId}}</b><br>Current Group API URI: <b>{{$ctrl.curGroupApiUri}}</b><br>Current Group Creation Date: <b>{{$ctrl.curGroupCreationDate | date:\'short\'}}</b><br><br>Stripe Connect Account ID: <b>{{$ctrl.stripeConnectAccountId}}</b></div><br><fieldset><legend>Change Short Name</legend>App Type: <select data-ng-model="$ctrl.changeShortNameData.appName"><option value="Condo">Condo</option><option value="Hoa">Hoa</option><option value="Neighborhood">Neighborhood</option><option value="Home">Home</option><option value="Pta">PTA</option><option value="BlockClub">Block Club</option></select><br>Old Short Name: <input data-ng-model="$ctrl.changeShortNameData.old" type="text"><br>New Short Name: <input data-ng-model="$ctrl.changeShortNameData.newShortName" type="text"><br><button data-ng-click="$ctrl.changeShortName()">Change</button><div style="font-size:large;color:#00f">{{$ctrl.changeShortNameResult}}</div></fieldset><br><h2>{{ $ctrl.groups.length }} Groups</h2><span class="text-button" data-ng-click="$ctrl.retrieveGroups()">Load Associations</span><table border="1" class="table"><thead class="table-light"><tr><th>ID</th><th>Type</th><th>Short Name (lowered)</th><th>Long Name</th><th>Address ID</th><th>GPS</th><th class="d-none">Last Activity</th><th>Created</th><th></th><th></th><th></th></tr></thead><tbody><tr data-ng-repeat="curAssociation in $ctrl.groups"><td>{{ ::curAssociation.groupId }}</td><td>{{ ::curAssociation.appNameString }}</td><td>{{ ::curAssociation.shortName }}</td><td>{{ ::curAssociation.fullName }}</td><td>{{ ::curAssociation.fullAddressId }}</td><td><a target="_blank" ng-href="https://www.google.com/maps?ie=UTF8&hq&ll={{ ::curAssociation.gpsPos.lat }},{{::curAssociation.gpsPos.lon }}&z=15">Map</a></td><td class="d-none">{{ ::curAssociation.lastActivityTime | date:\'M/d/yyyy\' }}</td><td>{{ ::curAssociation.creationDate | date:\'M/d/yyyy\' }}</td><td><a href="{{ ::curAssociation.baseUrl }}">Visit</a></td><td><a href="https://{{ ::curAssociation.shortName }}.CondoAlly.com/#!/Admin/ViewActivityLog">Log</a></td><td><span class="text-button" data-ng-click="$ctrl.deleteAssociation( curAssociation )">Delete</span></td></tr></tbody><tfoot class="table-light"><tr><th>ID</th><th>Type</th><th>Short Name (lowered)</th><th>Long Name</th><th>Address ID</th><th>GPS</th><th>Last Activity</th><th>Created</th><th></th><th></th><th></th></tr></tfoot></table><form><fieldset><legend>Add New Group</legend><table><tbody><tr><td class="AlignRight">Short Name:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.shortName" data-rule-required="true"></td></tr><tr><td class="AlignRight">App Type:</td><td><select data-ng-model="$ctrl.newAssociation.appName" data-rule-required="true"><option value="0">Condo</option><option value="3">Hoa</option><option value="4">Neighborhood</option><option value="2">Home</option><option value="5">PTA</option><option value="6">Block Club</option></select></td></tr><tr><td class="AlignRight">Long Name:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.fullName" data-rule-required="true"></td></tr><tr><td class="AlignRight">Street 1:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.streetAddress1" data-rule-required="true"></td></tr><tr><td class="AlignRight">Street 2:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.streetAddress2"></td></tr><tr><td class="AlignRight">City:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.city" data-rule-required="true"></td></tr><tr><td class="AlignRight">State:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.state" data-rule-required="true"></td></tr><tr><td class="AlignRight">Country:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.country" data-rule-required="true"></td></tr><tr><td class="AlignRight">Zip:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.zip" data-rule-required="true"></td></tr><tr><td class="AlignRight">Site Logo:</td><td><input type="text" data-ng-model="$ctrl.newAssociation.siteLogo" data-rule-required="true"><br>For an image logo, use: (600x120 max dimensions, image does not get auto scaled):<br>image:Documents/Public/XXX (Don\'t forget to upload the file to S3)<br>For text use either of:<br>text:X (just text)<br>text:X,Y (X size in pt) (Y text)<br>text:X,Y,Z (X size in pt) (Y hex color with leading #) (Z text)</td></tr></tbody></table><input type="button" value="Create New Group" data-ng-click="$ctrl.onCreateAssociationClick();"></fieldset></form><br><fieldset><legend>Add Full Address</legend>Address: <input data-ng-model="$ctrl.newAddress" type="text" style="width:80%"><br><span style="font-weight:700;color:#228b22" data-ng-if="$ctrl.newAddressId">New Address ID: {{$ctrl.newAddressId}}</span><br><button data-ng-click="$ctrl.addAddress()">Add Address</button></fieldset><div style="position:relative"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingHelper"></div><input type="text" data-ng-model="$ctrl.testEmailRecipient"><input type="button" value="Send Test Email" data-ng-click="$ctrl.onSendTestEmail()"><label><input type="checkbox" data-ng-model="$ctrl.sendTestFromInmail">Send from inmail.</label><br><input type="text" data-ng-model="$ctrl.testTaylorEmailRecipient"><input type="button" value="Send Test Email from Taylor at CA" data-ng-click="$ctrl.onSendTaylorTestEmail()"><br><input type="button" value="Send Taylor Bulk Email" data-ng-click="$ctrl.onSendTaylorBulkUpdateEmail()"><br><input type="text" data-ng-model="$ctrl.testPostmarkEmail"><input type="button" value="Send Test Postmark Email" data-ng-click="$ctrl.onSendTestPostmarkEmail()"><br><input type="button" value="Send Test Calendar Email" data-ng-click="$ctrl.onSendTestCalendarEmail()"><br><div><input type="text" data-ng-model="$ctrl.deactivateGroupIdsCsv" data-ng-enter="$ctrl.onDeactivateGroup()" autocomplete="off" data-lpignore="true" data-form-type="other"> <input type="button" value="Deactivate Groups by CSV IDs" data-ng-click="$ctrl.onDeactivateGroup()"></div><div><input type="number" data-ng-model="$ctrl.reactivateGroupId" data-ng-enter="$ctrl.onReactivateGroup()" autocomplete="off" data-lpignore="true" data-form-type="other"> <input type="button" value="Reactivate Single Group by ID" data-ng-click="$ctrl.onReactivateGroup()"></div><div><input type="text" data-ng-model="$ctrl.reactivateEmail" data-ng-enter="$ctrl.onReactivateEmail()" autocomplete="off" data-lpignore="true" data-form-type="other"> <input type="button" value="Reactivate Spam-Marked Email Address" data-ng-click="$ctrl.onReactivateEmail()"></div><br><fieldset class="my-4"><legend>No Reply Email</legend><table style="width:75%"><tbody><tr><td class="AlignRightBold">To:</td><td><input type="text" style="width:100%" data-ng-model="$ctrl.noReplyEmailInfo.to"></td></tr><tr><td class="AlignRightBold">Subject:</td><td><input type="text" style="width:100%" data-ng-model="$ctrl.noReplyEmailInfo.subject"></td></tr><tr><td class="AlignRightBold">Body:</td><td><textarea data-ng-model="$ctrl.noReplyEmailInfo.body" style="width:100%" rows="5"></textarea></td></tr></tbody></table><button type="button" data-ng-click="$ctrl.onSendNoReplyEmail()">Send No Reply Email</button></fieldset><input type="button" value="Test Exception" data-ng-click="$ctrl.onTestException()"><br><input type="button" value="Clear Current App Group Cache" data-ng-click="$ctrl.onClearCurrentAppGroupCache()"><br><input type="button" value="Clear Entire App Group Cache" data-ng-click="$ctrl.onClearEntireAppGroupCache()"><br><input type="text" data-ng-model="$ctrl.logInAsEmail"><button value="Clear App Group Cache" data-ng-click="$ctrl.logInAs()">Log-in As</button><br><input type="button" value="Populate Empty Document Usage" data-ng-click="$ctrl.populateEmptyDocumentUsage()"> Force Group ID: <input type="number" data-ng-model="$ctrl.populateDocUsageGroupId" style="width:70px"><br><input type="button" value="Refresh Current Group Document Usage" data-ng-click="$ctrl.refreshCurGroupDocumentUsage()"><br><br><textarea data-ng-model="$ctrl.inactiveShortNames" rows="10"></textarea><br><input type="button" value="Send Inactive Mail" data-ng-click="$ctrl.onSendInactiveGroupsMail()"><br><fieldset class="my-5"><legend>Update Premium Plan</legend><table><tr><td class="AlignRight">Group ID:</td><td><input type="number" data-ng-model="$ctrl.premiumUpdateGroupId"></td></tr><tr><td class="AlignRight">New Cost:</td><td>$<input type="number" data-ng-model="$ctrl.premiumNewCost"> <button class="btn btn-primary" type="button" data-ng-click="$ctrl.updatePremiumCost()">Update Cost</button></td></tr><tr><td class="AlignRight">New Expiration:</td><td><input type="text" data-ui-date data-ng-model="$ctrl.premiumNewExpiration"> <button class="btn btn-primary" type="button" data-ng-click="$ctrl.updatePremiumExpiration()">Update Expiration Date</button></td></tr></table></fieldset><fieldset class="my-5"><legend>Add Ally Payment</legend><table><tbody><tr><td class="AlignRight">Group ID:</td><td><input type="number" data-ng-model="$ctrl.newAllyPaymentEntry.groupId" data-rule-required="true"></td></tr><tr><td class="AlignRight">Amount:</td><td>$<input type="number" data-ng-model="$ctrl.newAllyPaymentEntry.amount" data-rule-required="true"></td></tr><tr><td class="AlignRight">Net Amount:</td><td>$<input type="number" data-ng-model="$ctrl.newAllyPaymentEntry.netAmount"></td></tr><tr><td class="AlignRight">Description:</td><td><input type="text" data-ng-model="$ctrl.newAllyPaymentEntry.description" data-rule-required="true"></td></tr><tr><td class="AlignRight">Payment Date:</td><td><input type="text" data-ui-date data-ng-model="$ctrl.newAllyPaymentEntry.paymentDateUtc" data-rule-required="true"></td></tr><tr><td class="AlignRight">Payment Method:</td><td><input type="text" data-ng-model="$ctrl.newAllyPaymentEntry.paymentMethod" data-rule-required="true"></td></tr><tr><td class="AlignRight">Payment Method ID:</td><td><input type="text" data-ng-model="$ctrl.newAllyPaymentEntry.paymentMethodId" data-rule-required="true"></td></tr><tr><td class="AlignRight">Status:</td><td><input type="text" data-ng-model="$ctrl.newAllyPaymentEntry.status" data-rule-required="true"></td></tr></tbody></table><button type="button" class="btn btn-primary" data-ng-click="$ctrl.onAddAllyPayment()">Add Payment</button></fieldset><fieldset class="my-5"><legend>Ally App Settings</legend><table class="table" data-ng-if="$ctrl.allAllyAppSettings.length > 0"><thead class="table-light"><tr><th>Setting ID</th><th>Name</th><th>Value</th><th>Note</th><th></th></tr></thead><tbody><tr><td>{{curSetting.settingId}}</td><td>{{curSetting.settingName}}</td><td>{{curSetting.settingValue}}</td><td>{{curSetting.note}}</td><td><span class="text-link">Edit</span> - <span class="text-link">Delete</span></td></tr></tbody></table><div data-ng-if="!$ctrl.allAllyAppSettings.length || $ctrl.allAllyAppSettings.length === 0" class="my-3">There are no active app settings.</div><div><h5>{{$ctrl.editAllyAppSetting.settingId ? \'Edit\' : \'Add\'}} Setting</h5><button type="button" class="btn btn-primary" data-ng-click="$ctrl.saveAllyAppSetting()">Save Setting</button></div></fieldset></div></div>'),t.put("/ngApp/admin/manage-homes.html",'<div class="page margin-vertical padding white-bg spinner-effect"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h3>Manage {{$ctrl.homeName}}s</h3><div class="alert alert-warning" role="alert"><strong>Warning!</strong> This is an advanced tool and you can really mess up your data. We, at Community Ally support, are more than happy to manage your homes for you for free. If you feel the need to manage your own home data, know that if you seriously mess up your home data you will be charged an hourly fee for the time it takes to correct the issue.</div><span>Total Number of {{$ctrl.homeName}}s: {{ $ctrl.units.length }}</span><span class="text-link ms-3" data-ng-click="$ctrl.exportHomesCsv()">Export to CSV</span><br><div style="position:relative"><table border="1" class="table-bordered" style="width:100%"><thead><tr><th></th><th>Name</th><th data-ng-if="$ctrl.isAdmin">Unit ID</th><th data-ng-if="$ctrl.isAdmin">Address ID</th><th>Street Address</th><th>Lot#</th><th>Notes</th></tr></thead><tbody><tr data-ng-repeat="unit in $ctrl.units"><td><span class="text-button" data-ng-click="$ctrl.onEditUnitClick( unit );">Edit</span> - <span class="text-button" data-ng-click="$ctrl.onDeleteUnitClick( unit );">Delete</span> <span data-ng-if="$ctrl.isAdmin">- <span class="text-button" data-ng-click="$ctrl.onRefreshUnitFromGoogle( unit );">Goog Refresh</span></span></td><td>{{unit.name}}</td><td data-ng-if="$ctrl.isAdmin">{{unit.unitId}}</td><td data-ng-if="$ctrl.isAdmin">{{unit.addressId}}</td><td>{{unit.fullAddress.oneLiner}}</td><td>{{unit.lotNumber}}</td><td>{{unit.notes}}</td></tr></tbody></table></div><br><fieldset id="unit-edit-panel"><legend>{{$ctrl.isEdit == false | iif : "Add New" : "Edit"}} {{$ctrl.homeName}}</legend><form id="AddUnitForm"><table><tr><td class="text-end">{{$ctrl.homeName}} Label:</td><td style="width:500px"><input id="unit-name-text-box" type="text" style="width:50%" data-ng-model="$ctrl.unitToEdit.name" data-ng-enter="$ctrl.onCreateUnitClick()" data-rule-required="true"></td></tr><tr><td class="text-end">Street Address:</td><td><input id="unit-address-text-box" type="text" style="width:100%" data-ng-model="$ctrl.unitToEdit.streetAddress" data-ng-enter="$ctrl.onCreateUnitClick()" data-rule-required="true"></td></tr><tr><td class="text-end">Lot Number:</td><td><input id="unit-lot-number-text-box" type="text" style="width:100%" data-ng-model="$ctrl.unitToEdit.lotNumber" maxlength="1024" data-ng-enter="$ctrl.onCreateUnitClick()"></td></tr><tr><td class="text-end">Notes:</td><td><input id="unit-notes-text-box" type="text" style="width:100%" data-ng-model="$ctrl.unitToEdit.notes" maxlength="1024" data-ng-enter="$ctrl.onCreateUnitClick()"></td></tr><tr><td colspan="2" class="text-end"><input id="add-update-unit-button" type="button" value="{{ $ctrl.isEdit == false | iif : (\'Add New \' + $ctrl.homeName) : \'Save Changes\'}}" data-ng-click="$ctrl.onCreateUnitClick()"> <input type="button" data-ng-show="$ctrl.isEdit" value="Cancel" data-ng-click="$ctrl.isEdit = false; $ctrl.unitToEdit = {}; $ctrl.isLoading = false;"></td></tr></table></form></fieldset><div><br><br><span class="text-button" data-ng-click="$ctrl.onDeleteAllClick()">Delete All {{$ctrl.homeName}}s</span><br><br><div data-ng-if="$ctrl.isAdmin" style="border:1px solid #000">Quickly generate units:<br>Last Letter or Number: <input type="text" data-ng-model="$ctrl.lastFastAddName" maxlength="1"> <input type="button" data-ng-click="$ctrl.onFastAddUnits()" value="Add Lettered"></div><div data-ng-if="$ctrl.isCondoAlly || $ctrl.isAdmin" style="border:1px solid #000">Generate condo units, one name per line:<br><textarea rows="15" data-ng-model="$ctrl.unitNamePerLine"></textarea> <input type="button" data-ng-click="$ctrl.onAddUnitsPerLine()" value="Add Units"></div><div data-ng-if="!$ctrl.isCondoAlly || $ctrl.isAdmin" style="border:1px solid #000">Generate homes, one street address per line:<span class="note-text">&nbsp;(Use a | to specify home short name|home address or short name|home address|notes or short name|home address|notes|lot number)</span><br><textarea rows="15" style="width:70%" data-ng-model="$ctrl.unitAddressPerLine"></textarea> <input type="button" data-ng-click="$ctrl.onAddUnitsByAddressPerLine()" value="Add Homes"></div></div></div>'),t.put("/ngApp/admin/view-activity-log.html",'<div class="page margin-vertical padding white-bg spinner-effect"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><div><label><input type="checkbox" data-ng-change="$ctrl.onHideLoginAndEmailMessagesChange()" data-ng-model="$ctrl.shouldHideLoginAndEmailMessages">Hide Login and Group Email Messages</label></div><table border="1"><thead><tr><th>User Name</th><th>Entry Date</th><th>Message</th><th>Data</th><th>Url</th><th>IP</th></tr></thead><tbody style="font-size:small"><tr data-ng-repeat="entry in $ctrl.filteredLogEntries"><td>{{ ::entry.userName }}</td><td>{{ ::entry.entryDateUtc | date:\'short\' }}</td><td>{{ ::entry.activityMessage }}</td><td>{{ ::entry.activityData }}</td><td><a href="{{ ::entry.url }}">{{ ::entry.url }}</a></td><td>{{ ::entry.ip }}</td></tr></tbody></table></div>'),t.put("/ngApp/admin/view-polys.html",'<section class="content-full-width"><div><google-map-poly-editor map-center="$ctrl.mapCenter" visible-polys="$ctrl.neighborhoodPolys"></google-map-poly-editor></div></section>'),t.put("/ngApp/admin/view-research.html",'<section class="content-full-width"><div class="loading-overlay" data-ng-if="$ctrl.isLoading"></div><div><google-map-poly-editor map-center="$ctrl.mapCenter" visible-polys="$ctrl.cellPolys" visible-points="$ctrl.buildingPoints"></google-map-poly-editor></div></section>'),t.put("/ngApp/chtn/manager/financial/assessment-history.html",'<div class="page page-manage-assessmenthistory"><h1>{{ $ctrl.pageTitle }}</h1><div data-ng-if="::$ctrl.shouldShowNeedsAssessmentSetup"><div data-ng-if="::$ctrl.hasAssessments === false">Assessment tracking can only be enabled if you have regular assessments. You association indicated that you do not have regular assessments on the assessment questionnaire. If you need to change that, visit the bottom of <a href="#!/Financials/OnlinePayments">the online payments page</a>.</div><div data-ng-if="::$ctrl.hasAssessments !== false">Before you can start tracking assessments, you need to fill out the assessment questionnaire on <a href="#!/Financials/OnlinePayments">the online payments page</a>.</div></div><div data-ng-if="!$ctrl.shouldShowNeedsAssessmentSetup"><p data-ng-if="!$ctrl.isForMemberGroup"><label><input id="enable-tracking-checkbox" type="checkbox" data-ng-change="$ctrl.onChangePeriodicPaymentTracking()" data-ng-model="$ctrl.isPeriodicPaymentTrackingEnabled">Enable Payment History for Residents</label><br><span style="font-size:small">By enabling the payment history, residents will be able to see what {{ ::$ctrl.payPeriodName }} they\'re paying for. As payments are made, this chart will be automatically updated. Be certain to have at least each home\'s most recent payment recorded because that is how residents will know what payment they\'re making next.</span></p><p class="clearfix"><label><input type="checkbox" data-ng-model="$ctrl.showPaymentInfo" data-ng-change="$ctrl.onShowPaymentInfo()">Show Payment Amounts</label> <label class="ms-3" data-ng-if="$ctrl.showPaymentInfo"><input type="checkbox" data-ng-model="$ctrl.shouldColorCodePayments" data-ng-change="$ctrl.onShowPaymentInfo()">Color-code Paid/Partial</label> <label class="ms-3" title="This will show the simple calculation of a home\'s assessment amount multiplied by the # payments missed since the last payment. Late fees and gaps in payments are not included." data-toggle="tooltip"><input type="checkbox" data-ng-model="$ctrl.shouldShowBalanceCol" data-ng-change="$ctrl.onshowBalanceCol()">Show Est. Balance</label> <button class="btn btn-primary ms-3" data-ng-click="$ctrl.showCreateSpecialAssessment()" type="button">Add Special Assessment</button></p><div data-ng-if="$ctrl.shouldShowFillInSection" style="padding:10px;border:1px solid #000">You can speed things up by marking all homes as paid back to a certain date.<br><br>Set all homes paid for period: <select data-ng-model="$ctrl.selectedFillInPeriod" data-ng-options="p as p.name for p in $ctrl.visiblePeriodEntries"></select> <button type="button" data-ng-click="$ctrl.populatePaidForPeriod()" class="btn btn-primary">Mark As Paid</button></div><div class="margin-top-10 spinner-effect"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div><span class="note-text">Click on a cell to edit payment</span> <span class="text-link" style="margin-left:17px" data-ng-click="$ctrl.browseFuture()">&lt; Ahead 6 {{ $ctrl.payPeriodName }}s</span> <span class="text-link pull-right" data-ng-click="$ctrl.browsePast()">Back 6 {{ $ctrl.payPeriodName }}s &gt;</span></div><table id="assessment-table" class="table table-bordered table-striped"><thead><tr><th style="width:15%;font-size:inherit;font-weight:initial"><div data-ng-if="$ctrl.shouldShowQuickFilter">Quick Filter:<br><input type="text" class="form-control form-control-sm" style="display:inline-block" data-ng-model="$ctrl.quickFilterText" data-ng-change="$ctrl.onQuickFilterChange()"> <span class="text-error" data-ng-if="$ctrl.quickFilterText && $ctrl.nameSortedUnitPayments.length > 0 && $ctrl.filteredUnitRows.length === 0">No rows to display</span><br><span class="note-text">Filters home/owner name</span></div></th><th data-ng-if="$ctrl.shouldShowBalanceCol">Est. Balance</th><th data-ng-repeat="period in $ctrl.visiblePeriodEntries" class="text-center" data-ng-click="$ctrl.onPeriodHeaderClick( period )" data-ng-style="{\'font-size\': $ctrl.isForMemberGroup ? \'1.1em\' : \'\', \'background-color\': period.isTodaysPeriod ? \'#EEF\' : \'default\', \'color\' : period.specialAssessmentId ? \'blue\' : \'default\', \'cursor\' : period.specialAssessmentId ? \'pointer\' : \'default\', \'font-size\': period.specialAssessmentId ? \'small\' : \'default\' }">{{ ::period.name }}<div data-ng-if="period.specialAssessmentId" class="note-text" style="font-size:xx-small">(Special)</div></th></tr></thead><tbody data-ng-if="$ctrl.showRowType === \'unit\'"><tr data-ng-repeat="unit in $ctrl.filteredUnitRows" ng-init="unitIndex = $index"><td class="text-bold text-end"><span title="{{ ::unit.unitId }}">{{ ::unit.name }}</span><div class="unit-owner-names ellipsis" title="{{ ::owner.name }}" ng-repeat="owner in unit.displayOwners">{{ ::owner.name ? owner.name : "&nbsp;" }}</div></td><td data-ng-if="$ctrl.shouldShowBalanceCol">{{ ::unit.estBalance | currency }}</td><td data-ng-repeat="payment in unit.displayPayments" id="pay-cell-{{ ::unitIndex }}-{{ ::$index }}" class="month-cell" data-ng-click="$ctrl.onUnitPaymentCellClick( unit, payment )"><div data-ng-if="!$ctrl.showPaymentInfo"><img src="/assets/images/check.png" data-ng-show="::payment.isPaid"></div><div data-ng-if="$ctrl.showPaymentInfo"><div data-ng-if="::!payment.isEmptyEntry && payment.amount != 0"><div data-ng-if="$ctrl.shouldColorCodePayments"><span data-ng-style="{\'color\': payment.amount !== null && payment.amount != undefined && !payment.isPaid ? \'red\' : \'black\'}">{{ payment.amount | currency }}</span></div><div data-ng-if="!$ctrl.shouldColorCodePayments">{{ ::payment.amount | currency }}</div></div></div></td></tr></tbody><tbody data-ng-if="::$ctrl.showRowType === \'member\'"><tr data-ng-repeat="payer in $ctrl.payers" ng-init="memberIndex = $index"><td class="text-bold text-end">{{ ::payer.name }}</td><td data-ng-repeat="payment in payer.displayPayments" id="pay-cell-{{ ::memberIndex }}-{{ ::$index }}" class="month-cell" data-ng-click="$ctrl.onMemberPaymentCellClick( payer, payment )"><div data-ng-if="!$ctrl.showPaymentInfo"><img src="/assets/images/check.png" data-ng-show="::payment.isPaid"></div><div data-ng-if="$ctrl.showPaymentInfo"><span data-ng-show="payment.isPaid">{{ ::payment.amount | currency }}</span></div></td></tr></tbody><tfoot><tr data-ng-if="$ctrl.showPaymentInfo" class="text-bold"><th class="text-end">Sum:</th><th data-ng-if="$ctrl.shouldShowBalanceCol">{{ ::$ctrl.totalEstBalance | currency }}</th><th data-ng-repeat="period in $ctrl.visiblePeriodEntries" id="bottomsum-cell-{{ ::unitIndex }}-{{ ::$index }}" class="month-cell">{{ ::$ctrl.getPaymentSumForPayPeriod( $index ) | currency }}</th></tr></tfoot></table><div class="container"><div class="row"><div class="col-6 text-start"><label data-ng-if="$ctrl.hasUnitsWithoutOwners || $ctrl.shouldShowAllUnits"><input type="checkbox" data-ng-model="$ctrl.shouldShowAllUnits" data-ng-change="$ctrl.retrievePaymentHistory()"> Include homes without owners</label></div><div class="col-6 text-end">Export To: <a data-ng-href="{{::$ctrl.baseApiUri}}PublicPaymentHistory/Xlsx?vid={{ $ctrl.viewExportViewId }}" data-ng-click="$ctrl.onExportClick(\'Xlsx\')" download="AssessmentHistory.xlsx">Excel (xslx)</a> or <a data-ng-href="{{::$ctrl.baseApiUri}}PublicPaymentHistory/Csv?vid={{ $ctrl.viewExportViewId }}" data-ng-click="$ctrl.onExportClick(\'Csv\')" download="AssessmentHistory.csv">CSV</a></div></div></div><div class="text-end"><span class="text-link note-text" data-ng-click="$ctrl.showBulkSet()">Show Bulk Set</span></div></div><div id="edit-payment-container" class="modal-container" data-ng-show="$ctrl.editPayment" data-ng-escape="$ctrl.editPayment = null"><div class="modal-overlay" data-ng-click="$ctrl.editPayment = null"></div><div class="ca-modal-dialog modal-sm"><div class="loading-overlay" data-ng-show="$ctrl.isSavingPayment"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.editPayment = null">&times;</span><h3>Payment for {{$ctrl.editPayment.periodName}} {{$ctrl.editPayment.payment.year}}</h3><form><div class="mb-3 row px-3"><label class="col-6 col-sm-4 form-label" for="is-paid-checkbox">PAID:</label><div class="col-6 col-sm-8 px-0"><input id="is-paid-checkbox" type="checkbox" data-ng-model="$ctrl.editPayment.payment.isPaid"></div></div><div class="mb-3 row px-3"><label class="col-sm-4 form-label">Amount:</label><div class="col-sm-8 px-0"><input type="text" id="paid-amount-textbox" class="form-control form-control-sm" data-ng-model="$ctrl.editPayment.payment.amount"></div></div><div class="mb-3 row px-3"><label class="col-sm-4 form-label">Check Number:</label><div class="col-sm-8 px-0"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editPayment.payment.checkNumber"> <span class="text-link" data-ng-if="$ctrl.editPayment.payment.wePayCheckoutId && !$ctrl.editPayment.payment.paymentsInfoId" data-ng-click="$ctrl.viewWePayDetails($ctrl.editPayment.payment.wePayCheckoutId)">View WePay Payment Details</span> <span class="text-link" data-ng-if="$ctrl.editPayment.payment.paymentsInfoId" data-ng-click="$ctrl.viewOnlinePaymentDetails($ctrl.editPayment.payment.paymentsInfoId)">View Online Payment Details</span></div></div><div class="mb-3 row px-3" data-ng-if="$ctrl.showRowType === \'unit\'"><label class="col-sm-4 form-label">Paid By:</label><div class="col-sm-8 px-0"><select class="form-control form-control-sm" data-ng-model="$ctrl.editPayment.payment.payerUserId" data-ng-options="p.userId as p.name for p in $ctrl.payers"><option value=""></option></select> <select class="form-control form-control-sm form-select" data-ng-if="false" data-ng-model="$ctrl.editPayment.payment.payerUserId"><option data-ng-repeat="owner in $ctrl.editPayment.unit.owners" value="{{ ::owner.userId }}">{{ ::owner.name }}</option><option disabled="disabled">--------------</option><option data-ng-repeat="payer in $ctrl.editPayment.filteredPayers" value="{{ ::payer.userId }}">{{ ::payer.name }}</option></select></div></div><div class="mb-3 row px-3"><label class="col-sm-4 form-label">Payment Date:</label><div class="col-sm-8 px-0"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editPayment.payment.paymentDate" data-ui-date></div></div><div><label class="form-label" title="PP: {{$ctrl.editPayment.payment.paymentId}}, PI: {{$ctrl.editPayment.payment.paymentsInfoId}}">Payer notes:</label> <textarea class="form-control" data-ng-model="$ctrl.editPayment.payment.payerNotes" rows="2" readonly="readonly" disabled="disabled"></textarea></div><div><label class="form-label">Notes:</label> <textarea class="form-control" data-ng-model="$ctrl.editPayment.payment.notes" rows="2"></textarea></div><div class="text-end mt-3"><input id="save-edit-button" class="btn btn-primary" type="button" value="Save" data-ng-click="$ctrl.onSavePayment($event)"></div></form></div></div><div id="create-special-assessment-container" class="modal-container" data-ng-if="$ctrl.editSpecialAssessment" data-ng-escape="$ctrl.editSpecialAssessment = null"><div class="modal-overlay" data-ng-click="$ctrl.editSpecialAssessment = null"></div><form class="ca-modal-dialog"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.editSpecialAssessment = null">&times;</span><h3>{{$ctrl.editSpecialAssessment.specialAssessmentId ? \'Edit\' : \'Create\'}} Special Assessment</h3><div class="mb-3"><label for="specialAssessmentName" class="form-label fw-bold">Name/Title</label> <input type="text" class="form-control" id="specialAssessmentName" data-ng-model="$ctrl.editSpecialAssessment.assessmentName"></div><div class="mb-3"><label for="specialAssessmentDate" class="form-label fw-bold">Assessment Date</label> <input id="specialAssessmentDate" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editSpecialAssessment.assessmentDate" data-ui-date><div class="form-text">When this assessment was levied</div></div><div class="mb-3"><label for="specialAssessmentAmount" class="form-label fw-bold">Amount</label> $<input id="specialAssessmentAmount" type="number" class="form-control form-control-sm" data-ng-model="$ctrl.editSpecialAssessment.amount"><div class="form-text">Leave blank if different for each home</div></div><div class="mb-3"><label for="specialAssessmentDescription" class="form-label fw-bold">Description</label> <textarea rows="4" class="form-control" id="specialAssessmentDescription" data-ng-model="$ctrl.editSpecialAssessment.description"></textarea><div class="form-text">OPTIONAL. Indicate what the assessment is for. If each home pays a different amount, remind them of that amount or how to find that amount.</div></div><div class="mb-3"><label for="specialAssessmentDueDate" class="form-label fw-bold">Due Date</label> <input id="specialAssessmentDueDate" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editSpecialAssessment.dueDate" data-ui-date><div class="form-text">OPTIONAL. If there\'s a due date for payment</div></div><div class="mb-3"><label for="specialAssessmentLateFeeAmount" class="form-label fw-bold">Late Fee</label> <input id="specialAssessmentLateFeeAmount" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editSpecialAssessment.lateFeeAmount"><div class="form-text">OPTIONAL. If there\'s an additional fee if paid after the due date</div></div><div class="text-end"><input class="btn btn-danger" data-ng-if="$ctrl.editSpecialAssessment.specialAssessmentId" type="button" value="Delete" data-ng-click="$ctrl.onDeleteSpecialAssessment();"> <input class="btn btn-primary" type="button" value="Save" data-ng-click="$ctrl.onSaveSpecialAssessment();"></div></form></div></div></div>'),t.put("/ngApp/chtn/manager/financial/budget-tool.html",'<div class="page" style="min-height:100px"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><h1 style="display:inline">Budgets</h1><a class="ms-4" href="https://help.communityally.org/the-budget-tool/" target="_blank">Learn More</a> <span class="ms-4" style="color:#00f;font-size:large;font-weight:700" title="We\'re looking for helpful feedback!">Beta</span><p>Here you can create, edit, and view budgets for your association.</p><div class="container"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><div class="row" data-ng-if="!$ctrl.curBudget"><div class="col-12 ps-0"><span data-ng-if="$ctrl.budgets.length > 0"><span>Load Budget: </span><select class="me-3" data-ng-model="$ctrl.selectedBudget" data-ng-options="b as (b.budgetName + (b.finalizedDateUtc ? \' - final\' : \'\')) for b in $ctrl.budgets" data-ng-change="$ctrl.onBudgetSelected()"></select> </span><button type="button" class="btn btn-primary" data-ng-click="$ctrl.createBudget()">Create New Budget</button> <span class="note-text text-link ms-4" data-ng-click="$ctrl.shouldShowCategoryEditModal = true">Manage Categories</span></div></div><div class="row mt-4" data-ng-if="$ctrl.curBudget"><div class="col-12"><div data-ng-if="!$ctrl.selectedBudget.finalizedDateUtc"><h3 class="can-edit-inline" data-editable-text="$ctrl.curBudget.budgetName">{{$ctrl.curBudget.budgetName}}</h3><button type="button" class="btn btn-primary ms-4" data-ng-click="$ctrl.saveBudget()">Save Budget</button> <button type="button" class="btn btn-primary ms-2" data-ng-click="$ctrl.closeBudget()">Cancel Edit</button> <button type="button" class="btn btn-primary ms-2" data-ng-click="$ctrl.finalizeBudget()">Finalize Budget</button> <button type="button" class="btn btn-primary ms-2" data-ng-if="$ctrl.curBudget.budgetId" data-ng-click="$ctrl.cloneBudget()">Clone Budget</button> <button type="button" class="btn btn-danger ms-2" data-ng-if="$ctrl.curBudget.budgetId" data-ng-click="$ctrl.deleteBudget()">Delete Budget</button> <button type="button" class="btn btn-primary ms-2" data-ng-click="$ctrl.generatePdf()">View Print Friendly</button></div><div data-ng-if="$ctrl.selectedBudget.finalizedDateUtc"><h3 style="display:inline">{{$ctrl.curBudget.budgetName}}</h3><button type="button" class="btn btn-primary ms-2" data-ng-click="$ctrl.closeBudget()">Select Different Budget</button> <button type="button" class="btn btn-primary ms-2" data-ng-click="$ctrl.cloneBudget()">Clone Budget</button> <button type="button" class="btn btn-primary ms-2" data-ng-if="$ctrl.curBudget.budgetId" data-ng-click="$ctrl.generatePdf()">View Print Friendly</button><div class="note-text">Budget finalized on {{$ctrl.selectedBudget.finalizedDateUtc | date:\'short\'}}</div></div><div data-ng-if="!$ctrl.selectedBudget.finalizedDateUtc">Enter the expected amount your association will spend in the categories below. Parent categories are automatically calculated from their child category amounts. Once you have multiple budgets, you\'ll be able to see past hisory during input.</div></div></div><div id="budget-data-container" class="mt-4" data-ng-if="$ctrl.curBudget"><h1 data-ng-if="$ctrl.shouldRenderForPrint" class="text-center mb-2">{{$ctrl.curBudget.budgetName}}</h1><h5 data-ng-if="$ctrl.shouldRenderForPrint" class="text-center mb-3">{{$ctrl.groupName}}</h5><div id="budget-print-header" data-ng-if="$ctrl.curBudget" class="mb-2 text-center" style="font-size:1.5em"><span>Total Expense: <span class="text-bold">{{$ctrl.totalExpense | currency}}</span></span> <span class="ms-4">Total Income: <span class="text-bold">{{$ctrl.totalIncome | currency}}</span></span> <span class="ms-4">Net: <span class="text-bold">{{$ctrl.totalIncome - $ctrl.totalExpense | currency}}</span></span></div><div class="row"><div class="col-md-6 col-sm-12"><h4 class="mb-1">Expenses</h4><div data-ui-grid="$ctrl.expenseGridOptions" ui-grid-resize-columns ui-grid-tree-view></div></div><div class="col-md-6 col-sm-12 mt-sm-4 mt-md-0"><h4 class="mb-1">Income</h4><div data-ui-grid="$ctrl.incomeGridOptions" ui-grid-resize-columns ui-grid-tree-view></div></div></div></div><div class="text-end" data-ng-if="$ctrl.curBudget"><span class="note-text text-link" data-ng-click="$ctrl.exportToCsv()">Export to CSV</span></div></div><financial-category-manager data-ng-if="$ctrl.shouldShowCategoryEditModal" data-on-closed="$ctrl.shouldShowCategoryEditModal = false; $ctrl.completeRefresh();"></financial-category-manager></div>'),t.put("/ngApp/chtn/manager/financial/financial-category-manager.html",'<div class="modal-container"><div class="modal-overlay" data-ng-click="$ctrl.closeManager()"></div><div class="ca-modal-dialog container"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div class="row"><div class="col-12"><span style="float:right" class="close-x" data-ng-click="$ctrl.closeManager()">×</span><h2>Manage Categories</h2></div></div><div class="row"><div class="col-6"><select class="form-control form-control-sm" size="10" style="height:400px;font-family:monospace" data-ng-options="c as c.dropDownLabel for c in $ctrl.flatCategoryList" data-ng-model="$ctrl.selectedCategory" data-ng-change="$ctrl.onCategorySelected()"></select></div><div class="col-6"><h3 data-ng-if="!$ctrl.selectedCategory">Select a category from the list to edit.</h3><div data-ng-if="$ctrl.selectedCategory"><div data-ng-if="!$ctrl.shouldShowDeleteCategoryArea">Name: <input type="text" data-ng-model="$ctrl.editName" maxlength="128" data-ng-enter="$ctrl.updateCategoryName()" autocomplete="off" data-lpignore="true" data-form-type="other"><div class="mt-2"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.updateCategoryName()">Save</button> <button type="button" class="btn btn-danger" data-ng-click="$ctrl.shouldShowDeleteCategoryArea = true; $ctrl.shouldShowNewCategoryArea = false;">Delete Category</button></div></div><fieldset style="width:100%" data-ng-if="$ctrl.shouldShowDeleteCategoryArea"><legend style="font-size:1em">Delete Category</legend><div>This will delete the \'{{$ctrl.selectedCategory.displayName}}\' category. This will also delete any associated rows in non-finalized budgets.<br><br>Reassign ledger entries to: <span class="note-text">optional</span> <select class="form-control form-control-sm" data-ng-options="c as c.dropDownLabel for c in $ctrl.flatCategoryList" data-ng-model="$ctrl.deleteCategoryRessignTo"><option></option></select><div class="text-end mt-3"><button type="button" class="btn btn-danger" data-ng-click="$ctrl.deleteCategory()">Delete Category</button> <button type="button" class="btn btn-secondary" data-ng-click="$ctrl.shouldShowDeleteCategoryArea = false">Cancel</button></div></div></fieldset><div class="mt-5" data-ng-if="!$ctrl.shouldShowDeleteCategoryArea"><button data-ng-if="!$ctrl.shouldShowNewCategoryArea" type="button" class="btn btn-primary" data-ng-click="$ctrl.showNewCategoryArea()">Add New Category</button><fieldset style="width:100%" data-ng-if="$ctrl.shouldShowNewCategoryArea"><legend style="font-size:1em">Add New Category</legend><div>Name: <input type="text" data-ng-model="$ctrl.newName" data-ng-enter="$ctrl.saveNewCategory()" maxlength="128" class="mt-2" autocomplete="off" data-lpignore="true" data-form-type="other"><br><br>Parent Category: <select class="form-control form-control-sm form-select" data-ng-options="c as c.dropDownLabel for c in $ctrl.flatCategoryList" data-ng-model="$ctrl.newCategoryParent"><option></option></select><div class="text-end mt-3"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.saveNewCategory()">Save New</button> <button type="button" class="btn btn-secondary" data-ng-click="$ctrl.shouldShowNewCategoryArea = false">Cancel</button></div></div></fieldset></div></div></div></div></div></div>'),t.put("/ngApp/chtn/manager/financial/financial-parent.html","<div class=\"page-documents\"><section class=\"padding white-bg padding margin-vertical box-shadow header-pill-menu-section\"><h3>Financials</h3><nav class=\"nav nav-pills justify-content-center\"><a class=\"nav-item nav-link\" href=\"#!/Financials/OnlinePayments\" data-ng-class=\"{'active':$ctrl.selectedView==='OnlinePayments','ally-active-nav':$ctrl.selectedView==='OnlinePayments','ally-inactive-nav':$ctrl.selectedView!=='OnlinePayments'}\">Online Payments </a><a class=\"nav-item nav-link\" href=\"#!/Financials/AssessmentHistory\" data-ng-class=\"{'active':$ctrl.selectedView==='AssessmentHistory','ally-active-nav':$ctrl.selectedView==='AssessmentHistory','ally-inactive-nav':$ctrl.selectedView!=='AssessmentHistory'}\">Assessment History </a><a class=\"nav-item nav-link\" data-ng-href=\"#!/Financials/BankTransactions\" data-ng-class=\"{'active':$ctrl.selectedView==='BankTransactions','ally-active-nav':$ctrl.selectedView==='BankTransactions','ally-inactive-nav':$ctrl.selectedView!=='BankTransactions'}\">Transactions </a><a class=\"nav-item nav-link\" href=\"#!/Financials/Reports\" data-ng-class=\"{'active':$ctrl.selectedView==='Reports','ally-active-nav':$ctrl.selectedView==='Reports','ally-inactive-nav':$ctrl.selectedView!=='Reports'}\">Reports </a><a class=\"nav-item nav-link\" href=\"#!/Financials/Budgets\" data-ng-class=\"{'active':$ctrl.selectedView==='Budgets','ally-active-nav':$ctrl.selectedView==='Budgets','ally-inactive-nav':$ctrl.selectedView!=='Budgets'}\">Budgets</a></nav></section><manage-payments data-ng-if=\"$ctrl.selectedView === 'OnlinePayments'\"></manage-payments><assessment-history data-ng-if=\"$ctrl.selectedView === 'AssessmentHistory'\"></assessment-history><ledger data-ng-if=\"$ctrl.selectedView === 'BankTransactions'\"></ledger><financial-reports data-ng-if=\"$ctrl.selectedView === 'Reports'\"></financial-reports><budget-tool data-ng-if=\"$ctrl.selectedView === 'Budgets'\"></budget-tool></div>"),t.put("/ngApp/chtn/manager/financial/financial-reports.html",'<div class="page page-manage-payments" style="min-height:100px"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><h1 style="display:inline">Financial Reports</h1><span class="ms-4" style="color:#00f;font-size:large;font-weight:700" title="We\'re looking for helpful feedback!">Beta</span><p>Here you can quickly see where your association\'s money is going and coming from.<br><br><date-range-picker data-on-change="$ctrl.refreshData()" data-start-date="$ctrl.startDate" data-end-date="$ctrl.endDate"></date-range-picker></p><div class="container"><div class="row mt-3"><div class="col-6"><h4>Income by Category</h4><div data-ng-if="$ctrl.incomeByCategoryData" style="width:400px;height:150px;display:inline-block"><div data-ng-if="$ctrl.incomeByCategoryData.length === 0">There is no income for the selected date range.</div><div style="width:200px;height:150px;display:inline-block"><canvas id="income-category-chart" width="200" height="150" class="chart chart-doughnut" chart-options="$ctrl.doughnutChartOptions" data-chart-data="$ctrl.incomeByCategoryData" data-chart-labels="$ctrl.incomeByCategoryLabels" legend="true"></canvas></div><div style="display:inline-block;width:200px"><div data-ng-repeat="curEntry in $ctrl.reportData.incomeByCategory | limitTo:7">{{$index + 1}}. {{curEntry.parentFinancialCategoryName}} {{curEntry.amount | currency}}</div></div></div></div><div class="col-6"><h4>Expense by Category</h4><div data-ng-if="$ctrl.expenseByCategoryData" style="width:400px;height:150px;display:inline-block"><div data-ng-if="$ctrl.expenseByCategoryData.length === 0">There are no expenses for the selected date range.</div><div style="width:200px;height:150px;display:inline-block"><canvas id="expense-category-chart" width="200" height="150" class="chart chart-doughnut" chart-options="$ctrl.doughnutChartOptions" data-chart-data="$ctrl.expenseByCategoryData" data-chart-labels="$ctrl.expenseByCategoryLabels" legend="true"></canvas></div><div style="display:inline-block;width:200px"><div data-ng-repeat="curEntry in $ctrl.reportData.expenseByCategory | limitTo:7">{{$index + 1}}. {{curEntry.parentFinancialCategoryName}} {{curEntry.amount | currency}}</div></div></div></div></div><div class="row mt-5"><div class="col-12"><h4>Account Balances Over Time</h4><div class="container"><div class="row"><div class="col-6">You need at least 2 months of balance data to view this chart.</div><div class="col-6"><h5>Current Balances</h5><div data-ng-repeat="curBalance in $ctrl.reportData.currentAccountBalances">{{curBalance.ledgerAccountName}} {{curBalance.amount | currency}}</div></div></div></div></div></div></div></div>'),t.put("/ngApp/chtn/manager/financial/ledger.html",'<div class="page" style="min-height:100px"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><h1 style="display:inline">Bank Transactions</h1><span class="ms-4" style="color:#00f;font-size:large;font-weight:700" title="We\'re looking for helpful feedback!">Beta</span><p>Here you can track, categorize, and notate your association\'s spending and income. You can connect your bank account so that transactions are synchronized automatically. This is meant to help small associations and is not a replacement for a more robust application like QuickBooks or using an accountant.</p><div class="container"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><div class="alert alert-warning" style="cursor:pointer" role="alert" data-ng-repeat="curAccount in $ctrl.accountsNeedingLogin" data-ng-click="$ctrl.updateAccountLink( curAccount )">Plaid needs you to refresh your login credentials for your {{curAccount.accountName}} account. Click here to refresh.</div><div class="row"><div class="col-md-10 col-sm-12 ps-0"><fieldset style="width:100%"><legend style="font-size:1em">Bank Accounts</legend><div><span data-ng-repeat="curAccount in $ctrl.ledgerAccounts"><input class="ui-helper-hidden" type="checkbox" data-ng-model="curAccount.shouldShowInGrid" data-ng-change="$ctrl.updateLocalData()"> <span class="text-link me-3" data-ng-click="$ctrl.openEditAccountModal(curAccount)">{{curAccount.accountName}}</span> </span><button class="btn btn-primary btn-sm me-3" data-ng-click="$ctrl.showAddAccount()" type="button">Add Account</button> <span data-ng-if="$ctrl.hasPlaidAccounts" class="text-link note-text" data-ng-click="$ctrl.syncPlaidAccounts(true)">Force Sync Recent Transactions</span> <span data-ng-if="$ctrl.hasPlaidAccounts && $ctrl.isSuperAdmin" class="text-link note-text" data-ng-click="$ctrl.syncPlaidAccounts(false)">Force Sync 2 Years of Transactions</span></div></fieldset></div><div class="col-md-2 col-sm-12 text-end p-2"><button class="btn btn-primary" type="button" data-ng-click="$ctrl.onAddTransaction()">Add Transaction</button><br><span class="note-text text-link" data-ng-click="$ctrl.openImportModal()">Import Transactions</span><br><span class="note-text text-link" data-ng-click="$ctrl.shouldShowCategoryEditModal = true">Manage Categories</span><div data-ng-if="$ctrl.isSuperAdmin"><span class="note-text text-link" style="color:red;font-size:xx-small" data-ng-click="$ctrl.disconnectFromPlaid()">Disconnect Group from Plaid</span></div></div></div><div class="row mt-3 mb-4"><div class="col-12 ps-0"><fieldset style="width:100%"><legend style="font-size:1em">Date Range</legend><div><span class="me-5 ui-helper-hidden">Description: <input type="text" data-ng-model="$ctrl.filter.description" data-ng-change="$ctrl.onFilterDescriptionChange()" data-ng-model-options="{ debounce: 500 }"></span><span class="me-5"><date-range-picker data-on-change="$ctrl.refreshEntries()" data-start-date="$ctrl.filter.startDate" data-end-date="$ctrl.filter.endDate"></date-range-picker></span><span class="ui-helper-hidden">Category: <select><option>Test</option></select></span><div data-ng-if="$ctrl.spendingChartData" style="width:400px;height:150px;display:inline-block;float:right"><div style="width:200px;height:150px;display:inline-block"><canvas data-ng-if="$ctrl.showDonut" width="200" height="150" class="chart chart-doughnut" data-chart-data="$ctrl.spendingChartData" data-chart-labels="$ctrl.spendingChartLabels" legend="true"></canvas></div><div style="display:inline-block;height:150px;width:200px;overflow-y:auto"><div data-ng-repeat="curEntry in $ctrl.spendingChartLabels | limitTo:7">{{$index + 1}}. {{curEntry}} {{$ctrl.spendingChartData[$index] | currency}}</div></div></div></div></fieldset></div></div><div class="row mt-3 mb-4" data-ng-if="$ctrl.selectedEntries.length > 0"><div class="col-12 ps-0"><fieldset style="width:100%"><legend style="font-size:1em">Bulk Recategorization</legend><div><button type="button" class="btn btn-primary float-end" data-ng-click="$ctrl.bulkRecategorize()">Recategorize</button> <span>{{$ctrl.selectedEntries.length}} row{{$ctrl.selectedEntries.length === 1 ? \'\' : \'s\'}} selected</span> <select data-ng-model="$ctrl.bulkRecategorizeCategoryId" data-ng-options="c.id as c.value for c in $ctrl.uiGridCategoryDropDown"></select></div></fieldset></div></div></div><h4 class="m-3" data-ng-if="$ctrl.ledgerAccounts.length === 0">Get started by adding an account using the button above.</h4><div data-ng-if="$ctrl.pendingGridOptions.data.length > 0" class="mt-4 mb-4"><h5 class="text-link" data-ng-click="$ctrl.shouldExpandPending = !$ctrl.shouldExpandPending">Pending Transactions ({{$ctrl.pendingGridOptions.data.length}}) <span class="note-text">({{$ctrl.shouldExpandPending ? \'hide\' : \'show\'}})</span></h5><div data-ui-grid="$ctrl.pendingGridOptions" data-ng-if="$ctrl.shouldExpandPending" ui-grid-resize-columns ui-grid-selection></div></div><div style="position:relative" class="mt-2"><div data-ng-if="$ctrl.isLoading || $ctrl.isLoadingEntries" class="loading-overlay"></div><span class="note-text">Double-click on a cell to quick edit. Use the checkboxes on the left to bulk set categories.</span><div data-ui-grid="$ctrl.ledgerGridOptions" ui-grid-resize-columns ui-grid-pagination ui-grid-selection ui-grid-edit ui-grid-cellnav></div></div><div class="mb-2" style="height:20px"><span class="note-text text-link pull-right" data-ng-click="$ctrl.exportTransactionsCsv()">Export To CSV</span></div><div><label><input type="checkbox" data-ng-change="$ctrl.onShowOwnerTxnsChange()" data-ng-model="$ctrl.shouldShowOwnerFinanceTxn"> Allow owners to view their transaction history</label> <a class="note-text" href="https://help.communityally.org/sharing-owner-financial-transactions/" target="_blank">Learn More</a></div><div data-ng-if="$ctrl.shouldShowOwnerFinanceTxn" class="mb-2">Owner Transaction History Note:<br><textarea rows="2" data-ng-model="$ctrl.ownerFinanceTxNote" maxlength="1024" style="width:100%"></textarea> <span class="note-text">This optional note will show above the owner\'s transaction history. You can use this to explain details about the transactions such as the last time it was updated or who to contact with questions.</span><br><button type="button" data-ng-click="$ctrl.saveOwnerTxNote()" class="btn btn-primary">Save Note</button></div><div data-ng-if="$ctrl.importHistoryEntries.length > 0" class="mt-4"><h5>Bulk Transaction Import History</h5><table border="1" class="table-bordered"><thead><tr><th class="p-1">Date</th><th class="p-1">Resident</th><th class="p-1">Import</th><th class="p-1">Notes</th></tr></thead><tbody><tr data-ng-repeat="curRow in $ctrl.importHistoryEntries"><td class="p-1">{{curRow.importDateUtc | date:\'short\'}}</td><td class="p-1">{{curRow.importUserFullName}}</td><td class="p-1">{{curRow.importMessage}}</td><td class="p-1">{{curRow.userNotes}}</td></tr></tbody></table></div><div data-ng-if="$ctrl.editingTransaction" class="modal-container"><div class="modal-overlay" data-ng-click="$ctrl.editingTransaction = null"></div><div class="ca-modal-dialog modal-lg container"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h2 title="{{$ctrl.editingTransaction.ledgerEntryId}}">Transaction Details</h2><div class="row ps-3"><div class="col-md-4 col-sm-12"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Date:</label><div class="col-sm-8 col-12"><input type="text" class="form-control form-control-sm" data-ui-date data-ng-model="$ctrl.editingTransaction.transactionDate"></div></div></div><div class="col-md-4 col-sm-12"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Amount:</label><div class="col-sm-8 col-12"><input id="transaction-amount-input" type="number" class="form-control form-control-sm" step=".01" pattern="^-?\\d+(?:\\.\\d{1,2})?$" data-ng-model="$ctrl.editingTransaction.amount"></div></div></div><div class="col-md-4 col-sm-12" data-ng-if="!$ctrl.editingTransaction.isSplit"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">{{$ctrl.homeName}}:</label><div class="col-sm-8 col-12"><select class="form-control form-control-sm form-select" data-ng-model="$ctrl.editingTransaction.associatedUnitId" data-ng-options="o.unitId as o.unitWithOwnerLast for o in $ctrl.unitListEntries"><option value=""></option></select></div></div></div><div class="col-md-4" data-ng-if="$ctrl.editingTransaction.isSplit"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Account:</label><div class="col-sm-8 col-12"><select data-ng-if="!$ctrl.editingTransaction.plaidTransactionId" class="form-control form-control-sm form-select" data-ng-options="a.ledgerAccountId as a.accountName for a in $ctrl.ledgerAccounts" data-ng-model="$ctrl.editingTransaction.ledgerAccountId"></select> <span data-ng-if="$ctrl.editingTransaction.plaidTransactionId" class="note-text">This entry came from Plaid so cannot be changed.</span></div></div></div><div class="col-sm-12"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-2 col-12 form-label">Description:</label><div class="col-sm-10 col-12"><input type="text" class="form-control form-control-sm" data-ng-enter="$ctrl.onSaveEntry()" data-ng-model="$ctrl.editingTransaction.description"></div></div></div><div class="col-md-6 col-sm-12" data-ng-if="!$ctrl.editingTransaction.isSplit"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Category:</label><div class="col-sm-8 col-12"><select class="form-control form-control-sm form-select" data-ng-options="c.financialCategoryId as c.dropDownLabel for c in $ctrl.flatCategoryList" data-ng-model="$ctrl.editingTransaction.financialCategoryId" data-ng-change="$ctrl.onEditTransactionCategoryChange()"><option></option></select></div></div></div><div class="col-sm-12 col-md-6" data-ng-if="!$ctrl.editingTransaction.isSplit"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Account:</label><div class="col-sm-8 col-12"><select data-ng-if="!$ctrl.editingTransaction.plaidTransactionId" class="form-control form-control-sm form-select" data-ng-options="a.ledgerAccountId as a.accountName for a in $ctrl.ledgerAccounts" data-ng-model="$ctrl.editingTransaction.ledgerAccountId"></select> <span data-ng-if="$ctrl.editingTransaction.plaidTransactionId" class="note-text">This entry came from Plaid so cannot be changed.</span></div></div></div></div><div class="row" data-ng-if="$ctrl.editingTransaction.splitEntries.length > 0"><div class="col-sm-12"><h4>Split Transactions</h4><table style="display:block"><thead><tr><th style="width:20%">Category</th><th>Description</th><th style="width:12%">Unit</th><th style="width:15%">Amount</th></tr></thead><tbody><tr data-ng-repeat="curSplit in $ctrl.editingTransaction.splitEntries"><td><select class="form-control form-control-sm form-select" data-ng-options="c.financialCategoryId as c.dropDownLabel for c in $ctrl.flatCategoryList" data-ng-model="curSplit.financialCategoryId"><option></option></select></td><td><input type="text" class="form-control form-control-sm" data-ng-model="curSplit.description"></td><td><select class="form-control form-control-sm form-select" data-ng-model="curSplit.associatedUnitId" data-ng-options="o.unitId as o.unitWithOwnerLast for o in $ctrl.unitListEntries"><option value=""></option></select></td><td><input type="number" class="form-control form-control-sm" style="width:80%;display:inline" step=".01" pattern="^-?\\d+(?:\\.\\d{1,2})?$" data-ng-model="curSplit.amount" data-ng-change="$ctrl.onSplitAmountChange()"> <span class="close-x" style="display:inline;margin:0" data-ng-click="$ctrl.removeSplit(curSplit)">&times;</span></td></tr></tbody></table></div></div><div class="row" data-ng-if="$ctrl.editingTransaction.isSplit && !$ctrl.isSplitAmountEqual && $ctrl.editingTransaction.amount"><div class="col-sm-12 text-end" style="font-weight:700;color:red">The split total is {{$ctrl.splitAmountTotal | currency}} but must equal {{$ctrl.editingTransaction.amount | currency}}</div></div><div class="row mt-3"><div class="col-sm-12 text-end"><button type="button" style="float:left" class="btn btn-secondary" data-ng-click="$ctrl.splitTransaction()">Split Transaction</button> <button id="save-entry-button" class="btn btn-primary" type="button" value="Save" data-ng-click="$ctrl.onSaveEntry()">Save</button> <button id="cancel-entry-button" class="btn btn-secondary" type="button" value="Cancel" data-ng-click="$ctrl.editingTransaction = null">Cancel</button></div></div></div></div><div data-ng-if="$ctrl.createAccountInfo" class="modal-container"><div class="modal-overlay" data-ng-click="$ctrl.closeAccountAndReload()"></div><div class="ca-modal-dialog modal-lg container"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h2 class="mb-4">Create Account</h2><div data-ng-if="$ctrl.createAccountInfo.type === null" class="row"><div class="col-6 text-center"><button data-ng-if="$ctrl.isPremiumPlanActive" type="button" class="btn btn-primary" data-ng-click="$ctrl.startPlaidFlow()">Sync Account</button> <b data-ng-if="!$ctrl.isPremiumPlanActive">Sync accounts are only available on <a href="https://help.communityally.org/why-go-premium/" target="_blank">our premium plan</a>.</b><div class="note-text">Our software will automatically retrieve categorized transactions from your bank via <a href="https://plaid.com/security/" target="_blank">Plaid</a>.</div><div style="display:none;font-weight:700;color:red">NOTE: Plaid\'s automatic account connection process has been failing lately for the vast majority of users. If the choice is given, use the micro-deposit account verification.</div></div><div class="col-6 text-center"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.selectManualAccount()">Manual Account</button><div class="note-text">You will manually add an categorize transactions.</div></div></div><div data-ng-if="$ctrl.createAccountInfo.type === \'plaid\'" class="row"><div class="col-12 text-center" data-ng-if="$ctrl.newPlaidAccounts.length === 0">Launching Plaid setup...<div class="mt-3" style="font-weight:700">If you find yourself waiting on any step more than 5 minutes, refresh the page and start over.</div></div><div class="m-2" data-ng-if="$ctrl.plaidSuccessProgressMsg">{{$ctrl.plaidSuccessProgressMsg}}</div><div class="col-12" data-ng-if="$ctrl.newPlaidAccounts.length > 0">Created Accounts:<div data-ng-repeat="curAccount in $ctrl.newPlaidAccounts"><div>{{$index + 1}}. <b>{{curAccount.accountName}}</b></div></div><div class="m-2">Plaid will begin processing your records immediately, but it still takes some time. Come back in 5-10 minutes and you should see the first batch of transactions loaded covering the last 30 days. After around 30 minutes you should see as far back as your bank allows, this can vary from 90 days to 2 years.</div></div><div class="col-sm-12 text-end"><button class="btn btn-primary" type="button" data-ng-click="$ctrl.closeAccountAndReload()">Close</button></div></div><div data-ng-if="$ctrl.createAccountInfo.type === \'manual\'" class="row"><div class="col-md-6 col-sm-12"><div class="mb-3 row"><label for="edit-user-first-text-box form-label" class="col-sm-4 col-12">Name:</label><div class="col-sm-8 col-12 mt-2"><input id="new-account-name-field" type="text" class="form-control form-control-sm" data-ng-enter="$ctrl.onSaveNewAccount()" data-ng-model="$ctrl.createAccountInfo.name"></div></div></div><div class="col-sm-12 text-end"><button id="save-entry-button" class="btn btn-primary" type="button" value="Save" data-ng-click="$ctrl.onSaveNewAccount()">Save</button> <button id="cancel-entry-button" class="btn btn-primary" type="button" value="Cancel" data-ng-click="$ctrl.createAccountInfo = null">Cancel</button></div></div></div></div><div data-ng-if="$ctrl.editAccount" class="modal-container"><div class="modal-overlay" data-ng-click="$ctrl.editAccount = null"></div><div class="ca-modal-dialog modal-sm container"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h2 class="mb-4">Edit Account</h2><div class="row px-3"><div class="col-12"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Name:</label><div class="col-sm-8 col-12 px-0"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editAccount.accountName" data-ng-enter="$ctrl.onEditAccount()"></div></div><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Type:</label><div class="col-sm-8 col-12 px-0"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editAccount.accountType"></div></div><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Bank:</label><div class="col-sm-8 col-12 px-0"><input type="text" class="form-control form-control-sm" data-ng-if="$ctrl.editAccount.syncType !== \'plaid\'" data-ng-model="$ctrl.editAccount.bankName"> <span data-ng-if="$ctrl.editAccount.syncType === \'plaid\'">{{$ctrl.editAccount.bankName}}</span></div></div><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Added:</label><div class="col-sm-8 col-12 px-0">{{$ctrl.editAccount.createdDateUtc | date:\'short\'}}</div></div><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Sync Type:</label><div class="col-sm-8 col-12 px-0">{{$ctrl.editAccount.syncType}}</div></div><div class="mb-3 row" data-ng-if="$ctrl.editAccount.syncLastUpdatedUtc"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Last Sync:</label><div class="col-sm-8 col-12 px-0">{{$ctrl.editAccount.syncLastUpdatedUtc | date:\'medium\'}}</div></div><div class="mb-3 row" data-ng-if="$ctrl.editAccount.syncBalance"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Sync Balance:</label><div class="col-sm-8 col-12 px-0">{{$ctrl.editAccount.syncBalance | currency}}</div></div><div class="mb-3 row" data-ng-if="$ctrl.editAccount.syncType === \'plaid\' && $ctrl.isSuperAdmin"><label for="edit-user-first-text-box" class="col-sm-4 col-12 form-label">Plaid Item ID:</label><div class="col-sm-8 col-12 px-0">{{$ctrl.editAccount.plaidItemId}}</div></div></div><div class="col-sm-12 text-end"><div class="text-start"><span data-ng-if="$ctrl.editAccount.syncType === \'plaid\'" title="Do this if your bank transactions are no longer downloading" class="text-link note-text" data-ng-click="$ctrl.updateAccountLink($ctrl.editAccount)">Refresh Bank Link</span> <span data-ng-if="$ctrl.isSuperAdmin" class="note-text">(acct id: {{$ctrl.editAccount.ledgerAccountId}})</span></div><button class="btn btn-danger me-4" type="button" data-ng-click="$ctrl.deleteAccount()">Delete Account</button> <button id="save-entry-button" class="btn btn-primary" type="button" value="Save" data-ng-click="$ctrl.onEditAccount()">Save</button> <button id="cancel-entry-button" class="btn btn-primary" type="button" value="Cancel" data-ng-click="$ctrl.editAccount = null">Cancel</button></div></div></div></div><div data-ng-if="$ctrl.shouldShowImportModal" class="modal-container"><div class="modal-overlay" data-ng-click=""></div><div class="ca-modal-dialog modal-lg container"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowImportModal = false">&times;</span><h2 class="mb-4">Import Transactions</h2><div data-ng-if="!$ctrl.previewImportGridOptions.data || $ctrl.previewImportGridOptions.data.length === 0"><div class="row"><div class="col-12">You can bulk import transactions via an XLSX or CSV file. Download the sample file to see the required format.<br><a href="/assets/files/SampleTransactionImport.csv" download="SampleTransactionImport.csv">Download Sample Import Spreadsheet</a><br><br><input id="importTransactionFileInput" style="display:none" type="file" accept=".csv, .xlsx" on-file-change="$ctrl.onImportFileSelected($event)"> <button type="button" class="btn btn-primary" data-ng-click="$ctrl.openImportFilePicker()">Select File</button></div></div></div><div data-ng-if="$ctrl.previewImportGridOptions.data.length > 0"><div class="row"><div class="col-12">Import Into Account: <select data-ng-options="a.ledgerAccountId as a.accountName for a in $ctrl.ledgerAccounts" data-ng-model="$ctrl.bulkImportAccountId"></select> <span class="note-text ms-3">{{$ctrl.previewImportGridOptions.data.length}} transactions found</span></div></div><div data-ui-grid="$ctrl.previewImportGridOptions" ui-grid-resize-columns></div><div class="mt-3 mb-3">Import Note: <span class="note-text ms-3">optional</span><br><input type="text" data-ng-model="$ctrl.importTxNotes" style="width:100%" maxlength="1000"></div></div><div class="row mt-3"><div class="col-md-6 col-sm-12"></div><div class="col-sm-12 text-end"><button data-ng-if="$ctrl.previewImportGridOptions.data.length > 0" id="save-entry-button" class="btn btn-primary me-2" type="button" value="Save" data-ng-click="$ctrl.importPreviewTransactions()">Import</button> <button id="cancel-entry-button" class="btn btn-primary" type="button" value="Cancel" data-ng-click="$ctrl.shouldShowImportModal = false">Cancel</button></div></div></div></div><financial-category-manager data-ng-if="$ctrl.shouldShowCategoryEditModal" data-on-closed="$ctrl.onCategoryManagerClosed(didMakeChanges)"></financial-category-manager></div>'),t.put("/ngApp/chtn/manager/financial/manage-payments.html",'<div class="page page-manage-payments" style="min-height:100px"><div data-ng-if="!$ctrl.showPaymentPage">We\'re currently having some trouble with our payment provider regarding growing fees so we\'re not able to sign-up new online payment accounts at this time.</div><div data-ng-if="$ctrl.showPaymentPage"><div class="loading-overlay" data-ng-if="$ctrl.isLoading"></div><div class="error-text">{{ $ctrl.errorMessage }}</div><div data-ng-if="$ctrl.hasLoadedPage" class="row"><div id="sign-up-panel" data-ng-if="$ctrl.hasAssessments == null" class="col-lg-9 col-md-12"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><div data-ng-switch on="$ctrl.signUpStep"><div ng-switch-when="0">Before you can start collecting payments, please answer a few questions.<br><br><span>Does your association collect regular assessments?<br>(Sometimes called association, or common area, fees, or dues)</span><br><span id="periodic-payment-does-collect" class="text-link" data-ng-click="$ctrl.signUp_HasAssessments(true)">Yes</span><br><span id="periodic-payment-doesnt-collect" class="text-link" data-ng-click="$ctrl.signUp_HasAssessments(false)">No</span><br></div><div ng-switch-when="1"><span>How often do residents pay assessments?</span><br><div data-ng-repeat="timeUnit in $ctrl.periodicPaymentFrequencies" style="margin-bottom:10px"><div class="text-link" data-ng-click="$ctrl.signUp_AssessmentFrequency( $index )">{{ timeUnit.name }}</div><div class="note-text" data-ng-if="timeUnit.signUpNote">{{ timeUnit.signUpNote }}</div></div></div><div ng-switch-when="2"><span>How much does each unit pay?</span><br><div><small>Make sure to enter the full amount. Do not include any discounts residents might receive due to board positions or special situations, for example. You will be able add those discounts or adjustments later.</small></div><br><div data-ng-show="$ctrl.signUpInfo.allPayTheSame">Every unit pays <input class="form-control form-control-sm" style="width:90px" data-ng-model="$ctrl.signUpInfo.allPayTheSameAmount" type="number"> per <span>{{ $ctrl.periodicPaymentFrequencies[ $ctrl.signUpInfo.frequencyIndex ].intervalName }}</span>.<br><span class="text-link" data-ng-click="$ctrl.signUpInfo.allPayTheSame=false">Click here if each unit pays a different amount.</span></div><div data-ng-hide="$ctrl.signUpInfo.allPayTheSame"><table border="1" class="text-start"><thead><tr><th>Unit</th><th>Base Assessment</th></tr></thead><tbody><tr data-ng-repeat="unit in $ctrl.signUpInfo.units"><td>{{ unit.name }}</td><td><input data-ng-model="unit.assessment" style="width:125px"></td></tr></tbody><tfoot><tr style="font-weight:700"><td>Total</td><td>{{ $ctrl.getSignUpSum() | currency }}</td></tr></tfoot></table></div><br><span class="btn btn-primary" data-ng-click="$ctrl.signUp_Commit()">Done</span></div></div></div><div data-ng-if="$ctrl.hasAssessments != null"><h3>Online Payment Settings</h3><form data-ng-show="$ctrl.paymentInfo.isWePaySetup || $ctrl.paymentInfo.payPalClientId || ($ctrl.paymentInfo.isDwollaSetup && $ctrl.paymentInfo.dwollaFundingIsVerified) || ($ctrl.paymentInfo.isStripeSetup && $ctrl.paymentInfo.stripeConnectChargesEnabled)"><div class="row mb-3 px-3"><label for="allow-payments-checkbox" class="col-6 col-sm-4 form-label">Allow Online Payments:</label><div class="col-6 col-sm-8"><input id="allow-payments-checkbox" type="checkbox" data-ng-change="$ctrl.saveAllowSetting()" data-ng-model="$ctrl.paymentInfo.areOnlinePaymentsAllowed"></div></div></form><div class="alert alert-warning" data-ng-if="$ctrl.paymentInfo.isDwollaSetup && !$ctrl.paymentInfo.isStripeSetup">We\'re are transitioning to a new payment provider, Stripe. Dwolla will stop working October 10th. We\'re here to help you transition, just reach out via help or chat.<br><br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.shouldShowPaymentSignupModal = true">Sign-up Now</button></div><div class="alert alert-info" data-ng-if="$ctrl.shouldShowNewStripeSignUpMessage">Great job setting up Stripe. If it makes sense for your association, make sure to <a href="https://help.communityally.org/the-stripe-dashboard/#add-users" target="_blank">add another user or two to Stripe</a> so that you don\'t lose access and others can step in to help if needed.</div><div data-ng-if="!$ctrl.paymentInfo.isWePaySetup"><div data-ng-if="$ctrl.allowNewWePaySignUp">We use WePay to securely handle all of our payment transactions to offer you an incredible layer of security. To start receiving payments from your residents you need to create a WePay account for your association. Payments will be sent to this WePay account and you can then specify how frequently you want the balance to be transferred to your association\'s checking account.<br><br>Fees when paying electronically:<br>E-Check/ACH: $1.50<br>Credit Card: 2.9% + $1.30<br>You can choose if the payer or association covers these fees.<br><br><a href="https://support.wepay.com/hc/en-us" target="_blank">Learn more about <img src="/assets/images/wepay.png" alt="WePay"> here</a>.<br><br><a href="{{ $ctrl.paymentInfo.wePayLoginUri }}">Sign up Now</a></div></div><div data-ng-if="$ctrl.paymentInfo.isStripeSetup" data-ng-class="{\'payment-provider-panel\': $ctrl.hasMultipleProviders}" class="my-3"><h5 data-ng-if="$ctrl.hasMultipleProviders">Stripe</h5><div data-ng-if="!$ctrl.paymentInfo.stripeConnectChargesEnabled">Stripe has not yet enabled your account to accept payments. You may need to add more information or wait for their approval.<br><span class="text-link" data-ng-click="$ctrl.signUpForStripe()">Log-in to Stripe Now</span></div><div data-ng-if="$ctrl.paymentInfo.stripeConnectChargesEnabled">Stripe is successfully enabled. <span data-ng-if="$ctrl.paymentInfo.areOnlinePaymentsAllowed">Residents can sign-up to make payments. <b>Note: Stripe charges your association a one-time fee of <a href="https://stripe.com/financial-connections#:~:text=Flexible%20pricing%20that%20scales%20as%20you%20grow" target="_blank">$1.50 per resident</a> that signs-up.</b></span><br><a class="text-link" href="https://dashboard.stripe.com/login" target="_blank">Log-in to the Stripe Dashboard</a><br><br><div data-ng-if="$ctrl.stripePayoutAccounts">Stripe pays out to:<div style="font-weight:700" data-ng-repeat="acct in $ctrl.stripePayoutAccounts">{{acct}}</div></div></div></div><div data-ng-if="$ctrl.paymentInfo.isDwollaSetup" class="mb-2" data-ng-class="{\'payment-provider-panel\': $ctrl.hasMultipleProviders}"><h5 data-ng-if="$ctrl.hasMultipleProviders">Dwolla</h5><div class="alert alert-warning" data-ng-if="$ctrl.paymentInfo.isDwollaSetup && $ctrl.paymentInfo.isStripeSetup">Dwolla will stop working October 10th. Thank you for signing-up for Stripe.</div><div>Linked Account: <span class="fw-bold">{{$ctrl.paymentInfo.groupDwollaFundingSourceName}}</span></div><div data-ng-if="!$ctrl.paymentInfo.dwollaFundingIsVerified" class="fw-bold mt-4 mb-4">Your bank account is still pending micro-deposit verification.<br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.showMicroDepositModal()">Enter Micro-Deposit Amounts</button></div><span class="text-link" data-ng-click="$ctrl.disconnectDwolla()">Unlink Dwolla bank account</span></div><div data-ng-if="$ctrl.paymentInfo.isWePaySetup" data-ng-class="{\'payment-provider-panel\': $ctrl.hasMultipleProviders}"><h5 data-ng-if="$ctrl.hasMultipleProviders">WePay</h5><div class="alert alert-warning">WePay will stop working October 10th because they are shutting down their small business services. We\'re here to help you transition to Stripe, just reach out via help or chat.<br><br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.shouldShowPaymentSignupModal = true">Sign-up for Stripe Now</button></div><div data-ng-if="$ctrl.paymentInfo.needsReLogin">You need to log-in to WePay with your association\'s account if you want to re-enable WePay payments.<br><a href="{{ $ctrl.paymentInfo.wePayLoginUri }}">Log-in Now</a></div><div data-ng-if="!$ctrl.paymentInfo.needsReLogin">WePay is successfully enabled. You can disable WePay payments if you\'d like to move users to other payment methods. You can always undo this.<br><span class="text-link" data-ng-click="$ctrl.clearWePayAccessToken()">Disable WePay</span><div data-ng-if="$ctrl.paymentInfo.balanceDetail.payoutAccountName || $ctrl.paymentInfo.balanceDetail.wePayAccountEmail" class="mt-3"><span data-ng-if="$ctrl.paymentInfo.balanceDetail.payoutAccountName">WePay pays out to: <span style="font-weight:700">{{$ctrl.paymentInfo.balanceDetail.payoutAccountName}}</span> </span><span class="note-text">(Account Admin: {{$ctrl.paymentInfo.balanceDetail.wePayAccountEmail}})</span></div></div></div><div data-ng-if="!$ctrl.paymentInfo.isStripeSetup" class="mb-3 mt-3"><button type="button" data-ng-if="!$ctrl.paymentInfo.isWePaySetup && !$ctrl.paymentInfo.isStripeSetup" class="btn btn-primary" data-ng-click="$ctrl.shouldShowPaymentSignupModal = true">Setup an Online Payment Processor</button> <span class="text-link note-text" data-ng-if="$ctrl.paymentInfo.isWePaySetup || $ctrl.paymentInfo.isStripeSetup" data-ng-click="$ctrl.shouldShowPaymentSignupModal = true">Setup Another Online Payment Processor</span></div><h3 class="margin-top-50">Online Payment History</h3><div class="wide_tble_wrap"><div data-ng-if="!$ctrl.paymentInfo.electronicPayments || $ctrl.paymentInfo.electronicPayments.length === 0" class="note-text">No online payments have been made yet.</div><div data-ng-if="$ctrl.paymentInfo.electronicPayments.length > 0" data-ui-grid="$ctrl.paymentsGridOptions" ui-grid-resize-columns ui-grid-pagination ui-grid-auto-resize class="gridStyle margin-top-20"></div><div style="height:20px"></div></div><div data-ng-if="$ctrl.paymentInfo.payPalClientId"><h3 class="margin-top">PayPal Settings</h3><div class="row mb-3"><label class="col-sm-4 form-label">Client ID:</label><div class="col-sm-8"><span data-ng-if="!$ctrl.isUpdatingPayPalCredentials">{{$ctrl.paymentInfo.payPalClientId}}</span> <input data-ng-if="$ctrl.isUpdatingPayPalCredentials" type="text" class="form-control" data-ng-model="$ctrl.payPalSignUpClientId"></div></div><div class="row mb-3"><label class="col-sm-4 form-label">Client Secret:</label><div class="col-sm-8"><span data-ng-if="!$ctrl.isUpdatingPayPalCredentials"><span>{{$ctrl.paymentInfo.payPalMaskedSecret}}</span>&nbsp;<span class="note-text">(Hidden for security)</span> </span><input data-ng-if="$ctrl.isUpdatingPayPalCredentials" type="text" class="form-control" data-ng-model="$ctrl.payPalSignUpClientSecret"></div></div><div class="text-end mt-3" data-ng-if="!$ctrl.isUpdatingPayPalCredentials"><span class="note-text">If you are concerned that your PayPal account may be hacked you should reset your PayPal credentials. After you reset your API credentials you can update the values here.</span><br><input class="btn btn-primary" type="button" value="Update Credentials" data-ng-click="$ctrl.updatePayPalCredentials();"></div><div class="text-end mt-3" data-ng-if="$ctrl.isUpdatingPayPalCredentials"><div data-ng-if="$ctrl.payPalSignUpErrorMessage" class="text-error">{{ $ctrl.payPalSignUpErrorMessage }}</div><input id="save-edit-button" class="btn btn-primary" type="button" value="Save" data-ng-click="$ctrl.enablePayPal();"> <input id="cancel-edit-button" class="btn btn-secondary" type="button" value="Cancel" data-ng-click="$ctrl.isUpdatingPayPalCredentials = false"></div></div><h3 class="margin-top-50">Custom Payment Instructions</h3><p>You can add optional payment information that is shown at the top of the online payment section on your home page. Useful payment information such as amounts and due dates as well as links to online third-party payment providers can be entered here.</p><div data-ng-if="!$ctrl.shouldShowCustomInstructions" class="text-link" style="width:100%" data-ng-click="$ctrl.showCustomInstructionsEditor()">Add Custom Payment Information</div><div data-ng-if="$ctrl.shouldShowCustomInstructions" style="width:100%"><div><textarea id="tiny-mce-editor" data-ng-model="$ctrl.customInstructionsText"></textarea></div><button type="button" class="btn btn-primary" data-ng-click="$ctrl.saveCustomInstructions()">Save Instructions</button></div><div data-ng-if="$ctrl.paymentInfo.isWePaySetup || $ctrl.paymentInfo.isStripeSetup"><h3 class="margin-top-50" data-ng-if="$ctrl.paymentInfo.isWePaySetup && !$ctrl.paymentInfo.isStripeSetup">WePay Fees</h3><h3 class="margin-top-50" data-ng-if="!$ctrl.paymentInfo.isWePaySetup && $ctrl.paymentInfo.isStripeSetup">Stripe Fees</h3><h3 class="margin-top-50" data-ng-if="$ctrl.paymentInfo.isWePaySetup && $ctrl.paymentInfo.isStripeSetup">Stripe and WePay Fees</h3><p><span data-ng-if="$ctrl.paymentInfo.isWePaySetup && !$ctrl.paymentInfo.isStripeSetup">WePay</span> <span data-ng-if="!$ctrl.paymentInfo.isWePaySetup && $ctrl.paymentInfo.isStripeSetup">Stripe</span> <span data-ng-if="$ctrl.paymentInfo.isWePaySetup && $ctrl.paymentInfo.isStripeSetup">Stripe and WePay</span> charges a fee to handle online payments. You can choose how those transaction fees are paid, either paid by the resident or paid by the association.</p><div data-ng-if="$ctrl.paymentInfo.isWePaySetup && $ctrl.paymentInfo.isStripeSetup" class="mt-2 mb-1">Show example fees for <label><input type="radio" data-ng-change="$ctrl.updateTestFee()" data-ng-model="$ctrl.exampleFeeService" value="stripe"> Stripe</label> <label><input type="radio" data-ng-change="$ctrl.updateTestFee()" data-ng-model="$ctrl.exampleFeeService" value="wepay"> WePay</label></div><div class="spinner-effect"><div data-ng-show="$ctrl.isLoadingPayment" class="loading-overlay"></div><div class="wide_tble_wrap" style="overflow-x:auto"><table class="table table-bordered table-vertical-middle"><thead><tr><th>Payment Method</th><th>Fee</th><th>Who Pays Stripe\'s Fee</th><th>Example Amount</th><th>Resident Would Pay</th><th>Association Would Receive</th></tr></thead><tbody><tr><td>Electronic Check (ACH)</td><td><span data-ng-if="$ctrl.exampleFeeService === \'wepay\'">$1.50</span> <span data-ng-if="$ctrl.exampleFeeService === \'stripe\'">{{$ctrl.isPremiumPlanActive ? "0.8%" : "1.6%"}}</span></td><td><label><input type="radio" data-ng-change="$ctrl.onChangeFeePayerInfo(\'ach\')" data-ng-model="$ctrl.paymentInfo.payerPaysAchFee" data-ng-value="true"> Payer pays <span class="note-text">(default)</span></label><br><label><input type="radio" data-ng-change="$ctrl.onChangeFeePayerInfo(\'ach\')" data-ng-model="$ctrl.paymentInfo.payerPaysAchFee" data-ng-value="false"> Association pays</label></td><td rowspan="2" class="text-center"><span>$</span><input type="text" class="form-control form-control-sm d-inline-block" style="width:90px" data-ng-model="$ctrl.testFee.amount" data-ng-change="$ctrl.updateTestFee()"></td><td>{{ $ctrl.testFee.achResidentPays | currency }}</td><td>{{ $ctrl.testFee.achAssociationReceives | currency }}</td></tr><tr data-ng-if="$ctrl.paymentInfo.isWePaySetup && $ctrl.exampleFeeService === \'wepay\'"><td>Credit Card</td><td>2.9% + $1.30</td><td><label><input type="radio" data-ng-change="$ctrl.onChangeFeePayerInfo(\'cc\')" data-ng-model="$ctrl.paymentInfo.payerPaysCCFee" data-ng-value="true"> Payer pays <span class="note-text">(default)</span></label><br><label><input type="radio" data-ng-change="$ctrl.onChangeFeePayerInfo(\'cc\')" data-ng-model="$ctrl.paymentInfo.payerPaysCCFee" data-ng-value="false"> Association pays</label></td><td>{{ $ctrl.testFee.ccResidentPays | currency }}</td><td>{{ $ctrl.testFee.ccAssociationReceives | currency }}</td></tr></tbody></table></div><div data-ng-show="$ctrl.isLoadingPayment" style="z-index:100" class="container-overlay"></div></div></div><div id="AssessmentsPanel" data-ng-if="$ctrl.hasAssessments" class="margin-top-50"><h3>{{$ctrl.homeName}} Assessments</h3><p>The {{$ctrl.homeName.toLowerCase()}} assessments are set upon setup of your online payments. Click the assessment amount below to adjust.</p><div>Assessment Frequency: <b>{{$ctrl.assessmentFrequencyLabel}}</b></div><div class="wide_tble_wrap"><table class="table table-bordered"><thead><tr><th class="text-end" style="width:260px">{{$ctrl.homeName}}</th><th class="text-center" style="width:140px">Assessment</th><th class="text-start">Notes</th></tr></thead><tbody><tr data-ng-repeat="unit in $ctrl.units"><td class="text-end">{{ unit.name }}</td><td class="text-center"><span class="text-button" data-onshow="$ctrl.selectText();" data-onaftersave="$ctrl.onUnitAssessmentChanged( unit );" data-editable-text="unit.adjustedAssessment">{{ (unit.adjustedAssessment || 0) | currency }}</span></td><td class="text-start"><span class="text-button" data-onshow="$ctrl.selectText();" e-maxlength="250" data-onaftersave="$ctrl.onUnitAssessmentChanged( unit );" data-editable-text="unit.adjustedAssessmentReason">{{ unit.adjustedAssessmentReason || "edit" }}</span></td></tr></tbody><tfoot><tr><th class="text-end">Total</th><th class="text-center">{{ $ctrl.adjustedAssessmentSum | currency }}</th><th></th></tr></tfoot></table></div><div>Or you can set all {{$ctrl.homeName.toLowerCase()}}s to the same amount here: $<input type="number" style="width:90px" data-ng-model="$ctrl.setAllAssessmentAmount"> <input id="save-edit-button" class="btn btn-primary" type="button" value="Set All Assessments" data-ng-click="$ctrl.setAllUnitAssessments()"></div><div data-ng-show="$ctrl.isLoadingUnits" style="z-index:100" class="container-overlay"></div><h3 class="margin-top-50">Late Fees</h3><div class="error-text" data-ng-if="!$ctrl.isAssessmentTrackingEnabled">Late fees can only be enabled if assessment tracking is enabled.<br><a href="#!/AssessmentHistory">Visit the Assessment History page</a></div><div class="spinner-effect"><div data-ng-if="!$ctrl.isAssessmentTrackingEnabled" class="gray-overlay"></div><div data-ng-show="$ctrl.isLoading || $ctrl.isLoadingLateFee" class="loading-overlay"></div><form data-ng-submit="$ctrl.saveLateFee()"><div>Add a late fee if a resident hasn\'t paid their assessment by the <input style="width:45px" maxlength="2" class="form-control form-control-sm d-inline-block" type="text" data-ng-model="$ctrl.lateFeeInfo.lateFeeDayOfMonth"><sup>{{ getLateFeeDateSuper() }}</sup> day of the month.<div class="note-text">If you enter a day like the 31st, then on months with less than 31 days, the fee takes affect after the last day of the month.</div></div><div class="margin-top" data-ng-style="{ \'color\': !$ctrl.lateFeeInfo.lateFeeDayOfMonth ? \'#AAA\' : \'#000\'}">How much is the late fee? <input type="text" class="form-control form-control-sm d-inline" style="width:200px" data-ng-model="$ctrl.lateFeeInfo.lateFeeAmount"><div class="note-text">You can enter a flat amount like $124.45 or a percent like 10%</div></div><p class="text-end" style="max-width:450px"><button class="btn btn-primary" type="submit">Save</button></p><p>If you want to give a resident a break on the late fee even if they\'re passed due, you can tell them to select "other" for the type of payment on the home page and have them enter their normal assessment in the amount field.</p></form></div></div><div data-ng-if="!$ctrl.hasAssessments" class="margin-top-50">You answered "no" to your association having regular assessments. If you\'d like to change that, <span class="text-button" data-ng-click="$ctrl.hasAssessments = null">click here</span>.</div></div></div><div data-ng-if="$ctrl.viewingWePayCheckoutId" class="modal-container" data-ng-escape="$ctrl.showWePayCheckoutInfo( null )"><div class="modal-overlay" data-ng-click="$ctrl.showWePayCheckoutInfo( null )"></div><div class="ca-modal-dialog modal-sm"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingCheckoutDetails"></div><table><tbody><tr><td class="AlignRightBold">Checkout Id:</td><td>{{ $ctrl.checkoutInfo.checkoutId }}</td></tr><tr><td class="AlignRightBold">Create Time:</td><td>{{ $ctrl.checkoutInfo.createTime | date:\'short\' }}</td></tr><tr><td class="AlignRightBold">State:</td><td>{{ $ctrl.checkoutInfo.state }}</td></tr><tr><td class="AlignRightBold">Short Description:</td><td>{{ $ctrl.checkoutInfo.shortDescription }}</td></tr><tr><td class="AlignRightBold">Long Description:</td><td>{{ $ctrl.checkoutInfo.longDescription }}</td></tr><tr><td class="AlignRightBold">Amount Paid:</td><td>{{ $ctrl.checkoutInfo.amountPaid | currency }}</td></tr><tr><td class="AlignRightBold">Processing Fee:</td><td>{{ $ctrl.checkoutInfo.processingFee | currency }}</td></tr><tr><td class="AlignRightBold">Fee Payer:</td><td>{{ $ctrl.checkoutInfo.feePayer }}</td></tr><tr><td class="AlignRightBold">Gross Paid:</td><td>{{ $ctrl.checkoutInfo.grossPaid | currency }}</td></tr><tr><td class="AlignRightBold">Refund Reason:</td><td>{{ $ctrl.checkoutInfo.refundReason }}</td></tr><tr><td class="AlignRightBold">Payment Method:</td><td>{{ $ctrl.checkoutInfo.paymentMethod }}</td></tr><tr><td class="AlignRightBold">Payer Name:</td><td>{{ $ctrl.checkoutInfo.payerName }}</td></tr><tr><td class="AlignRightBold">Payer Email:</td><td>{{ $ctrl.checkoutInfo.payerEmail }}</td></tr><tr><td class="AlignRightBold">Payment Error:</td><td>{{ $ctrl.checkoutInfo.paymentError }}</td></tr></tbody></table><br><br><p class="note-text text-end">(Click anywhere outside this window to close)</p></div></div><div data-ng-if="$ctrl.viewingPayPalCheckoutId" class="modal-container" data-ng-escape="$ctrl.showPayPalCheckoutInfo( null )"><div class="modal-overlay" data-ng-click="$ctrl.showPayPalCheckoutInfo( null )"></div><div class="ca-modal-dialog modal-sm"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingCheckoutDetails"></div><table><tbody><tr><td class="AlignRightBold">Checkout Id:</td><td>{{ $ctrl.checkoutInfo.checkoutId }}</td></tr><tr><td class="AlignRightBold">Create Time:</td><td>{{ $ctrl.checkoutInfo.createTimeUtc | date:\'EEEE, MMMM d, yyyy h:mm a\' }}</td></tr><tr><td class="AlignRightBold">State:</td><td>{{ $ctrl.checkoutInfo.state }}</td></tr><tr><td class="AlignRightBold">Short Description:</td><td>{{ $ctrl.checkoutInfo.shortDescription }}</td></tr><tr><td class="AlignRightBold">Amount Paid:</td><td>{{ $ctrl.checkoutInfo.amountPaid | currency }}</td></tr><tr><td class="AlignRightBold">Payment Method:</td><td>{{ $ctrl.checkoutInfo.paymentMethod }}</td></tr><tr><td class="AlignRightBold">Payer Name:</td><td>{{ $ctrl.checkoutInfo.payerName }}</td></tr><tr><td class="AlignRightBold">Payer Email:</td><td>{{ $ctrl.checkoutInfo.payerEmail }}</td></tr><tr><td class="AlignRightBold">Payment Error:</td><td>{{ $ctrl.checkoutInfo.paymentError }}</td></tr></tbody></table><br><br><p class="note-text text-end">(Click anywhere outside this window to close)</p></div></div><div data-ng-if="$ctrl.viewingParagonReferenceNumber" class="modal-container" data-ng-escape="$ctrl.showParagonCheckoutInfo( null )"><div class="modal-overlay" data-ng-click="$ctrl.showParagonCheckoutInfo( null )"></div><div class="ca-modal-dialog modal-sm"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingCheckoutDetails"></div><table><tbody><tr><td class="AlignRightBold">Auth Code:</td><td>{{ $ctrl.checkoutInfo.authorization_code }}</td></tr><tr><td class="AlignRightBold">Date:</td><td>{{ $ctrl.checkoutInfo.date }}</td></tr><tr><td class="AlignRightBold">Amount:</td><td>{{ $ctrl.checkoutInfo.total_amount }}</td></tr><tr><td class="AlignRightBold">Reference #:</td><td>{{ $ctrl.checkoutInfo.payment_reference_number }}</td></tr><tr><td class="AlignRightBold">Result Message:</td><td>{{ $ctrl.checkoutInfo.result_message }}</td></tr></tbody></table><br><br><p class="note-text text-end">(Click anywhere outside this window to close)</p></div></div><div data-ng-if="$ctrl.viewingDwollaEntry" class="modal-container" data-ng-escape="$ctrl.showDwollaTransferInfo( null )"><div class="modal-overlay" data-ng-click="$ctrl.showDwollaTransferInfo( null )"></div><div class="ca-modal-dialog modal-sm" style="width:550px;margin-left:-275px"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingCheckoutDetails"></div><table><tbody><tr><td class="text-end" style="width:100px">Transfer ID:</td><td class="text-bold">{{ $ctrl.checkoutInfo.dwollaTransferId }}</td></tr><tr><td class="text-end">ACH ID:</td><td class="text-bold">{{ $ctrl.checkoutInfo.individualAchId }}</td></tr><tr><td class="text-end">Status:</td><td class="text-bold">{{ $ctrl.checkoutInfo.status }}</td></tr><tr><td class="text-end">Amount:</td><td class="text-bold">{{ $ctrl.checkoutInfo.amountString }}</td></tr><tr><td class="text-end">Payer Notes:</td><td class="text-bold">{{ $ctrl.checkoutInfo.payerNotes }}</td></tr><tr data-ng-if="$ctrl.checkoutInfo.feeAmountString"><td class="text-end">Payer Fee:</td><td class="text-bold">{{ $ctrl.checkoutInfo.feeAmountString }}</td></tr><tr><td class="text-end">Created:</td><td class="text-bold">{{ $ctrl.checkoutInfo.createdDateUtc | date:\'EEEE, MMMM d, yyyy h:mm a\' }}</td></tr><tr><td class="text-end">From Acct:</td><td class="text-bold">{{ $ctrl.checkoutInfo.sourceFundingSourceName }}</td></tr><tr><td class="text-end">To Acct:</td><td class="text-bold">{{ $ctrl.checkoutInfo.destFundingSourceName }}</td></tr><tr><td class="text-end">Clearing:</td><td class="text-bold">{{ $ctrl.checkoutInfo.clearingSource }}</td></tr><tr><td class="text-end">Cancel:</td><td class="text-bold"><span class="text-link" data-ng-if="$ctrl.checkoutInfo.cancelUri" data-ng-click="$ctrl.cancelDwollaTransfer()">Cancel</span><span data-ng-if="$ctrl.checkoutInfo.dwollaTransferId && !$ctrl.checkoutInfo.cancelUri">No longer available</span></td></tr></tbody></table><br><br>Dwolla payments usually take 5 business days to clear which is means about a full week. <a href="https://developers.dwolla.com/concepts/transfer-processing-times#transfer-processing-times" target="_blank">Learn about Dwolla processing times</a><br><br><p class="note-text text-end">(Click anywhere outside this window to close)</p></div></div><div data-ng-if="$ctrl.viewingStripeEntry" class="modal-container" data-ng-escape="$ctrl.showStripeTransferInfo( null )"><div class="modal-overlay" data-ng-click="$ctrl.showStripeTransferInfo( null )"></div><div class="ca-modal-dialog modal-sm" style="width:600px;margin-left:-300px"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingCheckoutDetails"></div><table><tbody><tr><td class="text-end" style="width:130px">Status:</td><td class="text-bold">{{ $ctrl.checkoutInfo.status }}</td></tr><tr><td class="text-end">Total Amount Paid:</td><td class="text-bold">{{ $ctrl.checkoutInfo.amountString }}</td></tr><tr data-ng-if="$ctrl.checkoutInfo.feeAmountString"><td class="text-end">Stripe Fee:</td><td class="text-bold">{{ $ctrl.checkoutInfo.feeAmountString }}</td></tr><tr data-ng-if="$ctrl.checkoutInfo.netAmountString"><td class="text-end">Net Amount:</td><td class="text-bold">{{ $ctrl.checkoutInfo.netAmountString }}</td></tr><tr><td class="text-end">Payment Intent ID:</td><td class="text-bold">{{ $ctrl.checkoutInfo.stripePaymentIntentId }}</td></tr><tr><td class="text-end">Charge ID:</td><td class="text-bold">{{ $ctrl.checkoutInfo.stripeChargeId }}</td></tr><tr><td class="text-end">Payer Notes:</td><td class="text-bold">{{ $ctrl.checkoutInfo.payerNotes }}</td></tr><tr><td class="text-end">Created:</td><td class="text-bold">{{ $ctrl.checkoutInfo.createdDateUtc | date:\'EEEE, MMMM d, yyyy h:mm a\' }}</td></tr><tr><td class="text-end">From Acct:</td><td class="text-bold">{{ $ctrl.checkoutInfo.sourceFundingSourceName }}</td></tr></tbody></table><br><br>Stripe ACH payments usually take 5 business days to clear which is means about a full week. <a href="https://stripe.com/docs/payouts#payout-schedule" target="_blank">Learn about Stripe processing times</a><br><br><p class="note-text text-end">(Click anywhere outside this window to close)</p></div></div><div class="modal-container" data-ng-show="$ctrl.shouldShowDwollaAddAccountModal"><div class="modal-overlay" data-ng-click=""></div><div class="ca-modal-dialog modal-lg"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.hideDwollaAddAccountModal()">&times;</span><h2>Add Bank Account</h2><div class="mb-1 text-center" data-ng-if="!$ctrl.dwollaIavToken">Please check this box. An extra layer of safety for our site.<br><br><div id="recaptcha-check-elem" class="g-recaptcha" style="display:inline-block;margin:0 auto" data-sitekey="6LfNM3UUAAAAAENjycvvELqQ7PzRQ1y0PtxGFMvF"></div><br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.startDwollaSignUp()">Begin</button></div><span class="note-text mt-3">Note: For an extra layer of security, the account addition process takes place through Dwolla\'s servers only. The information you enter below does not interact with Community Ally\'s server.</span><div id="dwolla-iav-container"></div><div class="text-center" data-ng-if="$ctrl.isDwollaIavDone"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.hideDwollaAddAccountModal()">Close</button></div></div></div><div class="modal-container" data-ng-if="$ctrl.shouldShowMicroDepositModal"><div class="modal-overlay" data-ng-click="$ctrl.shouldShowMicroDepositModal = false"></div><div class="ca-modal-dialog modal-sm"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowMicroDepositModal = false">&times;</span><h2>Enter Micro-Deposit Amounts</h2><div class="row m-1"><div class="col-sm-12 col-md-6"><h3>Amount 1</h3><input type="text" data-ng-model="$ctrl.dwollaMicroDepositAmount1String"></div><div class="col-sm-12 col-md-6"><h3>Amount 2</h3><input type="text" data-ng-model="$ctrl.dwollaMicroDepositAmount2String"></div></div><div class="text-center"><span class="note-text">Order of amounts entered does not matter</span><br><button type="button" class="btn btn-primary mt-3" data-ng-click="$ctrl.submitDwollaMicroDepositAmounts()">Submit</button></div></div></div><div class="modal-container" data-ng-if="$ctrl.shouldShowPaymentSignupModal"><div class="modal-overlay" data-ng-click="$ctrl.shouldShowPaymentSignupModal = false"></div><div class="ca-modal-dialog modal-lg"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowPaymentSignupModal = false">&times;</span><h2>Online Payments</h2><div class="row m-1"><p>We\'re at the point now where we can discuss putting humans on Mars and AI taking over the world, yet no one has made it easy to collect payments online? Unfortunately, that\'s the situation we\'re in. We\'ve been through a few payment processors over the years and we wish we could offer a clear winner, but for now, sadly, you\'ll need to pick a solution that you think works best for your association\'s needs.</p><div data-ng-if="false"><h4 class="mt-4" style="text-decoration:none">Integrated Options</h4><p>Payments take place through your website. Payments are automatically tracked and recorded in your assessment history.</p><hr></div><div><h4>Stripe</h4>Notes:<ul><li><b>Requires EIN and a corporation in good standing</b></li></ul>Pros:<ul><li>World-class security, reporting, and financial dashboard</li><li>Very easy checkout experience for residents</li></ul>Cons:<ul><li>Very complicated sign-up process for the HOA</li><li>Payers pay a <b>0.8%</b> ($0.80 per $100) fee for on our premium plan or <b>1.6%</b> on our free plan. There are no other fees for the association. You\'ll probably want to remind folks if they can still pay by check or consider covering the Stripe fees.</li></ul><button type="button" data-ng-if="!$ctrl.paymentInfo.isStripeSetup" class="btn btn-primary" data-ng-click="$ctrl.shouldShowPaymentSignupModal = false; $ctrl.shouldShowStripePrefaceModal = true;">Get Started with Stripe</button><div data-ng-if="$ctrl.paymentInfo.isStripeSetup" class="note-text">You\'re already setup with Stripe</div></div><hr data-ng-if="false" class="mt-4 mb-4"><div data-ng-if="false"><h4>WePay</h4>Notes:<ul><li><b>Requires EIN and a corporation in good standing</b></li></ul>Pros:<ul><li>Lowest fees in the business at <b>$1.50</b> flat fee per transaction. There are no other fees for the association.</li></ul>Cons:<ul><li>Painful checkout experience for residents (They need to login to their bank site for every payment)</li></ul><a class="btn btn-primary" data-ng-if="!$ctrl.paymentInfo.isWePaySetup" data-ng-href="{{ $ctrl.paymentInfo.wePayLoginUri }}">Get Started with WePay</a><div data-ng-if="$ctrl.paymentInfo.isWePaySetup" class="note-text">You\'re already setup with WePay</div></div><hr class="mt-4"><h4 class="mt-5" style="text-decoration:none">Nonintegrated Options</h4><p>Payments are not automatically tracked so you\'ll need to manually mark off payments in the assessment history. You can specify instructions for your residents via the "Custom Payment Instructions" field.</p><hr><div><h4>Your Bank</h4><p>Many banks support direct bill pay or electronic payments, and many don\'t even charge fees. Check with association\'s bank to see if they support some way to allow residents to send their dues payments electronically.</p>Pros:<ul><li>Should be easy</li><li>Support local</li></ul>Cons:<ul><li>Depending on the bank, you might have to handle paper checks, which kind of defeats the purpose of online payments</li></ul></div><hr class="mt-4 mb-4"><div><h4>Direct Payment Apps</h4><p>First check if this is allowed in your state or municipality! For small associations, you might be able to get away with using a person-to-person payment app like Venmo, PayPal, or Zelle.</p>Pros:<ul><li>Super easy for all parties</li><li>Many apps don\'t have fees</li></ul>Cons:<ul><li>Again, it\'s most likely illegal. Almost every state disallows deposits of association funds into a personal bank account (commingling of funds) and most of these payment apps don\'t allow business accounts to sign-up</li></ul></div></div></div></div><div class="modal-container" data-ng-if="$ctrl.shouldShowStripePrefaceModal"><div class="modal-overlay" data-ng-click="$ctrl.shouldShowStripePrefaceModal = false"></div><div class="ca-modal-dialog modal-sm"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowStripePrefaceModal = false">&times;</span><p class="mt-4">Before you start, make sure you have your EIN handy. Also, open our Stripe sign-up guide in another window for easy reference.</p><div class="mt-3 text-center"><a href="https://help.communityally.org/stripe-sign-up-guide/" target="_blank">Open Stripe Sign-up Guide 🗗</a><br><br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.signUpForStripe()">Get Started with Stripe</button></div><p></p></div></div></div></div><script>$( ".collapsibleContainer" ).collapsiblePanel();<\/script>'),t.put("/ngApp/chtn/manager/financial/stripe-link-refresh.html",'<div class="page"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><div>{{$ctrl.statusMessage}}</div></div>'),t.put("/ngApp/chtn/manager/manage-committees.html",'<div class="content-full-width"><section class="padding white-bg padding margin-vertical box-shadow"><div class="loading-overlay" data-ng-if="$ctrl.isLoading"></div><h3>Active Committees</h3><p data-ng-if="$ctrl.activeCommittees.length === 0">There are currently no active committees.</p><div data-ng-if="$ctrl.activeCommittees.length > 0"><table border="1" cellpadding="3" class="table-bordered"><thead><tr><th>Name</th><th>Type</th><th>Created</th><th>Privacy</th><th></th></tr></thead><tbody><tr data-ng-repeat="c in $ctrl.activeCommittees"><td><a data-ng-href="#!/Committee/{{ c.committeeId }}/Home">{{ c.name }}</a></td><td>{{ c.committeeType }}</td><td>{{ c.creationDateUtc | date:\'shortDate\' }}</td><td>{{ c.isPrivate ? "Private" : "Open" }}</td><td><span class="text-link" data-ng-click="$ctrl.startEditCommittee( c )">Edit</span> - <span class="text-link" data-ng-click="$ctrl.toggleCommitteeActive( c )">{{ c.deactivationDateUtc ? \'Reactivate\' : \'Deactivate\' }}</span></td></tr></tbody></table></div><div data-ng-if="$ctrl.inactiveCommittees.length > 0" class="mt-3"><span class="note-text text-link" data-ng-click="$ctrl.showInactiveCommittees=!$ctrl.showInactiveCommittees">{{ $ctrl.showInactiveCommittees ? "Hide" : "Show" }} Inactive Committees</span><div class="mt-2" data-ng-if="$ctrl.showInactiveCommittees"><h3>Inactive Committees</h3><p data-ng-if="$ctrl.inactiveCommittees.length === 0">There are currently no inactive committees.</p><div data-ng-if="$ctrl.inactiveCommittees.length > 0"><table border="1" cellpadding="3"><thead><tr><th>Name</th><th>Type</th><th>Created</th><th>Privacy</th><th></th></tr></thead><tbody><tr data-ng-repeat="c in $ctrl.inactiveCommittees"><td>{{ c.name }}</td><td>{{ c.committeeType }}</td><td>{{ c.creationDateUtc | date:\'shortDate\' }}</td><td>{{ c.isPrivate ? "Private" : "Open" }}</td><td><span class="text-link" data-ng-click="$ctrl.toggleCommitteeActive( c )">{{ c.deactivationDateUtc ? \'Reactivate\' : \'Deactivate\' }}</span></td></tr></tbody></table></div></div></div><br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.showCreateModal()">Create New Committee</button></section><div class="modal-container" data-ng-if="$ctrl.editCommittee"><div class="modal-overlay"></div><div class="ca-modal-dialog modal-lg"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.editCommittee = null">&times;</span><h2>{{ $ctrl.editCommittee.committeeId ? \'Edit\' : \'Add New\' }} Committee</h2><table cellpadding="1"><tr><td class="AlignRightBold">Name:</td><td><input type="text" style="width:100%;max-width:350px" data-ng-model="$ctrl.editCommittee.name"><br><span data-ng-if="!$ctrl.editCommittee.committeeId" class="note-text" style="margin-left:0">It\'s a good idea to add the word "Committee" to the end of the name so it\'s clear when it shows up on various pages</span></td></tr><tr><td colspan="2"><br></td></tr><tr><td class="AlignRightBold">Type:</td><td><label style="display:inline-block"><input type="radio" data-ng-model="$ctrl.editCommittee.committeeType" value="Ongoing" name="committee-type">Ongoing</label> <span class="note-text" style="margin-left:.5em">E.g. neighbor engagement, purchasing, maintenance</span><br><label style="display:inline-block"><input type="radio" data-ng-model="$ctrl.editCommittee.committeeType" value="Seasonal" name="committee-type">Seasonal</label> <span class="note-text" style="margin-left:.5em">E.g. gardening, snow removal, winterization</span><br><label style="display:inline-block"><input type="radio" data-ng-model="$ctrl.editCommittee.committeeType" value="Goal-based" name="committee-type">Goal-based</label> <span class="note-text" style="margin-left:.5em">E.g. fix roof, plan parking, change trash collection</span></td></tr><tr><td colspan="2"><br></td></tr><tr><td class="AlignRightBold">Privacy:</td><td><label style="display:inline-block"><input type="radio" data-ng-model="$ctrl.editCommittee.isPrivate" ng-value="false" name="is-private">Open</label> <span class="note-text" style="margin-left:.5em">Any user can view the contents of the committee, but only members can modify and get notifications.</span><br><label style="display:inline-block"><input type="radio" data-ng-model="$ctrl.editCommittee.isPrivate" ng-value="true" name="is-private">Private</label> <span class="note-text" style="margin-left:.5em">Only members can view the committee\'s information</span></td></tr><tr><td colspan="2" class="text-end"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.saveCommittee()">Save</button></td></tr></table></div></div></div>'),t.put("/ngApp/chtn/manager/manage-custom-pages.html",'<div class="content-full-width"><section class="padding white-bg padding margin-vertical box-shadow"><div class="loading-overlay" data-ng-if="$ctrl.isLoading"></div><h3>Custom Pages</h3><p>Here you can create general-use pages that can be accessed by both residents and the general public, unlike the rest of your site which requires users be registered and logged-in. You can simply define the page contents using the rich text editor below. The page will then be accessible when visiting the site and not logged-in. You can test this by using another browser or using your current browser\'s private/incognito mode.<br><br>Learn more at <a href="https://help.communityally.org/custom-pages/" target="_blank">the help article</a>.</p><div style="min-height:140px"><fieldset class="float-end" style="width:40%"><legend style="font-size:20px" class="col-12">Site Landing Page</legend>When users visit your site and are not yet logged-in, you can customize what page they land on with this setting.<br><br><b>Page:</b> <select title="landing page" data-ng-model="$ctrl.selectedLandingPageId" data-ng-change="$ctrl.onLandingPageSelected()"><option ng-value="null">Default - Login Page</option><option data-ng-repeat="curPage in $ctrl.allPageListings" ng-value="curPage.customPageId">{{curPage.title}}</option></select></fieldset><div>Select Page: <select data-ng-options="p as p.title for p in $ctrl.menuPageListings" class="pb-2" data-ng-model="$ctrl.selectedPageEntry" data-ng-change="$ctrl.onPageSelected()" title="current edit page"><option></option></select> <button class="btn btn-primary" data-ng-if="$ctrl.editPage" data-ng-click="$ctrl.savePage()">Save Page</button> <button class="btn btn-danger" data-ng-if="$ctrl.editPage.customPageId" data-ng-click="$ctrl.deletePage()">Delete Page</button></div></div><div data-ng-if="$ctrl.editPage" class="mt-3"><hr><div>Title: <input type="text" maxlength="64" data-ng-model="$ctrl.editPage.title" data-ng-blur="$ctrl.onTitleBlur()"><div class="note-text">Shows up as the menu text</div></div><div class="mt-3">Slug: <input type="text" maxlength="64" data-ng-model="$ctrl.editPage.pageSlug" data-ng-blur="$ctrl.onSlugBlur()"><div class="note-text">The alphanumeric+dash identifier for this page. Used in the URL: <a target="_blank" href="{{$ctrl.groupBaseUrl}}#!/Page/{{$ctrl.editPage.pageSlug}}">{{$ctrl.groupBaseUrl}}#!/Page/{{$ctrl.editPage.pageSlug}}</a></div></div><div class="mt-3"><label>Is Publicly Accessible: <input type="checkbox" data-ng-model="$ctrl.editPage.isPublic"></label><div class="note-text">If enabled, anyone can view this page, not just members of your association. Shows up if you vist the site not-logged-in.</div></div></div><div data-ng-show="$ctrl.editPage" class="mt-3"><div class="col-12"><textarea id="tiny-mce-editor"></textarea></div><div class="col-12" data-ng-class="{ \'text-error\' : $ctrl.pageSizeBytes > 1048576 }">Page Download Size: {{$ctrl.pageSizeString}}<div class="note-text">Try to keep this under 1MB</div></div></div></section></div>'),t.put("/ngApp/chtn/manager/manage-polls.html",'<div class="page page-manage-polls"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h1>Create a Poll</h1><p>Here you can add and edit polls that can be used to gather votes for issues that come up in your association.</p><ul><li>Poll votes are anonymous but completely audited and trackable should the need arise.</li><li>Each unit can only cast one vote, regardless of the number of residents living in the unit.</li><li>Users can vote and change their vote any number of times until the poll\'s expiration date at which point the results will be shown.</li><li>Users can actively choose to abstain from a poll and that will be recorded separately from a user simply not voting.</li></ul><form id="edit-item-form" name="editItemForm" class="spinner-effect margin-top" novalidate><div class="row mb-3 px-3"><label class="form-label">Enter Question:<span class="validation-label" data-ng-show="$ctrl.editItemForm.PollQuestionTextBox.$error.required">Required</span></label> <input id="poll-question-textbox" type="text" class="form-control form-control-sm" maxlength="80" name="PollQuestionTextBox" data-ng-model="$ctrl.editingItem.questionText" required></div><div class="row mb-3 px-3"><label class="form-label">Question Details: (optional)</label> <textarea id="poll-details-textbox" data-ng-model="$ctrl.editingItem.detailText" maxlength="1000" rows="4" class="form-control"></textarea></div><h2>Answers</h2><ol class="mt-3 question-list"><li ng-repeat="answer in $ctrl.editingItem.answers" class="margin-top-10"><div class="mb-3 ms-4"><input id="poll-answer-textbox-{{ $index }}" type="text" class="form-control form-control-sm" data-ng-model="answer.answerText" maxlength="60" required></div><div class="row mb-3 ms-4"><div class="ps-0"><label class="form-label">Details: (optional)</label></div><textarea id="poll-answer-detail-textbox-{{ $index }}" class="form-control" data-ng-model="answer.detailText" rows="3" maxlength="1000"></textarea></div><div><a href="javascript:void(0)" id="remove-answer-{{ $index }}" data-ng-show="$index > 1" class="text-button poll-answer-remove" data-ng-click="editingItem.answers.splice( $index, 1 )">Remove</a></div></li></ol><p class="text-center"><button id="add-poll-answer-button" class="btn btn-primary" data-ng-click="$ctrl.addAnswer();">Add Another Possible Answer</button></p><p class="margin-top-20">Enter the date at which this poll will close:<input class="form-control form-control-sm d-inline-block" style="width:100px" id="poll-expiration-textbox" name="PollExpirationDateTextBox" type="text" data-ui-date data-ng-model="$ctrl.editingItem.expirationDate" required> <span class="validation-label" data-ng-show="$ctrl.editItemForm.PollExpirationDateTextBox.$error.required">Required</span><br><span class="note-text">On noon of this date the poll will close, regardless of the number of units that have voted. Polls will stay on the home page 3 days after this date to allow residents to view the results.</span></p><p>Who can vote on this poll? <select data-ng-model="$ctrl.editingItem.votingGroupShortName" data-ng-options="g.recipientTypeName as g.displayName for g in $ctrl.groupEmails"></select></p><p><label style="margin-bottom:0"><input type="checkbox" data-ng-model="$ctrl.editingItem.allowOtherAnswer"> Allow users to type in their own responses</label><br><span class="note-text">If selected, users will be able to enter their own text as a reponse from the poll. If not selected, users can only select from the list of answers specified here.</span></p><p><label style="margin-bottom:0"><input type="checkbox" data-ng-model="$ctrl.shouldAllowMultipleAnswers" data-ng-change="$ctrl.onMultiAnswerChange()"> Allow users to choose more than one answer</label><br><span class="note-text" data-ng-if="$ctrl.shouldAllowMultipleAnswers">Users can choose up to <input type="number" min="2" max="20" data-ng-model="$ctrl.editingItem.maxNumResponses"> answers.</span></p><p data-ng-if="!$ctrl.editingItem.postDateUtc"><label style="margin-bottom:0"><input type="checkbox" data-ng-model="$ctrl.editingItem.isAnonymous"> Responses are anonymous</label><br><span class="note-text">If selected, you will not be able to see how units voted, only total response counts. Anonymous polls can help to provide more votes and/or more honest feedback.</span></p><p data-ng-if="!$ctrl.editingItem.postDateUtc"></p><div data-ng-if="$ctrl.isPremiumPlanActive"><label style="margin-bottom:0"><input type="checkbox" data-ng-model="$ctrl.editingItem.shouldSendAnnouncementEmail"> Send announcement email</label><br><span class="note-text">Checking this will send out an email to residents that a poll has been added. <a class="font-italic" target="_blank" href="https://help.communityally.org/wp-content/uploads/2022/01/sample-poll-email.png">View Sample Email</a></span></div><div class="note-text" data-ng-if="!$ctrl.isPremiumPlanActive">You can send out poll email notifications on our premium plan.</div><p></p><p data-ng-if="$ctrl.isPremiumPlanActive"><label style="margin-bottom:0"><input type="checkbox" data-ng-model="$ctrl.editingItem.shouldSendReminderEmail"> Send reminder email</label><br><span class="note-text">Checking this will cause an email reminder to be sent out 1 day before the poll\'s expiration date to anyone that hasn\'t yet voted.</span></p><p class="text-end"><input id="poll-submit" class="btn btn-primary" type="button" ng-disabled="$ctrl.editItemForm.$invalid" value="{{ $ctrl.editingItem.postDateUtc != null | iif: \'Save Changes\' : \'Add Poll\' }}" data-ng-click="$ctrl.onSavePoll();"> <input id="poll-cancel-edit" class="btn btn-primary" type="button" value="Cancel Edit" data-ng-show="$ctrl.editingItem.postDateUtc != null" data-ng-click="$ctrl.cancelEdit()"></p></form><h1 class="margin-top">Manage Polls</h1><div><table id="poll-table" class="table table-bordered table-responsive"><thead><tr class="hidden-xs"><th style="width:10%"></th><th style="width:52%">Question</th><th>Who</th><th>Post Date</th><th>Expiration Date</th><th style="width:15%">Posted By</th><th>Results</th></tr></thead><tbody><tr data-ng-repeat="pollItem in $ctrl.pollHistory"><td><span id="edit-poll-{{ $index }}" class="text-button" data-ng-click="$ctrl.onEditItem( pollItem );">Edit</span> <span id="delete-poll-{{ $index }}" class="text-button" data-ng-click="$ctrl.onDeleteItem( pollItem );">Delete</span></td><td class="poll-entry-{{ $index }}-question-text">{{::pollItem.questionText}}<span class="note-text ms-2" data-ng-if="$ctrl.isSuperAdmin">(Poll ID: {{pollItem.pollId}})</span></td><td class="poll-entry-{{ $index }}-who"><span>{{::$ctrl.formatVoteGroupName(pollItem.votingGroupShortName)}}</span></td><td class="poll-entry-{{ $index }}-post-date">{{::pollItem.postDateUtc | date:\'M/d/yyyy\'}}</td><td class="poll-entry-{{ $index }}-expiration-date">{{::pollItem.expirationDate | date:\'M/d/yyyy\'}}</td><td class="poll-entry-{{ $index }}-author-name">{{::pollItem.authorName | date:\'M/d/yyyy\'}}</td><td class="text-center"><span class="text-button" data-ng-click="$ctrl.onViewResults( pollItem )">View</span></td></tr></tbody></table></div></div><div class="modal-container" data-ng-if="$ctrl.viewingPollResults"><div class="modal-overlay" data-ng-click="$ctrl.onViewResults( null )"></div><div class="ca-modal-dialog" data-ng-click="$ctrl.onViewResults( null )"><div><h2>Results for: {{ $ctrl.viewingPollResults.questionText }}</h2></div><br><br><div style="float:left;width:70%"><canvas id="poll-result-chart" width="469" height="234" class="chart chart-doughnut" data-chart-data="$ctrl.viewingPollResults.chartData" data-chart-labels="$ctrl.viewingPollResults.chartLabels" legend="true"></canvas></div><div style="float:left;width:29%"><div data-ng-if="$ctrl.viewingPollResults.unitVoteText">Your unit voted: <span style="font-weight:700">{{ $ctrl.viewingPollResults.unitVoteText }}</span></div><div data-ng-if="!$ctrl.viewingPollResults.unitVoteText">Your unit did not vote in this poll.</div><br><div data-ng-repeat="answerCount in $ctrl.viewingPollResults.answerCounts"><span style="font-weight:700">{{ answerCount.label }}:</span> {{ answerCount.count }}</div></div><div class="clearfix"></div><div class="mt-3 mb-3 note-text" data-ng-if="$ctrl.viewingPollResults.isAnonymous">This was an anonymous poll so individual responses cannot be viewed.</div><div class="mt-3 mb-3" data-ng-if="!$ctrl.viewingPollResults.isAnonymous && $ctrl.viewingPollResults.responses.length > 0"><h2>Responses</h2><table border="1"><thead><tr><th>Resident</th><th>Home</th><th>Vote</th></tr></thead><tbody><tr data-ng-repeat="response in $ctrl.viewingPollResults.responses"><td>{{response.userFullName}}</td><td>{{response.unitName}}</td><td>{{response.answerText}}</td></tr></tbody></table></div><span style="position:absolute;right:5px;bottom:5px" class="note-text">Click anywhere to close</span></div></div>'),t.put("/ngApp/chtn/manager/manage-residents.html",'<div class="page page-manage-resident spinner-effect"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><p class="margin-bottom-10 text-12" style="display:none">Are your neighbors not receiving emails from this site? If so, make sure they add "sender@condoally.com" to their list of trusted email senders.</p><p data-ng-if="$ctrl.showIsRenter">Here you can manage the people that live in your association. Simply click on their name to edit their information.</p><p data-ng-if="!$ctrl.showIsRenter">Here you can manage the members of your association. Simply click on their name to edit their information.</p><ul data-ng-if="$ctrl.showIsRenter"><li>Renters can only view site data, no editing or payments. You can choose if renters can view documents and send emails with the settings below.</li><li>Owners can view all site data, view documents, and make payments. They cannot modify anything.</li><li>Admin users have complete control over the site and only they can see the "Manage" menu.</li></ul><div id="MissingEmailsLabel" data-ng-show="$ctrl.badEmailsExist" class="margin-top-10 margin-bottom-10 text-error">Some neighbors are missing their email address. In order for your neighbors to log-in, you must set their email address then send them a welcome email.</div><div class="text-error" data-ng-if="$ctrl.hasOneAdmin">Your site only has one administrator resident. It\'s a good idea to have at least two admin residents to be safe. The general practice is to make every board member an admin.</div><div data-ng-if="$ctrl.showAddHomeLink" class="mt-2 mb-2 alert alert-info">Since you\'re a new site, you can still adjust your unit/home listing manually if you need to:<br><a href="https://help.communityally.org/how-to-add-or-edit-homes/" target="_blank">How to Add or Edit Homes</a><br><br>We\'d be happy to help you bulk load your data in. Simply fill out this spreadsheet and email it to <a href="mailto:hello@communityally.org">hello@CommunityAlly.org</a>:<br><a href="/assets/files/AllyResidentsImport.csv" download="AllyResidentsImport-{{$ctrl.siteInfo.publicSiteInfo.shortName}}.csv">Download Bulk Import Spreadsheet</a></div><div class="clearfix"><button class="btn btn-primary pull-right" data-ng-click="$ctrl.onAddNewMember()">Add New {{ $ctrl.showIsRenter ? \'Resident\' : \'Member\' }}</button></div><div data-ui-grid="$ctrl.residentGridOptions" ui-grid-save-state data-ui-grid-selection ui-grid-resize-columns ui-grid-auto-resize class="gridStyle margin-top-20"></div><div class="clearfix"><span data-ng-if="$ctrl.residentGridOptions.data.length > 5" class="note-text">{{ $ctrl.residentGridOptions.data.length }} {{$ctrl.memberTypeLabel}}{{ $ctrl.residentGridOptions.data.length > 1 ? \'s\' : \'\' }}</span> <span class="pull-right"><span class="text-link note-text me-1" data-ng-if="$ctrl.didLoadResidentGridState" data-ng-click="$ctrl.resetResidentGridState()" title="If your grid looks wonky, use this to refresh it">Reset Grid State</span> <a href="javascript:void(0)" class="text-link pull-right ms-4" data-ng-click="$ctrl.exportResidentCsv()">Export To CSV</a> </span><span href="javascript:void(0)" data-ng-if="$ctrl.showKansasPtaExport" class="text-link pull-right" data-ng-click="$ctrl.exportKansasPtaCsv()">Export To Kansas PTA-formatted CSV</span></div><div data-ng-if="$ctrl.showPendingMembers" class="portlet-box white mt-4 mb-4 no-padding"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingPending"></div><div class="portlet-header"><div class="title">Pending Members</div></div><div class="portlet-body"><div class="mb-3">Here you can view people that have filled out the member sign-up form, but aren\'t yet approved. You can share the sign-up page link to recruit new members:<br><a id="sign-up-page-link" data-ng-href="{{$ctrl.pendingMemberSignUpUrl}}">{{$ctrl.pendingMemberSignUpUrl}}</a> &nbsp;(<span class="text-link clipboard-button" data-clipboard-target="#sign-up-page-link" data-clipboard-action="copy">copy to clipboard</span>)</div><div data-ng-if="$ctrl.pendingMemberGridOptions.data.length > 0" data-ui-grid="$ctrl.pendingMemberGridOptions" data-ui-grid-selection ui-grid-resize-columns class="gridStyle margin-top-20"></div><div data-ng-if="$ctrl.pendingMemberGridOptions.data.length === 0" class="note-text">There are currently no pending member sign-ups.</div></div></div><div id="EditUserContainer" class="modal-container" data-ng-show="$ctrl.editUser != null" data-ng-escape="$ctrl.setEdit( null )"><div class="modal-overlay"></div><form id="editUserForm" name="$ctrl.editUserForm" novalidate class="ca-modal-dialog modal-lg"><div class="loading-overlay" data-ng-show="$ctrl.isSavingUser"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.setEdit( null )">&times;</span><h2 data-ng-if="$ctrl.editUser.userId">Edit {{$ctrl.memberTypeLabel}} Details</h2><h2 data-ng-if="!$ctrl.editUser.userId">Add New {{$ctrl.memberTypeLabel}}</h2><div><ul class="nav nav-pills justify-content-center"><li class="nav-item" style="cursor:pointer"><span class="nav-link" data-ng-class="{\'active\':$ctrl.selectedResidentDetailsView===\'Primary\'}" data-ng-click="$ctrl.selectedResidentDetailsView=\'Primary\'">Primary</span></li><li class="nav-item" style="cursor:pointer"><span class="nav-link" data-ng-class="{\'active\':$ctrl.selectedResidentDetailsView===\'Secondary\'}" data-ng-click="$ctrl.selectedResidentDetailsView=\'Secondary\'">Secondary</span></li></ul></div><hr><div class="row" data-ng-if="$ctrl.selectedResidentDetailsView===\'Primary\'"><div class="col-md-6 col-sm-12"><div class="mb-3 row"><label for="edit-user-first-text-box" class="col-sm-4 col-12 text-sm-end form-label px-3">First Name:</label><div class="col-sm-8 col-12"><input id="edit-user-first-text-box" type="text" class="form-control form-control-sm" required name="editUserFirstTextBox" data-ng-model="$ctrl.editUser.firstName" data-ng-enter="$ctrl.onSaveResident()" data-ng-escape="$ctrl.setEdit( null )" autocomplete="off" data-lpignore="true" data-form-type="other"><div class="validation-label" data-ng-show="$ctrl.editUserForm.editUserFirstTextBox.$error.required">Required</div></div></div></div><div class="col-md-6 col-sm-12"><div class="mb-3 row"><label for="edit-user-last-name-text-box" class="col-sm-4 col-12 text-sm-end form-label px-3">Last Name:</label><div class="col-sm-8 col-12"><input id="edit-user-last-name-text-box" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editUser.lastName" data-ng-enter="$ctrl.onSaveResident()" data-ng-escape="$ctrl.setEdit( null )" autocomplete="off" data-lpignore="true" data-form-type="other"></div></div></div><div class="col-md-6 col-sm-12"><div class="mb-3 row"><label for="edit-user-email-text-box" class="col-sm-4 col-12 text-sm-end form-label px-3">Email:</label><div class="col-sm-8 col-12"><input id="edit-user-email-text-box" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editUser.email" data-ng-enter="$ctrl.onSaveResident()" data-ng-escape="$ctrl.setEdit( null )" autocomplete="off" data-lpignore="true" data-form-type="other"><div class="note-text" style="color:red" data-ng-if="$ctrl.editUser.postmarkReportedBadEmailUtc">Email undeliverable: <b title="Reported {{$ctrl.editUser.badEmailDate | date:\'medium\'}}">{{$ctrl.editUser.friendlyBadEmailReason}}</b> <a href="https://help.communityally.org/undeliverable-email-addresses/" target="_blank">Learn More</a></div></div></div></div><div class="col-md-6 col-sm-12" data-ng-if="$ctrl.shouldShowHomePicker"><div class="mb-3 row"><label class="col-sm-4 col-12 text-sm-end form-label px-3">{{ $ctrl.homeName }}:</label><div class="col-sm-8 col-12"><div data-ng-if="!$ctrl.editUser.showAdvancedHomePicker"><select class="form-control form-control-sm form-select" data-ng-model="$ctrl.editUser.singleUnitId" data-ng-options="o.unitId as o.name for o in $ctrl.allUnits"><option value=""></option></select></div><div data-ng-if="$ctrl.editUser.showAdvancedHomePicker" selection-mode="{{ $ctrl.multiselectMulti }}" isteven-multi-select input-model="$ctrl.allUnits" output-model="$ctrl.editUser.units" helper-elements="{{ $ctrl.multiselectOptions }}" button-label="name" item-label="name" search-property="name" max-height="300px" tick-property="isSelectedForEditUser"></div><span data-ng-if="$ctrl.multiselectMulti === \'single\'" class="text-link note-text" data-ng-click="$ctrl.enableMultiHomePicker()">Click here to select multiple {{ $ctrl.homeName.toLowerCase() }}s</span></div></div></div><div class="col-md-6 col-sm-12" data-ng-if="$ctrl.showIsRenter"><div class="mb-3 row"><label for="is-renter-checkbox" class="col-sm-4 col-12 text-sm-end form-label px-3">Is a Renter/Manager:</label><div class="col-sm-8 col-12"><input id="is-renter-checkbox" class="validation-label" type="checkbox" data-ng-model="$ctrl.editUser.isRenter"><br><span class="note-text">Indicates this person is not a {{ $ctrl.homeName.toLowerCase() }} owner.</span></div></div></div><div class="col-md-6 col-sm-12"><div class="mb-3 row"><label for="is-site-manager-checkbox" class="col-sm-4 col-12 text-sm-end form-label px-3">Is Admin:</label><div class="col-sm-8 col-12"><input id="is-site-manager-checkbox" type="checkbox" data-ng-model="$ctrl.editUser.isSiteManager"><br><span class="note-text">Admin users can edit site information.</span></div></div></div><div class="col-md-6 col-sm-12"><div class="mb-3 row"><label for="phone-number-text-box" class="col-sm-4 col-12 text-sm-end form-label px-3">Cell Phone #:</label><div class="col-sm-8 col-12"><input id="phone-number-text-box" type="text" maxlength="30" class="form-control form-control-sm" data-ng-model="$ctrl.editUser.phoneNumber" autocomplete="off" data-lpignore="true" data-form-type="other"></div></div></div><div class="col-md-6 col-sm-12"><div class="mb-3 row"><label class="col-sm-4 col-12 text-sm-end form-label px-3">Board Position:</label><div class="col-sm-8 col-12"><select class="form-control form-control-sm form-select" data-ng-model="$ctrl.editUser.boardPosition" data-ng-options="bp.id as bp.name for bp in $ctrl.boardPositions"></select></div></div></div></div><div class="row" data-ng-if="$ctrl.selectedResidentDetailsView===\'Secondary\'"><div class="col-md-6 col-sm-12"><div class="mb-3 row ps-3"><label for="alternate-phone-number-text-box" class="col-sm-5 col-12 fw-bold form-label">Alternate Phone:</label><div class="col-sm-7 col-12 ps-0"><input id="alternate-phone-number-text-box" type="text" maxlength="30" class="form-control form-control-sm" data-ng-model="$ctrl.editUser.alternatePhoneNumber" autocomplete="off" data-lpignore="true" data-form-type="other"></div></div></div><div class="col-md-6 col-sm-12"><div class="mb-3 row"></div></div><div class="col-12"><label class="fw-bold form-label">Alternate Mailing Address</label><div class="note-text">Only set this if it differs from the home address for the owner listed on the \'Primary\' tab. Do not add a different person here. Other persons living at the same address should be added using the \'Add Resident\' button.</div><street-address-form data-street-address="$ctrl.editUser.mailingAddressObject" data-use-care-of="true"></street-address-form></div><div class="col-12"><label for="manager-notes-text-box" class="fw-bold form-label" title="{{$ctrl.editUser.userId}}">Notes:</label><div class="col-12"><textarea id="manager-notes-text-box" type="text" maxlength="4000" rows="3" class="form-control form-control-sm" data-ng-model="$ctrl.editUser.managerNotes"></textarea></div></div><div class="col-12 mt-3"><label class="fw-bold form-label">Communication Restriction:</label><div class="col-12"><select data-ng-model="$ctrl.editUser.commRestriction"><option value="">Unrestricted (Default)</option><option value="BoardOnly">User can only send group emails to the board or property manager groups, cannot use discussion threads</option><option value="IndBoardOnly">User can only send group emails to individual board members, cannot use discussion threads</option><option value="AdminBan">User can neither send emails nor use discussion threads</option></select><div class="note-text">You can limit who a user can send to through the site.</div><div class="text-error" data-ng-if="$ctrl.editUser.commRestriction && $ctrl.editUser.isSiteManager">This user is a site admin which means they\'ll be able to adjust this restriction themselves</div></div></div><div class="col-12 mt-3"><label class="fw-bold form-label">Move-in Date:</label><div class="col-12"><input type="text" data-ui-date data-ng-model="$ctrl.editUser.moveInDate"></div></div></div><hr><div class="row"><div class="col-sm-6"><div data-ng-show="$ctrl.editUser.userId.length > 0"><div data-ng-hide="$ctrl.sentWelcomeEmail"><input class="btn btn-primary" ng-disabled="$ctrl.editUserForm.$dirty" type="button" value="Send Welcome Email" data-ng-click="$ctrl.onSendWelcome();"><div data-ng-show="$ctrl.editUserForm.$dirty" class="note-text">Save your changes then come back to send a welcome email.</div><div data-ng-hide="$ctrl.editUserForm.$dirty" class="note-text">This will send login instructions with a new password.</div></div><div data-ng-show="$ctrl.sentWelcomeEmail" data-ng-click="$ctrl.setEdit( null )" style="color:#00f">Welcome email has been sent!</div></div><div class="text-sm-center" data-ng-show="!$ctrl.editUser.userId"><input id="send-welcome-checkbox" type="checkbox" data-ng-model="$ctrl.editUser.shouldSendWelcomeEmail">&nbsp;<label style="display:inline-block" for="send-welcome-checkbox">Send Welcome Email with Login Info</label></div></div><div class="col-sm-6 text-sm-end"><button id="save-edit-button" class="btn btn-primary" ng-disabled="$ctrl.editUserForm.$invalid" type="button" data-ng-click="$ctrl.onSaveResident();">{{ $ctrl.editUser.pendingMemberId ? "Approve" : "Save" }}</button> <button id="cancel-edit-button" class="btn btn-secondary" data-ng-if="!$ctrl.editUser.pendingMemberId" type="button" data-ng-click="$ctrl.setEdit( null )">Cancel</button> <button id="remove-resident-button" class="btn btn-danger" data-ng-if="$ctrl.editUser.userId.length > 0" type="button" data-ng-click="$ctrl.onDeleteResident();">Remove Resident</button> <button class="btn btn-secondary" data-ng-if="$ctrl.editUser.pendingMemberId" data-ng-click="$ctrl.rejectPendingMember();">Reject</button> <input type="hidden" value="{{$ctrl.editUser.userId}}"><div class="text-sm-end" data-ng-if="$ctrl.editUser.userId.length > 0"><span class="note-text" data-ng-if="$ctrl.editUser.lastLoginDateUtc" title="Resident added {{$ctrl.editUser.addedDateUtc | date:\'medium\'}}">Last logged-in {{ $ctrl.editUser.lastLoginDateUtc | date:\'EEEE, MMMM d, y h:mma\' }}</span> <span class="note-text" data-ng-if="!$ctrl.editUser.lastLoginDateUtc">Has not logged-in yet</span></div></div></div></form></div><div data-ng-if="$ctrl.showLaunchSite" class="mt-4 mb-4"><div data-ng-show="!$ctrl.siteLaunchedDateUtc">Is your site new and are you ready to share it with your fellow residents?<br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.onSendAllWelcome();" data-ng-hide="$ctrl.allEmailsSent">Launch Site</button> <span style="font-weight:700;color:#22f" data-ng-show="$ctrl.allEmailsSent">All emails sent!</span><br><span>This will send all of the residents an email with log-in instructions and basic site information. This will not send an email to you or anyone else who has already logged-in.</span></div><div data-ng-show="$ctrl.siteLaunchedDateUtc !== null" class="note-text">Looking for the "Launch Site" button?<br>This site has already been successfully launched. If you need to send login instructions to users, click on their name above, then click the "Send Welcome Email" button. If needed, you can <span class="text-link" data-ng-click="$ctrl.siteLaunchedDateUtc = null">show the launch site button</span> again.</div></div><div class="spinner-effect mt-4 mb-4" data-ng-if="$ctrl.shouldShowResidentPermissions"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingSettings"></div><h4>{{$ctrl.memberTypeLabel}} Permissions</h4><div data-ng-if="$ctrl.showEmailSettings"><div data-ng-if="$ctrl.hasMemberNotOwnerRenter"><label><input type="checkbox" data-ng-model="$ctrl.residentSettings.allowOwnersToSendEmail" data-ng-change="$ctrl.saveResidentSettings();">Allow members to send group emails</label></div><div data-ng-if="!$ctrl.hasMemberNotOwnerRenter"><label><input type="checkbox" data-ng-model="$ctrl.residentSettings.allowOwnersToSendEmail" data-ng-change="$ctrl.saveResidentSettings();">Allow owners to send group emails</label><br><label><input type="checkbox" data-ng-model="$ctrl.residentSettings.allowRentersToSendEmail" data-ng-change="$ctrl.saveResidentSettings();">Allow renters to send group emails</label><br></div><span class="note-text">When disabled, residents, who are neither board-members nor admin, can only send to the "Board", "Discussion", and "Property Managers" group email addresses. Only board members can send to the entire association. When enabled, all residents can send emails to all groups. If you find too many emails being sent around, uncheck this box. You can find more about group emails at the bottom of the <a href="#!/BuildingResidents">Residents</a> page.</span></div><div class="mt-4" data-ng-if="!$ctrl.hasMemberNotOwnerRenter"><label><input type="checkbox" data-ng-model="$ctrl.residentSettings.rentersCanViewDocs" data-ng-change="$ctrl.saveResidentSettings()">Renters can view documents</label></div><div class="mt-4" data-ng-if="!$ctrl.hasMemberNotOwnerRenter"><label><input type="checkbox" data-ng-model="$ctrl.residentSettings.canHideContactInfo" data-ng-change="$ctrl.saveResidentSettings()">Residents can hide their contact info on the <a href="#!/BuildingResidents">Residents</a> page.</label><br><span class="note-text">Residents\' phone and email address can be shown on the Residents page. If you check this box, residents have the option in <a href="#!/MyProfile">their profile page</a> to hide their contact info from other non-admin users. We believe in sharing contact info to promote collaboration and transparency, but we understand the world is not perfect and sometimes privacy is more important.</span></div><div class="mt-4"><label><input type="checkbox" data-ng-model="$ctrl.residentSettings.isDiscussionEmailGroupEnabled" data-ng-change="$ctrl.saveResidentSettings()">Enable the discussion group email</label><br><span class="note-text">The discussion group emails works like the other group emails at the bottom of the <a href="#!/BuildingResidents">Residents</a> page, except users can unsubscribe from specific discussions. We\'ve since decided that the home page discussion threads are a better option for discussions and the discussion group email should not be used, but leave it here for groups that prefer email.</span></div><div class="mt-4"><label><input type="checkbox" data-ng-model="$ctrl.residentSettings.whoCanCreateDiscussionThreads" data-ng-change="$ctrl.saveResidentSettings()" data-ng-true-value="\'everyone\'" data-ng-false-value="\'board\'">Non-Admin can create discussion threads</label><br><span class="note-text">When enabled, anyone can start new discussion threads on the home page. If disabled, only board members and/or site admin can create discussion threads</span></div><p id="toggle-email-history-link" class="text-link mt-4" data-ng-click="$ctrl.toggleEmailHistoryVisible()">{{ $ctrl.showEmailHistory ? "Hide" : "Show" }} Email History</p><div data-ng-if="$ctrl.showEmailHistory" class="mb-5"><h4>Group Email History</h4><span class="note-text">Here you can view group emails sent in the last {{$ctrl.emailHistoryNumMonths}} months.</span> <span class="text-link note-text" data-ng-click="$ctrl.loadMoreRecentEmails()">Load 6 more months</span><div data-ui-grid="$ctrl.emailHistoryGridOptions" data-ui-grid-selection ui-grid-resize-columns ui-grid-pagination class="gridStyle margin-top-20"></div><br></div><div id="view-email-body-container" class="modal-container" data-ng-if="$ctrl.viewingRecentEmailBody" data-ng-escape="$ctrl.closeViewingEmail()"><div class="modal-overlay" data-ng-click="$ctrl.closeViewingEmail()"></div><div class="ca-modal-dialog modal-lg"><span style="float:right" class="close-x" data-ng-click="$ctrl.closeViewingEmail()">&times;</span><h3>Email Message</h3><p style="white-space:pre-wrap">{{ $ctrl.viewingRecentEmailBody }}</p></div></div></div><div data-ng-show="$ctrl.isAdmin"><br>For Admins only.<br><div style="border:1px solid #000">Email: <input type="text" data-ng-model="$ctrl.adminSetPass_Username"><br>Password: <input type="text" data-ng-model="$ctrl.adminSetPass_Password"><br><input type="button" value="Set Password" data-ng-click="$ctrl.OnAdminSetPassword();"></div><span style="color:red">{{ $ctrl.adminSetPass_ResultMessage }}</span><br></div><div data-ng-show="$ctrl.isAdmin"><h3>Bulk Add</h3><table style="width:100%" border="1"><thead><tr><th style="width:13%">Unit</th><th>Email</th><th style="width:10%">First</th><th style="width:10%">Last</th><th style="width:10%">Phone</th><th style="width:5%">Renter</th><th style="width:5%">Admin</th><th style="">Mailing</th><th style="">Alternate Phone</th><th style="">Notes</th></tr></thead><tbody><tr data-ng-repeat="row in $ctrl.bulkImportRows"><td><select style="width:97%" data-ng-model="row.unitId" data-ng-options="o.unitId as o.name for o in $ctrl.allUnits"><option value=""></option></select><div data-ng-if="row.unitId === undefined" style="color:red;font-weight:700">Invalid unit</div></td><td><input style="width:97%" type="text" data-ng-model="row.email"><div data-ng-if="row.emailHasDupe" style="color:red;font-weight:700">Duplicate Email</div></td><td><input style="width:97%" data-ng-style="{\'background-color\':row.firstName?\'white\':\'red\'}" type="text" data-ng-model="row.firstName"></td><td><input style="width:97%" type="text" data-ng-model="row.lastName"></td><td><input style="width:97%" type="text" data-ng-model="row.phoneNumber"></td><td class="text-center"><input type="checkbox" data-ng-model="row.isRenter"></td><td class="text-center"><input type="checkbox" data-ng-model="row.isAdmin"></td><td><input style="width:97%" type="text" data-ng-model="row.mailingAddress"></td><td><input style="width:97%" type="text" data-ng-model="row.alternatePhone"></td><td><input style="width:97%" type="text" data-ng-model="row.managerNotes"></td></tr></tbody></table><br><button type="button" data-ng-click="$ctrl.addBulkRow()">Add Row</button> <button type="button" data-ng-click="$ctrl.submitBulkRows()">Submit {{$ctrl.bulkImportRows.length}} {{ $ctrl.bulkImportRows.length === 1 ? "Resident" : "Residents" }}</button><fieldset><legend>Parse CSV</legend><p>CSV text columns must go in order: unit name, email address, first name, last name, phone number, is renter, is admin, alternate mailing address, alternate phone, notes. Specify any text for is renter/admin, an empty value means false.</p><textarea style="width:90%" data-ng-model="$ctrl.bulkImportCsv" rows="10"></textarea> <label><input type="checkbox" data-ng-model="$ctrl.bulkParseNormalizeNameCase">Normalize Name Casing</label> <button type="button" data-ng-click="$ctrl.parseBulkCsv()">Parse</button></fieldset></div></div>'),t.put("/ngApp/chtn/manager/settings/group-amenities.html",'<div class="page"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div class="container"><div class="row"><h1>Association Amenities</h1><p>This is a totally optional page that doesn\'t affect your site functionality in any way. Filling out this survey helps the greater community of HOAs immensely! We anonymize the data (Make it impossible to link this data to you and your association) and use it to provide helpful research. Like knowing a normal range for annual dues. You can find a link to this page at the bottom of your <a href="#!/Settings/SiteSettings">settings</a> page.</p></div><h4 class="mt-4" style="text-decoration:underline">General Questions</h4><form class="row"><div class="row mb-3 col-sm-12 col-md-6 px-4"><label style="text-align:left" class="form-label">Roughly, when was your association constructed?</label><div class="note-text ps-0">Or had it\'s last major rehab. We\'re looking for the average relating to electrical, plumbing, and lead paint.</div><div class="form-check"><input class="form-check-input" type="radio" id="constructionDecade1960" name="constructionDecade" value="1960" data-ng-model="$ctrl.groupAmenities.constructionDecade"> <label class="form-check-label" for="constructionDecade1960">1960s or earlier</label></div><div class="form-check"><input class="form-check-input" type="radio" id="constructionDecade1970" name="constructionDecade" value="1970" data-ng-model="$ctrl.groupAmenities.constructionDecade"> <label class="form-check-label" for="constructionDecade1970">1970s</label></div><div class="form-check"><input class="form-check-input" type="radio" id="constructionDecade1980" name="constructionDecade" value="1980" data-ng-model="$ctrl.groupAmenities.constructionDecade"> <label class="form-check-label" for="constructionDecade1980">1980s</label></div><div class="form-check"><input class="form-check-input" type="radio" id="constructionDecade1990" name="constructionDecade" value="1990" data-ng-model="$ctrl.groupAmenities.constructionDecade"> <label class="form-check-label" for="constructionDecade1990">1990s</label></div><div class="form-check"><input class="form-check-input" type="radio" id="constructionDecade2000" name="constructionDecade" value="2000" data-ng-model="$ctrl.groupAmenities.constructionDecade"> <label class="form-check-label" for="constructionDecade2000">2000s</label></div><div class="form-check"><input class="form-check-input" type="radio" id="constructionDecade2010" name="constructionDecade" value="2010" data-ng-model="$ctrl.groupAmenities.constructionDecade"> <label class="form-check-label" for="constructionDecade2010">2010s</label></div><div class="form-check"><input class="form-check-input" type="radio" id="constructionDecade2020" name="constructionDecade" value="2020" data-ng-model="$ctrl.groupAmenities.constructionDecade"> <label class="form-check-label" for="constructionDecade2020">2020s</label></div></div><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">Does your association pay for any of these services?</label><div class="note-text ps-0">As opposed to residents paying themselves</div><div class="form-check"><input class="form-check-input" type="checkbox" id="associationPaysForWater" data-ng-model="$ctrl.groupAmenities.associationPaysForWater"> <label class="form-check-label" for="associationPaysForWater">Water</label></div><div class="form-check"><input class="form-check-input" type="checkbox" id="associationPaysForElectric" data-ng-model="$ctrl.groupAmenities.associationPaysForElectric"> <label class="form-check-label" for="associationPaysForElectric">Electric</label></div><div class="form-check"><input class="form-check-input" type="checkbox" id="associationPaysForGas" data-ng-model="$ctrl.groupAmenities.associationPaysForGas"> <label class="form-check-label" for="associationPaysForGas">Gas</label></div><div class="form-check"><input class="form-check-input" type="checkbox" id="associationPaysForGarbage" data-ng-model="$ctrl.groupAmenities.associationPaysForGarbage"> <label class="form-check-label" for="associationPaysForGarbage">Garbage</label></div></div><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">Does your association hire a property manager?</label><div class="note-text ps-0">Choose no if you consider your group self-managed</div><div class="form-check"><input class="form-check-input" type="radio" id="hiresPropertyManagerYes" name="hiresPropertyManager" data-ng-value="true" data-ng-model="$ctrl.groupAmenities.hiresPropertyManager"> <label class="form-check-label" for="hiresPropertyManagerYes">Yes</label></div><div class="form-check"><input class="form-check-input" type="radio" id="hiresPropertyManagerNo" name="hiresPropertyManager" data-ng-value="false" data-ng-model="$ctrl.groupAmenities.hiresPropertyManager"> <label class="form-check-label" for="hiresPropertyManagerNo">No</label></div></div></form><div style="display:flex;flex-direction:column"><div style="order:2"><h4 class="mt-5" style="text-decoration:underline">HOA-Related Questions</h4><div class="note-text mb-3" data-ng-if="$ctrl.appShortName === \'condo\'">We know you\'re a condo association, but please answer any of these that are applicable</div><form class="row"><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">Does your association have any community-run pools?</label><div class="form-check"><input class="form-check-input" type="radio" id="numPools0" name="numPools" value="0" data-ng-model="$ctrl.groupAmenities.numPools"> <label class="form-check-label" for="numPools0">None</label></div><div class="form-check"><input class="form-check-input" type="radio" id="numPools1" name="numPools" value="1" data-ng-model="$ctrl.groupAmenities.numPools"> <label class="form-check-label" for="numPools1">1</label></div><div class="form-check"><input class="form-check-input" type="radio" id="numPools2" name="numPools" value="2" data-ng-model="$ctrl.groupAmenities.numPools"> <label class="form-check-label" for="numPools2">2</label></div><div class="form-check"><input class="form-check-input" type="radio" id="numPools3" name="numPools" value="3" data-ng-model="$ctrl.groupAmenities.numPools"> <label class="form-check-label" for="numPools3">3 or more</label></div></div><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">How much does your association spend on landscaping?</label><div class="form-check"><input class="form-check-input" type="radio" id="landscapeSpending0" name="landscapeSpending" value="0" data-ng-model="$ctrl.groupAmenities.landscapeSpending"> <label class="form-check-label" for="landscapeSpending0">Less than $5k</label></div><div class="form-check"><input class="form-check-input" type="radio" id="landscapeSpending5" name="landscapeSpending" value="5" data-ng-model="$ctrl.groupAmenities.landscapeSpending"> <label class="form-check-label" for="landscapeSpending5">$5k-$50k</label></div><div class="form-check"><input class="form-check-input" type="radio" id="landscapeSpending50" name="landscapeSpending" value="50" data-ng-model="$ctrl.groupAmenities.landscapeSpending"> <label class="form-check-label" for="landscapeSpending50">$50k-$100k</label></div><div class="form-check"><input class="form-check-input" type="radio" id="landscapeSpending100" name="landscapeSpending" value="100" data-ng-model="$ctrl.groupAmenities.landscapeSpending"> <label class="form-check-label" for="landscapeSpending100">$100k-$150k</label></div><div class="form-check"><input class="form-check-input" type="radio" id="landscapeSpending150" name="landscapeSpending" value="150" data-ng-model="$ctrl.groupAmenities.landscapeSpending"> <label class="form-check-label" for="landscapeSpending150">More than $150k</label></div></div><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">Does your association have a stand-alone club house?</label><div class="form-check"><input class="form-check-input" type="radio" id="hasClubHouseYes" name="hasClubHouse" data-ng-value="true" data-ng-model="$ctrl.groupAmenities.hasClubHouse"> <label class="form-check-label" for="hasClubHouseYes">Yes</label></div><div class="form-check"><input class="form-check-input" type="radio" id="hasClubHouseNo" name="hasClubHouse" data-ng-value="false" data-ng-model="$ctrl.groupAmenities.hasClubHouse"> <label class="form-check-label" for="hasClubHouseNo">No</label></div></div><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">Does your association maintain its own roads?</label><div class="form-check"><input class="form-check-input" type="radio" id="maintainsOwnRoadsTrue" name="maintainsOwnRoads" data-ng-value="true" data-ng-model="$ctrl.groupAmenities.maintainsOwnRoads"> <label class="form-check-label" for="maintainsOwnRoadsTrue">Yes</label></div><div class="form-check"><input class="form-check-input" type="radio" id="maintainsOwnRoadsFalse" name="maintainsOwnRoads" data-ng-value="false" data-ng-model="$ctrl.groupAmenities.maintainsOwnRoads"> <label class="form-check-label" for="maintainsOwnRoadsFalse">No</label></div></div><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">Are you considered a gated community?</label><div class="form-check"><input class="form-check-input" type="radio" id="isGatedCommunityTrue" name="isGatedCommunity" data-ng-value="true" data-ng-model="$ctrl.groupAmenities.isGatedCommunity"> <label class="form-check-label" for="isGatedCommunityTrue">Yes</label></div><div class="form-check"><input class="form-check-input" type="radio" id="isGatedCommunityFalse" name="isGatedCommunity" data-ng-value="false" data-ng-model="$ctrl.groupAmenities.isGatedCommunity"> <label class="form-check-label" for="isGatedCommunityFalse">No</label></div></div></form></div><div data-ng-style="{\'order\': $ctrl.appShortName === \'condo\' ? 1 : 3}"><h4 class="mt-5" style="text-decoration:underline">Condo-Related Questions</h4><div class="note-text mb-3" data-ng-if="$ctrl.appShortName === \'hoa\'">We know you\'re an HOA, but please answer any of these that are applicable</div><form class="row"><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">Does your association have a doorman?</label><div class="form-check"><input class="form-check-input" type="radio" id="hasDoormanTrue" name="hasDoorman" data-ng-value="true" data-ng-model="$ctrl.groupAmenities.hasDoorman"> <label class="form-check-label" for="hasDoormanTrue">Yes</label></div><div class="form-check"><input class="form-check-input" type="radio" id="hasDoormanFalse" name="hasDoorman" data-ng-value="false" data-ng-model="$ctrl.groupAmenities.hasDoorman"> <label class="form-check-label" for="hasDoormanFalse">No</label></div></div><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">Do you have balconies maintained as common area?</label><div class="note-text ps-0">Association pays for maintenance/repairs as opposed to resident paying</div><div class="form-check"><input class="form-check-input" type="radio" id="hasCommonBalconiesTrue" name="hasCommonBalconies" data-ng-value="true" data-ng-model="$ctrl.groupAmenities.hasCommonBalconies"> <label class="form-check-label" for="hasCommonBalconiesTrue">Yes</label></div><div class="form-check"><input class="form-check-input" type="radio" id="hasCommonBalconiesFalse" name="hasCommonBalconies" data-ng-value="false" data-ng-model="$ctrl.groupAmenities.hasCommonBalconies"> <label class="form-check-label" for="hasCommonBalconiesFalse">No</label></div></div><div class="row mb-3 col-sm-12 col-md-6 px-4"><label class="form-label">What is the primary material of the exterior of your building or building(s)?</label><div class="form-check"><input class="form-check-input" type="radio" id="exteriorMaterialBrick" name="exteriorMaterial" value="brick" data-ng-model="$ctrl.groupAmenities.exteriorMaterial"> <label class="form-check-label" for="exteriorMaterialBrick">Brick</label></div><div class="form-check"><input class="form-check-input" type="radio" id="exteriorMaterialWood" name="exteriorMaterial" value="wood" data-ng-model="$ctrl.groupAmenities.exteriorMaterial"> <label class="form-check-label" for="exteriorMaterialWood">Wood</label></div><div class="form-check"><input class="form-check-input" type="radio" id="exteriorMaterialStone" name="exteriorMaterial" value="stone" data-ng-model="$ctrl.groupAmenities.exteriorMaterial"> <label class="form-check-label" for="exteriorMaterialStone">Stone</label></div><div class="form-check"><input class="form-check-input" type="radio" id="exteriorMaterialVinyl" name="exteriorMaterial" value="vinyl" data-ng-model="$ctrl.groupAmenities.exteriorMaterial"> <label class="form-check-label" for="exteriorMaterialVinyl">Vinyl</label></div><div class="form-check"><input class="form-check-input" type="radio" id="exteriorMaterialOther" name="exteriorMaterial" value="other" data-ng-model="$ctrl.groupAmenities.exteriorMaterial"> <label class="form-check-label" for="exteriorMaterialOther">Other</label></div></div></form></div></div><div class="row"><div class="mb-3 col-12 text-center"><button type="button" class="btn btn-primary btn-lg" data-ng-click="$ctrl.saveForm()">Save</button></div></div></div></div>'),t.put("/ngApp/chtn/manager/settings/premium-plan-settings.html",'<div class="page" data-ng-if="$ctrl.shouldShowPremiumPlanSection"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h2>Premium Plan</h2><div><div data-ng-if="$ctrl.shouldShowTrialNote && !$ctrl.settings.premiumPlanIsAutoRenewed" class="mt-2 mb-2 alert alert-info">Welcome! You\'re on our premium trial plan, which lasts 3 months from sign-up. After the 3 months, you\'ll automatically switch over to our free plan. If you\'d like to stay on our premium plan you can setup payment via eCheck/ACH or card below.<br><br><a href="https://help.communityally.org/why-go-premium/" target="_blank">Learn more about free versus premium</a></div><div data-ng-if="$ctrl.isPremiumPlanActive && !$ctrl.shouldShowTrialNote">Thank you and your association for being premium plan members!</div><br>Premium Plan Cost: <span style="font-weight:700;color:green">${{$ctrl.settings.premiumPlanCostDollars}}/month</span><br><span class="note-text">The cost is based on the number of {{$ctrl.homeNamePlural}} in your association, according to the home listing. If that cost is incorrect, please reach out to support (use tech support form in bottom right) and we will adjust.</span><br><br><div data-ng-if="$ctrl.settings.premiumPlanIsAutoRenewed">Your premium plan will auto-renew on <span style="font-weight:700;color:green">{{$ctrl.premiumPlanRenewDate | date:\'shortDate\'}}</span>.<div style="text-align:center"><div class="me-3 p-2" style="display:inline-block;vertical-align:top"><button class="btn btn-danger" type="button" data-ng-click="$ctrl.cancelPremiumAutoRenew()">Cancel Auto-Renew</button></div><div class="p-2" style="display:inline-block;text-align:center" data-ng-if="$ctrl.stripePortalUrl"><a class="btn btn-primary" data-ng-href="{{$ctrl.stripePortalUrl}}">View Stripe Billing Portal</a><br><span class="note-text">Here you can view payment history<br>and adjust payment methods.</span></div></div></div><div data-ng-if="!$ctrl.settings.premiumPlanIsAutoRenewed"><div data-ng-if="$ctrl.isPremiumPlanActive">Premium Plan Expires On: <span style="font-weight:700" data-ng-style="{\'color\':$ctrl.planExpirationColor}">{{$ctrl.settings.premiumPlanExpirationDate | date:\'shortDate\'}}</span><br><span style="color:red">Your premium plan will not auto-renew.</span> After that date you will be downgraded to the free plan. <a href="https://help.communityally.org/why-go-premium/" target="_blank">Why go premium?</a></div><div data-ng-if="!$ctrl.isPremiumPlanActive">Premium Plan Expired On: <span style="font-weight:700" data-ng-style="{\'color\':$ctrl.planExpirationColor}">{{$ctrl.settings.premiumPlanExpirationDate | date:\'shortDate\'}}</span><br>You\'re currently on the free plan. <a href="https://help.communityally.org/why-go-premium/" target="_blank">Why go premium?</a></div><br><button data-ng-if="!$ctrl.shouldShowHomeSetupNote && !$ctrl.shouldShowPaymentForm" class="btn btn-primary" type="button" data-ng-click="$ctrl.activatePremiumRenewal()">View Premium Plan Renewal Options</button><div data-ng-if="$ctrl.shouldShowHomeSetupNote" class="mt-2 mb-2 alert alert-warning">It looks like you have not yet setup your homes. Our pricing is based on number of homes so we need that information before you can sign-up for our premium plan.<br><a href="https://help.communityally.org/how-to-add-or-edit-homes/" target="_blank">How to Add or Edit Homes</a><br><br>We\'d be happy to help you bulk load your data in. Simply fill out this spreadsheet and email it to <a href="mailto:hello@communityally.org">hello@CommunityAlly.org</a>:<br><a href="/assets/files/AllyResidentsImport.csv" download="AllyResidentsImport.csv">Download Bulk Import Spreadsheet</a></div></div><br><br><div class="row"><div class="card-deck col-sm-12 col-md-6 mx-auto premium-plan-card" data-ng-if="$ctrl.shouldShowPaymentForm"><div class="card"><div class="card-body"><h3 class="card-title">Pay Monthly</h3><h2 class="card-text" style="color:green">${{$ctrl.settings.premiumPlanCostDollars}}</h2><p data-ng-if="!$ctrl.monthlyDisabled"><button data-ng-class="{\'btn-outline-primary\':$ctrl.isActivatingAnnual,\'btn-primary\':!$ctrl.isActivatingAnnual}" data-ng-click="$ctrl.isActivatingAnnual = false; $ctrl.updateCheckoutDescription();" class="btn stretched-link">{{$ctrl.isActivatingAnnual ? "Select" : "Selected"}}</button></p><p data-ng-if="$ctrl.monthlyDisabled" style="color:red">Due to your association having 10 or fewer homes, you must pay annually. Sorry! You can <a href="https://help.communityally.org/why-go-premium/" target="_blank">learn more here</a>.</p></div></div><div class="card"><div class="card-body"><h3 class="card-title">Pay Annually</h3><h2 class="card-text" style="color:green">${{$ctrl.settings.premiumPlanCostDollars * 11}}</h2><p><button data-ng-class="{\'btn-outline-primary\':!$ctrl.isActivatingAnnual,\'btn-primary\':$ctrl.isActivatingAnnual}" data-ng-click="$ctrl.isActivatingAnnual = true; $ctrl.updateCheckoutDescription();" class="btn stretched-link">{{$ctrl.isActivatingAnnual ? "Selected" : "Select"}}</button></p><p class="card-text">Get 1 month free! Comes out to ${{$ctrl.settings.premiumPlanCostDollars * 0.92 | number:2}}/mo.</p></div></div></div></div><div class="row mt-4"><div data-ng-if="$ctrl.shouldShowPaymentForm" class="card col-sm-12 col-md-6" style="margin:0 auto"><div class="card-body"><h5 class="card-title">Payment Options</h5><p class="card-text">You can pay via a credit card below. We also accept just about any other methods such as check, wire transfer, Chase Quick Pay, etc. If you\'d prefer this, let us know using the chat box in the lower right of the page. Also, we can send an invoice for your records with any payment method.</p><div class="mt-3 text-center" style="font-size:large"><label><input type="radio" name="paymentType" ng-model="$ctrl.paymentType" value="ach" data-ng-change="$ctrl.onPaymentTypeChange()">Checking Account</label> <label class="ms-4"><input type="radio" name="paymentType" ng-model="$ctrl.paymentType" value="creditCard" data-ng-change="$ctrl.onPaymentTypeChange()">Credit Card</label></div><p></p><div data-ng-if="$ctrl.paymentType === \'ach\'"><h5 class="card-title">Checking Account Payment</h5><div class="card-text"><div data-ng-if="!$ctrl.settings.hasStripeAchAccount && !$ctrl.settings.hasStripePremiumPendingAchAccount">We use Plaid to connect to bank accounts for security and simplicity.<div class="text-center"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.startPlaidAchConnection()">Connect Checking Account</button></div><span class="note-text">Once you connect a bank account you\'ll be able to make payment via ACH.</span></div><div data-ng-if="!$ctrl.settings.hasStripeAchAccount && $ctrl.settings.hasStripePremiumPendingAchAccount">You have a pending account setup with Plaid. Please click the button below to complete the verification process.<div class="text-center mt-2"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.completeStripeMicroDeposits()">Complete Account Verification</button></div></div><div data-ng-if="$ctrl.settings.hasStripeAchAccount"><p>We\'ll use the checking account (<b>{{$ctrl.settings.stripeAchAccountBankHint}}</b> - <span data-ng-click="$ctrl.disconnectBankAccount()" class="note-text text-link">disconnect</span>) you\'ve already connected to make the payment.</p><div class="text-center"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.makeAchStripePayment()">{{$ctrl.payButtonText}}</button></div><div>{{$ctrl.checkoutDescription}}</div></div></div></div><div data-ng-if="$ctrl.paymentType === \'creditCard\'"><h5 class="card-title">Enter Credit Card Info</h5><p class="card-text">Credit Card Number:<br></p><div id="stripe-card-element" class="border"></div><p></p><p></p><div id="card-errors" class="text-error" role="alert"></div><p></p><button class="btn btn-primary" type="button" data-ng-click="$ctrl.submitCardToStripe()">{{$ctrl.payButtonText}}</button><p>{{$ctrl.checkoutDescription}}</p></div><div data-ng-if="$ctrl.showInvoiceSection" class="mt-5"><p class="mt-4">Or you can generate an invoice and pay with an alternate method</p><span data-ng-if="!$ctrl.isActivatingAnnual">You must pay annually to use the invoice feature.</span> <button data-ng-if="$ctrl.isActivatingAnnual" class="btn btn-primary" type="button" data-ng-click="$ctrl.generateStripeInvoice(12, $ctrl.genInvoiceShouldIncludeWireInfo)">Generate Invoice</button><br><br>Num Months: <input type="number" data-ng-model="$ctrl.genInvoiceNumMonths" min="1" max="10"><br><label><input type="checkbox" data-ng-model="$ctrl.genInvoiceShouldIncludeWireInfo">Include Wire Info</label><br><button class="btn btn-primary" type="button" data-ng-click="$ctrl.generateStripeInvoice($ctrl.genInvoiceNumMonths, $ctrl.genInvoiceShouldIncludeWireInfo)">Generate {{$ctrl.genInvoiceNumMonths}} Month Invoice</button></div></div></div></div><div class="container" style="position:relative"><div class="loading-overlay" data-ng-if="$ctrl.isLoadingUsage"></div><div class="row"><div class="col-6"><h4>Email Usage</h4><div data-ng-if="$ctrl.emailUsageAverageNumMonths > 1" class="mb-4"><h6 style="text-decoration:underline">Group Emails Processed</h6><div class="note-text mb-2">The number of incoming group emails processed. Group emails can be found at the bottom of the <a href="#!/BuildingResidents">Residents page</a>.</div><canvas id="email-usage-chart" style="width:100%;height:250px" class="chart chart-line" data-chart-data="$ctrl.groupEmailChartData" data-chart-labels="$ctrl.emailUsageChartLabels" data-chart-options="$ctrl.emailUsageChartOptions" legend="true"></canvas><div>Number of group emails processed this month: <span style="font-weight:700">{{$ctrl.meteredUsage.numGroupEmailsProcessedThisMonth}}</span></div><div data-ng-if="$ctrl.emailUsageAverageSent > 0">Monthly average over last {{$ctrl.emailUsageAverageNumMonths}} months: <span class="fw-bold">{{$ctrl.groupEmailAverage | number}}</span></div></div><div data-ng-if="$ctrl.emailUsageAverageNumMonths > 1"><h6 style="text-decoration:underline">Total Emails Delivered</h6><div class="note-text mb-2">The number of emails delivered to your residents. These numbers include group emails and individual-to-individual emails.</div><canvas id="email-usage-chart" style="width:100%;height:250px" class="chart chart-line" data-chart-data="$ctrl.emailUsageChartData" data-chart-labels="$ctrl.emailUsageChartLabels" data-chart-options="$ctrl.emailUsageChartOptions" legend="true"></canvas><div>Number of emails delivered this month: <span style="font-weight:700">{{$ctrl.meteredUsage.numEmailsSentThisMonth}}</span></div><div data-ng-if="$ctrl.emailUsageAverageSent > 0">Monthly average over last {{$ctrl.emailUsageAverageNumMonths}} months: <span class="fw-bold">{{$ctrl.emailUsageAverageSent | number}}</span></div></div><div data-ng-if="$ctrl.emailUsageAverageNumMonths <= 1">Once you have more than a month of email usage to show, you\'ll see a chart here.</div><br><div>You can <span data-ng-click="$ctrl.goToEmailHistory()" class="text-link">view your email history</span> below the residents grid.</div></div><div class="col-6"><h4>Document Storage Usage</h4><div data-ng-if="$ctrl.meteredUsage.totalNumDocuments > 0">Your association is storing <span class="fw-bold">{{$ctrl.meteredUsage.totalDocumentsBytesUsed / (1024 * 1024) | number : 2}}</span> MB across <span class="fw-bold">{{$ctrl.meteredUsage.totalNumDocuments}}</span> file{{$ctrl.meteredUsage.totalNumDocuments === 1 ? \'\' : \'s\'}}. Files are stored in your documents page or as attachments to discussion threads. Reach out if you need help reducing your storage usage.</div><div data-ng-if="$ctrl.meteredUsage.totalNumDocuments === 0">Your association is not storing any documents.</div></div></div></div></div></div>'),t.put("/ngApp/chtn/manager/settings/settings-parent.html","<div class=\"page-documents\"><section class=\"padding white-bg padding margin-vertical box-shadow header-pill-menu-section\" data-ng-if=\"$ctrl.shouldShowPremiumPlanSection\"><h3>Settings</h3><nav class=\"nav nav-pills justify-content-center\"><a class=\"nav-item nav-link\" data-ng-href=\"#!/Settings/SiteSettings\" data-ng-class=\"{'active':$ctrl.selectedView==='SiteSettings','ally-active-nav':$ctrl.selectedView==='SiteSettings','ally-inactive-nav':$ctrl.selectedView!=='SiteSettings'}\">Site Settings </a><a class=\"nav-item nav-link\" href=\"#!/Settings/PremiumPlan\" data-ng-class=\"{'active':$ctrl.selectedView==='PremiumPlan','ally-active-nav':$ctrl.selectedView==='PremiumPlan','ally-inactive-nav':$ctrl.selectedView!=='PremiumPlan'}\">Premium Plan </a><a class=\"nav-item nav-link\" href=\"#!/Settings/SiteDesignSettings\" data-ng-class=\"{'active':$ctrl.selectedView==='SiteDesignSettings','ally-active-nav':$ctrl.selectedView==='SiteDesignSettings','ally-inactive-nav':$ctrl.selectedView!=='SiteDesignSettings'}\">Site Design</a></nav></section><chtn-site-settings data-ng-if=\"$ctrl.selectedView === 'SiteSettings'\"></chtn-site-settings><premium-plan-settings data-ng-if=\"$ctrl.selectedView === 'PremiumPlan'\"></premium-plan-settings><site-design-settings data-ng-if=\"$ctrl.selectedView === 'SiteDesignSettings'\"></site-design-settings></div>"),t.put("/ngApp/chtn/manager/settings/site-design-settings.html",'<div class="page" data-ng-if="$ctrl.siteDesignSettings"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h2>Login Image</h2><div><input id="JQLoginImageFileUploader" type="file" name="files[]" data-url="" multiple="multiple" style="display:none"> <button type="button" class="btn btn-primary" onclick="$(\'#JQLoginImageFileUploader\').click();">Choose Image</button> <button type="button" class="btn btn-secondary" data-ng-show="$ctrl.loginImageUrl" style="margin-left:1em" data-ng-click="$ctrl.removeLoginImage()">Remove Image</button></div><div class="note-text">Image will be resized to 706x396</div><p><img alt="Login Image" style="max-width:100%" data-ng-show="$ctrl.loginImageUrl" data-ng-src="{{ $ctrl.loginImageUrl }}"></p><h2 class="mt-5">Preset Designs</h2><div class="note-text mb-3">(Click on a design name to view and use that option)</div><div class="container"><div class="row g-5"><div class="col-12 col-sm-3"><div class="border p-4 text-center" role="button" data-ng-class="{\'border-primary border-5\': $ctrl.siteDesignSettings.presetTemplateName === \'default\'}" data-ng-click="$ctrl.selectPreset(\'default\')">Classic</div></div><div class="col-12 col-sm-3"><div class="border p-4 text-center" role="button" data-ng-class="{\'border-primary border-5\': $ctrl.siteDesignSettings.presetTemplateName === \'modern\'}" data-ng-click="$ctrl.selectPreset(\'modern\')">Modern</div></div><div class="col-12 col-sm-3"><div class="border p-4 text-center" role="button" data-ng-class="{\'border-primary border-5\': $ctrl.siteDesignSettings.presetTemplateName === \'peacefulPink\'}" data-ng-click="$ctrl.selectPreset(\'peacefulPink\')">Peaceful Pink</div></div><div class="col-12 col-sm-3"><div class="border p-4 text-center" role="button" data-ng-class="{\'border-primary border-5\': $ctrl.siteDesignSettings.presetTemplateName === \'gatedCommunity\'}" data-ng-click="$ctrl.selectPreset(\'gatedCommunity\')">Gated Community</div></div><div class="col-12 col-sm-3" data-ng-if="$ctrl.customSiteDesignSettingsJson"><div class="border p-4 text-center" role="button" data-ng-class="{\'border-primary border-5\': $ctrl.siteDesignSettings.presetTemplateName === \'custom\'}" data-ng-click="$ctrl.selectPreset(\'custom\')">Custom</div></div></div></div><div data-ng-if="!$ctrl.isCustomLoaded" style="position:relative;height:150px"><div class="loading-overlay"></div></div><div data-ng-if="$ctrl.isCustomLoaded"><span data-ng-if="$ctrl.isSaving" style="float:right"><img src="/assets/images/Spinner_Large.gif"></span><h2 class="mt-5">Custom Design Settings</h2><h4 class="mt-4">Font</h4><select data-ng-model="$ctrl.siteDesignSettings.fontFamily" data-ng-change="$ctrl.onCustomSettingChanged()"><option value="\'Open Sans\', sans-serif" style="font-family:\'Open Sans\',sans-serif">Sans serif</option><option value="serif" style="font-family:serif">Serif</option></select><h4 class="mt-4">Font Color</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.bodyFontColor" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="note-text">The color of the main text across the site.</div><h4 class="mt-4">Icon Color</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.iconColor" data-ng-change="$ctrl.onCustomSettingChanged()"> <span class="ms-3" style="font-size:x-large">Example: <i class="fa-solid fa-icons ally-portlet-icon"></i></span><div class="note-text">The color of the icons, which are mainly on the home page and committee home page.</div><h4 class="mt-4">Header Background</h4><div><label><input type="radio" name="headerBg" value="color" data-ng-model="$ctrl.headerBgType" data-ng-change="$ctrl.onCustomHeaderBgChanged()"> Color: <input type="color" data-ng-model="$ctrl.headerBgColor" data-ng-change="$ctrl.onCustomHeaderBgChanged()"></label><br><label><input type="radio" name="headerBg" value="classic" data-ng-model="$ctrl.headerBgType" data-ng-change="$ctrl.onCustomHeaderBgChanged()"> Classic Neighborhood</label><br><label><input type="radio" name="headerBg" value="pink" data-ng-model="$ctrl.headerBgType" data-ng-change="$ctrl.onCustomHeaderBgChanged()"> Pink Image</label></div><div class="note-text">Shows up at the top of the site.</div><h4 class="mt-4">Footer Background</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.footerBg" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="note-text">The color of the footer background.</div><section class="info-welcome padding white-bg padding margin-vertical box-shadow header-pill-menu-section" style="flex-direction:row;flex-wrap:wrap"><div style="width:100%;text-align:left"><h3>Example Navigation Header</h3></div><div><nav class="nav nav-pills justify-content-center"><a class="nav-item nav-link" data-ng-href="#!/Info/Docs" id="info-sub-view-link-docs" data-ng-show="!$ctrl.hideDocuments" data-ng-class="{\'active\':true,\'ally-active-nav\':true}">Example Link 1 </a><a class="nav-item nav-link" data-ng-href="#!/Info/Maintenance" id="info-sub-view-link-maintenance" data-ng-class="{\'active\':false,\'ally-inactive-nav\':true}">Example Link 2 </a><a class="nav-item nav-link" data-ng-href="#!/Info/Info" id="info-sub-view-link-info" data-ng-class="{\'active\':false,\'ally-inactive-nav\':true}">Example Link 3</a></nav></div></section><h4 class="mt-4">Nav Header Background</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.navBg" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="note-text">The color of the nav menu background like on the mailing, financial, info, and committee pages.</div><h4 class="mt-4">Nav Header Link Color</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.navLinkColor" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="note-text">The color of links in a nav header.</div><h4 class="mt-4">Body Link Color</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.bodyLinkColor" data-ng-change="$ctrl.onCustomSettingChanged()"> <span><a href="/">Example Link</a></span><div class="note-text">The color of links on pages across the site.</div><h4 class="mt-4">Footer Link Color</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.footerLinkColor" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="note-text">The color of links in the footer.</div><div class="portlet-box payment_bl margin-vertical box-shadow" style="background-color:#f0f0f0"><div class="portlet-header"><h2 class="title">Example Panel</h2></div><div class="portlet-body"><h4 class="mt-4"><label for="panel-dropshadow-checkbox">Drop Shadows</label></h4><input id="panel-dropshadow-checkbox" type="checkbox" data-ng-model="$ctrl.siteDesignSettings.panelsHaveBoxShadow" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="note-text">Controls if panels around the site have drop shadows.</div><h4 class="mt-4"><label for="panel-rounded-checkbox">Panels Rounded Corners</label></h4><input id="panel-rounded-checkbox" type="checkbox" data-ng-model="$ctrl.siteDesignSettings.panelsHaveRoundedCorners" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="note-text">Controls if panels have rounded cornersshadows.</div></div></div><h4 class="mt-4">Site Background</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.background" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="note-text">The color of the background.</div><h4 class="mt-4">Button Color</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.buttonBgColor" data-ng-change="$ctrl.onCustomSettingChanged()"> <button type="button" class="btn btn-primary">Example Button</button><div class="note-text">Button color.</div><h4 class="mt-4">List Item Shading Color</h4><input type="color" data-ng-model="$ctrl.siteDesignSettings.listItemShadeColor" data-ng-change="$ctrl.onCustomSettingChanged()"><div class="ally-shaded-item">Example list item.</div><div class="note-text">The color of shading behind a list item.</div><br><br>Did you create a custom design that you think looks great? If you\'re interested in sharing, shoot us a quick email at <a href="mailto:hello@communityally.org">hello@CommunityAlly.org</a> and we\'d love to see your design!</div></div>'),t.put("/ngApp/chtn/manager/settings/site-settings.html",'<script>var SettingsJS =\r\n    {\r\n        _defaultBG: "",\r\n\r\n        Init: function ()\r\n        {\r\n            // Hook up the event handlers to toggle the image\r\n            //$( ".test-bg-image" ).click( SettingsJS.OnImageClick );\r\n\r\n            SettingsJS._defaultBG = $( ".test-bg-image-selected" ).attr( \'src\' );\r\n        }\r\n    };<\/script><div class="page page-manage-settings"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div class="text-end mb-1"><button class="btn btn-primary" style="margin-top:.5em" id="top-save-button" data-ng-click="$ctrl.saveAllSettings()">Save Settings</button></div><h2>Association\'s Full Name</h2><div class="row"><div class="col-8"><input type="text" id="full-name-textbox" class="form-control" data-ng-model="$ctrl.settings.fullName" data-ng-enter="$ctrl.saveAllSettings()" maxlength="128" autocomplete="off" data-lpignore="true" data-form-type="other"></div></div><div class="note-text">This is used in financial documents, email correspondence, and the browser tab.</div><div data-ng-if="$ctrl.showRightColumnSetting"><h2 class="mt-5">Home Page Right Column</h2><div class="mb-2"><label class="mb-0"><input type="radio" data-ng-model="$ctrl.settings.homeRightColumnType" value="localnews"> Local News</label><div class="note-text">Show various local news stories.</div></div><div class="mb-2"><label class="mb-0"><input type="radio" data-ng-model="$ctrl.settings.homeRightColumnType" value="chatwall"> Discussion</label><div class="note-text">An open chat similar to Facebook\'s "wall".</div></div><div><label class="mb-0"><input type="radio" data-ng-model="$ctrl.settings.homeRightColumnType" value="localnews,chatwall"> Show Both Local News and Discussion</label></div></div><div data-ng-if="$ctrl.showLocalNewsSetting"><h2 class="mt-5">Home Page</h2><div><label><input type="checkbox" data-ng-model="$ctrl.settings.homeRightColumnType" ng-true-value="\'localnews\'" ng-false-value="\'\'"> Show Local News</label></div><div class="note-text">Show various local news stories.</div></div><div data-ng-if="$ctrl.shouldShowLoginMoved"><h2 class="mt-5">Login Image</h2>This setting has moved to the Site Design settings page, use the link above.</div><h2 class="mt-5">Welcome Message</h2><p>This message will be displayed at the top of the home page.</p><div class="row"><div class="col-12"><textarea id="tiny-mce-editor" data-ng-if="!$ctrl.tinyMceDidNotLoad"></textarea><div class="text-error" data-ng-if="$ctrl.tinyMceDidNotLoad">Our rich-text editor failed to load. You can try to reload the page or you may need to wait a few hours if you want rich-text editing capabilities.</div><div class="text-error" data-ng-if="$ctrl.shouldShowWelcomeTooLongError">Your welcome message is too long. It must be less than 10,000 characters. Formatting uses extra characters.</div></div></div><div data-ng-if="$ctrl.isPta"><h2 class="mt-5">PTA Unit ID</h2><p>When you\'re registered with your state\'s PTA organization, you should receive a local unit number/ID.</p><div class="row"><div class="col-12"><input class="form-control" type="number" id="pta-unit-id-textbox" data-ng-model="$ctrl.settings.ptaUnitId"></div></div></div><div style="display:none"><h2>Background</h2>Customize your site\'s background.<br><div></div></div><div class="text-end mt-4"><button class="btn btn-primary" style="margin-top:.5em" id="bottom-save-button" data-ng-click="$ctrl.saveAllSettings()">Save Settings</button></div><div class="mt-4 text-start"><a href="#!/GroupAmenities">View your amenity survey</a></div><button id="qa-delete-site-button" data-ng-if="$ctrl.shouldShowQaButton" data-ng-click="$ctrl.onQaDeleteSite()">d</button></div><div class="page"><div class="note-text">Web App Build <span style="font-weight:700">{{$ctrl.frontEndVersion}}</span>. Sometimes tech support will ask for this number. If you\'re asked to force refresh the site then you can <span class="text-link" data-ng-click="$ctrl.forceRefresh()">try clicking here</span>, pressing CTRL+F5, or holding SHIFT while clicking your browser\'s refresh button.</div></div>'),t.put("/ngApp/chtn/member/association-info.html",'<div class="page-documents"><section class="info-welcome padding white-bg padding margin-vertical box-shadow header-pill-menu-section"><nav class="nav nav-pills justify-content-center"><a class="nav-item nav-link" data-ng-href="#!/Info/Docs" id="info-sub-view-link-docs" data-ng-show="!$ctrl.hideDocuments" data-ng-class="{\'active\':$ctrl.selectedView==\'Docs\',\'ally-active-nav\':$ctrl.selectedView===\'Docs\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Docs\'}">Documents </a><a class="nav-item nav-link" data-ng-href="#!/Info/Maintenance" id="info-sub-view-link-maintenance" data-ng-class="{\'active\':$ctrl.selectedView==\'Maintenance\',\'ally-active-nav\':$ctrl.selectedView===\'Maintenance\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Maintenance\'}">Maintenance </a><a class="nav-item nav-link" data-ng-href="#!/Info/Info" id="info-sub-view-link-info" data-ng-class="{\'active\':$ctrl.selectedView==\'Info\',\'ally-active-nav\':$ctrl.selectedView===\'Info\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Info\'}">{{ $ctrl.faqMenuText }} </a><a class="nav-item nav-link" data-ng-href="#!/Info/Vendor" id="info-sub-view-link-vendor" data-ng-show="!$ctrl.hideVendors" data-ng-class="{\'active\':$ctrl.selectedView==\'Vendor\',\'ally-active-nav\':$ctrl.selectedView===\'Vendor\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Vendor\'}">Vendors</a></nav></section><div ng-switch on="$ctrl.selectedView" class="padding white-bg margin-vertical" ng-cloak><div ng-switch-when="Docs"><documents data-ng-if="!$ctrl.hideDocuments"></documents></div><div ng-switch-when="Info"><faqs ng-cloak></faqs></div><div ng-switch-when="Vendor"><preferred-vendors></preferred-vendors></div><div ng-switch-when="Maintenance"><maintenance></maintenance></div></div></div><div class="page" data-ng-if="$ctrl.selectedView === \'Info\'"><div class="note-text">Web App Build <span style="font-weight:700">{{$ctrl.frontEndVersion}}</span>. Sometimes tech support will ask for this number. If you\'re asked to force refresh the site then you can <span class="text-link" data-ng-click="$ctrl.forceRefresh()">try clicking here</span>, pressing CTRL+F5, or holding SHIFT while clicking your browser\'s refresh button.</div></div>'),t.put("/ngApp/chtn/member/chtn-home.html",'<div class="page-home"><div class="portlet-box white box-shadow margin-vertical" style="margin-bottom:0" data-ng-if="$ctrl.welcomeMessage.length > 0 || $ctrl.isWelcomeMessageHtml"><div class="portlet-header"><div class="title">Welcome!</div></div><div id="portlet-body welcome-message-label"><pre id="welcome-message-panel" data-ng-if="!$ctrl.isWelcomeMessageHtml" style="font-family:inherit;font-size:1rem;white-space:pre-wrap" data-ng-bind-html="$ctrl.welcomeMessage | linky:\'_blank\':{rel: \'nofollow noopener noreferrer\'}"></pre><div id="welcome-message-panel" data-ng-if="$ctrl.isWelcomeMessageHtml" style="font-family:inherit;font-size:1rem" data-ng-bind-html="$ctrl.welcomeMessage"></div></div></div><div class="alert-box white-bg spinner-effect" data-ng-show="$ctrl.shouldShowAlertSection"><div class="news_polls" id="news-panel" style="min-height:100px"><article data-ng-repeat="news in $ctrl.buildingAlerts"><div class="text-12 text-bold" id="news-and-polls-header">NOTICES:</div><p id="news-body-{{ $index }}">{{ news.text }}</p><p class="meta_data">Posted by {{ news.authorName}}, {{ news.postDate | date:\'M/d/yyyy\' }}</p></article><active-polls></active-polls></div></div><div class="row"><div class="col-md-6"><div data-ng-if="$ctrl.usersCommittees.length > 0" class="portlet-box white margin-vertical"><div class="portlet-header"><h2 class="title"><i class="fa-solid fa-people-group ally-portlet-icon me-2"></i> Your Committees</h2></div><div class="portlet-body"><p data-ng-repeat="c in $ctrl.usersCommittees"><a data-ng-href="#!/Committee/{{ c.committeeId }}/Home">{{ c.name }}</a></p></div></div><assessment-payment-form data-ng-if="$ctrl.canMakePayment"></assessment-payment-form><div class="portlet-box white payment_bl margin-vertical box-shadow" data-ng-if="!$ctrl.canMakePayment && $ctrl.siteInfo.privateSiteInfo.customFinancialInstructions"><div class="portlet-header"><h2 class="title">Payment</h2></div><div class="portlet-body"><div style="font-family:inherit;font-size:1rem" data-ng-bind-html="$ctrl.siteInfo.privateSiteInfo.customFinancialInstructions"></div></div></div><div data-ng-if="!$ctrl.canMakePayment && $ctrl.shouldShowOwnerFinanceTxn" class="portlet-box white margin-vertical box-shadow"><div class="portlet-header"><h3 class="title"><i class="fa-solid fa-credit-card ally-portlet-icon me-2"></i> Financial Transactions</h3></div><div class="portlet-body"><resident-transactions></resident-transactions></div></div><group-send-email></group-send-email></div><div class="col-md-6"><div class="portlet-box white margin-vertical" style="background-color:gold" data-ng-if="$ctrl.allySurvey"><div class="portlet-header pulse animated infinite" style="border-bottom-color:#000;animation-duration:2s"><div class="title"><i class="fa-regular fa-face-smile me-2"></i> <span data-ng-if="$ctrl.userFirstName">{{$ctrl.userFirstName}}, </span>Please Help Us</div></div><div class="portlet-body"><p>{{$ctrl.allySurvey.surveyDescription}}<br></p><div class="text-center text-large"><a data-ng-href="{{$ctrl.allySurvey.url}}">{{$ctrl.allySurvey.urlDescription}}</a></div><p></p><p class="note-text">Note: This box you\'re seeing only appears to residents based on their length of membership and board position.</p></div></div><group-comment-threads data-ng-if="$ctrl.showDiscussionThreads" data-auto-open-thread-id="$ctrl.autoOpenDiscussionThreadId"></group-comment-threads><local-news-feed data-ng-if="$ctrl.showLocalNews"></local-news-feed></div></div><div data-ng-if="$ctrl.showFirstVisitModal && $ctrl.isSiteManager"><div id="new-welcome-overlay-background" class="modal-overlay" data-ng-click="$ctrl.hideFirstVisit()"></div><div class="ca-modal-dialog modal-md" style="width:700px"><h1 id="new-welcome-title">Welcome to {{ $ctrl.allyAppName }}!</h1><p class="margin-top-10">We\'re happy you\'ve decided to give {{ $ctrl.allyAppName }} a try. We think you\'ll have no trouble getting up and running on your own, but if you\'d like some guidance getting started, check out this guide:</p><p class="text-center margin-top-10"><a style="font-size:x-large" href="http://help.communityally.org/getting-started-with-condo-ally/" target="_blank">Setting up Your New {{ $ctrl.allyAppName }} Site</a><br><span class="note-text">(Link opens in new tab)</span></p><p>We love to help our users, so never hesitate to use the "Help" link at the bottom of the page or the "Contact support" button in the bottom right of your window. Congratulations on taking a step toward a better condo association! We\'re sure your condo association was great to begin with, but we\'re confident {{ $ctrl.allyAppName }} can make it even better.</p><p class="text-end margin-right-10"><span class="note-text">(Click anywhere outside this window to close)</span></p></div></div></div><script>$( function ()\r\n    {\r\n        $( "#tabs" ).tabs().addClass( "ui-tabs-vertical ui-helper-clearfix" );\r\n        $( "#tabs li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );\r\n    } );\r\n    $( \'.contact_support h3\' ).click( function ()\r\n    {\r\n        $( this ).parent().toggleClass( \'opened\' );\r\n    } );    \r\n    $( \'.file_item\' ).click( function ()\r\n    {\r\n'+"        $( '.file_item' ).removeClass( 'select' );\r\n        $( this ).toggleClass( 'select' );\r\n\r\n    } );\r\n    $( \".collapsibleContainer\" ).collapsiblePanel();<\/script>"),t.put("/ngApp/chtn/member/chtn-map.html",'<div class="page page-map margin-vertical white-bg"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><p>Here you can find useful locations near your home.</p><div id="map_canvas" style="width:100%;height:400px" class="margin-bottom-10"></div><div class="row mt-3"><div class="col-12 col-sm-6" data-ng-repeat="location in $ctrl.tips | filter: $ctrl.isLocationTip"><div class="map-place-info ally-shaded-item"><div class="media-item"><div class="media-thumbnail"><img data-ng-src="{{ $ctrl.getMarkerIconUrl( location.markerNumber ) }}"></div><div class="media-body"><h4>{{ location.name }}<div class="toolbar ms-2" data-ng-show="$ctrl.isSiteManager"><span class="text-button" data-ng-click="$ctrl.onEditTip( location );">Edit</span> <span class="text-button" data-ng-click="$ctrl.onDeleteTip( location );">Delete</span> <span class="text-button" data-ng-click="$ctrl.onMoveMarker( location );">Move Marker</span></div></h4><div class="note-text margin-top-15">{{ location.address }}</div></div></div><p style="white-space:pre-wrap" data-ng-bind-html="location.body"></p></div></div></div><div id="add-entry-collapsible" data-ng-show="$ctrl.isSiteManager" class="mt-5"><h4>{{ $ctrl.editingTip.itemId == null | iif : \'Add New Location\' : \'Edit Location\' }}</h4><form id="new-item-form" name="newItemForm" novalidate><div class="row mb-3 mx-0"><label class="col-sm-2 col-12 form-label">Name: <span class="required">Required</span></label><div class="col-sm-10 col-12"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editingTip.name" name="tip_name" required maxlength="128"></div></div><div class="row mb-3 mx-0"><label class="col-sm-2 col-12 form-label">Description: <span class="required">Required</span></label><div class="col-sm-10 col-12"><textarea class="form-control" data-ng-model="$ctrl.editingTip.body" name="tip_body" required maxlength="512" rows="4"></textarea></div></div><div class="row mb-3 mx-0"><label class="col-sm-2 col-12 form-label">Address: <span class="required">Required</span></label><div class="col-sm-10 col-12"><input id="edit-location-address-text-box" class="form-control form-control-sm" type="text" data-ng-model="$ctrl.editingTip.address" required maxlength="200"></div></div><div class="text-end px-2"><button class="btn btn-primary" data-ng-disabled="newItemForm.$invalid" type="button" data-ng-click="$ctrl.onSaveTip()">{{ $ctrl.editingTip.itemId == null | iif : \'Add Item\' : \'Save Item\' }}</button> <button class="btn btn-secondary" type="button" data-ng-show="$ctrl.editingTip.itemId != null" data-ng-click="$ctrl.editingTip = {};">Cancel Edit</button></div></form></div></div><script>$( ".collapsibleContainer" ).collapsiblePanel();<\/script>'),t.put("/ngApp/chtn/member/email-change-confirm.html",'<div class="page margin-vertical white-bg"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h3>Email Change Confirmation</h3><p data-ng-style="{\'color\': $ctrl.isError ? \'red\' : \'blue\'}" style="font-size:large" class="mt-3">{{$ctrl.confirmationResultMessage}}</p></div>'),t.put("/ngApp/chtn/member/forgot-password.html",'<div class="page text-center"><h3>Reset Password</h3><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-if="$ctrl.resultText"><span id="error-label" style="font-size:1.5em;font-weight:700" data-ng-style="{\'color\':$ctrl.resultTextColor}" class="error-text">{{ $ctrl.resultText }}<br><br></span></div><div data-ng-show="$ctrl.shouldHideControls"><a href="#!/Login">Back to log-in</a></div><form data-ng-hide="$ctrl.shouldHideControls" style="padding-bottom:40px;max-width:500px;margin:0 auto"><div class="row text-start mb-3"><label for="login-email-textbox" class="form-label">Email Address:</label> <input type="email" class="form-control" id="login-email-textbox" placeholder="Enter email" data-ng-enter="$ctrl.onSubmitEmail()" data-ng-model="$ctrl.loginInfo.emailAddress" data-rule-required="true"></div><div class="row"><div class="col-12"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.onSubmitEmail()" id="submit-button">Submit</button></div></div></form></div>'),t.put("/ngApp/chtn/member/group-members.html",'<div class="page page-follow-residents margin-vertical padding white-bg"><div data-ng-show="$ctrl.isSiteManager"><a href="/#!/ManageResidents">Manage Residents</a><br><br></div><div class="container" data-ng-if="$ctrl.boardMembers.length > 0 || $ctrl.committees.length > 0 || $ctrl.boardPropMgrs.length > 0"><div class="row"><div class="portlet-box no-padding col-12 col-md-6" data-ng-if="::$ctrl.boardMembers.length > 0 || $ctrl.boardPropMgrs.length > 0"><div class="portlet-header"><div id="board-member-header" style="display:inline-block" class="title">Board Members</div><div data-ng-if="$ctrl.boardMessageRecipient && $ctrl.isPremiumPlanActive" style="display:inline-block"><span>&nbsp;-&nbsp;<send-message id="board-member-send-msg" data-recipient-info="$ctrl.boardMessageRecipient"></send-message></span></div></div><div class="portlet-body"><div class="note-text" data-ng-if="$ctrl.boardMembers.length === 0">No board members have been assigned</div><div data-ng-repeat="member in $ctrl.boardMembers"><span id="board-member-title-{{::$index}}" style="font-weight:700">{{ ::member.boardPositionName }}</span>&nbsp;-&nbsp;<span id="board-member-name-{{::$index}}">{{ ::member.fullName }}</span><span data-ng-if="::!member.hasEmail">*</span><span data-ng-if="::member.hasEmail && $ctrl.isPremiumPlanActive">&nbsp;-&nbsp;<send-message id="board-member-send-msg-{{::$index}}" data-recipient-info="member"></send-message></span><br></div><br></div><div class="portlet-body" data-ng-if="::$ctrl.boardPropMgrs.length > 0"><h6>Property Managers</h6><div data-ng-repeat="member in $ctrl.boardPropMgrs"><span id="prop-mgr-name-{{::$index}}">{{ ::member.fullName }}</span><span data-ng-if="!member.hasEmail">*</span><span data-ng-if="member.hasEmail && $ctrl.isPremiumPlanActive">&nbsp;-&nbsp;<send-message id="prop-mgr-send-msg-{{::$index}}" data-recipient-info="member"></send-message></span><br></div><br></div></div><div class="portlet-box no-padding col-12 col-md-6" data-ng-if="::$ctrl.committees.length > 0"><div class="portlet-header"><div id="committee-header" style="display:inline-block" class="title">Committees</div></div><div class="portlet-body"><p style="margin-bottom:7px;display:none" class="note-text">Contact the residents below if you\'d like to learn more about a certain committee</p><div data-ng-repeat="committee in $ctrl.committees"><span id="committee-name-{{::$index}}" style="font-weight:700">{{ ::committee.committeeName }}</span>&nbsp;(<a data-ng-if="::!committee.isPrivate" data-ng-href="#!/Committee/{{ ::committee.committeeId }}/Home">view</a><span data-ng-if="committee.isPrivate">private</span>)<span data-ng-if="::committee.contactUser">&nbsp;-&nbsp;<span id="committee-contact-name-{{::$index}}">{{ ::committee.contactUser.fullName }}</span><span data-ng-if="!committee.contactUser.hasEmail">*</span><span data-ng-if="committee.contactUser.hasEmail && $ctrl.isPremiumPlanActive">&nbsp;-&nbsp;<send-message id="committee-send-msg-{{$index}}" data-recipient-info="committee.contactUser"></send-message></span></span><br></div><br></div></div></div></div><br><div class="portlet-box white no-padding spinner-effect"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div class="portlet-header" data-ng-if="!$ctrl.showMemberList"><div class="float-end col-2" style="display:none"><input type="text" class="form-control search-box" data-ng-change="$ctrl.updateMemberFilter()" data-ng-model="$ctrl.memberSearchTerm" data-ng-model-options="{ debounce: 1 }" placeholder="Search" aria-describedby="basic-addon2"></div><span class="title" style="display:inline-block">{{ $ctrl.showMemberList ? "Members" : "Residents" }}</span> <span data-ng-if="$ctrl.shouldShowQuickFilter" class="ms-5">Quick Filter: <input type="text" class="form-control form-control-sm" style="width:200px;display:inline-block" data-ng-model="$ctrl.quickFilterText" data-ng-change="$ctrl.onQuickFilterChange()"> <span class="text-error" data-ng-if="$ctrl.quickFilterText && $ctrl.nameSortedUnitPayments.length > 0 && $ctrl.filteredUnitRows.length === 0">No rows to display</span> <span class="note-text">Filters home/owner name</span> <span class="text-error" data-ng-if="$ctrl.quickFilterText && $ctrl.allUnitList.length > 0 && $ctrl.filteredUnitList.length === 0">No rows to display</span></span></div><div class="portlet-body" data-ng-if="!$ctrl.showMemberList"><div data-ng-repeat="curUnit in $ctrl.filteredUnitList" id="unit-id-{{::curUnit.unitId}}"><h5 id="unit-name-{{ ::$index }}">{{ ::$ctrl.unitPrefix }}{{ ::curUnit.name }}</h5><div><span data-ng-if="curUnit.renters.length > 0" style="font-weight:700">Owned by:<br></span><div data-ng-repeat="user in curUnit.owners" class="mb-2"><img style="width:80px;height:80px" data-ng-if="::user.shouldShowAvatarInListing && user.avatarUrl" alt="Profile for {{ ::user.fullName }}" data-ng-src="{{ ::user.avatarUrl }}"> <span id="owner-name-{{ ::$parent.$index }}-{{ ::$index }}">{{ ::user.fullName }}</span><span data-ng-if="::!user.hasEmail">*</span> <span data-ng-if="::user.email.length > 0 || user.phoneNumber.length > 0">(<a id="owner-email-{{ ::$parent.$parent.$index }}-{{ ::$parent.$index }}" href="mailto:{{ ::user.email }}">{{ ::user.email }}</a>{{ ::user.email.length > 0 && user.phoneNumber.length > 0 ? " - " : "" }}<a data-ng-href="tel:{{ ::user.phoneNumber }}" id="owner-phone-{{ ::$parent.$parent.$index }}-{{ ::$parent.$index }}">{{ ::user.phoneNumber | tel }}</a>) </span><span data-ng-if="::user.hasEmail && $ctrl.isPremiumPlanActive">-&nbsp;<send-message data-recipient-info="user"></send-message></span><br></div></div><div data-ng-show="::curUnit.renters.length > 0"><br><span style="font-weight:700">Currently rented by:</span><br><div data-ng-repeat="user in curUnit.renters" class="mb-2"><span id="renter-name-{{ ::$parent.$index }}-{{ ::$index }}">{{ ::user.fullName }}</span><span data-ng-if="::!user.hasEmail">*</span> <span data-ng-if="::user.email.length > 0 || user.phoneNumber.length > 0">(<a id="renter-email-{{ ::$parent.$parent.$index }}-{{ ::$parent.$index }}" href="mailto:{{ ::user.email }}">{{ ::user.email }}</a>{{ ::user.email.length > 0 && user.phoneNumber.length > 0 ? " - " : "" }}<a data-ng-href="tel:{{ ::user.phoneNumber }}" id="renter-phone-{{ ::$parent.$parent.$index }}-{{ ::$parent.$index }}">{{ ::user.phoneNumber | tel }}</a>) </span><span data-ng-if="::user.hasEmail && $ctrl.isPremiumPlanActive">-&nbsp;<send-message data-recipient-info="user"></send-message></span><br></div></div><hr></div></div><div class="portlet-body" data-ng-if="$ctrl.showMemberList"><h4>Members</h4><div class="row"><div class="col-md-4 col-sm-12" data-ng-repeat="resident in $ctrl.allResidents"><span id="owner-name-{{ ::$index }}">{{ ::resident.fullName }}</span><span data-ng-if="::!resident.hasEmail">*</span> <span data-ng-if="resident.email.length > 0 || resident.phoneNumber.length > 0">(<a id="owner-email-{{ ::$index }}" href="mailto:{{ ::resident.email }}">{{ ::resident.email }}</a>{{ ::resident.email.length > 0 && resident.phoneNumber.length > 0 ? " - " : "" }}<a data-ng-href="tel:{{ ::resident.phoneNumber }}" id="owner-phone-{{ ::$index }}">{{ ::resident.phoneNumber | tel }}</a>) </span><span data-ng-if="::resident.hasEmail && $ctrl.isPremiumPlanActive">-&nbsp;<send-message data-recipient-info="resident"></send-message></span></div></div></div><br><div class="note-text" data-ng-if="$ctrl.hasMissingEmails">* Unable to send messages to this person because we don\'t have their email address</div></div><div class="portlet-box white margin-top no-padding" style="position:relative"><div class="portlet-header"><div class="title">Group Email Addresses</div></div><div class="loading-overlay" data-ng-if="$ctrl.isLoadingGroupEmails"></div><div class="text-error" data-ng-if="$ctrl.groupEmailsLoadError">{{$ctrl.groupEmailsLoadError}}</div><div class="portlet-body"><p class="margin-bottom-10">{{ $ctrl.allyAppName }} provides custom email addresses that allow to easily send messages to certain groups within your association. Simply send an email to one of the addresses below how you would normally send any old email, and it will be sent to the people listed. <b>None of these addresses accept incoming mail from external users. (i.e. folks that aren\'t members of your site)</b></p><div data-ng-repeat="g in $ctrl.emailLists"><div>&bull; Send an email to&nbsp;<h5 id="group-email-address-{{ ::$index }}" style="display:inline">{{ ::g.recipientType }}.{{ ::$ctrl.groupShortName }}@{{ ::$ctrl.groupEmailDomain }}</h5>&nbsp;(<span class="text-link clipboard-button" id="group-email-address-copy-button-{{ ::$index }}" data-clipboard-target="#group-email-address-{{ ::$index }}" data-clipboard-action="copy">copy to clipboard</span>) and it will send to:</div><div class="note-text">{{ ::g.usersFullNames[0] }}<span data-ng-repeat="personName in g.usersFullNames track by $index" ng-hide="::$first">, {{ ::personName }}<span></span></span></div><div data-ng-if="::g.isRestrictedGroup" class="note-text" style="color:#00f;font-weight:700">This group email address is restricted meaning replies will be sent only to you and not the entire group.</div><div data-ng-if="::g.recipientType ===\'Everyone\'" class="note-text" style="color:red;font-weight:700">In general, sending an email to the "Everyone" group should be reserved for urgent notices. Instead, most "everyone" emails should be sent to the discussion group. The discussion group allows residents to unsubscribe from individual threads, thus residents are more engaged in the threads in which they participate and complain less about email.<br><br></div><div data-ng-if="::g.recipientType ===\'Treasurer\'" class="note-text" style="color:#00f">The "Treasurer" group will forward to the user or users that are marked as treasurer or secretary+treasurer. If no users are marked as treasurer then the whole board will receive messages sent to this group email address. Payment-related messages are automatically sent to this email address. <b>Like other group addresses, this does not accept mail from external users. For that, use a custom group email address and allow public incoming emails.</b></div><br></div><h5 class="mb-0" style="text-decoration:underline">Custom Group Email Addresses</h5><div class="note-text mb-1">Here you can define your own group email addresses with your own collection of residents. <a href="https://help.communityally.org/using-custom-group-email-addresses/" target="_blank">Learn more</a></div><div class="mt-2 mb-2" data-ng-if="$ctrl.customEmailList.length === 0">You do not have any custom group email addresses defined.</div><div data-ng-repeat="g in $ctrl.customEmailList track by $index"><div>&bull; Send an email to&nbsp;<h5 id="custom-group-email-address-{{ ::$index }}" style="display:inline">{{ ::g.shortName }}.{{ ::$ctrl.groupShortName }}@{{ ::$ctrl.groupEmailDomain }}</h5>&nbsp;(<span class="text-link clipboard-button" id="custom-group-email-address-copy-button-{{ ::$index }}" data-clipboard-target="#custom-group-email-address-{{ ::$index }}" data-clipboard-action="copy">copy to clipboard</span>) and it will send to:</div><div class="note-text"><span data-ng-repeat="u in g.usersFullNames track by $index"><span data-ng-if="::$index > 0">, </span>{{ ::u }}</span></div><div class="note-text text-danger" data-ng-if="!g.usersFullNames || g.usersFullNames.length === 0">This group has no members so it will not be shown elsewhere on the site.</div><div class="note-text mt-1" data-ng-if="g.description">Description: {{::g.description}}</div><div data-ng-if="::g.allowPublicIncoming" class="note-text" style="color:#00f;font-weight:700">Allows public incoming emails</div><div data-ng-if="$ctrl.isSiteManager"><span class="text-link note-text" data-ng-click="$ctrl.editCustomGroupEmail( g )">Edit</span> <span class="text-link note-text ms-2" style="color:red" data-ng-click="$ctrl.deleteGroupEmail( g )">Delete</span></div><br></div><button data-ng-if="::$ctrl.isSiteManager" type="button" class="btn btn-primary" data-ng-click="$ctrl.onAddNewCustomEmailGroup()">Add New Custom Group Email</button><div class="text-bold mt-5"><u>How to Use Group Emails</u></div><ol><li>Select the group email address to which you want to send (Click and drag the address text)</li><li>Copy the address (CTRL+C/CMD+C)</li><li>Go to your email client or website</li><li>Compose a new email</li><li>Paste the address in the TO field (CTRL+V/CMD+V)</li><li>Write your email like you would any other email</li><li>When you send, that email will go to everyone listed for that group email address</li></ol></div></div><div class="modal-container" data-ng-if="$ctrl.shouldShowNewCustomEmailModal"><div class="modal-overlay" data-ng-click="$ctrl.closeManager()"></div><div class="ca-modal-dialog"><div data-ng-show="$ctrl.isLoadingSaveEmailGroup" class="loading-overlay"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowNewCustomEmailModal = false">&times;</span><h2 class="mb-3">Custom Group Email Address</h2><div class="row mb-4 px-3"><label class="form-label">Short Name:</label> <input id="custom-group-email-short-name-text" type="text" data-ng-model="$ctrl.editGroupEmailInfo.shortName" data-ng-enter="$ctrl.saveCustomGroupEmailInfo()" data-ng-escape="$ctrl.shouldShowNewCustomEmailModal = false" class="form-control form-control-sm" maxlength="30" required><div class="note-text ps-0">An alphanumeric identifier that will make up the email address. Must be 3-30 characters and start with a letter.</div><div data-ng-if="$ctrl.editGroupEmailInfo.shortName" class="ps-0">Email address will be: <b>{{ $ctrl.editGroupEmailInfo.shortName }}.{{ $ctrl.groupShortName }}@{{ $ctrl.groupEmailDomain }}</b></div></div><div class="row mb-4 px-3"><label class="form-label">Description:</label> <textarea type="text" data-ng-model="$ctrl.editGroupEmailInfo.description" rows="2" data-ng-enter="$ctrl.saveCustomGroupEmailInfo()" data-ng-escape="$ctrl.shouldShowNewCustomEmailModal = false" class="form-control" maxlength="512"></textarea><div class="note-text ps-0">An optional, helpful description of this group</div></div><div class="row mb-4 px-3"><label class="col-sm-2 col-12 form-label">Members:</label><div class="col-sm-10 col-12 px-0"><div class="resident-list-box" style="max-height:250px!important"><label data-ng-repeat="resident in $ctrl.allResidents" style="display:block" class="form-label"><input type="checkbox" data-ng-model="resident.isAssociated" data-ng-click="$ctrl.onGroupEmailMemberClicked( resident )"> {{::resident.fullName}} {{ ::resident.hasEmail ? "" : "(No email on file)" }}</label></div></div></div><div class="row mb-4 px-3"><label class="form-label">Allow External Incoming Emails: <input type="checkbox" data-ng-model="$ctrl.editGroupEmailInfo.allowPublicIncoming"></label><div class="note-text ps-0"><a href="https://help.communityally.org/using-custom-group-email-addresses/#external-emails" target="_blank">Learn more</a></div></div><div style="text-align:center"><div class="text-error" data-ng-if="$ctrl.groupEmailSaveError">{{$ctrl.groupEmailSaveError}}</div><button type="button" class="btn btn-primary" data-ng-click="$ctrl.saveCustomGroupEmailInfo()">Save Group Email Address</button></div></div></div></div>'),t.put("/ngApp/chtn/member/help.html",'<style>label{cursor:default}</style><div data-ng-if="$ctrl.isPageEnabled === true" class="page"><div><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div ng-style="$ctrl.resultStyle">{{ $ctrl.sendResult }}</div><div data-ng-hide="$ctrl.wasMessageSent">You can contact Community Ally technical support using the form below and we\'ll do our best to get back to you within 24 hours. We also have some helpful articles on the:<br><a href="https://help.communityally.org/" target="_blank">Community Ally<sup>&reg;</sup> Help Center</a><br><br><form id="help-form"><div data-ng-hide="$ctrl.isLoggedIn">Your email address: <input id="help-email-input" data-ng-model="$ctrl.sendInfo.emailAddress" data-rule-required="true" type="text"><br><br></div><div data-ng-if="$ctrl.shouldShowGroupNameField">Association Name: <input id="help-group-name-input" data-ng-model="$ctrl.sendInfo.groupName" type="text"><span class="note-text">(Optional)</span><br><br></div>Enter your message here:<br><textarea id="help-message-textarea" data-ng-model="$ctrl.sendInfo.message" data-ng-ctrl-enter="$ctrl.onSendHelp()" maxlength="4096" data-rule-required="true" style="width:100%" rows="10"></textarea><br><br><div class="text-end"><input type="button" value="Send" class="btn btn-primary" data-ng-click="$ctrl.onSendHelp()"></div></form></div></div></div><div data-ng-if="$ctrl.isPageEnabled === false" class="page">Unfortunately, the site is in a shut down or hibernate process and support cannot be contacted for an unknown period of time. We know this must be frustrating and are extremely sorry, but we have encountered a serious issue. If you can still access your site, it is recommended that you back up your data. (residents list, documents zip, maintenance, assessment history, etc.)</div>'),t.put("/ngApp/chtn/member/logbook.html",'<div class="page page-calendar"><div><p>The calendar provides a quick view of your association\'s activity and the ability to add events with notification emails. This is also a good place to keep track of maintenance and improvements.</p><br><div style="display:none"><fieldset><legend>Calendar Entries</legend>News Appointments Polls Payments (Self for residents, all for site manager) Logbook Entries Resident Additions?</fieldset></div><div id="log-calendar" ui-calendar="uiConfig.calendar" ng-model="$ctrl.calendarEvents"></div><div style="text-align:right"><input id="ics-file-input" type="file" style="display:none" accept=".ics" data-on-file-change="$ctrl.onIcsFileSelected($event)"> <span class="text-link note-text" onclick="$(\'#ics-file-input\').click();">Import ICS File</span></div><br><div id="calendar-event-panel" class="modal-container" data-ng-show="$ctrl.editEvent != null"><div class="modal-overlay" data-ng-click="$ctrl.setEditEvent( null )"></div><form id="calendarEditEvent" data-ng-class="{\'expanded\': $ctrl.showExpandedCalendarEventModel, \'modal-lg\': $ctrl.showExpandedCalendarEventModel}" name="calendarEditEvent" novalidate class="ca-modal-dialog p-4" action="javascript:(void)" data-ng-escape="$ctrl.setEditEvent( null )"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingCalendarEvents"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.setEditEvent( null )">&times;</span><h2>{{ $ctrl.editEvent.eventId ? "Edit Event" : "Add Event" }}</h2><div><div class="row mb-3"><label class="col-sm-2 col-12 text-end form-label-popup" title="Event ID: {{$ctrl.editEvent.eventId}}">Date:</label><div class="col-sm-10 col-12"><input id="calendar-event-when" type="text" class="form-control form-control-sm" data-ui-date="{ dateFormat: \'DD, MM d, yy\' }" data-ng-model="$ctrl.editEvent.dateOnly"></div></div><div class="row mb-3" data-ng-show="$ctrl.showExpandedCalendarEventModel" data-ng-style="{ \'margin-bottom\': $ctrl.localTimeZoneDiffersFromGroup ? \'0\' : null }"><label class="col-sm-2 col-12 text-end form-label-popup">Time:</label><div class="col-sm-3 col-12"><input id="calendar-event-time" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editEvent.timeOnly"></div><div class="col-sm-3 col-11 note-text" style="vertical-align:middle;line-height:31px">Time Zone: {{ $ctrl.currentTimeZoneAbbreviation }}</div></div><div class="row mb-3" data-ng-show="$ctrl.showExpandedCalendarEventModel && $ctrl.localTimeZoneDiffersFromGroup"><label class="col-sm-2 hidden-xs"></label><div class="col-10 note-text">Note: Your local time is currently in {{ $ctrl.currentTimeZoneAbbreviation }}, but your association is in the {{ $ctrl.groupTimeZoneAbbreviation }} time zone</div></div><div class="row mb-3"><label class="col-sm-2 col-12 text-end form-label-popup">What:</label><div class="col-sm-10 col-12"><input id="calendar-event-title" class="form-control form-control-sm" required type="text" data-ng-model="$ctrl.editEvent.title" data-ng-enter="$ctrl.saveCalendarEvent()" autocomplete="off" data-lpignore="true" data-form-type="other"></div></div><div class="row mb-3" data-ng-if="$ctrl.showExpandedCalendarEventModel"><label class="col-sm-2 col-12 pt-5 text-end form-label-popup">Description:</label><div class="col-sm-10 col-12"><textarea id="tiny-mce-editor" data-ng-model="$ctrl.editEvent.description" style="width:100%;height:120px" data-ng-ctrl-enter="$ctrl.saveCalendarEvent()"></textarea></div></div><div data-ng-show="$ctrl.showExpandedCalendarEventModel"><div data-ng-show="$ctrl.isDateInPast( $ctrl.editEvent.dateOnly )" class="text-center text-warning">You cannot add reminder emails because this event date is in the past.</div><p class="text-center"><label><input type="checkbox" data-ng-readonly="$ctrl.isDateInPast( $ctrl.editEvent.dateOnly )" data-ng-change="$ctrl.onShouldSendChange()" data-ng-disabled="$ctrl.isDateInPast( $ctrl.editEvent.dateOnly )" data-ng-model="$ctrl.editEvent.shouldSendNotification"> Send a reminder email <span style="display:inline" data-ng-if="$ctrl.editEvent.shouldSendNotification" data-ng-class="{\'grayed\':!$ctrl.editEvent.shouldSendNotification}"><input class="form-control form-control-sm d-inline-block" style="width:40px" type="text" data-ng-readonly="!$ctrl.editEvent.shouldSendNotification" data-ng-disabled="!$ctrl.editEvent.shouldSendNotification" data-ng-change="$ctrl.onChangeEmailDaysBefore()" data-ng-model="$ctrl.editEvent.notificationEmailDaysBefore" autocomplete="off"> {{ $ctrl.editEvent.notificationEmailDaysBefore == 1 ? \'day\' : \'days\' }} before event </span><span data-ng-show="$ctrl.showBadNotificationDateWarning" class="text-warning" style="display:block">You can only go back {{ $ctrl.maxDaysBack }} {{ $ctrl.maxDaysBack == 1 ? \'day\' : \'days\' }} for the reminder to be sent.</span></label></p><div data-ng-if="$ctrl.editEvent.shouldSendNotification"><div class="row mb-3" data-ng-if="$ctrl.residents" data-ng-class="{\'grayed\':!$ctrl.editEvent.shouldSendNotification}"><label class="col-sm-2 col-12 form-label-popup">Send To:</label><div class="col-sm-10 col-12"><select class="form-control form-select" data-ng-model="$ctrl.editEvent.emailGroupShortName" data-ng-options="g.groupShortName as g.displayLabel for g in $ctrl.associatedGroups"><option></option></select><div class="resident-list-box" data-ng-if="$ctrl.residents && $ctrl.editEvent.emailGroupShortName === \'Individuals\'"><div data-ng-repeat="resident in $ctrl.residents"><label data-ng-class="{\'grayed\':!resident.hasEmail}"><input type="checkbox" data-ng-disabled="!$ctrl.editEvent.shouldSendNotification || !resident.hasEmail" data-ng-readonly="!$ctrl.editEvent.shouldSendNotification || !resident.hasEmail" data-ng-model="resident.isAssociated" data-ng-click="$ctrl.onResidentClicked( resident )"> {{resident.fullName}} {{ resident.hasEmail ? "" : "(No email on file)" }}</label></div></div></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Additional Emails:</label><div class="col-sm-8 col-12"><input type="text" data-ng-model="$ctrl.editEvent.additionalEmailsString" class="form-control form-control-sm"><div class="note-text margin-top-10">You can enter up to three email addresses (Separated by comma or semicolon) that will also be sent the reminder email in addition to the residents selected above.</div></div></div></div></div><div class="padding-top-10 clearfix"><span class="text-button" data-ng-hide="$ctrl.showExpandedCalendarEventModel" data-ng-click="$ctrl.expandCalendarEventModel()">More Details</span> <button type="button" data-ng-if="$ctrl.editEvent.eventId" class="btn btn-danger" style="margin-right:10px" data-ng-click="$ctrl.deleteCalendarEvent($ctrl.editEvent.eventId)">Delete This Event</button> <span class="pull-right"><span class="btn btn-primary margin-right-10" data-ng-click="$ctrl.saveCalendarEvent()">{{$ctrl.editEvent.eventId | iif : "Save" : "Create"}}</span></span></div></div></form></div><div id="calendar-readonly-event-panel" class="modal-container" data-ng-if="$ctrl.viewEvent != null"><div class="modal-overlay" data-ng-click="$ctrl.clearViewEvent()"></div><div class="ca-modal-dialog modal-sm"><h4>Event Details</h4><form><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Date:</label><div class="col-sm-8 col-12"><span>{{ $ctrl.viewEvent.dateOnly | date:\'EEEE, MMMM d, yyyy\' }}</span></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Time:</label><div class="col-sm-8 col-12">{{ $ctrl.viewEvent.timeOnly || "All Day" }} <span data-ng-if="$ctrl.viewEvent.timeOnly">{{ $ctrl.currentTimeZoneAbbreviation }}</span></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">What:</label><div class="col-sm-8 col-12">{{ $ctrl.viewEvent.title }}</div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Description:</label><div class="col-sm-8 col-12"><div id="view-event-desc" data-ng-bind-html="$ctrl.viewEvent.description"></div></div></div></form><span id="edit-calendar-event-link" class="text-link" data-ng-click="$ctrl.editViewingEvent()" style="position:absolute;bottom:5px;left:8px" data-ng-if="$ctrl.canEditEvents">Edit Event</span> <span id="close-calendar-event-link" class="text-link" data-ng-click="$ctrl.clearViewEvent()" style="position:absolute;bottom:5px;right:8px">Close</span></div></div></div></div>'),t.put("/ngApp/chtn/member/login.html",'<div class="page" data-ng-style="$ctrl.sectionStyle"><div id="bad-browser-panel">You are using an unsupported browser. Please switch to <a href="https://www.google.com/chrome/">Chrome</a>, <a href="https://www.microsoft.com/en-us/windows/microsoft-edge">Edge</a>, or <a href="https://www.mozilla.org/en-US/firefox/">Firefox</a>.</div><div class="text-center"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-if="$ctrl.isDemoSite"><h2>Welcome to the Condo Ally demo site!</h2><p style="width:60%;margin:0 auto;text-align:left">This is the log-in page where you and your fellow residents will be able to securely log-in to your association\'s website. We use the same technology that banks use to secure their log-in information This also means that search engines cannot reach your data and it will never show up in search results. For the sake of the demonstration site, you can simply log-in by clicking the button below. Usually an email address and password is required.</p><br><button data-ng-click="$ctrl.demoLogin()">Log In</button></div><div><div style="max-width:760px;margin:0 auto"><div data-ng-if="$ctrl.welcomeImageContainerStyle" data-ng-style="$ctrl.welcomeImageContainerStyle"><img id="welcome-image" data-ng-show="$ctrl.loginImageUrl" alt="Welcome image" style="width:100%" data-imageonload="$ctrl.onWelcomeImageLoaded()" imageonerror="$ctrl.onWelcomeImageError()" data-ng-src="{{$ctrl.loginImageUrl}}"></div><div data-ng-show="$ctrl.loginResultMessage" style="font-weight:700;color:red;font-size:1.25em"><span id="error-label" class="error-text">{{ $ctrl.loginResultMessage }}</span><br><br></div><form data-ng-if="!$ctrl.isDemoSite" style="max-width:500px;margin:0 auto" data-ng-submit="$ctrl.onLogin($event)"><div class="row mb-3 text-start"><label for="login-email-textbox" class="form-label">Email Address:</label> <input type="email" class="form-control" id="login-email-textbox" placeholder="Enter email" data-ng-model="$ctrl.loginInfo.emailAddress" autocomplete="username" data-rule-required="true"></div><div class="row mb-3 text-start"><label for="login-password-textbox" class="form-label">Password:</label> <input type="password" class="form-control" id="login-password-textbox" placeholder="Password" data-ng-model="$ctrl.loginInfo.password" autocomplete="current-password" data-rule-required="true"></div><div class="row mb-3"><div class="col-12"><label class="form-label"><input type="checkbox" data-ng-model="$ctrl.rememberMe">Remember Me</label></div></div><div class="row mb-3"><div class="col-12"><input type="submit" value="Log In" id="login-button" class="btn btn-primary" style="float:none"><br><br><br><div class="text-link" id="login-reset-password" data-ng-click="$ctrl.onForgotPassword()"><span>Forgot/Reset Your Password?</span></div><br><br><div class="text-link" id="need-access-link" data-ng-click="$ctrl.showNeedAccessModal = true"><span>Don\'t have a user account and/or need access?</span></div></div></div></form></div></div></div><div class="modal-container" data-ng-if="$ctrl.showNeedAccessModal"><div class="modal-overlay" data-ng-click="$ctrl.showNeedAccessModal = false"></div><div class="ca-modal-dialog"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.showNeedAccessModal = false">&times;</span><h2>Gaining Access</h2><div class="row m-1"><div class="col-12">Community Ally<sup>&reg;</sup> websites are private and secure, meaning there is no way to self-register for an account. If you need access to your community\'s website, please contact someone on your board to invite you.</div></div></div></div><div style="height:2px"></div></div>'),t.put("/ngApp/chtn/member/my-profile.html",'<div class="page page-my-profile margin-vertical padding white-bg spinner-effect"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-show="$ctrl.needsToAcceptTerms" class="alert" style="margin-bottom:1em"><p>Welcome! We\'re always ecstatic to see someone new join. Your information and privacy are important to us. Please take a moment to review our policies. Also, we recommend that you update your password to something different than what was emailed to you.</p><p style="text-align:center;font-size:1.25em"><br><a href="/TermsOfService.html" target="_blank" style="margin-left:12px">Terms of Service</a> <a href="/PrivacyPolicy.html" target="_blank" style="margin-left:12px">Privacy Policy</a><br><label style="cursor:pointer"><input type="checkbox" style="margin-right:1em" data-ng-model="$ctrl.hasAcceptedTerms">I accept these policies</label><br><span style="font-size:small">You must check the "I accept these policies" above then click "Save" below to continue.</span></p></div><div id="my-profile" style="position:relative"><div class="loading-overlay" style="background-image:none" data-ng-show="$ctrl.needsToAcceptTerms && !$ctrl.hasAcceptedTerms"></div><h2>Profile Information</h2><section class="padding white-bg padding margin-vertical box-shadow header-pill-menu-section"><nav class="nav nav-pills justify-content-center"><a class="nav-item nav-link" style="cursor:pointer" href="javascript:void(0)" data-ng-click="$ctrl.selectedProfileView=\'Primary\'" data-ng-class="{\'active\':$ctrl.selectedProfileView===\'Primary\',\'ally-active-nav\':$ctrl.selectedProfileView===\'Primary\',\'ally-inactive-nav\':$ctrl.selectedProfileView!==\'Primary\'}">Primary </a><a class="nav-item nav-link" style="cursor:pointer" href="javascript:void(0)" data-ng-click="$ctrl.selectedProfileView=\'Secondary\'" data-ng-class="{\'active\':$ctrl.selectedProfileView===\'Secondary\',\'ally-active-nav\':$ctrl.selectedProfileView===\'Secondary\',\'ally-inactive-nav\':$ctrl.selectedProfileView!==\'Secondary\'}">Secondary</a></nav></section><form data-ng-if="$ctrl.selectedProfileView===\'Primary\'" class="row g-4"><div class="row mt-3"><div class="col-12"><label for="firstNameTextBox" class="form-label">First Name:</label> <input id="firstNameTextBox" class="form-control form-control-sm" data-ng-model="$ctrl.profileInfo.firstName" type="text"></div></div><div class="row mt-2"><div class="col-12"><label for="lastNameTextBox" class="form-label">Last Name:</label> <input id="lastNameTextBox" class="form-control form-control-sm" data-ng-model="$ctrl.profileInfo.lastName" type="text"></div></div><div class="row mt-5"><div class="col-12"><label for="emailTextBox" class="form-label">Email:</label> <input id="emailTextBox" class="form-control form-control-sm" data-ng-model="$ctrl.profileInfo.email" type="text"><div class="form-text">This is also used for login. Your email address will never be used for anything other than communication with your association and we will never give out your contact information.</div><div data-ng-if="$ctrl.profileInfo.pendingEmailAddress" class="note-text fw-bold" style="color:#00f">Email has a pending change: {{$ctrl.profileInfo.pendingEmailAddress}}. This will expire 15min after requested unless you click the confirmation link in the email.</div></div></div><div class="row mt-5"><div class="col-12"><label for="passwordTextBox" class="form-label">Password:</label> <input id="passwordTextBox" class="form-control form-control-sm" data-ng-model="$ctrl.profileInfo.password" data-ng-change="$ctrl.onPasswordChange()" type="password" maxlength="100" autocomplete="new-password"><div class="col-12"><span class="form-text">Enter a value to change your password. </span><label style="font-size:small" class="ms-2"><input type="checkbox" data-ng-model="$ctrl.shouldShowPassword" data-ng-change="$ctrl.onShowPassword()"> Show password</label><div data-ng-if="$ctrl.profileInfo.password.length > 0" class="mb-2"><b>Password Strength:</b> <span class="status-pill red" data-ng-class="{\'status-pill-selected\':$ctrl.passwordComplexity === \'short\'}">Too Short</span> <span class="status-pill green" data-ng-class="{\'status-pill-selected\':$ctrl.passwordComplexity === \'simple\'}">Simple</span> <span class="status-pill green" data-ng-class="{\'status-pill-selected\':$ctrl.passwordComplexity === \'complex\'}">Complex</span><br>If you plan on using online payments, your password must be complex which means at least 12 characters and have at least one letter, number, and symbol. If not, a simple password that is at least 6 characters of any type will suffice.</div></div></div></div><div class="row mt-5"><div class="col-12"><label for="phoneNumberTextBox" class="form-label">Cell Phone Number:</label> <input id="phoneNumberTextBox" class="form-control form-control-sm" data-ng-model="$ctrl.profileInfo.phoneNumber" type="text"> <span class="form-text">Enter the phone number at which you can most frequently be contacted. This may be used by your neighbors in case of an emergency in your association. You can add an alternate phone number in the secondary tab.</span><div data-ng-if="$ctrl.canHideContactInfo"><br><label><input type="checkbox" id="showMyPhoneNumber" data-ng-model="$ctrl.profileInfo.showPhoneInMeetNeighbors"> Show my phone number and email address on the <a href="#!/BuildingResidents">Residents</a> page.</label><div class="note-text">With this unchecked, your neighbors can still contact you, but we keep your email address private. If you check this box, you consent to sharing your actual email address and phone number.</div><br></div></div></div><div class="row mt-4"><label class="form-label">What emails would you like to receive from your association?</label><ul style="margin-left:20px"><li style="margin-bottom:14px"><label style="font-weight:400;margin-bottom:0">Board Emails: <input class="form-check-input" checked="checked" type="checkbox" readonly="readonly" disabled="disabled"></label><div class="form-text">This is required as part of membership. If you don\'t want to recieve any emails, ask a board member to remove you from the site.</div></li><li style="margin-bottom:14px"><label style="font-weight:400;margin-bottom:0">Non-Board Group Emails: <input class="form-check-input" data-ng-model="$ctrl.emailFlagsNonBoard" data-ng-change="$ctrl.onEmailFlagsChanged()" type="checkbox"></label><div class="form-text">Group emails (Not individual) sent by non-board members.</div></li><li><label style="font-weight:400;margin-bottom:0">Discussion Group Emails: <input class="form-check-input" data-ng-model="$ctrl.emailFlagsDiscussion" data-ng-change="$ctrl.onEmailFlagsChanged()" type="checkbox"></label><div class="form-text">Indicates if you want to receive emails sent to the discussion group email address.</div></li></ul></div><div class="row mt-4"><div class="col-12"><label class="form-label">Default Discussion Thread Digest Frequency:</label></div></div><div class="row"><div class="col-12 col-sm-6 col-md-3"><label><input type="radio" data-ng-model="$ctrl.profileInfo.defaultDigestFrequency" value="none" name="digest-frequency">None</label></div><div class="col-12 col-sm-6 col-md-3"><label style=""><input type="radio" data-ng-model="$ctrl.profileInfo.defaultDigestFrequency" value="instant" name="digest-frequency">Immediately</label></div><div class="col-12 col-sm-6 col-md-3"><label style=""><input type="radio" data-ng-model="$ctrl.profileInfo.defaultDigestFrequency" value="nightly" name="digest-frequency">Nightly</label></div><div class="col-12 col-sm-6 col-md-3"><label style=""><input type="radio" data-ng-model="$ctrl.profileInfo.defaultDigestFrequency" value="weekly" name="digest-frequency">Weekly on Sunday</label></div><div><span class="form-text">When new discussion threads get created, this is how often you\'ll receive updates on missed comments. You can customize this per thread. Only sent when on the premium plan. <a href="https://help.communityally.org/discussion-threads/" target="_blank">Learn about discussion threads.</a>.</span></div></div></form><form data-ng-if="$ctrl.selectedProfileView===\'Secondary\'" class="row g-4"><div class="col-md-6 col-sm-12"><div class="col-12"><label class="form-label" for="alternate-phone-number-text-box">Alternate Phone:</label> <input id="alternate-phone-number-text-box" type="text" maxlength="30" class="form-control form-control-sm" data-ng-model="$ctrl.profileInfo.alternatePhoneNumber"></div></div><div class="col-12"><label class="fw-bold">Alternate Mailing Address</label> <span class="note-text">&nbsp;(Only set this if it differs from your home address)</span><street-address-form data-street-address="$ctrl.profileInfo.mailingAddressObject"></street-address-form></div></form><hr><div style="text-align:center"><button id="save-profile-button" data-ng-disabled="$ctrl.needsToAcceptTerms && !$ctrl.hasAcceptedTerms" class="btn btn-primary" style="float:none" data-ng-click="$ctrl.onSaveInfo();" type="button" value="Save" data-ng-style="$ctrl.saveButtonStyle">Save</button><br><span id="profile-error-label" style="font-weight:700;font-size:1.25em" data-ng-style="{color:($ctrl.isResultMessageGood ? \'#0C0\' : \'#C00\')}">{{ $ctrl.resultMessage }}</span></div></div><script>$( document ).ready( function()\r\n        {\r\n            $( "[id$=\'phoneNumberTextBox\']" ).mask( "(999) 999-9999", { autoclear: false } );\r\n        } );<\/script></div><div class="page page-my-profile margin-vertical padding white-bg spinner-effect"><div id="my-profile" style="position:relative"><div class="loading-overlay" style="background-image:none" data-ng-show="$ctrl.needsToAcceptTerms && !$ctrl.hasAcceptedTerms"></div><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h2>Profile Photo</h2><div class="mb-3">If using a profile photo, you must use a photo of yourself (you can include family) and it cannot contain any nudity or profanity. Photos that don\'t meet these guidelines will be automatically cleared out. Ideally, use a head shot that will help your neighbors recognize you. The only exception is that property managers may use their company logo.</div><div class="col-12"><div class="col-3"></div><div class="col-9"><label class="mb-3"><input id="profile-image-radio-blank" type="radio" name="profile" data-ng-model="$ctrl.profileImageType" data-ng-click="$ctrl.saveProfilePhoto(\'blank\')" value="blank"><img src="/assets/images/blank-headshot.png" style="width:80px;height:80px"> Blank Image</label><br><label class="mb-3"><input id="profile-image-radio-gravatar" type="radio" name="profile" data-ng-model="$ctrl.profileImageType" data-ng-click="$ctrl.saveProfilePhoto(\'gravatar\')" value="gravatar"><img data-ng-src="{{ $ctrl.gravatarUrl }}" style="width:80px;height:80px"> Gravatar (<a href="https://en.gravatar.com/" target="_blank">Learn more</a>)</label><br><label><input id="profile-image-radio-photo" type="radio" name="profile" data-ng-model="$ctrl.profileImageType" value="upload">Uploaded Photo</label><div data-ng-show="$ctrl.profileImageType === \'upload\'"><div style="float:left;width:82px;height:82px;border:1px solid #000"><img id="profile-image-uploaded" data-ng-if="$ctrl.profileImageType === \'upload\' && $ctrl.profileInfo.avatarUrl" style="width:80px;height:80px" data-ng-src="{{$ctrl.profileInfo.avatarUrl}}" alt="Profile image"></div><div style="margin-left:90px"><span>The image will be cropped to a square.</span><br><input id="JQFileUploader" type="file" name="files[]" data-url=""></div></div></div></div></div></div>'),t.put("/ngApp/chtn/public/condo-sign-up-wizard.html",'<link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,800%7COpen+Sans:300,400,500,600,700,800" rel="stylesheet"><div data-ng-if="$ctrl.isPageEnabled === true" class="page page-my-profile margin-vertical padding white-bg" style="font-family:Raleway,sans-serif"><div><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-show="$ctrl.hideWizard">{{ $ctrl.resultMessage }}</div><wizard data-ng-hide="$ctrl.hideWizard" on-finish="$ctrl.onFinishedWizard()"><wz-step title="Association Info"><h2 class="StepTitle"></h2><div><span style="font-weight:700;font-size:large;color:#0188f3">As promised, signing-up for a brand new site is fast and easy. We said no credit card required and we meant it! Just start with the address of your association and you\'re almost done.</span><br><br><div data-ng-if="$ctrl.signUpInfo.buildings.length < 2"><label style="font-weight:700">Association\'s Address:</label> <input type="text" id="building-0-address-text-box" style="width:100%" data-ng-change="$ctrl.shouldCheckAddress = true" data-ng-model="$ctrl.signUpInfo.buildings[0].streetAddress"><br><span>If your building has a range of addresses, use the lowest street number</span><br><span style="display:none" class="text-button">My condo association is made up of more than one building.</span></div><br><div style="position:relative"><div id="map-loading-overlay" class="loading-overlay" data-ng-show="$ctrl.isLoadingMap"></div><label style="font-weight:700">Association\'s Name:</label> <input id="association-name-text-box" type="text" style="width:100%" data-ng-focus="$ctrl.checkAddress()" data-ng-model="$ctrl.signUpInfo.name" data-ng-keyup="$ctrl.onAssociationNameChanged()"><br><div data-ng-if="$ctrl.shouldShowHoaMessage" class="alert alert-warning mt-2" style="font-weight:700;font-size:1.2em">Are you an HOA rather than a condo association? If so, you\'d probably prefer to <a href="https://login.hoaally.org/#!/HoaSignUp">sign-up for HOA Ally</a> instead.</div><br><div data-ng-if="$ctrl.signUpInfo.buildings.length > 1"></div><div id="address-map" style="width:100%;height:300px"></div></div></div><br><input id="next-button-0" type="submit" class="btn btn-sign-up-wiz" style="width:95%;float:none;margin:0 auto" wz-next value="Next Step"></wz-step><wz-step title="Units"><h2 class="StepTitle"></h2><div><div style="display:inline-block;width:100%"><span class="Question" style="font-weight:700">How many units are in your building?</span> <input type="number" data-ng-model="$ctrl.numUnits" data-ng-change="$ctrl.onNumUnitsChanged()" style="background-color:#fff;padding:0;width:100%"></div><div style="display:inline-block;width:100%"><span class="Question" style="font-weight:700">How are your units identified?</span><br><div class="row"><label style="display:inline" class="col-12 col-sm-6 col-md-3 col-lg-2"><input type="radio" name="UnitNumbering" data-ng-model="$ctrl.unitNumberingType" data-ng-change="$ctrl.onNumberingTypeChange()" value="Numbered" checked="checked">Numbered</label> <label style="display:inline" class="col-12 col-sm-6 col-md-3 col-lg-2"><input type="radio" name="UnitNumbering" data-ng-model="$ctrl.unitNumberingType" data-ng-change="$ctrl.onNumberingTypeChange()" value="Lettered">Lettered</label> <label style="display:inline" class="col-12 col-sm-6 col-md-3 col-lg-2"><input id="unit-name-type-EW" type="radio" name="UnitNumbering" data-ng-model="$ctrl.unitNumberingType" data-ng-change="$ctrl.onNumberingTypeChange()" value="EW">East/West Numbered</label> <label style="display:inline" class="col-12 col-sm-6 col-md-3 col-lg-2"><input type="radio" name="UnitNumbering" data-ng-model="$ctrl.unitNumberingType" data-ng-change="$ctrl.onNumberingTypeChange()" value="NS">North/South Numbered</label> <label style="display:inline" class="col-12 col-sm-6 col-md-3 col-lg-2"><input type="radio" name="UnitNumbering" data-ng-model="$ctrl.unitNumberingType" data-ng-change="$ctrl.onNumberingTypeChange()" value="Other">Other</label></div></div><br><br><div class="text-center"><span class="Question" style="font-weight:700">Confirm your units are all identified correctly below:</span><br><span style="font-style:italic;font-size:small;display:inline-block;margin-top:2px">The order doesn\'t matter, just make sure every unit in your building is represented below</span><div style="margin:0 auto;width:95%"><label data-ng-repeat="unit in $ctrl.signUpInfo.buildings[0].units track by $index" style="display:inline-block;margin:1em">{{ $index + 1 }}. <input id="unit-name-textbox-{{ $index }}" type="text" style="width:60px" data-ng-model="unit.name"></label></div></div></div><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="next-button-1" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Next Step"><div class="clearfix"></div></wz-step><wz-step title="Your Info"><h2 class="StepTitle">Your Info</h2><span style="font-weight:700">First Name:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.firstName"><br><span style="font-weight:700">Last Name:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.lastName"><br><span style="font-weight:700">Email Address:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.email"><br><span style="font-weight:700">Your Unit:</span><br><select id="signer-up-unit-select" cssclass="RegularDDl" style="width:100%;height:31px" ng-model="$ctrl.signUpInfo.signerUpInfo.unitIndex" ng-options="index as unit.name for (index, unit) in $ctrl.signUpInfo.buildings[0].units"><option value=""></option></select><br><span style="font-weight:700">Board Position:</span><br><select id="signer-up-board-select" data-ng-model="$ctrl.signUpInfo.signerUpInfo.boardPositionValue" style="width:100%"><option value="1">President</option><option value="4">Secretary</option><option value="2">Treasurer</option><option value="8">Director/Trustee</option><option value="16">Vice President</option><option value="0">Resident</option><option value="32">Property Manager</option></select><br><br><div class="row mb-1 text-center"><div id="recaptcha-check-elem" class="g-recaptcha" style="display:inline-block;margin:0 auto" data-sitekey="6LfNM3UUAAAAAENjycvvELqQ7PzRQ1y0PtxGFMvF"></div></div><br><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="finish-button" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Finish"><div class="clearfix"></div></wz-step></wizard></div></div><div data-ng-if="$ctrl.isPageEnabled === false" class="page page-my-profile margin-vertical padding white-bg" style="font-family:Raleway,sans-serif">Unfortunately, sign-up has been disabled for an unknown period of time. Please try again at a later date.</div>'),t.put("/ngApp/chtn/public/discussion-manage.html",'<div class="page"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><h2>Discussion Notifications</h2><div ng-switch on="$ctrl.activeView" class="padding white-bg margin-vertical" ng-cloak><div ng-switch-when="unsubscribed"><span style="font-weight:700">You have been successfully unsubscribed from the "{{ $ctrl.discussion.title }}" discussion.</span><br>You can unsubscribe from all discussions by visiting <a href="#!/MyProfile">your profile</a>.<br><br>Was this a mistake?<br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.resubscribeUser()">Resubscribe to the Discussion</button></div><div ng-switch-when="resubscribed"><span style="font-weight:700">You have successfully resubscribed to the "{{ $ctrl.discussion.title }}" discussion.</span><br>You can unsubscribe from all discussions by visiting <a href="#!/MyProfile">your profile</a>.<br><br>Want to unsubscribe again?<br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.unsubscribeUser()">Unsubscribe from this Discussion</button></div><div ng-switch-when="loading">Loading...</div><div ng-switch-when="error"><span class="text-error">{{ $ctrl.errorMessage }}</span></div></div></div>'),t.put("/ngApp/chtn/public/email-abuse.html",'<div class="page"><h2>Report Email Abuse</h2><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-show="$ctrl.showButtons"><br><h4>Why are you reporting this email?</h4><div class="vertical-stack-button"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.reportAbuse(\'too-many\')">Resident Sends Too Many Messages</button></div><br><div class="vertical-stack-button"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.reportAbuse(\'abusive\')">Resident Sending Abusive Messages</button></div><br><div class="vertical-stack-button"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.reportAbuse(\'dont-want-any\')">I Don\'t Want to Receive Any Messages</button></div><br><div class="vertical-stack-button mt-4"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.reportAbuse(\'not-member\')">I\'m Not a Resident of This Group</button><div class="alert alert-warning">If you are not a resident of the group, you should instead <a ng-href="mailto:{{$ctrl.boardEmail}}?subject=Not%20a%20Member%20of%20Association">send an email to the board</a> asking to be removed.</div></div><br><div class="vertical-stack-button">Is there another reason you\'re reporting this email? If so, let us know here:<br><textarea rows="2" style="width:50%" data-ng-model="$ctrl.otherReasonText"></textarea><br><button type="button" class="btn btn-primary">Other</button></div></div><div data-ng-hide="$ctrl.showButtons">Thank you for reporting this. You may now <a href="#!/Login">log-in</a> or close this window.</div></div>'),t.put("/ngApp/chtn/public/hoa-sign-up-wizard.html",'<link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,800%7COpen+Sans:300,400,500,600,700,800" rel="stylesheet"><div data-ng-if="$ctrl.isPageEnabled === true" class="page margin-vertical padding white-bg" style="font-family:Raleway,sans-serif"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-show="$ctrl.hideWizard">{{ $ctrl.resultMessage }}</div><div data-ng-if="false" class="alert alert-info"><strong>Welcome!</strong> We appreciate you being here and will be happy to help set you up with a site. Fill out the information below and we\'ll reach out soon.<div class="mt-3" data-ng-if="!$ctrl.didSignUpForHoaAlert"><div class="row mb-3 px-3"><label for="numHomesField" class="form-label">Number of homes in your HOA</label> <input type="text" class="form-control" id="numHomesField" data-ng-model="$ctrl.hoaAlertNumHomes" maxlength="200"></div><div class="row mb-3 px-3"><label for="exampleInputEmail1" class="form-label">Your email address</label> <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" data-ng-enter="$ctrl.submitEmailForHoaNotify()" placeholder="Enter email" data-ng-model="$ctrl.hoaAlertEmail"> <small id="emailHelp" class="form-text text-muted">We\'ll never share your email with anyone else.</small></div><button type="button" data-ng-click="$ctrl.submitEmailForHoaNotify()" class="btn btn-primary ms-3">Submit</button></div><div class="mt-3 fw-bold" style="font-size:large" data-ng-if="$ctrl.didSignUpForHoaAlert">Your request has been successfully logged.</div></div><wizard data-ng-hide="$ctrl.hideWizard" on-finish="$ctrl.onFinishedWizard()"><wz-step title="Name"><h2 class="StepTitle"></h2><div><span style="font-weight:700;font-size:large;color:#0188f3">As promised, signing-up for a brand new site is fast and easy. We said no credit card required and we meant it! Just start with the address of your association and you\'re almost done.</span><br><br><label style="font-weight:700">HOA Name:</label> <input id="association-name-text-box" type="text" style="width:100%" data-ng-keyup="$ctrl.onHoaNameChanged()" data-ng-model="$ctrl.signUpInfo.name" autocomplete="off" data-lpignore="true" data-form-type="other"><br><div id="suggestCondoMessageLabel" style="font-weight:700">Are you a condo association rather than an HOA? If so, you\'d probably prefer to <a href="https://login.condoally.com/#!/SignUp">sign-up for Condo Ally</a> instead.</div><div class="mt-4"><label style="font-weight:700">Number of homes in your HOA:</label> <input type="text" style="width:50px" data-ng-model="$ctrl.signUpInfo.numHomes" autocomplete="off" data-lpignore="true" data-form-type="other"><br></div></div><br><input id="next-button-0" type="submit" class="btn btn-sign-up-wiz" style="width:95%;float:none;margin:0 auto" wz-next value="Next Step"></wz-step><wz-step title="Location"><h2 class="StepTitle"></h2><div><div style="position:relative"><div id="map-loading-overlay" class="loading-overlay" data-ng-show="$ctrl.isLoadingMap"></div><p>First, enter your home street address. If you don\'t live in the HOA, enter the address of any home in the association. It is required that you enter a valid street address.</p><label style="font-weight:700">Your Address:</label> <input id="association-address-text-box" type="text" style="width:100%" data-ng-change="$ctrl.checkAddress()" data-ng-model-options="{ debounce: 750 }" data-ng-model="$ctrl.signUpInfo.address"><br><br><p>Next, define the boundries of your HOA. Move the points of the red box so that it covers your entire HOA, as accurately as possible, but you don\'t need to be perfect. Drag the edit mid-points in order to adjust the shape.</p><p>An HOA Ally representative will reach out to you after sign-up to review list of homes in your HOA. If you already have a list of all addresses in your HOA, please complete sign-up and provide the list to the representative when contacted.</p><google-map-poly-editor data-on-map-editor-ready="$ctrl.onMapEditorReady( mapInstance )" data-enable-map-controls="true" data-ng-if="$ctrl.showMap" edit-poly-verts="$ctrl.hoaPoly"></google-map-poly-editor></div></div><br><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="next-button-1" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Next Step"><div class="clearfix"></div></wz-step><wz-step title="Your Info"><h2 class="StepTitle">Your Info</h2><span style="font-weight:700">First Name:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.firstName"><br><br><span style="font-weight:700">Last Name:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.lastName"><br><br><span style="font-weight:700">Email Address:</span><br><input type="email" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.email"><br><br><span style="font-weight:700">Board Position:</span><br><select id="signer-up-board-select" data-ng-model="$ctrl.signUpInfo.signerUpInfo.boardPositionValue" style="width:100%"><option ng-value="1">President</option><option ng-value="4">Secretary</option><option ng-value="2">Treasurer</option><option ng-value="8">Director/Trustee</option><option ng-value="16">Vice President</option><option ng-value="0">Resident</option><option ng-value="32">Property Manager</option></select><br><br><div class="row mb-1 text-center"><div id="recaptcha-check-elem" class="g-recaptcha" style="display:inline-block;margin:0 auto" data-sitekey="6LfNM3UUAAAAAENjycvvELqQ7PzRQ1y0PtxGFMvF"></div></div><br><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="finish-button" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Finish"><div class="clearfix"></div></wz-step></wizard></div><div data-ng-if="$ctrl.isPageEnabled === false" class="page page-my-profile margin-vertical padding white-bg" style="font-family:Raleway,sans-serif">Unfortunately, sign-up has been disabled for an unknown period of time. Please try again at a later date.</div><script>function capterra_trackingListener_v2()\r\n    {\r\n        var capterra_vkey = \'4b5b6a2f403b0f0f57dcd2a2b3784593\',\r\n            capterra_vid = \'2149057\',\r\n            capterra_prefix = ( ( \'https:\' == document.location.protocol )\r\n'+"                ? 'https://ct.capterra.com' : 'http://ct.capterra.com' );\r\n\r\n        var ct = document.createElement( 'script' );\r\n        ct.type = 'text/javascript';\r\n        ct.async = true;\r\n        ct.src = capterra_prefix + '/capterra_tracker.js?vid='\r\n            + capterra_vid + '&vkey=' + capterra_vkey;\r\n\r\n        var s = document.getElementsByTagName( 'script' )[0];\r\n        s.parentNode.insertBefore( ct, s );\r\n    };<\/script>"),t.put("/ngApp/chtn/public/neighbor-sign-up.html",'<div class="page"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><h2>Neighbor Sign Up</h2><div><p>Please enter your information and we\'ll send it along to your site admin to get you added to the site.</p><div class="container"><div class="row"><div class="col-lg-3 col-md-2"></div><div style="text-align:center" class="col-lg-6 col-md-8"><form data-ng-if="!$ctrl.resultMessage" data-ng-submit="$ctrl.onSubmitInfo()"><div class="form-group row"><label>Email Address:</label> <input type="email" class="form-control" data-ng-model="$ctrl.signUpInfo.emailAddress" data-rule-required="true"></div><div class="form-group row"><label>First Name:</label> <input type="text" class="form-control" data-ng-model="$ctrl.signUpInfo.firstName"></div><div class="form-group row"><label>Last Name:</label> <input type="text" class="form-control" data-ng-model="$ctrl.signUpInfo.lastName"></div><div class="form-group row"><label>Street Address:</label> <input type="text" id="address-text-box" class="form-control" data-ng-model="$ctrl.signUpInfo.streetAddress"></div><input type="submit" value="Submit" id="submit-info-button" class="btn btn-primary"><br></form><div data-ng-if="$ctrl.resultMessage"><p data-ng-style="{\'color\':$ctrl.resultIsError ? \'red\' : \'blue\', \'font-size\':\'large\'}">{{ $ctrl.resultMessage }}</p><button data-ng-if="$ctrl.resultIsError" class="btn" data-ng-click="$ctrl.goBack()">Go Back</button></div></div></div></div></div></div>'),t.put("/ngApp/chtn/public/neighborhood-sign-up-wizard.html",'<link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,800%7COpen+Sans:300,400,500,600,700,800" rel="stylesheet"><div class="page margin-vertical padding white-bg" style="font-family:Raleway,sans-serif"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-show="$ctrl.hideWizard">{{ $ctrl.resultMessage }}</div><div><h2>Neighborhood Sign-up</h2><p>We\'re working on the neighborhood self-sign-up. For now, tell us about your neighborhood and we can set it up manually.</p><form data-ng-if="!$ctrl.submitTempResult"><div class="form-group row"><label for="fullNameTextBox" class="col-4">Your Full Name:</label><div class="col-8"><input id="fullNameTextBox" class="form-control form-control-sm" data-ng-model="$ctrl.tempSignUpInfo.fullName" type="text"></div></div><div class="form-group row"><label for="emailTextBox" class="col-4">Email:</label><div class="col-8"><input id="emailTextBox" class="form-control form-control-sm" data-ng-model="$ctrl.tempSignUpInfo.email" type="email"></div></div><div class="form-group row"><label for="signUpAddress" class="col-4">Your Home Address:</label><div class="col-8"><input id="signUpAddress" class="form-control form-control-sm" data-ng-model="$ctrl.tempSignUpInfo.address" type="text"></div></div><div class="form-group row"><label class="col-4">Neighborhood Name:</label><div class="col-8"><input class="form-control form-control-sm" data-ng-model="$ctrl.tempSignUpInfo.neighborhoodName" type="text"></div></div><div class="form-group row"><label class="col-4">Notes:</label><div class="col-8"><textarea class="form-control form-control-sm" data-ng-model="$ctrl.tempSignUpInfo.notes" rows="4"></textarea></div></div><div style="text-align:center"><button class="btn btn-primary" style="float:none" data-ng-click="$ctrl.onSubmitTempInfo();" type="button" value="Save" data-ng-style="$ctrl.saveButtonStyle">Submit</button><br><span style="font-weight:700;font-size:1.25em" data-ng-style="{color:\'#0C0\'}">{{ $ctrl.resultMessage }}</span></div></form><div data-ng-if="$ctrl.submitTempResult" style="text-align:center;font-weight:700;color:#00f">{{ $ctrl.submitTempResult }}</div></div><wizard data-ng-hide="$ctrl.hideWizard" on-finish="$ctrl.onFinishedWizard()" data-ng-if="1 === 0"><wz-step title="Name"><h2 class="StepTitle"></h2><div><span style="font-weight:700;font-size:large;color:#0188f3">As promised, signing-up for a new site is fast and easy. We said no credit card required and we meant it! Just start with the address of your association and you\'re almost done.</span><br><br><label style="font-weight:700">HOA Name:</label> <input id="association-name-text-box" type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.name"><br></div><br><input id="next-button-0" type="submit" class="btn btn-sign-up-wiz" style="width:95%;float:none;margin:0 auto" wz-next value="Next Step"></wz-step><wz-step title="Location"><h2 class="StepTitle"></h2><div><div style="position:relative"><div id="map-loading-overlay" class="loading-overlay" data-ng-show="$ctrl.isLoadingMap"></div><p>Enter your home street address. If you don\'t live in the HOA, enter the address of any home in the association. It is required that you enter a valid street address.</p><label style="font-weight:700">Your Address:</label> <input id="association-address-text-box" type="text" style="width:100%" data-ng-change="$ctrl.checkAddress()" data-ng-model-options="{ debounce: 750 }" data-ng-model="$ctrl.signUpInfo.address"><br><br><p>Define the boundries of your HOA. Move the points of the blue box so that it covers your entire HOA, as accurately as possible, but you don\'t need to be perfect. Drag the edit mid-points in order to adjust the shape. An HOA Ally representative will reach out to you after sign-up to review list of homes in your HOA. If you already have a list of all addresses in your HOA, please complete sign-up and provide the list to the representative when contacted.</p><google-map-poly-editor data-on-map-editor-ready="$ctrl.onMapEditorReady( mapInstance )" data-enable-map-controls="true" data-ng-if="$ctrl.showMap" edit-poly-verts="$ctrl.hoaPoly"></google-map-poly-editor></div></div><br><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="next-button-1" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Next Step"><div class="clearfix"></div></wz-step><wz-step title="Your Info"><h2 class="StepTitle">Your Info</h2><span style="font-weight:700">First Name:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.firstName"><br><br><span style="font-weight:700">Last Name:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.lastName"><br><br><span style="font-weight:700">Email Address:</span><br><input type="email" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.email"><br><br><span style="font-weight:700">Board Position:</span><br><select id="signer-up-board-select" data-ng-model="$ctrl.signUpInfo.signerUpInfo.boardPositionValue" style="width:100%"><option ng-value="1">President</option><option ng-value="4">Secretary</option><option ng-value="2">Treasurer</option><option ng-value="8">Director/Trustee</option><option ng-value="16">Vice President</option><option ng-value="0">Resident</option><option ng-value="32">Property Manager</option></select><br><br><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="finish-button" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Finish"><div class="clearfix"></div></wz-step></wizard></div><script>/* <![CDATA[ */\r\n    goog_snippet_vars = function()\r\n    {\r\n        var w = window;\r\n        w.google_conversion_id = 1009028090;\r\n        w.google_conversion_language = "en";\r\n        w.google_conversion_format = "3";\r\n        w.google_conversion_color = "ffffff";\r\n        w.google_conversion_label = "9-YdCMHdw3IQ-peS4QM";\r\n        w.google_remarketing_only = false;\r\n    }\r\n    // DO NOT CHANGE THE CODE BELOW.\r\n    goog_report_conversion = function( url )\r\n    {\r\n        goog_snippet_vars();\r\n        window.google_conversion_format = "3";\r\n        var opt = new Object();\r\n        opt.onload_callback = function()\r\n        {\r\n            if( typeof ( url ) != \'undefined\' )\r\n            {\r\n                window.location = url;\r\n            }\r\n        }\r\n        var conv_handler = window[\'google_trackConversion\'];\r\n        if( typeof ( conv_handler ) == \'function\' )\r\n        {\r\n            conv_handler( opt );\r\n        }\r\n    }<\/script><script src="//www.googleadservices.com/pagead/conversion_async.js"><\/script>'),t.put("/ngApp/chtn/public/pending-member-sign-up.html",'<div class="page page-follow-residents margin-vertical padding white-bg"><div class="portlet-box white no-padding spinner-effect"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div class="portlet-header" data-ng-if="!$ctrl.showMemberList"><div class="title">Member Sign-Up</div></div><div class="portlet-body" data-ng-if="$ctrl.showInputForm"><div class="mb-4">Welcome to the member sign-up page for the {{$ctrl.groupName}}. Please fill out your details below and someone will get back with you shortly.<br><br>Already registered? If so, you can <a href="#!/Login">login here</a>.</div><div class="form-group row mb-1"><label class="col-4">First Name:</label><div class="col-8"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.signUpInfo.firstName"></div></div><div class="form-group row mb-1"><label class="col-4">Last Name:</label><div class="col-8"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.signUpInfo.lastName"></div></div><div class="form-group row mb-1"><label class="col-4">Email:</label><div class="col-8"><input type="email" class="form-control form-control-sm" data-ng-model="$ctrl.signUpInfo.email"></div></div><div class="form-group row mb-1"><label class="col-4">Phone:</label><div class="col-8"><input type="tel" class="form-control form-control-sm mask-phone" data-ng-model="$ctrl.signUpInfo.phoneNumber"></div></div><div class="form-group row mb-1"><label class="col-4">Home Address:</label><div class="col-8"><input type="text" id="member-home-address-text-box" class="form-control form-control-sm" data-ng-model="$ctrl.signUpInfo.streetAddress"></div></div><div class="form-group row mb-1" data-ng-if="$ctrl.showSchoolField"><label class="col-4">What school(s) does your child attend?</label><div class="col-8"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.signUpInfo.schoolsAttended"></div></div><div class="form-group row mb-1 text-center"><div id="recaptcha-check-elem" class="g-recaptcha" style="display:inline-block;margin:0 auto" data-sitekey="6LfNM3UUAAAAAENjycvvELqQ7PzRQ1y0PtxGFMvF"></div></div><div class="text-center"><div class="text-error m-2" data-ng-if="$ctrl.errorMessage">{{ $ctrl.errorMessage }}</div><button type="button" class="btn btn-primary" data-ng-click="$ctrl.submitInfo()">Submit</button></div></div><div class="portlet-body" data-ng-if="!$ctrl.showInputForm">Your information has been successfully submitted. You should hear from a board member soon.</div></div></div>'),t.put("/ngApp/committee/committee-home.html",'<section class="content-full-width" data-ng-if="welcomeMessage.length > 0"><div><h3>Welcome!</h3><div id="welcome-message-label">{{ welcomeMessage }}</div></div></section><div class="row"><div class="col-md-6"><div class="generic portlet-box white margin-vertical" id="home-value-panel"><div class="portlet-header"><h3 class="title"><i class="fa-solid fa-list-check ally-portlet-icon me-2"></i> To-Do\'s</h3></div><div class="portlet-body"><todo-list committee="$ctrl.committee"></todo-list></div></div><group-send-email data-ng-if="$ctrl.canManage" committee="$ctrl.committee"></group-send-email></div><div class="col-md-6"><group-comment-threads committee-id="$ctrl.committee.committeeId" data-auto-open-thread-id="$ctrl.autoOpenDiscussionThreadId"></group-comment-threads></div></div>'),t.put("/ngApp/committee/committee-members.html",'<div><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><h2>Contact Member</h2><p>Select the member that should be contacted for questions about the committee.</p><select data-ng-if="$ctrl.canManage" data-ng-model="$ctrl.contactUser" data-ng-change="$ctrl.setContactMember()" data-ng-options="user as user.fullName for user in $ctrl.members"></select> <span data-ng-if="!$ctrl.canManage">{{ $ctrl.contactUser.fullName }}</span><br><span data-ng-if="!$ctrl.contactUser" class="text-error">Please select a member.<br></span><br><br><h2>All Members</h2><div class="container"><div class="row"><div class="col-12 col-sm-6 col-md-4 text-large" data-ng-repeat="member in $ctrl.members"><span style="font-weight:700">{{ $index + 1 }}.</span> <span>{{ member.fullName }}</span> <span class="note-text text-link" data-ng-if="$ctrl.canManage" data-ng-click="$ctrl.removeMember( member )">Remove</span></div></div></div><br><br><div data-ng-if="$ctrl.canManage"><h2>Add Member</h2><div><select data-ng-model="$ctrl.userForAdd" data-ng-options="user as user.fullName for user in $ctrl.filteredGroupMembers"></select> <button type="button" style="margin-left:10px" class="btn btn-primary" data-ng-click="$ctrl.addSelectedMember()">Add Member</button></div></div></div>'),t.put("/ngApp/committee/committee-parent.html",'<div class="page-documents"><section class="padding white-bg padding margin-vertical box-shadow header-pill-menu-section"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><span data-ng-if="$ctrl.committee.isPrivate" class="note-text" style="float:right;max-width:320px">This is a private committee, only members can view the contents.</span> <span data-ng-if="!$ctrl.committee.isPrivate" class="note-text" style="float:right;max-width:320px">This is an open committee, all association residents can view the contents, but only members can modify data.</span><h1 data-ng-if="!$ctrl.canManage" style="color:#fff">{{ $ctrl.committee.name }}</h1><h1 data-ng-if="$ctrl.canManage" style="color:#fff" class="can-edit-inline" data-onaftersave="$ctrl.onUpdateCommitteeName();" data-editable-text="$ctrl.committee.name">{{ $ctrl.committee.name }}</h1><br><br><nav class="nav nav-pills justify-content-center"><a class="nav-item nav-link" data-ng-href="#!/Committee/{{$ctrl.committeeId}}/Home" id="info-sub-view-link-home" data-ng-class="{\'active\':$ctrl.selectedView===\'Home\',\'ally-active-nav\':$ctrl.selectedView===\'Home\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Home\'}">Home </a><a class="nav-item nav-link" href="#!/Committee/{{$ctrl.committeeId}}/Docs" id="info-sub-view-link-docs" data-ng-class="{\'active\':$ctrl.selectedView===\'Docs\',\'ally-active-nav\':$ctrl.selectedView===\'Docs\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Docs\'}">Documents </a><a class="nav-item nav-link" href="#!/Committee/{{$ctrl.committeeId}}/Info" id="info-sub-view-link-info" data-ng-class="{\'active\':$ctrl.selectedView===\'Info\',\'ally-active-nav\':$ctrl.selectedView===\'Info\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Info\'}">Info/FAQs </a><a class="nav-item nav-link" href="#!/Committee/{{$ctrl.committeeId}}/Members" id="info-sub-view-link-members" data-ng-class="{\'active\':$ctrl.selectedView===\'Members\',\'ally-active-nav\':$ctrl.selectedView===\'Members\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Members\'}">Members</a></nav></section><committee-home data-ng-if="$ctrl.selectedView === \'Home\'" data-committee="$ctrl.committee"></committee-home><div class="padding white-bg margin-vertical spinner-effect" data-ng-if="$ctrl.selectedView === \'Docs\'"><documents data-committee="$ctrl.committee"></documents></div><div class="padding white-bg margin-vertical spinner-effect" data-ng-if="$ctrl.selectedView === \'Info\'"><faqs data-committee="$ctrl.committee"></faqs></div><div class="padding white-bg margin-vertical spinner-effect" data-ng-if="$ctrl.selectedView === \'Members\'"><committee-members data-committee="$ctrl.committee"></committee-members></div></div>'),t.put("/ngApp/common/active-polls.html",'<div style="position:relative"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><article class="last" data-ng-repeat="poll in $ctrl.polls"><div data-ng-if="$index > 0"><br><br></div><div class="text-12 text-bold">POLL<span data-ng-if="poll.hasUsersUnitVoted && poll.canViewResults"> RESULTS</span>:</div><p id="poll-question-text-{{ $index }}" class="no-margin text-large text-bold">{{ poll.questionText }}</p><p class="no-margin note-text"><span>Posted by {{ poll.authorName }} on {{ poll.postDate | date:\'M/d/yyyy\' }} - Poll {{ poll.canViewResults ? "closed" : "closes" }} 12pm CT {{ poll.expirationDate | date:\'M/d/yyyy\' }}</span> - <span data-ng-if="poll.isAnonymous">This is an anonymous poll. Your identity will not be shown with your response.</span> <span data-ng-if="!poll.isAnonymous">This is NOT an anonymous poll. Your identity will be shown with your response.</span></p><div data-ng-if="!poll.hasUsersUnitVoted"><div><div id="poll-detail-{{ $index }}" data-ng-show="poll.detailText.length > 0" style="font-size:16px" class="mt-3 mb-4">{{ poll.detailText }}</div></div><div class="polls" data-ng-if="poll.maxNumResponses<2"><div class="poll-answer" data-ng-repeat="pollAnswer in poll.answers" id="poll-answer-{{ $parent.$index }}-{{ $index }}" data-ng-click="$ctrl.onPollAnswer( poll, pollAnswer, null )"><span id="poll-answer-text-{{ $parent.$index }}-{{ $index }}">{{ pollAnswer.answerText }}</span><div id="poll-answer-detail-text-{{ $parent.$index }}-{{ $index }}" class="poll-answer-detail" data-ng-show="pollAnswer.detailText.length > 0">{{ pollAnswer.detailText }}</div></div><div class="row" data-ng-if="poll.allowOtherAnswer"><div class="col-sm-3 text-end" style="color:#4583b6">Or write in your own response:</div><div class="col-sm-6"><input type="text" style="width:100%" maxlength="80" data-ng-model="poll.writeInAnswer"></div><div class="col-sm-3 text-start"><button class="btn btn-primary" type="button" data-ng-click="$ctrl.onPollAnswer( poll, null )">Submit Write-in Response</button></div></div></div><div class="polls" data-ng-if="poll.maxNumResponses>1"><div class="note-text">You may select up to {{poll.maxNumResponses}} options.</div><label class="poll-answer" data-ng-repeat="pollAnswer in poll.answers" id="poll-answer-{{ $parent.$index }}-{{ $index }}" data-ng-style="{\'background\':pollAnswer.isLocalMultiSelect ? \'lightgreen\' : null}"><input type="checkbox" data-ng-change="$ctrl.onMultiResponseChange(poll, pollAnswer)" data-ng-model="pollAnswer.isLocalMultiSelect"> <span id="poll-answer-text-{{ $parent.$index }}-{{ $index }}">{{ pollAnswer.answerText }}</span> <span id="poll-answer-detail-text-{{ $parent.$index }}-{{ $index }}" class="poll-answer-detail" data-ng-show="pollAnswer.detailText.length > 0">{{ pollAnswer.detailText }}</span></label> <label class="poll-answer" data-ng-if="poll.allowOtherAnswer" data-ng-style="{\'background\':poll.isWriteInMultiSelected ? \'lightgreen\' : null}"><input type="checkbox" data-ng-change="$ctrl.onMultiResponseChange(poll, $ctrl.multiSelectWriteInPlaceholder)" data-ng-model="poll.isWriteInMultiSelected"> <span style="color:#4583b6">Or write in your own response:</span> <input type="text" style="width:55%" maxlength="80" data-ng-model="poll.writeInAnswer"></label><div class="text-center"><button class="btn btn-primary" type="button" data-ng-click="$ctrl.onSubmitMultiAnswer(poll)">Submit {{poll.localMultiSelectedAnswers.length}} Vote{{poll.localMultiSelectedAnswers.length===1?\'\':\'s\'}}</button></div></div></div><div data-ng-if="poll.hasUsersUnitVoted"><div data-ng-show="poll.canViewResults"><div style="width:49%;float:left"><canvas id="poll-result-chart-{{ $index }}" width="469" height="234" class="chart chart-doughnut" data-chart-data="poll.chartData" data-chart-labels="poll.chartLabels"></canvas></div><div style="width:50%;float:left">Your unit voted:<br><span style="font-weight:700">{{ poll.unitVoteText }}</span></div><div class="clearfix"></div></div><div data-ng-hide="poll.canViewResults"><div>Your unit has voted:<br><span id="selected-vote-text" style="font-weight:700">{{ poll.unitVoteText }}</span><br>You must wait until the poll closes 12pm CT on {{ poll.expirationDate | date:\'fullDate\' }} to view the results.<br><span id="change-vote-button" class="text-link" ng-click="poll.hasUsersUnitVoted = false">Change vote.</span><br><span style="font-size:small">You can change your vote as much as you want until the poll closes.</span></div></div></div></article></div>'),t.put("/ngApp/common/assessment-payment-form.html",'<div class="portlet-box white payment_bl margin-vertical-lg box-shadow"><div class="portlet-header"><div class="title"><i class="fa-solid fa-credit-card ally-portlet-icon me-2"></i> Payment</div></div><div class="portlet-body" style="position:relative"><div class="loading-overlay" data-ng-show="$ctrl.isLoading_Payment"></div><div data-ng-if="$ctrl.customFinancialInstructions"><div style="font-family:inherit;font-size:1rem" data-ng-bind-html="$ctrl.customFinancialInstructions"></div><hr></div><div id="dwolla-form" class="mb-4" data-ng-if="$ctrl.isDwollaEnabledOnGroup"><div data-ng-if="$ctrl.isDwollaUserAccountVerified && !$ctrl.hasDwollaFundingSource">Your Dwolla user account is verified, you can now associate a bank account (savings or checking) to make payments:<br><br><div data-ng-if="$ctrl.hasComplexPassword"><input type="button" class="btn btn-primary" id="start" value="Add Bank Account" ng-click="$ctrl.dwollaStartIAV()" data-ng-if="!$ctrl.isLoadingDwolla"> <img src="/assets/images/spinner-large.gif" data-ng-if="$ctrl.isLoadingDwolla"></div><div data-ng-if="!$ctrl.hasComplexPassword" style="font-weight:700;color:red">In order to sign-up to make Dwolla payments you must use a complex password. Please visit <a href="#!/MyProfile">your profile</a> to update your password.</div></div><div data-ng-if="$ctrl.hasDwollaFundingSource && !$ctrl.dwollaFundingSourceIsVerified">Your bank account is still pending micro-deposit verification. <a href="https://help.communityally.org/how-to-make-an-online-payment/" target="_blank">Dwolla Sign-up Help Guide</a><br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.shouldShowDwollaMicroDepositModal = true">Enter Micro-Deposit Amounts</button><br><span class="note-text">(If you\'re seeing this but are not expecting to enter micro-deposits, please contact support.)</span><div class="mt-3 text-start note-text">Account: {{$ctrl.dwollaFundingSourceName}} - <span class="text-link note-text" data-ng-click="$ctrl.unlinkDwollaFundingSource()">Unlink bank account</span></div></div><div ng-if="!$ctrl.isDwollaUserAccountVerified && $ctrl.allowDwollaSignUp"><div id="dwolla-sign-up" data-ng-if="$ctrl.dwollaUserStatus === \'checking\'"><img src="/assets/images/spinner-large.gif"></div><div id="dwolla-sign-up" class="container" data-ng-if="$ctrl.dwollaUserStatus !== \'checking\'"><div data-ng-if="$ctrl.dwollaUserStatus === \'new\' || $ctrl.dwollaUserStatus === \'retry\'"><div class="row mb-3" data-ng-if="$ctrl.dwollaUserStatus === \'retry\'"><div class="col-12 text-error">The initial identity verification attempt failed because the information provided did not satisfy Dwolla’s verification check. Please try again by entering your full Social Security number and adjusting any fields that are incorrect.</div></div><div class="row mb-3" data-ng-if="$ctrl.dwollaUserStatus !== \'retry\'"><div class="col-12">Your association has enabled Dwolla to allow you to pay dues and other fees via a checking account right here on the site. (Cards not supported)<br><br>In order to make payments to your association, Dwolla needs to first verify your identity. Please complete the information below. <a href="https://help.communityally.org/how-to-make-an-online-payment/" target="_blank">Dwolla Sign-up Help Guide</a></div></div><div class="row mb-3"><div class="col-12"><span class="fw-bold">Name:</span> <span>{{$ctrl.userFullName}}</span> <span class="fw-bold">Email:</span> <span>{{$ctrl.userEmail}}</span><br><span class="note-text">Edit this information in <a href="#!/MyProfile">your profile</a>.</span></div></div><div class="row mb-3"><div class="col-6">Date of Birth: <input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.dwollaSignUpInfo.dateOfBirth" data-ui-date="{changeYear: true, yearRange: \'1900:+0\'}"></div><div data-ng-if="$ctrl.dwollaUserStatus !== \'retry\'" class="col-6">Last 4 of SSN: <input type="password" class="form-control form-control-sm" maxlength="4" data-ng-model="$ctrl.dwollaSignUpInfo.ssnLast4"></div><div data-ng-if="$ctrl.dwollaUserStatus === \'retry\'" class="col-6">Full SSN: <input type="password" class="form-control form-control-sm" maxlength="11" data-ng-model="$ctrl.dwollaSignUpInfo.ssnFull"></div></div><div class="row mb-3" data-ng-if="!$ctrl.shouldShowEditDwollaSignUpAddress && $ctrl.dwollaUserStatus !== \'retry\'"><div class="col-12"><span class="fw-bold">Home Address:</span> <span>{{$ctrl.dwollaSignUpInfo.streetAddress.oneLiner}}</span> <span class="note-text text-link" data-ng-click="$ctrl.shouldShowEditDwollaSignUpAddress = true">edit</span></div></div><street-address-form data-ng-if="$ctrl.shouldShowEditDwollaSignUpAddress || $ctrl.dwollaUserStatus === \'retry\'" data-street-address="$ctrl.dwollaSignUpInfo.streetAddress" should-hide-name="true"></street-address-form><div class="row mb-2"><div class="col-12"><label><input type="checkbox" data-ng-model="$ctrl.didAgreeToDwollaTerms"> By checking this box you agree to <a target="_blank" href="https://login.condoally.com/TermsOfService.html">Our Terms of Service</a> and <a target="_blank" href="https://login.condoally.com/PrivacyPolicy.html">Privacy Policy</a>, as well as our partner <a target="_blank" href="https://www.dwolla.com/legal/tos/">Dwolla\'s Terms of Service</a> and <a target="_blank" href="https://www.dwolla.com/legal/privacy/">Privacy Policy</a>.</label></div></div><button type="button" class="btn btn-primary" data-ng-click="$ctrl.dwollaSignUp();">Agree and Sign-up for Dwolla Payments</button></div><div data-ng-if="$ctrl.dwollaUserStatus === \'document\'"><div data-ng-if="$ctrl.dwollaDocUploadMessage">{{$ctrl.dwollaDocUploadMessage}}</div><div data-ng-if="!$ctrl.dwollaDocUploadMessage">In order for Dwolla to complete your identity verification, you need to upload a document confirming your identify. The image needs to be color and sharp, not blurry. If you have already done this, please give Dwolla up to 2 full days to hear a response before contacting support. You can find more guidance on capturing the image here:<br><a href="https://help.communityally.org/dwolla-identity-documentation-guidance/" target="_blank">https://help.communityally.org/dwolla-identity-documentation-guidance/</a><div class="mt-3"><label><b>Document Type:</b> <select data-ng-model="$ctrl.dwollaDocUploadType"><option value="license">State-Issued Driver\'s License</option><option value="passport">Passport</option><option value="idCard">Government-Issued ID Card</option></select></label><br><input type="file" on-file-change="$ctrl.onDwollaDocSelected($event)"><br><br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.uploadDwollaDoc()">Upload Document</button></div></div></div><div data-ng-if="$ctrl.dwollaUserStatus === \'suspended\'" class="text-error">It appears your account verification has failed. Please contact tech support using the message form in the bottom right of using <a href="#!/Help">this form</a>.</div></div></div></div><div data-ng-if="$ctrl.shouldShowStripeAchMandate" class="modal-container"><div class="modal-overlay"></div><div class="ca-modal-dialog modal-lg"><div class="loading-overlay" data-ng-show="$ctrl.isLoading_Payment"></div>Per Stripe\'s requirements, you must accept the following mandate to use ACH payments through Community Ally:<br><br>If you use Community Ally\'s services or purchase additional products periodically pursuant to Community Ally\'s terms, you authorize Community Ally to debit your bank account periodically for auto-pay and on demand for manual payments. Payments that fall outside of the regular debits authorized above will only be debited after your authorization is obtained.<br><div class="text-center mt-3"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.acceptStripeAchMandate(true)">Accept</button> <button type="button" class="btn btn-secondary ms-3" data-ng-click="$ctrl.acceptStripeAchMandate(false)">Cancel</button></div></div></div><div id="stripe-sign-up-form" class="mb-4" data-ng-if="$ctrl.isStripeEnabledOnGroup && !$ctrl.usersStripeBankAccountHint"><div data-ng-if="!$ctrl.hasStripePlaidPendingMicroDeposits && !$ctrl.hasStripeAchPendingMicroDeposits">Community Ally uses <a href="https://stripe.com/docs/security" target="_blank">Stripe</a> to connect bank accounts for security and simplicity. Once you connect a bank account you\'ll be able to make payments via ACH. <a href="https://help.communityally.org/sign-up-with-stripe-to-make-payments/" target="_blank">Sign-up Help Guide</a><div class="text-center mt-2"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.startStripeAchConnection()">Connect Checking Account</button></div></div><div class="mt-5" data-ng-if="$ctrl.hasStripePlaidPendingMicroDeposits">You have a pending account setup with Plaid. Please click the button below to complete the verification process.<div class="text-center mt-2"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.completeStripeMicroDeposits()">Complete Account Verification</button><br><br>Or <span class="text-link note-text" data-ng-click="$ctrl.cancelStripeAccountAddition()">Cancel Process</span></div></div><div class="mt-5" data-ng-if="$ctrl.hasStripeAchPendingMicroDeposits && !$ctrl.shouldShowStripeAchRefresh">You have a pending account setup with Stripe. Please click the button below to complete the verification process.<div class="text-center mt-2"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.verifyStripeMicroDeposits()">Verify Stripe Micro-Deposits</button><br><br>Or <span class="text-link note-text" data-ng-click="$ctrl.cancelStripeAchMicroDeposits()">Cancel Process</span></div></div><div class="mt-5" data-ng-if="$ctrl.hasStripeAchPendingMicroDeposits && $ctrl.shouldShowStripeAchRefresh"><div class="text-center mt-2">In the new tab that just opened, enter your micro-deposit information. Once successfully completed, click the button to refresh the page.<br><button type="button" class="btn btn-primary" data-ng-click="$ctrl.refreshPageAfterStripeVerify()">Refresh Page</button><br><br>Or <span class="text-link note-text" data-ng-click="$ctrl.cancelStripeAchMicroDeposits()">Cancel Process</span></div></div></div><form data-ng-if="$ctrl.isWePayPaymentActive || $ctrl.isDwollaReadyForPayment || ($ctrl.isStripeEnabledOnGroup && $ctrl.usersStripeBankAccountHint)"><div class="pay_for mb-3" data-ng-if="!$ctrl.stripePaymentSucceeded"><div class="text-16 font-600">I am paying for</div><div class="custom-controls-stacked"><label class="custom-control custom-radio"><input id="radioStacked1" name="payment" type="radio" value="periodic" class="form-check-input" data-ng-click="$ctrl.onSelectPaymentType(\'periodic\')" ng-model="$ctrl.paymentInfo.paymentType"> <span class="custom-control-indicator"></span> <span class="custom-control-description">Assessment</span></label> <label class="ms-3 custom-control custom-radio"><input id="other" name="payment" type="radio" data-ng-click="$ctrl.onSelectPaymentType(\'other\')" value="other" ng-model="$ctrl.paymentInfo.paymentType" class="form-check-input"> <span class="custom-control-indicator"></span> <span class="custom-control-description">Other</span></label></div></div><div class="amount_field row" data-ng-if="!$ctrl.stripePaymentSucceeded"><div class="col-sm-4 pay_check"><label>Amount</label> <input class="form-control" type="text" value="" data-ng-disabled="$ctrl.paymentInfo.paymentType == \'periodic\'" data-ng-model="$ctrl.paymentInfo.amount" data-ng-change="$ctrl.onPaymentAmountChange()" autocomplete="off" data-lpignore="true" data-form-type="other"></div><div class="col-sm-8 memo"><label>Memo</label> <input class="form-control" type="text" placeholder="" data-ng-model="$ctrl.paymentInfo.note" autocomplete="off" data-lpignore="true" data-form-type="other"><div data-ng-show="$ctrl.paymentInfo.paymentType == \'periodic\'" data-ng-click="$ctrl.onIncorrectPayDetails()" class="text-link margin-top-10">{{ $ctrl.errorPayInfoText }}</div></div><i class="error" ng-show="$ctrl.paymentError">{{$ctrl.paymentErrorMessage}}</i></div><div data-ng-if="$ctrl.isStripeEnabledOnGroup && $ctrl.usersStripeBankAccountHint" class="margin-top-30"><h5 data-ng-if="$ctrl.hasMultipleProviders">Stripe</h5><p style="margin-bottom:0" data-ng-if="!$ctrl.stripePaymentSucceeded">Your association has setup <a target="_blank" href="https://stripe.com/">Stripe</a> to safely and securely accept payments.</p><div class="mt-3"><div data-ng-if="!$ctrl.stripePaymentSucceeded">You have connected Stripe to this account:<br><b>{{$ctrl.usersStripeBankAccountHint}}</b> - <span class="text-link note-text" data-ng-click="$ctrl.unlinkStripeFundingSource()">Unlink bank account</span><br><div data-ng-if="$ctrl.userHasStripeAutoPay" class="text-error my-3 mt-5 text-center" style="color:#00f">NOTE: You have auto-pay setup so be careful of double payments.</div><div class="text-center mt-3"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.submitStripeAchPayment()">Submit E-Check Payment via Stripe</button><br>{{$ctrl.stripeAchFeeAmountString}}</div></div><div data-ng-if="$ctrl.stripePaymentSucceeded"><span style="font-size:x-large;color:#00f">Payment submitted successfully!</span><div class="mt-2">(<span class="text-link note-text" data-ng-click="$ctrl.reloadPage()">OK</span>)</div></div></div></div><div data-ng-if="$ctrl.isWePayPaymentActive" class="margin-top-30"><h5 data-ng-if="$ctrl.hasMultipleProviders">WePay</h5><p style="margin-bottom:0">Your association has setup <a target="_blank" href="https://www.wepay.com/">WePay</a> to safely and securely accept payments.</p><div class="alert alert-warning" role="alert" data-ng-if="!$ctrl.isStripeEnabledOnGroup">WePay payments are being disabled October 10. Please switch over to Stripe or a different payment provider before then. We\'ll be reaching out to users via email soon to help with this transition.</div><p class="buttons text-center"><span class="text-center d-inline-block"><input type="button" class="btn btn-primary" data-ng-click="$ctrl.submitWePayPayment(\'ach\');" value="Pay with E-Check"><br>{{ $ctrl.wePayAssessmentAchFeeLabel }} </span><span class="text-center d-inline-block"><input type="button" style="margin-left:1em" class="btn btn-primary" data-ng-click="$ctrl.submitWePayPayment(\'cc\');" value="Pay with Debit/Credit Card"><br>{{ $ctrl.wePayAssessmentCreditCardFeeLabel }}</span></p></div><div class="buttons margin-top-30 text-center" ng-if="$ctrl.isDwollaReadyForPayment"><div data-ng-if="$ctrl.hasMultipleProviders" class="text-start"><h5>Dwolla</h5></div><p class="text-start" style="margin-bottom:0">You are setup to use <a target="_blank" href="https://www.dwolla.com/security/">Dwolla</a> to safely and securely submit payments.</p><div class="alert alert-warning" role="alert" data-ng-if="!$ctrl.isStripeEnabledOnGroup">Dwolla payments are being disabled October 10. Please switch over to Stripe or a different payment provider before then. We\'ll be reaching out to users via email soon to help with this transition.</div><div class="text-center d-inline-block"><div data-ng-if="$ctrl.dwollaPaymentMessage"><span style="font-size:x-large;color:#00f">{{ $ctrl.dwollaPaymentMessage }}</span><div class="mt-2">(<span class="text-link note-text" data-ng-click="$ctrl.reloadPage()">OK</span>)</div></div><div data-ng-if="!$ctrl.dwollaPaymentMessage"><input type="button" class="btn btn-primary" data-ng-if="!$ctrl.isLoading_Payment" data-ng-click="$ctrl.submitDwollaPayment()" value="Submit Payment"><br><b>Clicking this button will submit payment.</b><div data-ng-if="$ctrl.currentDwollaAutoPayAmount > 0" class="text-error" style="color:#00f">NOTE: You have auto-pay setup so be careful of double payments.</div><div>You can cancel within 24 hours of payment. {{$ctrl.dwollaFeePercent}}% fee ({{$ctrl.dwollaFeeAmountString}}, max ${{$ctrl.dwollaStripeMaxFee}}) applies.<div class="mt-3 text-end note-text">Account: <b>{{$ctrl.dwollaFundingSourceName}}</b> - <span class="text-link note-text" data-ng-click="$ctrl.unlinkDwollaFundingSource()">Unlink bank account</span></div></div></div></div></div><div class="buttons margin-top-30 text-center" data-ng-if="$ctrl.showParagon"><p class="single_p text-start">{{$ctrl.allyAppName}} uses <a target="_blank" href="https://paragonsolutions.com/"><img src="/assets/images/paragon-logo-black.png" alt=""></a>to safely and securely handle payments.</p><div class="text-center d-inline-block" data-ng-if="$ctrl.paragonCheckingLast4 || $ctrl.paragonCardLast4">ra<div data-ng-if="$ctrl.paragonPaymentMessage" style="font-size:x-large;color:#00f">{{ $ctrl.paragonPaymentMessage }}</div><div data-ng-if="$ctrl.paragonCheckingLast4"><input type="button" class="btn btn-primary" data-ng-click="$ctrl.submitParagonPayment(\'check\')" value="Complete eCheck Payment Now Via Paragon"><br>Clicking this button will submit payment using the account ending in {{ $ctrl.paragonCheckingLast4 }}. $1 fee applies.</div><div data-ng-if="$ctrl.paragonCardLast4" class="mt-3"><input type="button" class="btn btn-primary" data-ng-click="$ctrl.submitParagonPayment(\'card\')" value="Complete Credit Card Payment Now Via Paragon"><br>Clicking this button will submit payment using the account ending in {{ $ctrl.paragonCardLast4 }}. 2.9% + $0.30 fee applies.</div></div><div class="text-center" data-ng-if="!$ctrl.paragonCheckingLast4 || !$ctrl.paragonCardLast4"><br><input data-ng-if="!$ctrl.paragonCheckingLast4" type="button" style="margin-left:1em" class="btn btn-primary" data-ng-click="$ctrl.showParagonSignUp()" value="Sign-up To Make Online Payments via Checking or Savings"><br><input data-ng-if="!$ctrl.paragonCardLast4" type="button" style="margin-left:1em;margin-top:1em" class="btn btn-primary" data-ng-click="$ctrl.showParagonCreditSignUp()" value="Sign-up To Make Online Payments via Credit Card"></div></div><div class="modal-container" data-ng-show="$ctrl.showParagonCheckingSignUpModal" data-ng-escape="$ctrl.showParagonCheckingSignUpModal = false"><div class="modal-overlay" data-ng-click="$ctrl.showParagonCheckingSignUpModal = false"></div><div class="ca-modal-dialog modal-lg"><div class="loading-overlay" data-ng-show="$ctrl.isLoading_Payment"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.showParagonCheckingSignUpModal = false">&times;</span><h2>Your Payment Information</h2>Enter your bank account information below to complete sign-up.<h4 class="mt-2" style="text-decoration:underline">Your Contact Information</h4><div class="row"><div class="form-group col-md-6"><label for="billing-sign-up-first-name">First Name</label> <input type="text" class="form-control" id="billing-sign-up-first-name" placeholder="First Name" data-ng-model="$ctrl.paragonSignUpInfo.firstName"></div><div class="form-group col-md-6"><label for="billing-sign-up-last-name">Last Name</label> <input type="text" class="form-control" id="billing-sign-up-last-name" placeholder="Last Name" data-ng-model="$ctrl.paragonSignUpInfo.lastName"></div></div><div class="row"><div class="form-group col-md-6"><label for="billing-sign-up-email">Email Address</label> <input type="text" class="form-control" id="billing-sign-up-email" placeholder="Email Address" data-ng-model="$ctrl.paragonSignUpInfo.email"></div><div class="form-group col-md-6"><label for="billing-sign-up-phone">Phone Number</label> <input type="text" class="form-control" id="billing-sign-up-phone" placeholder="Phone Number" data-ng-model="$ctrl.paragonSignUpInfo.phoneNumber"></div></div><street-address-form data-should-hide-name="true" data-street-address="$ctrl.paragonSignUpInfo.billingAddress"></street-address-form><h4 class="mt-2" style="text-decoration:underline">Your Bank Account Information</h4><div class="row"><label class="col-sm-2 col-12">Account Type:</label><div class="col-sm-5 col-12"><div class="form-check form-check-inline"><input class="form-check-input" type="radio" id="acct-type-checking" data-ng-value="\'CHECKING\'" data-ng-model="$ctrl.paragonSignUpInfo.accountType"> <label class="form-check-label" for="acct-type-checking">Checking</label></div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" id="acct-type-savings" data-ng-value="\'SAVINGS\'" data-ng-model="$ctrl.paragonSignUpInfo.accountType"> <label class="form-check-label" for="acct-type-savings">Savings</label></div></div><div class="col-sm-5 col-12"><div class="form-check form-check-inline"><input class="form-check-input" type="radio" id="check-type-personal" data-ng-value="\'PERSONAL\'" data-ng-model="$ctrl.paragonSignUpInfo.checkType"> <label class="form-check-label" for="check-type-personal">Personal</label></div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" id="check-type-business" data-ng-value="\'BUSINESS\'" data-ng-model="$ctrl.paragonSignUpInfo.checkType"> <label class="form-check-label" for="check-type-business">Business</label></div></div></div><div class="row"><div class="form-group col-md-6"><label for="billing-sign-up-routing">Routing Number</label> <input id="billing-sign-up-routing" type="text" class="form-control" placeholder="Routing Number" data-ng-model="$ctrl.paragonSignUpInfo.routingNumber"></div><div class="form-group col-md-6"><label for="billing-sign-up-account">Account Number</label> <input id="billing-sign-up-account" type="text" class="form-control" placeholder="Account Number" data-ng-model="$ctrl.paragonSignUpInfo.checkAccountNumber"></div></div><div class="row" style="text-align:right"><div class="col-12"><div class="text-error" data-ng-if="$ctrl.paragonSignUpError">Failed to Sign-up: {{$ctrl.paragonSignUpError}}</div><input type="button" style="margin-left:1em" class="btn btn-primary" data-ng-click="$ctrl.submitParagonSignUp()" value="Submit"><br><span class="note-text">Your information will be transmitted to Paragon using a highly secure connection. Community Ally does not store any of your bank information.<br>This may take up to a minute.</span></div></div></div></div><div class="modal-container" data-ng-if="$ctrl.showParagonCreditSignUpModal"><div class="modal-overlay"></div><div class="ca-modal-dialog modal-lg"><span style="float:right" class="close-x" data-ng-click="$ctrl.hideParagonCreditSignUp()">&times;</span><h2>Enter Credit Card Information</h2><div class="note-text">This form is hosted on Paragon\'s servers so your information is never transmitted through Community Ally.</div><div data-ng-if="!$ctrl.paragonCardTokenizedUrl"><img data-ng-if="$ctrl.paragonCardTokenizationMessage === \'Connecting...\'" src="/assets/images/spinner-large.gif"><br>{{ $ctrl.paragonCardTokenizationMessage }}</div><iframe data-ng-if="$ctrl.paragonCardTokenizedUrl" style="width:100%;height:600px" ng-src="{{$ctrl.paragonCardTokenizedUrl}}"></iframe></div></div><fieldset data-ng-style="{\'display\': $ctrl.isWePayAutoPayActive ? \'block\':\'none\'}"><legend>WePay Auto-Pay</legend><div data-ng-show="$ctrl.isWePayAutoPayActive">Auto-pay is successfully enabled. {{ $ctrl.nextAutoPayText }}<br><span class="text-button" data-ng-click="$ctrl.onDisableAutoPay()">Disable Auto-pay</span></div><div data-ng-hide="$ctrl.isWePayAutoPayActive"><p>You can automatically send your assessment payment. {{ $ctrl.nextAutoPayText }}</p><div><div style="display:inline-block;text-align:center"><input type="button" class="btn btn-primary" data-ng-click="$ctrl.onSetupWePayAutoPay(\'ach\');" value="Setup with E-Check"><br>{{ $ctrl.wePayAssessmentAchFeeLabel }}</div><div style="display:inline-block;text-align:center"><input type="button" style="margin-left:1em" class="btn btn-primary" data-ng-click="$ctrl.onSetupWePayAutoPay(\'cc\');" value="Setup with Debit/Credit Card"><br>{{ $ctrl.wePayAssessmentCreditCardFeeLabel }}</div></div><br><p class="note-text" style="color:red;display:none" data-ng-show="$ctrl.payerPaysAchFee">NOTE: There is currently an issue with WePay charging a higher transaction fee (1% + $1.30) than it should ($1.50) on ACH pre-approvals. We\'ll update this as soon as we hear an update. In the meantime, consider making manual payments.</p><br><p class="note-text"><cite>Unfortunately, we cannot make any guarantees regarding the automatic payment system as that is handled by our secure third-party payment provider. You are responsible for making sure your payments are made on time to avoid any late penalties that your association may enforce.</cite></p></div></fieldset><fieldset class="mt-5" data-ng-if="$ctrl.shouldShowDwollaAutoPayArea"><legend style="font-size:large">Auto-Pay</legend><div data-ng-if="$ctrl.currentDwollaAutoPayAmount > 0">Auto-pay is enabled for <b>{{$ctrl.currentDwollaAutoPayAmount | currency}}</b>. {{ $ctrl.nextAutoPayText }}<br><br><span class="text-button" data-ng-click="$ctrl.disableDwollaAutoPay()">Disable Auto-pay</span></div><div data-ng-if="!$ctrl.currentDwollaAutoPayAmount"><p>You can setup automatic assessment payments that will occur {{$ctrl.assessmentFrequencyInfo.name.toLowerCase()}} ({{$ctrl.assessmentFrequencyInfo.signUpNote}}). You will receive an email a few days before payment occurs. {{ $ctrl.nextAutoPayText }}</p><div><div style="display:inline-block;text-align:center">Your auto-pay amount will be <b>{{$ctrl.assessmentAmount | currency}}</b>, your assessment payment.<br><input type="button" class="btn btn-primary" data-ng-click="$ctrl.enableDwollaAutoPay()" value="Enable Auto-Pay"><br>{{$ctrl.dwollaFeePercent}}% fee ({{$ctrl.getDwollaFeeAmount($ctrl.assessmentAmount) | currency}}, max ${{$ctrl.dwollaStripeMaxFee}}) applies.</div></div><br><p class="note-text"><cite>Unfortunately, we cannot make any guarantees regarding the automatic payment system as that is handled by our secure third-party payment provider. You are responsible for making sure your payments are made on time to avoid any late penalties that your association may enforce.</cite></p></div></fieldset><fieldset class="mt-5" data-ng-if="$ctrl.shouldShowStripeAutoPayArea"><legend style="font-size:large">Stripe Auto-Pay</legend><div data-ng-if="$ctrl.userHasStripeAutoPay">Auto-pay is enabled for <b>{{$ctrl.stripeAutoPayAmount | currency}}</b> (<span class="note-text">plus Stripe fees</span>). {{ $ctrl.nextAutoPayText }}<br><br><div class="text-center"><button class="btn btn-warning" data-ng-click="$ctrl.disableStripeAutoPay()">Disable Auto-Pay</button></div></div><div data-ng-if="!$ctrl.userHasStripeAutoPay"><p>You can setup automatic assessment payments that will occur {{$ctrl.assessmentFrequencyInfo.name.toLowerCase()}} ({{$ctrl.assessmentFrequencyInfo.signUpNote}}). You will receive an email a few days before payment occurs. {{ $ctrl.nextAutoPayText }}</p><div style="text-align:center">Your auto-pay amount will be <b>{{$ctrl.assessmentAmount | currency}}</b>, your assessment payment.<br><input type="button" class="btn btn-primary" data-ng-click="$ctrl.startEnableStripeAutoPay()" value="Enable Auto-Pay"><br>{{$ctrl.stripeAutoPayFeeAmountString}} Stripe fee applies.</div><br><p class="note-text"><cite>Unfortunately, we cannot make any guarantees regarding the automatic payment system as that is handled by our secure third-party payment provider. You are responsible for making sure your payments are made on time to avoid any late penalties that your association may enforce.</cite></p></div></fieldset></form><div class="mb-2 mt-2" data-ng-if="$ctrl.dwollaBalance > 0 && !$ctrl.dwollaBalanceMessage">Dwolla Balance: <span class="fw-bold">{{$ctrl.dwollaBalance | currency}}</span> <span class="ms-3 text-link" data-ng-click="$ctrl.withdrawDwollaBalance()">Withdrawal</span></div><div class="mb-2 mt-2" data-ng-if="$ctrl.dwollaBalanceMessage">{{$ctrl.dwollaBalanceMessage}}</div><div data-ng-if="$ctrl.myRecentPayments && $ctrl.myRecentPayments.length > 0"><h4>Recent Payments</h4><div class="note-text">Payments from the last 2 weeks</div><div class="row"><div class="col-4" data-ng-repeat="payment in $ctrl.myRecentPayments">{{ payment.submitDateUtc | date:\'shortDate\' }} <strong>{{ payment.amount | currency }}</strong> <span class="note-text" data-ng-if="payment.electronic">{{payment.Status}}</span></div></div></div><div class="mt-5"><div class="manage_pannel text-end"><span class="text-link" data-ng-click="$ctrl.showExtraInfo = ($ctrl.showExtraInfo === \'payment-history\' ? null : \'payment-history\')" id="btn_view_pay_history">Payment History</span> <span class="text-link ms-3" data-ng-click="$ctrl.showExtraInfo = ($ctrl.showExtraInfo === \'payment-info\' ? null : \'payment-info\')" id="btn_view_pay_info">Payment Information</span><resident-transactions class="ms-3" data-ng-if="$ctrl.shouldShowOwnerFinanceTxn"></resident-transactions></div><div class="mt-4"><div id="payment_history" data-ng-if="$ctrl.showExtraInfo === \'payment-history\'"><h4>Payment History</h4><div data-ng-if="$ctrl.historicPayments.length > 0" class="row"><div class="col-6" data-ng-repeat="payment in $ctrl.historicPayments">{{ payment.date | date:\'shortDate\' }} <strong>{{ payment.amount | currency }}</strong> <span class="note-text" data-ng-if="payment.electronic">{{payment.electronic.status}}</span></div></div><p data-ng-if="!$ctrl.historicPayments.length">You have no payment history.</p></div><div id="pm_info" data-ng-if="$ctrl.showExtraInfo === \'payment-info\'"><h4>Payment Information</h4><p>You can pay your assessment online. {{ $ctrl.allyAppName }} uses a service called Stripe to process payments. There is a 1.6% processing fee if your association is using the {{ $ctrl.allyAppName }} free plan, or 0.8% if on the premium plan. We do not store your payment information at any time. Both {{ $ctrl.allyAppName }} and Stripe use the same security used by major banks to secure all information and data transfer. <a href="https://stripe.com/docs/security" target="_blank">Learn more about Stripe\'s security</a>.</p><p></p><div data-ng-if="$ctrl.paragonCheckingLast4" class="mt-3 text-center"><input type="button" class="btn btn-primary" data-ng-click="$ctrl.unenrollParagonAccount(\'check\')" value="Un-enroll your checking account"></div><div data-ng-if="$ctrl.paragonCardLast4" class="mt-3 text-center"><input type="button" class="btn btn-primary" data-ng-click="$ctrl.unenrollParagonAccount(\'card\')" value="Un-enroll your credit card account"></div></div></div></div></div><div class="modal-container" data-ng-show="$ctrl.shouldShowDwollaAddAccountModal"><div class="modal-overlay" data-ng-click=""></div><div class="ca-modal-dialog modal-lg"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingDwolla"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.hideDwollaAddAccountModal()">&times;</span><h2>Add Bank Account</h2><span class="note-text">Note: For an extra layer of security, the account addition process takes place through Dwolla\'s servers only. The information you enter below does not interact with Community Ally\'s server.</span><div id="dwolla-iav-container"></div><div class="text-center" data-ng-if="$ctrl.isDwollaIavDone"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.hideDwollaAddAccountModal()">Close</button></div></div></div><div class="modal-container" data-ng-if="$ctrl.shouldShowDwollaMicroDepositModal"><div class="modal-overlay" data-ng-click="$ctrl.shouldShowDwollaMicroDepositModal = false"></div><div class="ca-modal-dialog modal-sm"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowDwollaMicroDepositModal = false">&times;</span><h2>Enter Micro-Deposit Amounts</h2><div class="row m-1"><div class="col-sm-12 col-md-6"><h3>Amount 1</h3><input type="text" data-ng-model="$ctrl.dwollaMicroDepositAmount1String"></div><div class="col-sm-12 col-md-6"><h3>Amount 2</h3><input type="text" data-ng-model="$ctrl.dwollaMicroDepositAmount2String"></div></div><div class="text-center"><div class="note-text">Order of amounts entered does not matter</div><br><div style="font-weight:700">Entering the wrong amounts more than once can cancel the verification process.</div><button type="button" class="btn btn-primary mt-3" data-ng-click="$ctrl.submitDwollaMicroDepositAmounts()">Submit</button></div></div></div></div>'),t.put("/ngApp/common/custom-page-view.html",'<div class="page" style="min-height:100px"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><div id="custom-page-content" data-ng-if="$ctrl.customPage" data-ng-bind-html="$ctrl.markupHtml" class="custom-page-content"></div></div>'),t.put("/ngApp/common/date-range-picker.html",'<select data-ng-change="$ctrl.selectPresetDateRange()" data-ng-model="$ctrl.filterPresetDateRange" style="border:none"><option value="last30days">Last 30 Days</option><option value="thisMonth">This Month</option><option value="lastMonth">Last Month</option><option value="thisYear">{{$ctrl.thisYearLabel}}</option><option value="lastYear">{{$ctrl.lastYearLabel}}</option><option value="oneYear">One Year</option><option value="custom">Custom</option></select> <input type="text" data-ng-model="$ctrl.startDate" data-ui-date style="width:100px" data-ng-change="$ctrl.onInternalChange()"> to <input type="text" data-ng-model="$ctrl.endDate" data-ui-date style="width:100px" data-ng-change="$ctrl.onInternalChange()">'),t.put("/ngApp/common/documents.html",'<section class="docs"><h1>{{ $ctrl.title }}</h1><div class="mt-2 mb-2">Here you can explore your group\'s documents. You can search for files quickly using the search box in the upper left of the documents area. <span data-ng-if="$ctrl.canManage">You can drag-and-drop files to move them by dragging the file\'s icon.</span></div><div data-ng-if="$ctrl.showPopUpWarning" class="alert alert-warning" role="alert">Your browser appears to be blocking pop-ups which are required to view documents. These guides may help: <a href="https://support.google.com/chrome/answer/95472?co=GENIE.Platform%3DDesktop&hl=en" rel="noreferrer" target="_blank">Chrome</a> - <a href="https://support.mozilla.org/en-US/kb/pop-blocker-settings-exceptions-troubleshooting#w_pop-up-blocker-settings" rel="noreferrer" target="_blank">Firefox</a> - <a href="https://www.digitaltrends.com/computing/how-to-allow-pop-ups-on-a-mac/" rel="noreferrer" target="_blank">Safari</a></div><input id="JQDocsFileUploader" type="file" name="files[]" data-url="Pages/DocumentUpload.aspx?isupload=1" multiple="multiple" style="display:none"><div id="documents-area" class="spinner-effect"><div id="file-tree-panel-overlay" class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div class="row"><div class="col-lg-3 col-md-5 col-sm-12"><div id="directory-panel"><div class="row search-box-container"><input type="text" class="form-control search-box" data-ng-change="$ctrl.updateFileFilter()" data-ng-model="$ctrl.fileSearch.all" data-ng-model-options="{ debounce: 1 }" placeholder="Search files" aria-describedby="basic-addon2"></div><div data-ng-class="{\'directory-list-panel\':$ctrl.canManage, \'directory-list-panel-full\': !$ctrl.canManage}"><div data-ng-repeat="curDirectory in $ctrl.documentTree.subdirectories"><div id="directory-name-{{ ::$index }}" data-ng-class="{ droppable:true, directory: !curDirectory.isPrivate, \'directory-private\':curDirectory.isPrivate, \'directory-public\':curDirectory.isPublic, \'directory-selected\':curDirectory === $ctrl.selectedDirectory }" data-ng-click="$ctrl.onDirectoryClicked(curDirectory);" data-folder-path="{{ ::curDirectory.fullDirectoryPath }}"><span data-ng-class="{ \'folder-icon\': curDirectory.subdirectories.length === 0, \'folder-multi-icon\': curDirectory.subdirectories.length > 0 }"></span> <span class="directory-name">{{curDirectory.name}}</span></div><div data-ng-if="(curDirectory === $ctrl.selectedDirectory || curDirectory === $ctrl.selectedDirectory.parentDirectory || curDirectory === $ctrl.selectedDirectory.parentDirectory.parentDirectory) && $ctrl.shouldShowSubdirectories" data-ng-repeat="subDirectory in curDirectory.subdirectories"><div id="sub-directory-name-{{ ::$parent.$index }}-{{ ::$index }}" style="display:inline-block" data-ng-class="{ \'sub-directory\': true, droppable:true, directory: !subDirectory.isPrivate, \'directory-private\':subDirectory.isPrivate, \'directory-public\':subDirectory.isPublic, \'directory-selected\':subDirectory == $ctrl.selectedDirectory }" data-ng-click="$ctrl.onDirectoryClicked(subDirectory)" data-folder-path="{{ ::subDirectory.fullDirectoryPath }}"><span data-ng-class="{ \'folder-icon\': true, \'folder-multi-icon\': subDirectory.subdirectories && subDirectory.subdirectories.length > 0 }"></span> <span class="directory-name">{{ ::subDirectory.name }}</span></div><div data-ng-if="(subSubDirectory === $ctrl.selectedDirectory || subDirectory === $ctrl.selectedDirectory || subDirectory === $ctrl.selectedDirectory.parentDirectory) && $ctrl.shouldShowSubdirectories" data-ng-repeat="subSubDirectory in subDirectory.subdirectories"><div id="sub-sub-directory-name-{{ ::$parent.$index }}-{{ ::$index }}" style="display:inline-block" data-ng-class="{ \'sub-sub-directory\': true, droppable:true, directory: !subSubDirectory.isPrivate, \'directory-private\':subSubDirectory.isPrivate, \'directory-public\':subSubDirectory.isPublic, \'directory-selected\':subSubDirectory == $ctrl.selectedDirectory }" data-ng-click="$ctrl.onDirectoryClicked(subSubDirectory)" data-folder-path="{{ ::subSubDirectory.fullDirectoryPath }}"><span class="folder-icon"></span> <span class="directory-name">{{ ::subSubDirectory.name }}</span></div></div></div></div><div data-ng-hide="$ctrl.documentTree.subdirectories.length > 0" style="text-align:center;padding-top:2em">Your association has not yet uploaded any files.</div></div><div class="text-center pt-3 pb-4 mb-3" data-ng-show="$ctrl.canManage"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.createDirectory()">+ Create New Folder</button></div></div></div><div class="col-lg-9 col-md-7 col-sm-12"><div class="file-list-panel" data-ng-hide="$ctrl.fileSearch.all"><div id="private-folder-note" data-ng-show="$ctrl.selectedDirectory.isPrivate">This is a private folder. Only site admin and board members can see its contents.</div><div id="public-folder-note" data-ng-show="$ctrl.selectedDirectory.isPublic">This is a public folder. You can share links to these documents with non-residents.</div><div data-ng-show="$ctrl.selectedDirectory != null" class="row mb-3" style="margin-top:15px;border-bottom:1px solid #ccc"><div class="col-12 col-lg-9"><div class="btn-group" role="group" aria-label="Basic outlined example"><button type="button" class="btn btn-outline-primary" data-ng-show="$ctrl.selectedDirectory != null && $ctrl.canManage" onclick="$(\'#JQDocsFileUploader\').click();">Upload File</button> <button type="button" class="btn btn-outline-primary" data-ng-show="$ctrl.selectedDirectory != null && $ctrl.canManage" data-ng-click="$ctrl.RenameSelectedDirectory()">Rename Folder</button> <button type="button" class="btn btn-outline-danger" data-ng-show="$ctrl.selectedDirectory != null && $ctrl.canManage" data-ng-click="$ctrl.DeleteSelectedDirectory()">Delete Folder</button> <button type="button" class="btn btn-outline-primary" data-ng-if="$ctrl.selectedDirectory != null && $ctrl.selectedDirectory.directoryDepth < 2 && $ctrl.canManage" data-ng-click="$ctrl.createSubDirectory()">Create Sub-Folder</button></div></div><div class="col-12 col-lg-3"><div class="margin-right-10">Sort By:<br><span class="text-link" data-ng-class="{\'bold-underline\': $ctrl.fileSortType === \'title\'}" data-ng-click="$ctrl.SetFileSortType(\'title\')">Name</span> - <span data-ng-class="{\'bold-underline\': $ctrl.fileSortType === \'uploadDate\'}" data-ng-click="$ctrl.SetFileSortType(\'uploadDate\')" class="text-link">Upload Date</span></div></div></div><p data-ng-show="$ctrl.selectedDirectory.files.length === 0">This folder contains no files</p><div id="FileContainer_{{ ::$index }}" class="file_item p-2" data-ng-class="{\'Document_File_Selected\': $ctrl.selectedFile === curFile, \'Document_File\': $ctrl.selectedFile !== curFile }" data-ng-click="$ctrl.onFileClicked( curFile )" data-ng-repeat="curFile in $ctrl.selectedDirectory.files"><div class="file_info media-item margin-top"><div class="media-thumbnail"><img id="File_{{ ::$index }}" class="file-thumbnail draggable" ng-dblclick="$ctrl.viewDoc( curFile, false )" ng-src="{{::$ctrl.getFileIcon(curFile.fileName)}}"></div><div class="media-content"><label id="file-name-{{ ::$index }}" class="file-name">{{ ::curFile.title }}</label><div class="row"><div class="col-md-7 uploader">Uploaded {{ ::curFile.uploadDate | date:\'MMMM d, y\' }} <span data-ng-show="curFile.uploaderFullName">by {{ ::curFile.uploaderFullName }}</span> - <span>{{ ::curFile.fileSizeBytes | filesize }}</span><span data-ng-if="$ctrl.isGenericIcon(curFile)"> - {{ $ctrl.getDisplayExtension( curFile ) }}</span><span> - {{ curFile.numViews }} view{{ curFile.numViews === 1 ? \'\' : \'s\' }}</span></div><div class="col-md-5 text-md-end padding-right"><span ng-click="$ctrl.viewDoc( curFile, false )" class="text-button">View</span> - <span ng-click="$ctrl.viewDoc( curFile, true )" class="text-button">Download</span> <span data-ng-if="$ctrl.canManage">- <a href="javascript:void(0)" id="rename-document-button-{{ ::$index }}" class="text-button" data-ng-click="$ctrl.RenameDocument(curFile);">Rename</a></span> <span data-ng-if="$ctrl.canManage">- <a href="javascript:void(0)" id="delete-document-button-{{ ::$index }}" class="text-button" data-ng-click="$ctrl.DeleteDocument(curFile);">Delete</a></span></div></div></div></div></div></div><div class="file-list-panel" data-ng-show="$ctrl.fileSearch.all"><h2>File Search Results<small class="margin-left-15"><i>{{ $ctrl.searchFileList.length }} {{ $ctrl.searchFileList.length == 1 ? \'file\' : \'files\' }} found</i></small></h2><div class="file_item search" data-ng-repeat="curFile in $ctrl.searchFileList"><div class="file_info media-item margin-top"><div class="media-thumbnail"><img id="File_{{ $index }}" class="file-thumbnail draggable" ng-src="{{$ctrl.getFileIcon(curFile.fileName)}}"></div><div class="media-content"><label id="file-name-{{ $index }}" class="file-name"><span ng-bind-html="curFile.localFilePath | highlight:$ctrl.fileSearch.all"></span></label><div class="row"><div class="col-md-6 uploader">Uploaded <span ng-bind-html="curFile.uploadDateString | highlight:$ctrl.fileSearch.all"></span> <span data-ng-if="curFile.uploaderFullName">by <span ng-bind-html="curFile.uploaderFullName | highlight:fileSearch.all"></span></span></div><div class="col-md-6 text-md-end padding-right"><span ng-click="$ctrl.viewDoc( curFile, false )" class="text-button">View</span> - <span ng-click="$ctrl.viewDoc( curFile, true )" class="text-button">Download</span> <span data-ng-if="$ctrl.canManage">- <a href="javascript:void(0)" id="rename-document-button-{{ $index }}" class="text-button" data-ng-click="$ctrl.RenameDocument(curFile);">Rename</a></span> <span data-ng-if="$ctrl.canManage">- <a href="javascript:void(0)" id="delete-document-button-{{ $index }}" class="text-button" data-ng-click="$ctrl.DeleteDocument(curFile);">Delete</a></span></div></div></div></div></div></div></div></div></div><div class="text-end mt-2"><span class="text-link" data-ng-if="!$ctrl.generatingZipStatus" data-ng-click="$ctrl.startZipGenDownload()">Generate Zip Of All Files</span> <img data-ng-if="$ctrl.generatingZipStatus && $ctrl.generatingZipStatus !== \'ready\'" src="/assets/images/Spinner_Small.gif"> <span data-ng-if="$ctrl.generatingZipStatus !== \'ready\'">{{$ctrl.generatingZipStatus}}</span> <a data-ng-if="$ctrl.generatingZipStatus === \'ready\'" data-ng-href="{{$ctrl.downloadZipUrl}}" download>Download Zip File</a><div class="note-text">(This can take a few minutes. A download link will appear when ready.)</div></div><div id="CreateDirectoryContainer" class="modal-container" data-ng-show="$ctrl.shouldShowCreateFolderModal" data-ng-form data-ng-enter="$ctrl.onCreateDirectoryClicked()" data-ng-escape="$ctrl.onCancelAddDirectory()"><div class="modal-overlay"></div><div class="ca-modal-dialog modal-sm"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><div>Folder Name: <input class="form-control" id="CreateDirectoryNameTextBox" maxlength="32" data-ng-model="$ctrl.newDirectoryName" type="text"><br></div><div class="text-center margin-top"><button id="create-directory-button" class="btn btn-primary" data-ng-click="$ctrl.onCreateDirectoryClicked()">OK</button>&nbsp; <button class="btn btn-primary" data-ng-click="$ctrl.onCancelAddDirectory()">Cancel</button></div></div></div><div id="FileUploadProgressContainer" style="display:none"><div style="z-index:0" class="loading-overlay"></div><div id="FileUploadProgressPanel"><h1>File Upload Progress</h1><h2 id="FileUploadProgressLabel">0%</h2><div id="FileUploadProgressBarContainer"><div id="FileUploadProgressBar"></div></div><br><img src="../../assets/images/Spinner_Small.gif"></div></div></section>'),t.put("/ngApp/common/FAQs.html",'<div class="page-subpage page-document-info info spinner-effect" data-ng-cloak><h1>{{ $ctrl.headerText }}</h1><br><div data-ng-if="$ctrl.infoItems.length > 5" style="margin-bottom:30px"><span data-ng-repeat="info in $ctrl.infoItems"><span class="text-link" id="info-item-link-{{ $index }}" data-ng-click="$ctrl.scrollToInfo( $index )">{{ info.title }}</span><br></span><hr></div><div class="loading-overlay" data-ng-show="$ctrl.isLoadingInfo"></div><div id="info-item-{{ $index }}" class="association-info-item" style="margin-bottom:20px" data-ng-repeat="info in $ctrl.infoItems"><a name="info-item-nav-{{ $index }}"><h4 style="display:inline-block" id="info-item-title-{{ $index }}">{{ info.title }}</h4></a><div data-ng-show="$ctrl.canManage" style="display:inline-block;font-size:small;margin-left:9px"><a href="javascript:void(0)" id="info-item-edit-{{ $index }}-button" class="text-button" data-ng-click="$ctrl.onStartEditInfoItem( info );">Edit</a> <a href="javascript:void(0)" id="info-item-delete-{{ $index }}-button" class="text-button ms-1" data-ng-click="$ctrl.onDeleteInfoItem( info );">Delete</a></div><p id="info-item-body-{{ $index }}" class="info-item-body" data-ng-bind-html="info.body"></p><br></div><div class="add_info" data-ng-show="$ctrl.canManage"><br><h4>Add New Information</h4><form action="" id="info-item-edit-form"><p><label>Title</label></p><p><input type="text" class="input_field" id="AddInfoItemTitleTextBox" data-ng-model="$ctrl.editingInfoItem.title" maxlength="128" data-rule-required="true"></p><p><label>Message:</label></p><div><textarea id="tiny-mce-editor" data-ng-model="$ctrl.editingInfoItem.body" style="width:100%;height:250px"></textarea></div><div class="text-error" data-ng-if="$ctrl.tinyMceDidNotLoad">Our rich-text editor failed to load. You can try to reload the page or you may need to wait a few hours if you want rich-text editing capabilities.</div><span class="fw-bold note-text">Please resize your images to be below 100KB before inserting to keep the page loading fast for your neighbors.</span><p class="text-end margin-top-10"><span data-ng-show="$ctrl.isBodyMissing" class="error">The body is required.</span> <button id="AddNewInfoButton" class="btn btn-primary" type="button" data-ng-click="$ctrl.onSubmitItem();">Submit</button>&nbsp; <button id="CancelEditInfoButton" class="btn btn-primary margin-left-10" type="button" data-ng-show="$ctrl.editingInfoItem.infoItemId != null" data-ng-click="$ctrl.cancelInfoItemEdit()">Cancel Edit</button></p></form></div><div class="add_info" data-ng-hide="$ctrl.canManage" style="padding-top:3em;font-weight:700">Site admin can add and edit association information. If you would like to add information, please let someone on your board know or ask to be made a site admin.</div></div>'),t.put("/ngApp/common/financial/resident-transactions.html",'<span class="text-link" data-ng-click="$ctrl.showModal()">My Transactions</span><div class="modal-container text-start" data-ng-if="$ctrl.shouldShowModal"><div class="modal-overlay" data-ng-click="$ctrl.shouldShowModal = false"></div><div class="ca-modal-dialog modal-lg"><div class="loading-overlay" data-ng-if="$ctrl.isLoading"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowModal = false">×</span><h2>Owner Financial Transactions</h2><div data-ng-if="$ctrl.ownerFinanceTxNote" class="mt-1 mb-1"><b>Board Note:</b> {{$ctrl.ownerFinanceTxNote}}</div><div data-ng-if="$ctrl.allFinancialTxns.length > 0"><div style="float:right" data-ng-if="$ctrl.ownerBalance">Balance: {{$ctrl.ownerBalance | currency}}</div><div class="mt-4 mb-2"><b class="me-1">Date Range:</b><date-range-picker data-on-change="$ctrl.onFilterDateRangeChange()" data-start-date="$ctrl.filterStartDate" data-end-date="$ctrl.filterEndDate"></date-range-picker></div><div data-ng-if="$ctrl.transactionGridOptions.data.length > 0"><div data-ui-grid="$ctrl.transactionGridOptions" ui-grid-resize-columns ui-grid-pagination></div><div class="mb-2" style="height:20px"><span class="note-text text-link pull-right" data-ng-click="$ctrl.exportTransactionsCsv()">Export To CSV</span></div></div><div data-ng-if="$ctrl.transactionGridOptions.data.length === 0">No transactions found for that date range.</div></div><div data-ng-if="$ctrl.allFinancialTxns.length === 0">No financial transactions found for your {{$ctrl.homeName.toLowerCase()}}.</div></div></div>'),t.put("/ngApp/common/group-redirect.html",'<div class="page"></div>'),t.put("/ngApp/common/group-send-email.html",'<div class="send-email portlet-box white margin-vertical-lg box-shadow" id="send-email-panel" data-ng-if="$ctrl.availableEmailGroups.length > 0 || $ctrl.committee"><div class="portlet-header"><h2 class="title"><i class="fa-solid fa-envelope ally-portlet-icon me-2"></i> Send Email</h2></div><div class="portlet-body" style="position:relative"><div class="loading-overlay" data-ng-show="$ctrl.isLoadingEmail"></div><div data-ng-show="$ctrl.showSendEmail"><form id="message-form"><div class="row mb-3 px-3" data-ng-if="!$ctrl.committee"><label class="form-label">Choose Recipient Group</label> <select class="form-control form-select" data-ng-model="$ctrl.selectedRecipient" data-ng-change="$ctrl.onSelectEmailGroup()" title="Choose Recipient Group" data-ng-options="e as e.displayName for e in $ctrl.availableEmailGroups"></select><div data-ng-if="$ctrl.showUseDiscussSuggestion" style="color:#00f;font-size:large" class="ps-0">Primary use of this group is for announcements, questions, and requests for vendor recommendations. <span style="font-weight:700">For matters of discussion and opinions, please use the discussion group.</span></div><div data-ng-if="$ctrl.showRestrictedGroupWarning" style="color:#00f;font-weight:700" class="ps-0">This group email address is restricted meaning replies will be sent only to you and not the entire group.</div><div data-ng-if="$ctrl.showDiscussionEveryoneWarning" style="color:red;font-weight:700" class="ps-0">In general, sending an email to the "Everyone" group should be reserved for urgent notices. Instead, most "everyone" emails should be sent to the "discussion" group. The discussion group allows residents to unsubscribe from individual threads, thus residents are more engaged in the threads in which they participate and complain less about email.</div><div data-ng-if="$ctrl.showDiscussionLargeWarning" style="color:red;font-weight:700" class="ps-0">Sending an email to this recipient group will send to a lot of people. Please consider the "discussion" group which allows residents to unsubscribe from individual threads. This way, residents are more engaged in the threads in which they participate and complain less about email.</div><div class="ps-0"><a data-ng-href="mailto:{{ $ctrl.groupEmailAddress }}" class="note-text">{{ $ctrl.groupEmailAddress }}</a><br><small>For individual {{$ctrl.memberLabel}} messaging or group listings, visit the <a href="#!/BuildingResidents">{{$ctrl.memberPageName}}</a> page</small></div></div><div class="row mb-3 px-3" data-ng-if="$ctrl.committee">This will send an email to the members of this committee. If you\'d prefer to send a message from your own email client, send to this address:<br><a href="mailto:committee-{{ $ctrl.committee.committeeId }}.{{ $ctrl.siteInfo.publicSiteInfo.shortName }}@{{ $ctrl.groupEmailDomain }}">committee-{{ $ctrl.committee.committeeId }}.{{ $ctrl.siteInfo.publicSiteInfo.shortName }}@{{ $ctrl.groupEmailDomain }}</a></div><div class="row mb-3 px-3"><label for="message-subject-text" class="form-label">Subject:</label> <input id="message-subject-text" type="text" class="form-control" data-ng-model="$ctrl.messageObject.subject"></div><div class="row mb-3 px-3"><label for="message-body-text" class="form-label">Email Contents:</label> <textarea id="message-body-text" class="form-control" data-ng-model="$ctrl.messageObject.message" data-rule-required="true" rows="10"></textarea></div><div class="mb-4" data-ng-if="$ctrl.shouldShowSendAsBoard"><label><input type="checkbox" data-ng-model="$ctrl.messageObject.shouldSendAsBoard">Send from the board group email address</label><div class="note-text">This will set the "from" address as the board\'s address rather than your personal, anonymized email address.</div></div><a class="note-text" target="_blank" href="https://help.communityally.org/how-to-send-an-e-mail-with-an-attachment/">Want to add an attachment or use advanced formatting?</a><p class="text-end"><input class="btn btn-primary" value="Send Email" id="send-email-button" type="button" data-ng-click="$ctrl.onSendEmail()" data-ng-if="!$ctrl.isLoadingEmail"></p></form></div><div data-ng-show="$ctrl.showSendConfirmation">Your message has been sent successfully.<br><span class="text-button" data-ng-click="$ctrl.showSendEmail = true; $ctrl.showSendConfirmation = false;">Send Another</span></div><div data-ng-show="$ctrl.showEmailForbidden">You do not have permission to send email.</div></div></div>'),t.put("/ngApp/common/local-news-feed.html",'<div class="portlet-box white margin-vertical-lg box-shadow"><div class="portlet-header"><div class="title" id="local-news-header"><i class="fa-solid fa-newspaper ally-portlet-icon me-2"></i> Local News</div></div><div class="portlet-body spinner-effect min100vh"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><article data-ng-repeat="news in $ctrl.localNewStories" class="ally-shaded-item"><h5><a data-ng-href="{{ ::news.fullStoryUri }}" target="_blank">{{ ::news.title }}</a></h5><p class="date note-text">{{ ::news.date | date:\'short\' }}</p><p><photo photo-src="news.bodySnippet">{{ ::news.bodySnippetText }}</p><p class="m-0"><a data-ng-href="{{ ::news.fullStoryUri }}" target="_blank" class="more">Read more</a></p></article></div></div>'),t.put("/ngApp/common/mailing/mailing-history.html",'<div><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><h2>Mailing History</h2><p>Here you can view the history of mail sent by your group and view the status of mailings.</p><div data-ng-if="$ctrl.historyGridOptions.data.length > 0" data-ui-grid="$ctrl.historyGridOptions" ui-grid-resize-columns class="gridStyle margin-top-20"></div><div class="note-text" data-ng-if="$ctrl.historyGridOptions.data.length === 0">Your group has not sent any mailings.</div><div class="modal-container" data-ng-if="$ctrl.viewingResults" data-ng-escape="$ctrl.viewingResults = null"><div class="modal-overlay" data-ng-click="$ctrl.viewingResults = null"></div><div novalidate class="ca-modal-dialog modal-lg" style="width:1100px;margin-left:-550px"><span style="float:right" class="close-x" data-ng-click="$ctrl.viewingResults = null">&times;</span><div data-ui-grid="$ctrl.resultsGridOptions" ui-grid-auto-resize ui-grid-resize-columns data-ng-style="{\'height\':$ctrl.resultsGridheight+\'px\'}" class="gridStyle margin-top-20"></div></div></div></div>'),t.put("/ngApp/common/mailing/mailing-invoice.html",'<div><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><h2 style="display:inline-block">Send Invoices</h2><a class="help-link" style="display:inline-block;margin-left:20px" target="_blank" href="https://help.communityally.org/sending-invoices/">View Help</a><p>Here you can quickly and easily send out invoices to all of the members of your association. Follow the steps below to send email and/or mailed paper invoices to your members. Paper letters cost {{$ctrl.paperInvoiceDollars | currency}} (total, includes print, prep, and postage. +$1 for international mailing) per sent invoice. Paper letters are sent via presorted first class mail and take about 5-7 business days to arrive.</p><br><br><wizard data-ng-hide="$ctrl.hideWizard" on-finish="$ctrl.onFinishedWizard()"><wz-step title="Info"><h2 class="StepTitle"></h2><p>First, please provide some basic information we need to generate the invoice document.</p><div><div class="mb-3 row"><div class="row mb-3 col-12"><label for="due-date-textbox" class="col-form-label form-label">From Address:</label><street-address-form data-street-address="$ctrl.fullMailingInfo.fromStreetAddress"></street-address-form></div></div><div class="mb-3 row px-3"><label for="invoice-title-textbox" class="col-2 col-form-label form-label">Invoice Title:</label><div class="col-5"><input type="text" class="form-control" id="invoice-title-textbox" data-ng-model="$ctrl.fullMailingInfo.invoiceTitleString" autocomplete="off" data-lpignore="true" data-form-type="other"></div></div><div class="mb-3 row px-3"><label for="due-date-textbox" class="col-2 col-form-label form-label">Due Date:</label><div class="col-5"><input type="text" class="form-control" id="due-date-textbox" data-ng-model="$ctrl.fullMailingInfo.dueDateString" autocomplete="off" data-lpignore="true" data-form-type="other"></div></div><div class="mb-3 row px-3"><label for="dues-label-textbox" class="col-2 col-form-label form-label">Dues Label:</label><div class="col-5"><input type="text" class="form-control" id="dues-label-textbox" data-ng-model="$ctrl.fullMailingInfo.duesLabel" autocomplete="off" data-lpignore="true" data-form-type="other"></div></div><div class="mb-3 row px-3"><div class="row mb-3 col-12"><label for="notes-textbox" class="col-form-label form-label">Notes:</label><br><textarea id="notes-textbox" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.fullMailingInfo.notes" rows="4" maxlength="500"></textarea> <span class="note-text ps-0">These notes will appear at the bottom of the invoice. For example, use them to provide payment instructions and/or thank your member.</span></div></div></div><input id="next-button-0" type="submit" class="btn btn-sign-up-wiz" style="width:95%;float:none;margin:0 auto" wz-next value="Next Step"></wz-step><wz-step title="Recipients"><h2 class="StepTitle"></h2><p>Select to which homes an invoice will be sent and how much will be listed due. You can preview the invoices on the third step.</p><div style="text-align:right">Set all amounts due to: $<input type="number" style="width:70px" data-ng-model="$ctrl.allDuesSetAmount"><button type="button" data-ng-click="$ctrl.setAllDues()">Set</button></div><div data-ng-if="$ctrl.shouldShowAutoUnselect"><button type="button" class="btn btn-secondary" data-ng-click="$ctrl.autoUnselectPaidOwners()">Unselect all residents that have already paid for {{$ctrl.autoUnselectLabel}}</button><div class="note-text">This status comes from the <a href="#!/Financials/AssessmentHistory">assessment history</a> page.</div></div><div><div data-ng-if="$ctrl.activeStepIndex === 1" data-ui-grid="$ctrl.homesGridOptions" ui-grid-auto-resize ui-grid-selection ui-grid-resize-columns class="gridStyle margin-top-20"></div><div>{{$ctrl.selectedEntries.length}} recipient{{$ctrl.selectedEntries.length === 1 ? \'\' : \'s\'}} selected</div></div><br><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Next Step"><div class="clearfix"></div></wz-step><wz-step title="Delivery Method"><h2 class="StepTitle"></h2><p id="delivery-method-header">Select how you want to send the invoice to these homeowners.</p><div><div><span class="text-link" data-ng-click="$ctrl.toggleAllSending(\'email\')">Toggle All Email Sending</span> <span class="text-link ms-3" data-ng-click="$ctrl.toggleAllSending(\'paper\')">Toggle All Paper Mail Sending</span></div><div data-ng-if="$ctrl.numAddressesToBulkValidate > 0" class="m-3" style="color:#00f"><img src="/assets/images/Spinner_Small.gif"> Validating mailing addressess... {{ $ctrl.numAddressesToBulkValidate }} remaining.</div><div data-ng-if="$ctrl.numInvalidMailingAddresses > 0" class="m-3 text-error">{{ $ctrl.numInvalidMailingAddresses }} mailing address{{$ctrl.numInvalidMailingAddresses === 1 ? \'\' : \'es\'}} appear{{$ctrl.numInvalidMailingAddresses === 1 ? \'s\' : \'\'}} to be invalid. Please <span class="text-link" data-ng-click="$ctrl.scrollToFirstAddressError()">click here</span> or scroll down and look for red error text to the right of the mailing address.</div><div id="recipient-entry-{{$index}}" class="border p-2 m-2" style="position:relative" data-ng-repeat="recipient in $ctrl.selectedEntries"><div class="loading-overlay" data-ng-if="recipient.isValidating"></div><div class="mb-4 row"><div class="col-12"><h4>{{ recipient.homeNames }}</h4></div><div class="col-12">{{ recipient.ownerNames }} owes {{ recipient.amountDue + (recipient.balanceForward || 0) + (recipient.lateFee || 0) | currency }}.</div></div><table><tbody><tr><td class="AlignRightBold"><label><input type="checkbox" data-ng-model="recipient.shouldSendEmail">Send Email</label></td><td style="width:600px"><input type="text" class="form-control form-control-sm" data-ng-model="recipient.emailAddresses" autocomplete="off" data-lpignore="true" data-form-type="other"><div class="text-error" data-ng-if="recipient.shouldSendEmail && (!recipient.emailAddresses || recipient.emailAddresses.length === 0)">Email Required</div></td><td></td></tr><tr><td style="width:140px" class="AlignRightBold"><label><input type="checkbox" data-ng-change="$ctrl.onShouldSendPaperMailChange( recipient )" data-ng-model="recipient.shouldSendPaperMail">Send Paper Mail</label></td><td style="width:700px;padding-top:30px"><street-address-form data-street-address="recipient.streetAddressObject" on-change="$ctrl.onAddressChanged( recipient )"></street-address-form></td><td><div class="text-error" data-ng-style="{\'color\': recipient.isValidMailingAddress ? \'darkgreen\' : \'red\', \'font-size\':\'medium\'}">{{recipient.validationMessage}}</div></td></tr><tr><td colspan="3"><span data-ng-if="!recipient.overrideNotes" data-ng-click="$ctrl.customizeNotes( recipient )" class="text-link note-text">Customize Notes</span><div data-ng-if="recipient.overrideNotes"><textarea id="notes-textbox" type="text" class="form-control form-control-sm" data-ng-model="recipient.overrideNotes" rows="4" maxlength="500"></textarea><div data-ng-click="$ctrl.uncustomizeNotes( recipient )" class="text-link">Uncustomize Notes</div></div></td></tr><tr><td colspan="2" style="text-align:center"><span class="text-link" data-ng-click="$ctrl.previewInvoice( recipient )">Preview Invoice PDF</span><div data-ng-if="recipient.wasPopUpBlocked" class="text-error">Preview may have been blocked, please allow pop-ups in browser settings or up in the address bar</div></td><td></td></tr></tbody></table></div></div><div data-ng-if="$ctrl.numAddressesToBulkValidate > 0" class="m-3" style="color:#00f"><img src="/assets/images/Spinner_Small.gif"> Validating mailing addressess... {{ $ctrl.numAddressesToBulkValidate }} remaining.</div><div data-ng-if="$ctrl.numInvalidMailingAddresses > 0" class="m-3 text-error">{{ $ctrl.numInvalidMailingAddresses }} mailing address{{$ctrl.numInvalidMailingAddresses === 1 ? \'\' : \'es\'}} appear{{$ctrl.numInvalidMailingAddresses === 1 ? \'s\' : \'\'}} to be invalid. Please <span class="text-link" data-ng-click="$ctrl.scrollToFirstAddressError()">click here</span> or scroll up and look for red error text to the right of the mailing address.</div><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Next Step"><div class="clearfix"></div></wz-step><wz-step title="Confirm"><h2 class="StepTitle"></h2><p>Confirm these numbers are correct, pay any mailing fees, and your letters and emails will be sent.</p><div class="text-center text-large"><div>Emails to send: <span style="font-weight:700">{{$ctrl.numEmailsToSend}}</span></div><div>Paper letters to mail: <span style="font-weight:700">{{$ctrl.numPaperLettersToSend}}</span></div><div data-ng-if="$ctrl.numPaperLettersToSend > 0">Total Cost: <span style="font-weight:700">{{$ctrl.numPaperLettersToSend * 2 | currency}}</span></div><div data-ng-if="$ctrl.numPaperLettersToSend === 0">Total Cost: <span style="font-weight:700">Free</span></div></div><div class="col-sm-12 col-md-6 mx-auto mt-5" data-ng-if="$ctrl.paymentType === \'creditCard\' && $ctrl.numPaperLettersToSend > 0"><h5 class="card-title">Enter Credit Card Info</h5><div id="stripe-card-element" class="border"></div><div id="card-errors" class="text-error" role="alert"></div><p>{{$ctrl.checkoutDescription}}</p></div><br><br><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="finish-button" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Finish"><div class="clearfix"></div></wz-step></wizard></div>'),t.put("/ngApp/common/mailing/mailing-parent.html",'<div class="page-documents"><div data-ng-if="$ctrl.isLoading" class="loading-overlay"></div><section class="padding white-bg padding margin-vertical box-shadow header-pill-menu-section"><h3>Mailings</h3><nav class="nav nav-pills justify-content-center"><a class="nav-item nav-link" data-ng-href="#!/Mailing/Invoice" id="info-sub-view-link-invoices" data-ng-class="{\'active\':$ctrl.selectedView===\'Invoice\',\'ally-active-nav\':$ctrl.selectedView===\'Invoice\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Invoice\'}">Invoices </a><a class="nav-item nav-link" href="#!/Mailing/Newsletter" id="info-sub-view-link-newsletters" data-ng-class="{\'active\':$ctrl.selectedView===\'Newsletter\',\'ally-active-nav\':$ctrl.selectedView===\'Newsletter\',\'ally-inactive-nav\':$ctrl.selectedView!==\'Newsletter\'}">Newsletters </a><a class="nav-item nav-link" href="#!/Mailing/History" id="info-sub-view-link-history" data-ng-class="{\'active\':$ctrl.selectedView===\'History\',\'ally-active-nav\':$ctrl.selectedView===\'History\',\'ally-inactive-nav\':$ctrl.selectedView!==\'History\'}">History</a></nav></section><div class="padding white-bg margin-vertical spinner-effect" data-ng-if="$ctrl.selectedView === \'Invoice\'"><mailing-invoice></mailing-invoice></div><div class="padding white-bg margin-vertical spinner-effect" data-ng-if="$ctrl.selectedView === \'Newsletter\'">Newsletter paper-mailing may be coming soon. If this is a feature that interests you, reach out with the chat box in the lower right. We haven\'t heard much interest so are unsure if this will go in.<br><br>In the meantime, you can <a href="https://help.communityally.org/how-to-send-an-e-mail-with-an-attachment/">send your newsletter via email</a> if you want.</div><div class="padding white-bg margin-vertical spinner-effect" data-ng-if="$ctrl.selectedView === \'History\'"><mailing-history></mailing-history></div></div>'),t.put("/ngApp/common/maintenance-widget.html",'<div class="generic portlet-box white margin-vertical-lg" id="send-email-panel"><div class="portlet-header"><h3 class="title">Maintenance</h3></div><div class="portlet-body"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h5>Upcoming Work</h5><div data-ng-repeat="proj in $ctrl.upcomingWork"></div><span data-ng-if="!$ctrl.upcomingWork || $ctrl.upcomingWork.length === 0" class="note-text">There is no scheduled upcoming work.</span><h5 style="margin-top:20px">Recent Entries</h5><div data-ng-repeat="project in $ctrl.recentProjects"><a href="#!/Info/Maintenance" style="font-weight:700">{{ project.title }}</a><br><div class="note-text" data-ng-if="project.startDate">{{ project.startDate | date:\'shortDate\' }}<span data-ng-if="project.endDate && project.endDate.getTime() !== project.startDate.getTime()">&nbsp;- {{ project.endDate | date:\'shortDate\' }}</span></div><br></div><span data-ng-if="!$ctrl.recentProjects || $ctrl.recentProjects.length === 0" class="note-text">There are no recent entries to show.</span><div style="text-align:right"><a href="#!/Info/Maintenance" class="note-text">View your home maintenance log</a></div></div></div>'),t.put("/ngApp/common/maintenance.html",'<div class="page-subpage page-document-info info spinner-effect" data-ng-cloak><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div class="row"><div class="col-5"><h1 style="display:inline-block">Maintenance</h1><a class="ms-4" href="https://help.communityally.org/the-maintenance-tool/" target="_blank">Learn More</a> <span class="text-link note-text ms-4" data-ng-click="$ctrl.shouldShowManageEquipmentModal = true">{{ $ctrl.isSiteManager ? "Manage" : "View" }} Equipment</span></div><div class="col-5"><input type="text" class="form-control" style="display:none!important" placeholder="Search maintenance"></div><div class="col-2" style="text-align:right"><button data-ng-if="$ctrl.isSiteManager" style="float:right" class="btn btn-primary" data-ng-click="$ctrl.openAddNewProject();" type="button">Add New Entry</button></div></div><div class="row"><div class="col-12 mt-5"><h3>Entries</h3></div></div><div class="row"><div class="col-12">Sort By: <span class="text-link" data-ng-class="{\'bold-underline\': $ctrl.entriesSortField === \'entryDate\'}" data-ng-click="$ctrl.updateEntriesSort(\'entryDate\')">Entry Date</span> - <span class="text-link" data-ng-class="{\'bold-underline\': $ctrl.entriesSortField === \'status\'}" data-ng-click="$ctrl.updateEntriesSort(\'status\')">Status</span> - <span class="text-link" data-ng-class="{\'bold-underline\': $ctrl.entriesSortField === \'startDate\'}" data-ng-click="$ctrl.updateEntriesSort(\'startDate\')">Start Date</span></div></div><div class="row" data-ng-repeat="entry in $ctrl.maintenanceEntries"><div class="col-12"><div class="card ally-shaded-item"><div class="card-body"><h5 class="card-title">{{entry.getTitle()}} <span data-ng-show="$ctrl.isSiteManager" class="note-text" style="display:inline-block;font-size:small;margin-left:9px"><a href="javascript:void(0)" id="maintenance-item-edit-{{ $index }}-button" class="text-button" data-ng-click="$ctrl.onEditEntry( entry );">Edit</a> <a href="javascript:void(0)" id="maintenance-item-delete-{{ $index }}-button" style="margin-left:10px" class="text-button" data-ng-click="$ctrl.onDeleteEntry( entry );">Delete</a></span></h5><h6 class="card-subtitle mb-2 text-muted note-text">{{entry.getTypeName()}} entered by {{entry.getAuthorName()}} on {{entry.getCreatedDate() | date:\'short\'}}</h6><div data-ng-if="entry.todo"><div data-ng-if="entry.todo.dueDate"><label style="font-weight:700">Due:</label>&nbsp;{{ entry.todo.dueDate | date:\'shortDate\' }}</div><div data-ng-if="entry.todo.assignedToFullName"><label style="font-weight:700">Assigned To:</label>&nbsp;{{ entry.todo.assignedToFullName }}</div></div><div data-ng-if="entry.project"><div data-ng-if="entry.project.startDate"><label style="font-weight:700" class="mb-2">Project Date:</label>&nbsp;{{ entry.project.startDate | date:\'shortDate\' }}<span data-ng-if="entry.project.endDate && entry.project.endDate.getTime() !== entry.project.startDate.getTime()">&nbsp;- {{ entry.project.endDate | date:\'shortDate\' }}</span></div><div data-ng-if="entry.project.cost"><label style="font-weight:700" class="mb-2">Cost:</label>&nbsp;{{ entry.project.cost | currency }}</div><div data-ng-if="entry.project.vendorCompanyName"><label style="font-weight:700" class="mb-2">Vendor:</label>&nbsp;{{ entry.project.vendorCompanyName }}</div><div data-ng-if="entry.project.equipmentName"><label style="font-weight:700" class="mb-2">Equipment:</label>&nbsp;{{ entry.project.equipmentName }}</div><div data-ng-if="entry.project.status"><label style="font-weight:700" class="mb-2">Status:</label>&nbsp;{{ entry.project.status }}</div><div data-ng-if="entry.project.assignedTo"><label style="font-weight:700" class="mb-2">Assigned To:</label>&nbsp;{{ entry.project.assignedTo }}</div><p id="maintenance-item-body-{{ $index }}" data-ng-if="entry.project.descriptionText" class="maintenance-item-body" style="white-space:pre-wrap" ng-bind-html="entry.project.descriptionText | linky:\'_blank\':{rel: \'nofollow noopener noreferrer\'}"></p></div></div></div></div></div><div class="text-end mt-2"><a href="javascript:void(0)" class="text-link" data-ng-click="$ctrl.exportMaintenanceCsv()">Export Maintenance Records To CSV</a></div><div class="modal-container" data-ng-if="$ctrl.editingProject || $ctrl.editingTodo" data-ng-escape="$ctrl.editingProject = $ctrl.editingTodo = null"><div class="modal-overlay"></div><form class="ca-modal-dialog modal-md"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><div data-ng-if="($ctrl.editingProject && $ctrl.editingProject.maintenanceProjectId) || ($ctrl.editingTodo && $ctrl.editingTodo.todoItemId)"><span style="float:right" class="close-x" data-ng-click="$ctrl.editingProject = $ctrl.editingTodo = null">&times;</span><h2>{{ $ctrl.editingProject ? "Edit Maintenance Entry" : "Edit To-Do" }}</h2></div><div data-ng-if="($ctrl.editingProject && !$ctrl.editingProject.maintenanceProjectId) || ($ctrl.editingTodo && !$ctrl.editingTodo.todoItemId)"><span style="float:right" class="close-x" data-ng-click="$ctrl.editingProject = $ctrl.editingTodo = null">&times;</span><h2>Add New Entry</h2><label class="mb-3"><input name="new-entry-type" type="radio" data-ng-click="$ctrl.onEntryTypeChange(\'proj\')" checked="checked">Maintenance Entry</label> <label class="mb-3" style="margin-left:2em"><input name="new-entry-type" type="radio" data-ng-click="$ctrl.onEntryTypeChange(\'todo\')">To-Do</label></div><div data-ng-if="$ctrl.editingProject"><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Name:</label><div class="col-sm-9 col-12"><input id="project-title-text-box" class="form-control" type="text" data-ng-enter="$ctrl.saveProject()" data-ng-model="$ctrl.editingProject.title"></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Equipment:</label><div class="col-sm-9 col-12"><select data-ng-model="$ctrl.editingProject.equipmentId" data-ng-change="$ctrl.onEquipmentSelectionChange()" class="form-control form-select" data-ng-options="eq.equipmentId as eq.name for eq in $ctrl.equipmentOptions"><option></option></select></div></div><div class="mb-3 row" data-ng-if="$ctrl.vendorOptions.length > 0"><label class="col-sm-3 col-12 form-label-popup">Vendor:</label><div class="col-sm-9 col-12"><select data-ng-model="$ctrl.editingProject.vendorId" class="form-control form-select" data-ng-options="v.preferredVendorId as v.companyName for v in $ctrl.vendorOptions"><option></option></select></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Notes:</label><div class="col-sm-9 col-12"><textarea data-ng-model="$ctrl.editingProject.descriptionText" class="form-control" rows="4"></textarea></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Status:</label><div class="col-sm-9 col-12"><select data-ng-model="$ctrl.editingProject.status" class="form-control form-select"><option></option><option value="Not Started">Not Started</option><option value="Active">Active</option><option value="Complete">Complete</option><option value="Cancelled">Cancelled</option></select></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Assigned To:</label><div class="col-sm-9 col-12"><input class="form-control" type="text" data-ng-model="$ctrl.editingProject.assignedTo"></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Started On:</label><div class="col-sm-9 col-12"><input type="text" class="form-control" data-ui-date="{changeYear: true, changeMonth: true, yearRange: \'1980:+1\'}" data-ng-change="$ctrl.onProjectStartDateChange()" data-ng-model="$ctrl.editingProject.startDate"></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Finished On:</label><div class="col-sm-9 col-12"><input type="text" class="form-control" data-ui-date="{changeYear: true, yearRange: \'1980:+1\'}" data-ng-model="$ctrl.editingProject.endDate"></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Cost:</label><div class="col-sm-9 col-12">$<input type="text" class="form-control" style="display:inline-block;width:98%" data-ng-enter="$ctrl.saveProject()" data-ng-model="$ctrl.editingProject.cost"></div></div><div class="text-end"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.saveProject()">Save</button></div></div><div data-ng-if="$ctrl.editingTodo"><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Name:</label><div class="col-sm-9 col-12"><input id="edit-todo-name-text-box" data-ng-enter="$ctrl.saveTodo()" class="form-control" type="text" data-ng-model="$ctrl.editingTodo.description"></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Assignee:</label><div class="col-sm-9 col-12"><div data-ng-if="$ctrl.assigneeOptions.length <= 10"><select class="form-control form-select" data-ng-model="$ctrl.editingTodo.assignedToUserId" data-ng-options="u.userId as u.fullName for u in $ctrl.assigneeOptions"><option value=""></option></select></div><div data-ng-if="$ctrl.assigneeOptions.length > 10" selection-mode="single" isteven-multi-select input-model="$ctrl.assigneeOptions" output-model="$ctrl.selectedAssignee" helper-elements="filter reset" button-label="fullName" item-label="fullName" max-height="100px" tick-property="isSelectedAssignee"></div></div></div><div class="mb-3 row"><label class="col-sm-3 col-12 form-label-popup">Due Date:</label><div class="col-sm-9 col-12"><input class="form-control" type="text" data-ui-date data-ng-model="$ctrl.editingTodo.dueDate"></div></div><div class="text-end"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.saveTodo()">Save</button></div></div></form></div><div class="modal-container" data-ng-if="$ctrl.shouldShowEditEquipmentModal" style="z-index:721" data-ng-escape="$ctrl.shouldShowEditEquipmentModal = false"><div class="modal-overlay"></div><form class="ca-modal-dialog modal-sm" style="z-index:723"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowEditEquipmentModal = false">&times;</span><h2>{{ $ctrl.editingEquipment.equipmentId ? "Edit Equipment" : "Add New Equipment" }}</h2><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Name:</label><div class="col-sm-8 col-12"><input id="equipment-name-text-box" type="text" class="form-control" data-ng-model="$ctrl.editingEquipment.name"></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Type:</label><div class="col-sm-8 col-12"><input list="equipmentTypeOptions" id="equipmentType" ng-model="$ctrl.editingEquipment.type" class="form-control" maxlength="128"><datalist id="equipmentTypeOptions"><option data-ng-repeat="entry in $ctrl.equipmentTypeOptions">{{entry}}</option></datalist></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Initial Cost:</label><div class="col-sm-8 col-12" style="display:flex;align-items:center">$<input type="text" class="form-control" style="display:inline-block;width:94%" data-ng-model="$ctrl.editingEquipment.initialCost"></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Installed On:</label><div class="col-sm-8 col-12"><input type="text" class="form-control" data-ui-date data-ng-model="$ctrl.editingEquipment.installDate"></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Manufacturer:</label><div class="col-sm-8 col-12"><input type="text" class="form-control" data-ng-model="$ctrl.editingEquipment.manufacturer"></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Model #:</label><div class="col-sm-8 col-12"><input type="text" class="form-control" data-ng-model="$ctrl.editingEquipment.modelNumber"></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Serial #:</label><div class="col-sm-8 col-12"><input type="text" class="form-control" data-ng-model="$ctrl.editingEquipment.serialNumber"></div></div><div class="row mb-3"><label class="col-sm-4 col-12 form-label-popup">Location:</label><div class="col-sm-8 col-12"><input list="equipmentLocationOptions" id="equipmentLocation" ng-model="$ctrl.editingEquipment.location" class="form-control" maxlength="256"><datalist id="equipmentLocationOptions"><option data-ng-repeat="entry in $ctrl.equipmentLocationOptions">{{entry}}</option></datalist></div></div><div class="text-end"><span data-ng-if="$ctrl.editingEquipment.equipmentId" data-ng-click="$ctrl.deleteEquipment()" class="text-link" style="float:left">Delete</span> <button type="button" class="btn btn-primary" data-ng-click="$ctrl.saveEquipment()">Save</button></div></form></div><div class="modal-container" data-ng-if="$ctrl.shouldShowManageEquipmentModal" data-ng-escape="$ctrl.shouldShowManageEquipmentModal = false"><div class="modal-overlay"></div><form class="ca-modal-dialog modal-lg"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.shouldShowManageEquipmentModal = false">&times;</span><h2>{{ $ctrl.isSiteManager ? "Manage" : "View" }} Equipment</h2><div style="text-align:right;margin-bottom:5px"><button data-ng-if="$ctrl.isSiteManager" class="btn btn-primary" data-ng-click="$ctrl.openAddNewEquipment();" type="button">Add New Equipment</button></div><div data-ui-grid="$ctrl.equipmentGridOptions"></div></form></div></div>'),t.put("/ngApp/common/paypal-payment-form.html",'<div class="portlet-box white payment_bl margin-vertical"><div class="portlet-header"><div class="title">Payment</div></div><div class="portlet-body"><div class="loading-overlay" data-ng-if="$ctrl.isLoading"></div><form action="https://www.sandbox.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations"> <input type="hidden" name="business" value="test-receiver@pair3d.com"> <input type="hidden" name="lc" value="CA"> <input type="hidden" name="item_name" value="Assessment"> <input type="hidden" name="button_subtype" value="services"> <input type="hidden" name="no_note" value="1"> <input type="hidden" name="no_shipping" value="1"> <input type="hidden" name="amount" value="{{$ctrl.paymentInfo.amount}}"> <input type="hidden" name="currency_code" value="USD"> <input type="hidden" name="return" value="{{$ctrl.returnUrl}}"> <input type="hidden" name="bn" value="PP-BuyNowBF:btn_buynowCC_LG.gif:NonHosted"> <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_buynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!"> <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1"></form><form action="#"><div class="pay_for"><div class="text-16 font-600">I am paying for</div><div style="display:inline-block"><label class="custom-control custom-radio"><input id="radioStacked1" name="payment" type="radio" value="periodic" class="custom-control-input" data-ng-click="$ctrl.onSelectPaymentType(\'periodic\')" ng-model="$ctrl.paymentInfo.paymentType"> <span class="custom-control-indicator"></span> <span class="custom-control-description">Assessment</span></label> <label class="custom-control custom-radio"><input id="other" name="payment" type="radio" data-ng-click="$ctrl.onSelectPaymentType(\'other\')" value="other" ng-model="$ctrl.paymentInfo.paymentType" class="custom-control-input"> <span class="custom-control-indicator"></span> <span class="custom-control-description">Other</span></label></div></div><div class="amount_field row"><div class="col-sm-4 pay_check"><label>Amount</label> <input class="form-control grey" type="text" value="" data-ng-disabled="$ctrl.paymentInfo.paymentType == \'periodic\'" data-ng-model="$ctrl.paymentInfo.amount"></div><div class="col-sm-8 memo"><label>Memo</label> <input class="form-control grey" type="text" placeholder="" data-ng-model="$ctrl.paymentInfo.note"><div data-ng-show="$ctrl.paymentInfo.paymentType == \'periodic\'" data-ng-click="$ctrl.onIncorrectPayDetails()" class="text-link margin-top-10">{{ $ctrl.errorPayInfoText }}</div></div><i class="error" ng-show="$ctrl.paymentError">{{$ctrl.paymentErrorMessage}}</i></div><div class="buttons margin-top-30" style="text-align:center"><div id="paypal-button"></div></div></form></div></div>'),t.put("/ngApp/common/preferred-vendor-item.html",'<div style="position:relative" class="ally-shaded-item"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-if="!$ctrl.isInEditMode"><h4 class="d-inline-block text-bold">{{ $ctrl.vendorItem.companyName }}</h4><div data-ng-if="$ctrl.isSiteManager" class="d-inline-block margin-left-10"><span class="text-link" data-ng-click="$ctrl.onEditItem()">Edit</span> <span class="text-link margin-left-10" data-ng-click="$ctrl.deleteItem()">Delete</span></div><div class="margin-left"><div class="row mb-1" data-ng-if="$ctrl.vendorItem.companyPhone"><label class="col-4 form-label-popup">Phone:</label><div class="col-8"><a href="tel:{{ $ctrl.vendorItem.companyPhone }}">{{ $ctrl.vendorItem.companyPhone }}</a></div></div><div class="row mb-1" data-ng-if="$ctrl.vendorItem.companyWeb"><label class="col-4 form-label-popup">Website:</label><div class="col-8 text-truncate"><a data-ng-href="{{ $ctrl.vendorItem.companyWeb }}" target="_blank">{{ $ctrl.vendorItem.companyWeb }}</a></div></div><div class="row mb-1" data-ng-if="$ctrl.vendorItem.fullAddress.oneLiner"><label class="col-4 form-label-popup">Address:</label><div class="col-8"><a target="_blank" data-ng-href="https://maps.google.com/?q={{ $ctrl.vendorItem.fullAddress.oneLiner }}">{{ $ctrl.vendorItem.fullAddress.oneLiner }}</a></div></div><div class="row mb-1" data-ng-if="$ctrl.vendorItem.contactName"><label class="col-4 form-label-popup">Contact Name:</label><div class="col-8">{{ $ctrl.vendorItem.contactName }}</div></div><div class="row mb-1" data-ng-if="$ctrl.vendorItem.contactPhone"><label class="col-4 form-label-popup">Contact Phone:</label><div class="col-8"><a href="tel:{{ $ctrl.vendorItem.contactPhone }}">{{ $ctrl.vendorItem.contactPhone }}</a></div></div><div class="row mb-1" data-ng-if="$ctrl.vendorItem.contactEmail"><label class="col-4 form-label-popup">Contact Email:</label><div class="col-8 text-truncate"><a data-ng-href="mailto:{{ $ctrl.vendorItem.contactEmail }}">{{ $ctrl.vendorItem.contactEmail }}</a></div></div><div class="row mb-1" data-ng-if="$ctrl.vendorItem.servicesProvidedFriendly"><label class="col-4 form-label-popup">Services:</label><div class="col-8">{{ $ctrl.vendorItem.servicesProvidedFriendly }}</div></div><div class="row mb-1" data-ng-if="$ctrl.vendorItem.notes"><label class="col-4 form-label-popup">Notes:</label><div class="col-8">{{ $ctrl.vendorItem.notes }}</div></div><div class="note-text">Added {{ $ctrl.vendorItem.addedDateUtc | date:\'MMMM d, y\' }} <span data-ng-show="$ctrl.vendorItem.addedByFullName">by {{ $ctrl.vendorItem.addedByFullName }}</span></div></div></div><form data-ng-if="$ctrl.isInEditMode"><div class="row mb-3"><label class="col-4 form-label-popup">Company Name:</label><div class="col-8"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editVendorItem.companyName"></div></div><div class="row mb-3"><label class="col-4 form-label-popup">Phone:</label><div class="col-8"><input type="text" class="form-control form-control-sm mask-phone" data-ng-model="$ctrl.editVendorItem.companyPhone"></div></div><div class="row mb-3"><label class="col-4 form-label-popup">Website:</label><div class="col-8"><input type="text" class="form-control form-control-sm" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" data-ng-model="$ctrl.editVendorItem.companyWeb"></div></div><div class="row mb-3"><label class="col-4 form-label-popup">Address:</label><div class="col-8"><input type="text" class="form-control form-control-sm" data-ng-attr-id="{{\'vendor-\' + $ctrl.vendorItem.preferredVendorId + \'-address-text-box\'}}" data-ng-model="$ctrl.editVendorItem.fullAddress.oneLiner"></div></div><div class="row mb-3"><label class="col-4 form-label-popup">Contact Name:</label><div class="col-8"><input type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editVendorItem.contactName"></div></div><div class="row mb-3"><label class="col-4 form-label-popup">Contact Phone:</label><div class="col-8"><input class="mask-phone form-control form-control-sm" type="tel" data-ng-model="$ctrl.editVendorItem.contactPhone"></div></div><div class="row mb-3"><label class="col-4 form-label-popup">Contact Email:</label><div class="col-8"><input type="email" class="form-control form-control-sm" data-ng-model="$ctrl.editVendorItem.contactEmail"></div></div><div class="row mb-3"><label class="col-4 form-label-popup">Services:</label><div class="col-8"><tags-input style="width:90%" ng-model="$ctrl.editVendorItem.servicesTagArray" data-replace-spaces-with-dashes="false"><auto-complete data-min-length="1" data-source="$ctrl.getServiceAutocomplete($query)"></auto-complete></tags-input><span class="note-text">Press the TAB or ENTER key to add multiple services. You can add anything, you are not required to choose from the suggested services.</span><br></div></div><div class="row mb-3"><label class="col-4 form-label-popup">Notes:</label><div class="col-8"><textarea class="form-control form-control-sm" rows="5" data-ng-model="$ctrl.editVendorItem.notes"></textarea></div></div><div><button type="button" class="btn btn-primary" data-ng-click="$ctrl.onSaveVendor()">Save</button> <button type="button" class="btn btn-primary" data-ng-if="!$ctrl.isAddForm" data-ng-click="$ctrl.onCancelEdit()">Cancel</button></div></form></div>'),t.put("/ngApp/common/preferred-vendors.html",'<section class="info" style="min-height:500px;position:relative"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><h2>Vendors</h2><p class="margin-bottom-30">The following list of vendors is provided for convenience and is not to be construed as an endorsement by the association. You should make whatever investigation you feel necessary or appropriate before proceeding with any vendor.</p><div data-ng-if="$ctrl.usedServiceTags.length > 1"><span style="font-weight:700">Filter By Service:</span><br><label class="margin-right-10 d-inline-block mb-3" data-ng-repeat="tag in $ctrl.usedServiceTags"><input type="checkbox" data-ng-click="$ctrl.onTagFilterToggle( tag )">{{ tag }}</label></div><div class="row mt-2"><div class="col-12">Sort By: <span class="text-link" data-ng-class="{\'bold-underline\': $ctrl.entriesSortField === \'entryDate\'}" data-ng-click="$ctrl.updateEntriesSort(\'entryDate\')">Added Date</span> - <span class="text-link" data-ng-class="{\'bold-underline\': $ctrl.entriesSortField === \'name\'}" data-ng-click="$ctrl.updateEntriesSort(\'name\')">Name</span></div></div><div class="row"><div class="col-md-6 col-sm-12 mt-sm-5 mt-md-3" data-ng-repeat="vendor in $ctrl.filteredVendors"><preferred-vendor-item class="stacking-cells" vendor-item="vendor" on-parent-data-needs-refresh="$ctrl.retrieveVendors();"></preferred-vendor-item></div></div><br><div data-ng-if="$ctrl.filteredVendors.length === 0">There are no vendors currently listed for your group. Please add a few using the form below.</div><div class="text-end"><a href="javascript:void(0)" class="text-link" data-ng-click="$ctrl.exportVendorCsv()">Export To CSV</a></div><hr><div data-ng-show="$ctrl.isSiteManager" class="margin-top bt"><div><h4 class="margin-bottom-10">Add a New Vendor</h4><div class="row"><div class="col-md-6 col-sm-12"><preferred-vendor-item on-add-new-vendor="$ctrl.onAddedNewVendor()" on-parent-data-needs-refresh="$ctrl.retrieveVendors();"></preferred-vendor-item></div></div></div></div></section>'),t.put("/ngApp/common/street-address-form.html",'<div class="row g-2"><div class="col-5" data-ng-if="!$ctrl.shouldHideName"><span data-ng-if="!$ctrl.useCareOf">Recipient Name</span><span data-ng-if="$ctrl.useCareOf">Care Of</span>: <input type="text" class="form-control" data-ng-model="$ctrl.streetAddress.recipientName" data-ng-change="$ctrl.onComponentChange()" data-ng-model-options="{ debounce: 1000 }" autocomplete="off" data-lpignore="true" data-form-type="other"></div><div class="col-5">Street: <input type="text" class="form-control" data-ng-model="$ctrl.streetAddress.street1" data-ng-change="$ctrl.onComponentChange()" data-ng-model-options="{ debounce: 1000 }" autocomplete="off" data-lpignore="true" data-form-type="other"></div><div class="col-2">Apt/Unit: <input type="text" class="form-control" data-ng-model="$ctrl.streetAddress.street2" data-ng-change="$ctrl.onComponentChange()" data-ng-model-options="{ debounce: 1000 }" autocomplete="off" data-lpignore="true" data-form-type="other"></div><div class="col-5">City: <input type="text" class="form-control" data-ng-model="$ctrl.streetAddress.city" data-ng-change="$ctrl.onComponentChange()" data-ng-model-options="{ debounce: 1000 }" autocomplete="off" data-lpignore="true" data-form-type="other"></div><div class="col-2">State: <input type="text" class="form-control" data-ng-model="$ctrl.streetAddress.state" data-ng-change="$ctrl.onComponentChange()" data-ng-model-options="{ debounce: 1000 }" autocomplete="off" data-lpignore="true" data-form-type="other"></div><div class="col-2">Zip: <input type="text" class="form-control" data-ng-model="$ctrl.streetAddress.zip" data-ng-change="$ctrl.onComponentChange()" data-ng-model-options="{ debounce: 1000 }" autocomplete="off" data-lpignore="true" data-form-type="other"></div><div class="col-3">Country Code: <span class="note-text">(if not US)</span> <input type="text" class="form-control" data-ng-model="$ctrl.streetAddress.country" data-ng-change="$ctrl.onComponentChange()" maxlength="2" data-ng-model-options="{ debounce: 1000 }" autocomplete="off" data-lpignore="true" data-form-type="other"><a class="note-text" href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes" target="_blank">ISO 3166-1 2-char</a></div></div>'),t.put("/ngApp/home/home-group-home.html",'<div class="page-home"><div class="portlet-box white box-shadow margin-vertical" data-ng-if="$ctrl.welcomeMessage.length > 0"><div class="portlet-header"><div class="title">Welcome!</div></div></div><div class="row"><div class="col-md-6"><maintenance-widget></maintenance-widget><home-value-widget></home-value-widget></div><div class="col-md-6"><local-news-feed></local-news-feed></div></div><div data-ng-if="$ctrl.showFirstVisitModal && $ctrl.isSiteManager"><div id="new-welcome-overlay-background" class="modal-overlay" data-ng-click="$ctrl.hideFirstVisit()"></div><div class="ca-modal-dialog modal-md"><h1 id="new-welcome-title">Welcome to {{ $ctrl.allyAppName }}!</h1><p class="margin-top-10">We\'re happy you\'ve decided to give {{ $ctrl.allyAppName }} a try. We think you\'ll have no trouble getting up and running on your own, but if you\'d like some guidance getting started, check out this guide:</p><p class="text-center margin-top-10"><a style="font-size:x-large" href="http://help.communityally.org/getting-started-with-condo-ally/" target="_blank">Setting up Your New {{ $ctrl.allyAppName }} Site</a><br><span class="note-text">(Link opens in new tab)</span></p><p>We love to help our users, so never hesitate to use the "Help" link at the bottom of the page or the "Contact support" button in the bottom right of your window. Congratulations on taking a step toward a better home! We\'re sure your home was great to begin with, but we\'re confident {{ $ctrl.allyAppName }} can make it even better.</p><p class="text-end margin-right-10"><span class="note-text">(Click anywhere outside this window to close)</span></p></div></div></div><script>$( function()\r\n    {\r\n        $( "#tabs" ).tabs().addClass( "ui-tabs-vertical ui-helper-clearfix" );\r\n        $( "#tabs li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );\r\n    } );\r\n    $( \'.contact_support h3\' ).click( function()\r\n    {\r\n        $( this ).parent().toggleClass( \'opened\' );\r\n    } );\r\n    $( \'.file_item\' ).click( function()\r\n    {\r\n'+"        $( '.file_item' ).removeClass( 'select' );\r\n        $( this ).toggleClass( 'select' );\r\n\r\n    } );\r\n    $( \".collapsibleContainer\" ).collapsiblePanel();<\/script>"),t.put("/ngApp/home/home-value-widget.html",'<div data-ng-if="$ctrl.shouldShowWidget" class="generic portlet-box white margin-vertical" id="home-value-panel"><div class="portlet-header"><h3 class="title">Home Value Zestimate<sup>&reg;</sup></h3></div><div class="portlet-body"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><img data-ng-src="{{ $ctrl.valueInfo.chartImageUri }}" style="width:90%;margin-left:5%"><br><br><div data-ng-if="$ctrl.valueInfo.currentZestimate">Zillow estimates your home\'s value at:<br><div style="text-align:center"><h1>{{ $ctrl.valueInfo.currentZestimate | currency:undefined:0 }}</h1></div></div><a data-ng-if="$ctrl.valueInfo.zillowDetailsUrl" target="_blank" data-ng-href="{{ $ctrl.valueInfo.zillowDetailsUrl }}">View your home on Zillow</a><br><br><div style="text-align:right">Data retrieved from<br><a href="https://www.zillow.com/" target="_blank"><img src="/assets/images/zillow_256.png" style="width:20%"></a></div></div></div>'),t.put("/ngApp/home/manager/home-users.html",'<div class="page page-manage-resident spinner-effect"><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><p>Here you can manage other people that can access your Home Ally site.</p><h1>This feature is coming soon.</h1><div data-ng-if="false"><div class="clearfix"><button class="btn btn-primary pull-right" data-ng-click="$ctrl.setEdit( {boardPosition:0, shouldSendWelcomeEmail: false} );">Add New User</button></div><div data-ui-grid="$ctrl.residentGridOptions" data-ui-grid-selection ui-grid-resize-columns class="gridStyle margin-top-20"></div></div><div id="EditUserContainer" class="modal-container" data-ng-show="$ctrl.editUser != null" data-ng-escape="$ctrl.setEdit( null )"><div class="modal-overlay"></div><form id="editUserForm" name="$ctrl.editUserForm" novalidate class="ca-modal-dialog modal-lg"><div class="loading-overlay" data-ng-show="$ctrl.isSavingUser"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.setEdit( null )">&times;</span><h2>Resident Details</h2><div class="row"><div class="col-md-6 col-sm-12"><div class="form-group row"><label for="edit-user-first-text-box" class="col-sm-4 col-12">First Name:</label><div class="col-sm-8 col-12"><input id="edit-user-first-text-box" type="text" class="form-control form-control-sm" required name="editUserFirstTextBox" data-ng-model="$ctrl.editUser.firstName"><div class="validation-label" data-ng-show="$ctrl.editUserForm.editUserFirstTextBox.$error.required">Required</div></div></div></div><div class="col-md-6 col-sm-12"><div class="form-group row"><label for="edit-user-last-name-text-box" class="col-sm-4 col-12">Last Name:</label><div class="col-sm-8 col-12"><input id="edit-user-last-name-text-box" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editUser.lastName"></div></div></div><div class="col-md-6 col-sm-12"><div class="form-group row"><label for="edit-user-email-text-box" class="col-sm-4 col-12">Email:</label><div class="col-sm-8 col-12"><input id="edit-user-email-text-box" type="text" class="form-control form-control-sm" data-ng-model="$ctrl.editUser.email"><div class="note-text" style="color:red" data-ng-if="$ctrl.editUser.postmarkReportedBadEmailUtc">Email address was reported undeliverable.</div></div></div></div><div class="col-md-6 col-sm-12"><div class="form-group row"><label class="col-sm-4 col-12">{{ $ctrl.homeName }}:</label><div class="col-sm-8 col-12"><div data-ng-if="!$ctrl.editUser.showAdvancedHomePicker"><select class="form-control form-control-sm" data-ng-model="$ctrl.editUser.singleUnitId" data-ng-options="o.unitId as o.name for o in $ctrl.allUnits"><option value=""></option></select></div><div data-ng-if="$ctrl.editUser.showAdvancedHomePicker" selection-mode="{{ $ctrl.multiselectMulti }}" isteven-multi-select input-model="$ctrl.allUnits" output-model="$ctrl.editUser.units" helper-elements="{{ $ctrl.multiselectOptions }}" button-label="name" item-label="name" max-height="300px" tick-property="isSelectedForEditUser"></div><span data-ng-if="$ctrl.multiselectMulti === \'single\'" class="text-link note-text" data-ng-click="$ctrl.enableMultiHomePicker()">Click here to select multiple units</span></div></div></div><div class="col-md-6 col-sm-12"><div class="form-group row" data-ng-if="$ctrl.showIsRenter"><label for="is-renter-checkbox" class="col-sm-4 col-12">Is a Renter/Unit Manager:</label><div class="col-sm-8 col-12"><input id="is-renter-checkbox" class="validation-label" type="checkbox" data-ng-model="$ctrl.editUser.isRenter"><br><span class="note-text">Indicates this person is not a unit owner.</span></div></div></div><div class="col-md-6 col-sm-12"><div class="form-group row"><label for="is-site-manager-checkbox" class="col-sm-4 col-12">Is Admin:</label><div class="col-sm-8 col-12"><input id="is-site-manager-checkbox" type="checkbox" data-ng-model="$ctrl.editUser.isSiteManager"><br><span class="note-text">Admin users can edit site information.</span></div></div></div><div class="col-md-6 col-sm-12"><div class="form-group row"><label for="phone-number-text-box" class="col-sm-4 col-12">Phone Number:</label><div class="col-sm-8 col-12"><input id="phone-number-text-box" type="text" maxlength="30" class="form-control form-control-sm" data-ng-model="$ctrl.editUser.phoneNumber"></div></div></div><div class="col-md-6 col-sm-12"><div class="form-group row"><label class="col-sm-4 col-12">Board Position:</label><div class="col-sm-8 col-12"><select class="form-control form-control-sm" data-ng-model="$ctrl.editUser.boardPosition" data-ng-options="bp.id as bp.name for bp in $ctrl.boardPositions"></select></div></div></div></div><div class="row"><div class="col-sm-6"><div data-ng-show="$ctrl.editUser.userId.length > 0"><div data-ng-hide="$ctrl.sentWelcomeEmail"><input class="btn btn-primary" ng-disabled="$ctrl.editUserForm.$dirty" type="button" value="Send Welcome Email" data-ng-click="$ctrl.onSendWelcome();"><div data-ng-show="$ctrl.editUserForm.$dirty" class="note-text">Save your changes then come back to send a welcome email.</div><div data-ng-hide="$ctrl.editUserForm.$dirty" class="note-text">This will send login instructions with a new password.</div></div><div data-ng-show="$ctrl.sentWelcomeEmail" data-ng-click="$ctrl.setEdit( null )" style="color:#00f">Welcome email has been sent!</div></div><div class="text-sm-center" data-ng-show="!$ctrl.editUser.userId"><input id="send-welcome-checkbox" type="checkbox" data-ng-model="$ctrl.editUser.shouldSendWelcomeEmail">&nbsp;<label style="display:inline-block" for="send-welcome-checkbox">Send Welcome Email with Login Info</label></div></div><div class="col-sm-6 text-sm-right"><input id="save-edit-button" class="btn btn-primary" ng-disabled="$ctrl.editUserForm.$invalid" type="button" value="Save" data-ng-click="$ctrl.onSaveResident();"> <input id="cancel-edit-button" class="btn btn-secondary" type="button" value="Cancel" data-ng-click="$ctrl.setEdit( null )"> <input id="remove-resident-button" class="btn btn-primary" data-ng-show="$ctrl.editUser.userId.length > 0" type="button" value="Remove Resident" data-ng-click="$ctrl.onDeleteResident();"> <input type="hidden" value="{{$ctrl.editUser.userId}}"><div class="text-sm-right" data-ng-if="$ctrl.editUser.userId.length > 0"><span class="note-text" data-ng-if="$ctrl.editUser.lastLoginDateUtc">Last logged-in {{ $ctrl.editUser.lastLoginDateUtc | date:\'EEEE, MMMM d, y h:mma\' }}</span> <span class="note-text" data-ng-if="!$ctrl.editUser.lastLoginDateUtc">Has not logged-in yet</span></div></div></div></form></div><br><div data-ng-show="$ctrl.isAdmin"><br>For Admins only.<br><div style="border:1px solid #000">Email: <input type="text" data-ng-model="$ctrl.adminSetPass_Username"><br>Password: <input type="text" data-ng-model="$ctrl.adminSetPass_Password"><br><input type="button" value="Set Password" data-ng-click="$ctrl.OnAdminSetPassword();"></div><span style="color:red">{{ $ctrl.adminSetPass_ResultMessage }}</span><br></div></div>'),t.put("/ngApp/home/public/home-sign-up.html",'<link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,800%7COpen+Sans:300,400,500,600,700,800" rel="stylesheet"><div class="page margin-vertical padding white-bg" style="font-family:Raleway,sans-serif"><div><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-show="$ctrl.hideWizard">{{ $ctrl.resultMessage }}</div><wizard data-ng-hide="$ctrl.hideWizard" on-finish="$ctrl.onFinishedWizard()"><wz-step title="Address"><h2 class="StepTitle"></h2><div><label style="font-weight:700">What is your home address?</label> <input type="text" id="home-address-text-box" style="width:100%" data-ng-change="$ctrl.shouldCheckAddress = true" data-ng-enter="$ctrl.goNextStep()" data-ng-model="$ctrl.signUpInfo.streetAddress"><br><br><div style="position:relative"><div id="map-loading-overlay" class="loading-overlay" data-ng-show="$ctrl.isLoadingMap"></div><div id="address-map" style="width:100%;height:300px"></div></div></div><br><input id="next-button-0" type="submit" class="btn btn-sign-up-wiz" style="width:100%;float:none" wz-next value="Next Step"></wz-step><wz-step title="Your Info"><h2 class="StepTitle">Your Info</h2><span style="font-weight:700">First Name:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.firstName"><br><br><span style="font-weight:700">Last Name:</span><br><input type="text" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.lastName"><br><br><span style="font-weight:700">Email Address:</span><br><input type="email" style="width:100%" data-ng-model="$ctrl.signUpInfo.signerUpInfo.email" data-ng-enter="$ctrl.goNextStep()"><br><br><div style="display:none">Ownership Type:<br><select id="signer-up-board-select" data-ng-model="$ctrl.signUpInfo.signerUpInfo.ownType" style="width:100%"><option value="Owner">Owner</option><option value="Renter">Renter</option><option value="PropertyManager">Property Manager</option></select><br></div><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="next-button-1" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Next Step"><div class="clearfix"></div></wz-step><wz-step title="Home Info"><h2 class="StepTitle">Home Info</h2><p>This information is entirely optional. The more you fill in, the more we can help you. Leave any answers blank that are not applicable.</p><p data-ng-if="$ctrl.didLoadHomeInfo">We\'ve prepopulated some of the fields with data we could pull from the Internet.</p><table style="margin:0 auto"><tbody><tr><td class="AlignRightBold">Home Type:</td><td><select data-ng-model="$ctrl.signUpInfo.homeInfo.homeType"><option value="SingleFamily">Single Family</option><option value="MultiFamily">Townhome</option><option value="Apartment">Apartment</option><option value="Condo">Condo</option><option value="Townhouse">Townhome</option><option value="Other">Other</option></select></td></tr><tr><td class="AlignRightBold">Year Built:</td><td><input type="number" min="1000" max="2050" data-ng-model="$ctrl.signUpInfo.homeInfo.yearBuilt"></td></tr><tr><td class="AlignRightBold">Last Major Remodel Year:</td><td><input type="number" min="1900" max="2050" data-ng-model="$ctrl.signUpInfo.homeInfo.lastRemodelYear"></td></tr><tr style="display:none"><td class="AlignRightBold">Square Feet:</td><td><input type="number" data-ng-model="$ctrl.signUpInfo.homeInfo.homeSquareFeet"></td></tr><tr><td class="AlignRightBold">Bedrooms:</td><td><input type="number" data-ng-model="$ctrl.signUpInfo.homeInfo.numBedrooms"></td></tr><tr><td class="AlignRightBold">Full Bathrooms:</td><td><input type="number" data-ng-model="$ctrl.signUpInfo.homeInfo.numFullBathrooms"></td></tr><tr><td class="AlignRightBold">Half Bathrooms:</td><td><input type="number" data-ng-model="$ctrl.signUpInfo.homeInfo.numHalfBathrooms"></td></tr><tr><td class="AlignRightBold"><label style="font-weight:700" for="hasBasementCheckBox">Has a Basement:</label></td><td><input id="hasBasementCheckBox" type="checkbox" data-ng-model="$ctrl.signUpInfo.homeInfo.hasBasement"></td></tr><tr><td class="AlignRightBold">Number of Stories:</td><td><input type="number" data-ng-model="$ctrl.signUpInfo.homeInfo.numStories"></td></tr><tr data-ng-if="$ctrl.signUpInfo.signerUpInfo.ownType === \'Owner\'" style="display:none"><td class="AlignRightBold">HOA Fee:</td><td><input type="text" data-ng-model="$ctrl.signUpInfo.homeInfo.hoaFee"></td></tr><tr style="display:none"><td class="AlignRightBold">Lot Size:</td><td><input type="number" data-ng-model="$ctrl.lotSquareUnits"><br><label style="display:inline-block"><input type="radio" data-ng-model="$ctrl.lotSizeUnit" name="lotSquareFeet" value="SquareFeet">Square Feet</label> <label style="display:inline-block;margin-left:2em"><input type="radio" data-ng-model="$ctrl.lotSizeUnit" name="lotSquareFeet" value="Acres">Acres</label></td></tr><tr data-ng-if="$ctrl.signUpInfo.homeInfo.homeType === \'SingleFamily\' || $ctrl.signUpInfo.homeInfo.homeType === \'Townhouse\'"><td class="AlignRightBold">Roof Type:</td><td><input type="text" data-ng-model="$ctrl.signUpInfo.homeInfo.roofType"></td></tr><tr><td class="AlignRightBold">Exterior Siding Type:</td><td><input type="text" data-ng-model="$ctrl.signUpInfo.homeInfo.exteriorSidingType"></td></tr><tr style="display:none"><td class="AlignRightBold"><label style="font-weight:700" for="hasLaundryCheckBox">Has Laundry:</label></td><td><input id="hasLaundryCheckBox" type="checkbox" data-ng-model="$ctrl.signUpInfo.homeInfo.hasInUnitLaundry"></td></tr><tr><td class="AlignRightBold">Heat Type:</td><td><select data-ng-model="$ctrl.signUpInfo.homeInfo.heatType"><option value="Forced air">Forced air</option><option value="Radiator">Radiator</option><option value="Baseboard">Baseboard</option><option value="None">None</option><option value="Other">Other</option></select></td></tr><tr><td class="AlignRightBold">Cooling Type:</td><td><select data-ng-model="$ctrl.signUpInfo.homeInfo.coolingType"><option value="Central">Central</option><option value="Window">Window</option><option value="None">None</option><option value="Other">Other</option></select></td></tr><tr><td class="AlignRightBold">Purchase Date:</td><td><input type="text" data-ui-date data-ng-model="$ctrl.signUpInfo.homeInfo.lastPurchaseDate"></td></tr><tr><td class="AlignRightBold">Purchase Price:</td><td><input type="number" data-ng-model="$ctrl.signUpInfo.homeInfo.lastPurchasePrice"></td></tr><tr style="display:none"><td class="AlignRightBold">Monthly Rent:</td><td><input type="number" data-ng-model="$ctrl.signUpInfo.homeInfo.monthlyRent"><span data-ng-if="$ctrl.signUpInfo.signerUpInfo.ownType === \'Owner\'">(If renting out)</span></td></tr><tr><td class="AlignRightBold"><label style="font-weight:700" for="hasFireplaceCheckBox">Has a Fireplace:</label></td><td><input id="hasFireplaceCheckBox" type="checkbox" data-ng-model="$ctrl.signUpInfo.homeInfo.hasFireplace"></td></tr><tr><td class="AlignRightBold">Water Type:</td><td><select data-ng-model="$ctrl.signUpInfo.homeInfo.waterType"><option value="City/Public">City/Public</option><option value="Well">Well</option><option value="Other">Other</option></select></td></tr><tr><td class="AlignRightBold">Sewer Type:</td><td><select data-ng-model="$ctrl.signUpInfo.homeInfo.sewerType"><option value="City/Public">City/Public</option><option value="Septic">Septic</option><option value="Other">Other</option></select></td></tr></tbody></table><br><input type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:left" wz-previous value="Back"> <input id="finish-button" type="submit" class="btn btn-sign-up-wiz" style="width:47%;float:right" wz-next value="Finish"><div class="clearfix"></div></wz-step></wizard></div></div>'),t.put("/ngApp/pta/pta-group-home.html",'<div class="page-home"><div class="portlet-box white box-shadow margin-vertical" data-ng-if="$ctrl.welcomeMessage.length > 0"><div class="portlet-header"><div class="title">Welcome!</div></div></div><div class="row"><div class="col-md-6"><group-send-email></group-send-email></div><div class="col-md-6"><group-comment-threads></group-comment-threads><local-news-feed></local-news-feed></div></div><div data-ng-if="$ctrl.showFirstVisitModal && $ctrl.isSiteManager"><div id="new-welcome-overlay-background" class="modal-overlay" data-ng-click="$ctrl.hideFirstVisit()"></div><div class="ca-modal-dialog modal-md"><h1 id="new-welcome-title">Welcome to {{ $ctrl.allyAppName }}!</h1><p class="margin-top-10">We\'re happy you\'ve decided to give {{ $ctrl.allyAppName }} a try. We think you\'ll have no trouble getting up and running on your own, but if you\'d like some guidance getting started, check out this guide:</p><p class="text-center margin-top-10"><a style="font-size:x-large" href="http://help.communityally.org/getting-started-with-condo-ally/" target="_blank">Setting up Your New {{ $ctrl.allyAppName }} Site</a><br><span class="note-text">(Link opens in new tab)</span></p><p>We love to help our users, so never hesitate to use the "Help" link at the bottom of the page or the "Contact support" button in the bottom right of your window. Congratulations on taking a step toward a better home! We\'re sure your home was great to begin with, but we\'re confident {{ $ctrl.allyAppName }} can make it even better.</p><p class="text-end margin-right-10"><span class="note-text">(Click anywhere outside this window to close)</span></p></div></div></div><script>$( function()\r\n    {\r\n        $( "#tabs" ).tabs().addClass( "ui-tabs-vertical ui-helper-clearfix" );\r\n        $( "#tabs li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );\r\n    } );\r\n    $( \'.contact_support h3\' ).click( function()\r\n    {\r\n        $( this ).parent().toggleClass( \'opened\' );\r\n    } );\r\n    $( \'.file_item\' ).click( function()\r\n    {\r\n'+"        $( '.file_item' ).removeClass( 'select' );\r\n        $( this ).toggleClass( 'select' );\r\n\r\n    } );\r\n    $( \".collapsibleContainer\" ).collapsiblePanel();<\/script>"),t.put("/ngApp/service-ally/BankInfo.html",'<section class="content-full-width"><div>Bank Info</div></section>'),t.put("/ngApp/service-ally/BusinessInfo.html",'<section class="content-full-width"><div>Business Info</div></section>'),t.put("/ngApp/service-ally/jobs.html",'<section class="content-full-width"><div>Jobs</div></section>'),t.put("/ngApp/services/GoogleMapPolyEditorTemplate.html",'<div><div class="google-map-canvas" style="width:100%;height:500px"></div></div>'),t.put("/ngApp/services/group-comment-thread-view.html",'<div class="modal-container"><div class="modal-overlay" data-ng-click="$ctrl.closeModal(true)"></div><div class="ca-modal-dialog modal-lg"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.closeModal(false)">&times;</span><h2 data-ng-if="!$ctrl.canEditTitle" style="margin-bottom:0">{{ $ctrl.thread.title }}</h2><h2 data-ng-if="$ctrl.canEditTitle" class="can-edit-inline" data-onaftersave="$ctrl.updateThreadTitle()" data-editable-text="$ctrl.thread.title" style="margin-bottom:0">{{ $ctrl.thread.title }}</h2><a style="float:right" data-ng-href="{{$ctrl.threadUrl}}" class="note-text" data-ng-click="$ctrl.copyThreadLink($event)">Copy thread link to clipboard</a><div><span data-ng-if="$ctrl.thread.isBoardOnly" class="badge badge-secondary" style="margin-right:12px">Board-Only</span><div data-ng-if="$ctrl.shouldShowAdminControls" style="display:inline"><span data-ng-if="!$ctrl.thread.archiveDateUtc" class="note-text text-link" data-ng-click="$ctrl.archiveThread(true)">Archive Thread</span> <span data-ng-if="$ctrl.thread.archiveDateUtc" class="note-text text-link" data-ng-click="$ctrl.archiveThread(false)">Unarchive Thread</span></div></div><div class="mt-2" data-ng-if="!$ctrl.thread.archiveDateUtc && !$ctrl.thread.isReadOnly"><div data-ng-if="$ctrl.isPremiumPlanActive">Get notified of new comments: <label style=""><input type="radio" data-ng-model="$ctrl.commentsState.digestFrequency" data-ng-change="$ctrl.onChangeDigestFrequency()" data-ng-value="null" ng-checked="$ctrl.digestFrequency === null" name="digest-frequency">Profile Default (<span class="note-text">{{$ctrl.defaultDigestFrequency}} - <a href="#!/MyProfile">edit</a></span>)</label> <label style="margin-left:14px"><input type="radio" data-ng-model="$ctrl.commentsState.digestFrequency" data-ng-change="$ctrl.onChangeDigestFrequency()" value="none" name="digest-frequency">None</label> <label style="margin-left:14px"><input type="radio" data-ng-model="$ctrl.commentsState.digestFrequency" data-ng-change="$ctrl.onChangeDigestFrequency()" value="instant" name="digest-frequency">Immediately</label> <label style="margin-left:14px"><input type="radio" data-ng-model="$ctrl.commentsState.digestFrequency" data-ng-change="$ctrl.onChangeDigestFrequency()" value="nightly" name="digest-frequency">Nightly</label> <label style="margin-left:14px"><input type="radio" data-ng-model="$ctrl.commentsState.digestFrequency" data-ng-change="$ctrl.onChangeDigestFrequency()" value="weekly" name="digest-frequency">Weekly on Sunday</label></div><div data-ng-if="!$ctrl.isPremiumPlanActive" class="note-text">Get email notifications on our premium plan.</div></div><div class="mt-2" data-ng-if="!$ctrl.thread.archiveDateUtc && !$ctrl.thread.isReadOnly && $ctrl.shouldShowAddComment"><label>Add New Comment:</label><br><textarea id="new-comment-tiny-mce-editor" data-ng-ctrl-enter="$ctrl.submitNewComment()" data-ng-model="$ctrl.newCommentText" maxlength="4000" placeholder="Enter your comment here" class="form-control"></textarea><div>Optional Attachment: <input id="comment-attachment-input" type="file" on-file-change="$ctrl.onFileAttached($event)"> <span data-ng-if="$ctrl.attachmentFile" class="text-link note-text" data-ng-click="$ctrl.removeAttachment()">Remove Attachment</span></div><p class="text-end"><button class="btn btn-primary" data-ng-click="$ctrl.submitNewComment()" data-ng-if="!$ctrl.isLoading">Add Comment</button><br><span class="note-text" style="font-size:x-small">Or CTRL+Enter</span></p></div><div class="text-link mb-4" data-ng-if="!$ctrl.shouldShowAddComment && !$ctrl.thread.isReadOnly && !$ctrl.thread.archiveDateUtc" data-ng-click="$ctrl.showAddComment()">Add New Comment</div><div class="alert alert-info" data-ng-if="$ctrl.thread.archiveDateUtc">This discussion thread has been archived and must be unarchived in order to be edited.</div><div data-ng-repeat="comment in $ctrl.commentsState.comments" class="mt-2 mb-2"><div class="media"><img class="d-flex me-3" style="width:80px;height:80px" alt="Profile for {{ comment.authorFullName }}" data-ng-src="{{ comment.authorAvatarUrl }}"><div class="media-body"><p><span style="font-weight:700">{{ comment.authorFullName }}</span> - <span data-livestamp="{{ comment.postDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ comment.postDateUtc | date:\'medium\' }}"></span> <span data-ng-if="comment.lastEditDateUtc && !comment.deletedDateUtc" class="note-text">(Edited <span data-livestamp="{{ comment.lastEditDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ comment.lastEditDateUtc | date:\'medium\' }}"></span>) </span><span data-ng-if="comment.deletedDateUtc" class="note-text">(Deleted <span data-livestamp="{{ comment.deletedDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ comment.deletedDateUtc | date:\'medium\' }}"></span>) </span><span data-ng-if="comment.isMyComment && !comment.deletedDateUtc && !$ctrl.thread.archiveDateUtc">- <span class="text-link" data-ng-click="$ctrl.startEditComment( comment )">Edit</span> - <span class="text-link" data-ng-click="$ctrl.deleteComment( comment )">Delete</span></span></p><p data-ng-if="comment.commentId !== $ctrl.editCommentId" ng-bind-html="comment.commentText"></p><div data-ng-if="comment.attachedDocPath && comment.attachedDocDisplayName" style="padding:8px;border:1px solid #000;display:inline-block;border-radius:5px;cursor:pointer" data-ng-click="$ctrl.onViewAttachedDoc(comment)" title="Open attachment \'{{comment.attachedDocDisplayName}}\'"><img id="File_{{ $index }}" class="file-thumbnail" ng-src="{{$ctrl.getFileIcon(comment.attachedDocDisplayName)}}"> {{comment.attachedDocDisplayName}}</div><div data-ng-if="!comment.attachedDocPath && comment.attachedDocDisplayName" style="padding:8px;border:1px solid #000;display:inline-block;border-radius:5px">Attachment was removed</div><div data-ng-if="comment.commentId === $ctrl.editCommentId"><textarea id="edit-tiny-mce-editor-{{comment.commentId}}" data-ng-ctrl-enter="$ctrl.submitCommentEdit()" data-ng-model="$ctrl.editCommentText" class="form-control" maxlength="4000"></textarea><div data-ng-if="comment.attachedDocPath && comment.attachedDocDisplayName && !$ctrl.editCommentShouldRemoveAttachment" class="text-link" data-ng-click="$ctrl.editCommentShouldRemoveAttachment = true">Remove attachment</div><div data-ng-if="$ctrl.editCommentShouldRemoveAttachment" class="text-link" data-ng-click="$ctrl.editCommentShouldRemoveAttachment = false">Attachment will be removed (click to undo)</div><div style="text-align:right"><button class="btn btn-primary" data-ng-click="$ctrl.submitCommentEdit()" data-ng-if="!$ctrl.isLoading">Save Changes</button> <button class="btn btn-primary" data-ng-click="$ctrl.cancelCommentEdit()">Cancel</button></div></div></div></div><div class="media mt-3 ms-5" data-ng-repeat="replyComment in comment.replies"><img class="d-flex me-3" style="width:80px;height:80px" alt="Profile for {{ replyComment.authorFullName }}" data-ng-src="{{ replyComment.authorAvatarUrl }}"><div class="media-body"><p><span class="text-bold">{{ replyComment.authorFullName }}</span> - <span data-livestamp="{{ replyComment.postDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ replyComment.postDateUtc | date:\'medium\' }}"></span> <span data-ng-if="replyComment.lastEditDateUtc && !replyComment.deletedDateUtc" class="note-text">(Edited <span data-livestamp="{{ replyComment.lastEditDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ replyComment.lastEditDateUtc | date:\'medium\' }}"></span>) </span><span data-ng-if="replyComment.deletedDateUtc" class="note-text">(Deleted <span data-livestamp="{{ replyComment.deletedDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ replyComment.deletedDateUtc | date:\'medium\' }}"></span>) </span><span data-ng-if="replyComment.isMyComment && !replyComment.deletedDateUtc && !$ctrl.thread.archiveDateUtc">- <span class="text-link" data-ng-click="$ctrl.startEditComment( replyComment )">Edit</span> - <span class="text-link" data-ng-click="$ctrl.deleteComment( replyComment )">Delete</span></span></p><p data-ng-if="replyComment.commentId !== $ctrl.editCommentId" ng-bind-html="replyComment.commentText"></p><div data-ng-if="replyComment.commentId === $ctrl.editCommentId"><textarea id="edit-tiny-mce-editor-{{replyComment.commentId}}" data-ng-ctrl-enter="$ctrl.submitCommentEdit()" class="form-control" data-ng-model="$ctrl.editCommentText" maxlength="4000"></textarea><div style="text-align:right"><button class="btn btn-primary" data-ng-click="$ctrl.submitCommentEdit()" data-ng-if="!$ctrl.isLoading">Save Changes</button> <button class="btn btn-primary" data-ng-click="$ctrl.cancelCommentEdit()">Cancel</button></div></div></div></div><p data-ng-show="$ctrl.replyToCommentId !== comment.commentId && !$ctrl.thread.archiveDateUtc && !$ctrl.thread.isReadOnly" class="mt-3"><span class="text-button" data-ng-click="$ctrl.startReplyToComment( comment )">Reply to this comment {{ comment.replies.length > 0 ? "thread" : "" }}</span></p><div data-ng-show="$ctrl.replyToCommentId === comment.commentId" class="mt-3"><textarea id="reply-tiny-mce-editor-{{comment.commentId}}" data-ng-ctrl-enter="$ctrl.submitReplyComment()" class="form-control reply-to-textarea" data-ng-model="$ctrl.replyCommentText" maxlength="4000" placeholder="Enter your reply here"></textarea><div class="text-end"><button class="btn btn-primary" data-ng-click="$ctrl.submitReplyComment()" data-ng-if="!$ctrl.isLoading">Add Comment</button> <button class="btn btn-primary" data-ng-click="$ctrl.cancelCommentReply()">Cancel</button></div></div><div class="alert alert-info" data-ng-if="$ctrl.thread.isReadOnly">This is a read-only discussion thread to serve as a notice and does not allow comments.</div><hr data-ng-if="$index < $ctrl.commentsState.comments.length - 1" class="mt-4 mb-4"></div></div></div>'),t.put("/ngApp/services/group-comment-threads.html",'<div class="group-comment-container portlet-box white spinner-effect margin-vertical-lg box-shadow" data-ng-cloak><div class="portlet-header"><button class="btn btn-primary" data-ng-if="$ctrl.canCreateThreads" data-ng-click="$ctrl.setDisplayCreateModal(true)" style="float:right">Start New Thread</button> <span data-ng-if="!$ctrl.canCreateThreads" class="note-text" style="float:right">Only board can<br>create threads</span><div style="display:inline-block" class="title"><i class="fa-solid fa-comments ally-portlet-icon me-2"></i> Discussion</div><a class="help-link" style="display:inline-block;margin-left:20px" target="_blank" href="https://help.communityally.org/discussion-threads/">View Help</a></div><div class="portlet-body"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><div><div data-ng-repeat="thread in $ctrl.commentThreads" class="mt-4 mb-4 ally-shaded-item"><div><h5 class="text-link" style="display:inline" data-ng-click="$ctrl.displayDiscussModal( thread )">{{ thread.title }}</h5><img alt="toggle thread pinning" title="Pin threads to make them show up at the top" data-ng-if="$ctrl.showBoardOnly" style="cursor:pointer;width:15px;vertical-align:text-top;margin-left:6px" data-ng-click="$ctrl.onClickPin( thread )" data-ng-src="{{thread.pinnedDateUtc ? \'/assets/images/pin-24-blue.png\' : \'/assets/images/pin-24-gray.png\'}}"> <img alt="thread is pinned" title="This thread has been pinned to the top" data-ng-if="!$ctrl.showBoardOnly && thread.pinnedDateUtc" style="width:15px;vertical-align:text-top;margin-left:6px" src="/assets/images/pin-24-blue.png"> <span data-ng-if="thread.isBoardOnly" class="badge badge-secondary">Board-Only</span></div><span class="note-text" style="display:block" data-ng-if="thread.numCommentsSinceLastRead === 0">There are no new comments since you last checked </span><span class="note-text" style="display:block" data-ng-if="thread.numCommentsSinceLastRead > 0">There {{thread.numCommentsSinceLastRead === 1 ? \'is\' : \'are\'}} {numCommentsSinceLastRead} new comment{{thread.numCommentsSinceLastRead === 1 ? \'\' : \'s\'}} since you last checked </span><span class="note-text" style="display:block" data-ng-if="thread.lastCommentDateUtc.getTime() !== thread.createDateUtc.getTime()">Updated by <span style="font-weight:700">{{ thread.lastCommentAuthorName }}</span> <span data-livestamp="{{ thread.lastCommentDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ thread.lastCommentDateUtc | date:\'medium\' }}"></span> </span><span class="note-text">Created by <span style="font-weight:700">{{ thread.authorFullName }}</span> <span data-livestamp="{{ thread.createDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ thread.createDateUtc | date:\'medium\' }}"></span></span></div><div class="note-text" data-ng-if="$ctrl.commentThreads.length === 0">There are no active discussion threads.</div></div><div class="note-text text-link mt-3" data-ng-if="$ctrl.archivedThreads === null" data-ng-click="$ctrl.refreshCommentThreads( true )">View Archived Threads</div><div class="mt-3" data-ng-if="$ctrl.archivedThreads !== null && $ctrl.archivedThreads.length > 0"><h4 class="mt-4">Archived Threads</h4><div data-ng-repeat="thread in $ctrl.archivedThreads" class="mt-2 mb-2"><h5 class="text-link" data-ng-click="$ctrl.displayDiscussModal( thread )">{{ thread.title }}</h5><span class="note-text" style="display:block" data-ng-if="thread.numCommentsSinceLastRead === 0">There are no new comments since you last checked </span><span class="note-text" style="display:block" data-ng-if="thread.numCommentsSinceLastRead > 0">There {{thread.numCommentsSinceLastRead === 1 ? \'is\' : \'are\'}} {numCommentsSinceLastRead} new comment{{thread.numCommentsSinceLastRead === 1 ? \'\' : \'s\'}} since you last checked </span><span class="note-text" style="display:block" data-ng-if="thread.archiveDateUtc">Archived <span data-livestamp="{{ thread.archiveDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ thread.archiveDateUtc | date:\'medium\' }}"></span> </span><span class="note-text" style="display:block" data-ng-if="thread.lastCommentDateUtc.getTime() !== thread.createDateUtc.getTime()">Updated by <span style="font-weight:700">{{ thread.lastCommentAuthorName }}</span> <span data-livestamp="{{ thread.lastCommentDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ thread.lastCommentDateUtc | date:\'medium\' }}"></span> </span><span class="note-text">Created by <span style="font-weight:700">{{ thread.authorFullName }}</span> <span data-livestamp="{{ thread.createDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ thread.createDateUtc | date:\'medium\' }}"></span></span><hr data-ng-if="$index < $ctrl.archivedThreads.length - 1"></div><div class="note-text" data-ng-if="$ctrl.archivedThreads.length === 0">There are no archived discussion threads.</div></div><div data-ng-if="$ctrl.showCreateNewModal" class="modal-container"><div class="modal-overlay" data-ng-click="$ctrl.setDisplayCreateModal(false)"></div><div class="ca-modal-dialog" style="width:670px"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.setDisplayCreateModal(false)">&times;</span><div class="row mb-3 width100 px-3"><label class="form-label">Title:</label> <input id="new-thread-title-text-box" type="text" data-ng-model="$ctrl.newThreadTitle" data-ng-escape="$ctrl.setDisplayCreateModal(false)" class="form-control form-control-sm" maxlength="256" required></div><div class="row mb-3 width100 px-3"><label class="form-label">Body:</label> <textarea id="new-thread-body-rte" type="text" rows="4" class="form-control" maxlength="1024" data-ng-model="$ctrl.newThreadBodyText"></textarea></div><div class="row mb-3 width100 px-3"><label class="form-label">Optional Attachment:</label> <input id="comment-attachment-input" type="file" on-file-change="$ctrl.onFileAttached($event)"> <span data-ng-if="$ctrl.attachmentFile" class="text-link note-text" data-ng-click="$ctrl.removeAttachment()">Remove Attachment</span></div><div class="row mb-3 width100 px-3" data-ng-if="$ctrl.showBoardOnly && !$ctrl.committeeId"><label for="is-board-only-thread-check-box" class="form-label" style="width:auto">Is Board Only:</label> <input id="is-board-only-thread-check-box" class="checkbox-style" type="checkbox" data-ng-model="$ctrl.newThreadIsBoardOnly"><br><span class="note-text ps-0">Indicates this discussion thread will only be visible to board members and site admin.</span></div><div class="row mb-3 width100 px-3" data-ng-if="$ctrl.showBoardOnly && !$ctrl.committeeId"><label for="is-read-only-thread-check-box" class="form-label" style="width:auto">Is Read-Only:</label> <input id="is-read-only-thread-check-box" class="checkbox-style" type="checkbox" data-ng-model="$ctrl.newThreadIsReadOnly"><br><span class="note-text ps-0">Enable this to create threads that act more like notices and do not allow discussion.</span></div><div class="row mb-3 width100 px-3" data-ng-if="$ctrl.isPremiumPlanActive"><label for="send-notice-check-box" class="form-label" style="width:auto">Send Out Email Notice:</label> <input id="send-notice-check-box" class="checkbox-style" type="checkbox" data-ng-model="$ctrl.shouldSendNoticeForNewThread"><br><span class="note-text ps-0">An email will be sent out to the <span data-ng-if="!$ctrl.committeeId">discussion group</span><span data-ng-if="$ctrl.committeeId">committee members</span> telling them about your new thread.</span></div><div class="row mb-3 note-text width100 px-3" data-ng-if="!$ctrl.isPremiumPlanActive">You can send out email notifications on our premium plan.</div><div style="text-align:center"><div class="text-error" data-ng-if="$ctrl.newThreadErrorMessage">{{$ctrl.newThreadErrorMessage}}</div><button type="button" class="btn btn-primary" data-ng-click="$ctrl.createNewThread()">Create Thread</button></div></div></div><group-comment-thread-view data-ng-if="$ctrl.viewingThread" data-thread="$ctrl.viewingThread" data-on-closed="$ctrl.viewingThread = null"></group-comment-thread-view></div></div>'),t.put("/ngApp/services/group-comments.html",'<div class="group-comment-container portlet-box white spinner-effect margin-vertical" data-ng-cloak><div class="portlet-header"><div class="title"><i class="fa-solid fa-comments ally-portlet-icon me-2"></i> Discussion</div></div><div class="portlet-body"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><div><div class="form-group"><textarea class="form-control" data-ng-model="$ctrl.editComment.commentText" maxlength="1000" placeholder="Enter your comment here"></textarea></div><p class="text-end"><button class="btn btn-primary" data-ng-click="$ctrl.onPostCommentClicked()">{{ $ctrl.editComment.existingCommentId ? "Edit Comment" : "Add New Comment" }}</button></p></div><div data-ng-repeat="comment in $ctrl.commentList" class="mt-2 mb-2 bb"><div class="media"><img class="d-flex me-3" alt="Profile for {{ comment.authorFullName }}" data-ng-src="{{ comment.authorAvatarUrl }}"><div class="media-body"><p><span style="font-weight:700">{{ comment.authorFullName }}</span> - <span data-livestamp="{{ comment.postDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ comment.postDateUtc | date:\'medium\' }}"></span> <span data-ng-if="comment.isMyComment && !comment.deletedDateUtc">- <span class="text-link" data-ng-click="$ctrl.editMyComment( comment )">Edit</span> - <span class="text-link" data-ng-click="$ctrl.deleteMyComment( comment )">Delete</span></span></p><p data-ng-if="comment.lastEditDateUtc && !comment.deletedDateUtc" class="note-text">Edited <span data-livestamp="{{ comment.lastEditDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ comment.lastEditDateUtc | date:\'medium\' }}"></span></p><p data-ng-if="comment.deletedDateUtc" class="note-text">Deleted <span data-livestamp="{{ comment.deletedDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ comment.deletedDateUtc | date:\'medium\' }}"></span></p><p ng-bind-html="comment.commentText | linky:\'_blank\':{rel: \'nofollow noopener noreferrer\'}"></p></div></div><div class="media mt-3 ms-5" data-ng-repeat="replyComment in comment.replies"><img class="d-flex me-3" alt="Profile for {{ replyComment.authorFullName }}" data-ng-src="{{ replyComment.authorAvatarUrl }}"><div class="media-body"><p><span class="text-bold">{{ replyComment.authorFullName }}</span> - <span data-livestamp="{{ replyComment.postDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ replyComment.postDateUtc | date:\'medium\' }}"></span> <span data-ng-if="replyComment.isMyComment && !replyComment.deletedDateUtc">- <span class="text-link" data-ng-click="$ctrl.editMyComment( replyComment )">Edit</span> - <span class="text-link" data-ng-click="$ctrl.deleteMyComment( replyComment )">Delete</span></span></p><p data-ng-if="replyComment.lastEditDateUtc && !replyComment.deletedDateUtc" class="note-text">Edited <span data-livestamp="{{ replyComment.lastEditDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ replyComment.lastEditDateUtc | date:\'medium\' }}"></span></p><p data-ng-if="replyComment.deletedDateUtc" class="note-text">Deleted <span data-livestamp="{{ replyComment.deletedDateUtc | date:\'yyyy-MM-ddTHH:mm:ssZ\' }}" title="{{ replyComment.deletedDateUtc | date:\'medium\' }}"></span></p><p ng-bind-html="replyComment.commentText | linky:\'_blank\':{rel: \'nofollow noopener noreferrer\'}"></p></div></div><p data-ng-show="$ctrl.showReplyBoxId !== comment.commentId" class="mt-3"><a href="javascript:void(0)" class="text-button clearfix" data-ng-click="$ctrl.clickReplyToComment( comment.commentId )">Reply to this comment {{ comment.replies.length > 0 ? "thread" : "" }}</a></p><div data-ng-show="$ctrl.showReplyBoxId === comment.commentId" class="mt-3"><div class="form-group"><textarea class="form-control" data-ng-model="$ctrl.editComment.replyText" maxlength="1000" placeholder="Enter your reply here"></textarea></div><div class="text-end"><button class="btn btn-primary" data-ng-click="$ctrl.onPostReplyCommentClicked()">Comment</button> <button class="btn btn-primary" data-ng-click="$ctrl.editComment = {}; $ctrl.showReplyBoxId = -1;">Cancel</button></div></div></div><div data-ng-if="$ctrl.isQaSite" class="mt-2 mb-2"><div class="media"><img class="d-flex me-3" alt="Profile for System Admin" data-ng-src="https://www.gravatar.com/avatar/ddc7bfa984ef6108a80c28839fdeb286?s=80&amp;d=identicon" src="https://www.gravatar.com/avatar/ddc7bfa984ef6108a80c28839fdeb286?s=80&amp;d=identicon"><div class="media-body"><p><span style="font-weight:700" class="ng-binding">John Smith</span> - <span title="Jun 17, 2017 4:15:40 PM">a day ago</span></p><p ng-bind-html="comment.commentText | linky:\'_blank\':{rel: \'nofollow noopener noreferrer\'}" class="ng-binding">This is a test of a modal for Josh.</p></div></div><p data-ng-show="$ctrl.showReplyBoxId !== comment.commentId" class="text-button ng-binding" data-ng-click="$ctrl.clickReplyToComment( comment.commentId )">Reply to this comment</p><div class="form-group mt-3"><textarea class="form-control" data-ng-model="$ctrl.editComment.replyText" maxlength="1000" placeholder="Enter your reply here"></textarea></div><p style="text-align:right"><button class="btn btn-primary" data-ng-click="$ctrl.onPostReplyCommentClicked()">Comment</button> <button class="btn btn-primary" data-ng-click="$ctrl.editComment = {}; $ctrl.showReplyBoxId = -1;">Cancel</button></p></div><div data-ng-if="$ctrl.showDiscussModal" class="modal-container"><div class="modal-overlay" data-ng-click="ctrl.hideDiscussModalDelayed()"></div><div class="ca-modal-dialog"><div style="float:left;width:80%;margin:6px"><img alt="Profile for System Admin" data-ng-src="https://www.gravatar.com/avatar/ddc7bfa984ef6108a80c28839fdeb286?s=80&amp;d=identicon" src="https://www.gravatar.com/avatar/ddc7bfa984ef6108a80c28839fdeb286?s=80&amp;d=identicon"></div><p><span style="font-weight:700" class="ng-binding">System Admin</span> - <span title="Jun 17, 2017 4:15:40 PM">a day ago</span></p><p ng-bind-html="comment.commentText | linky:\'_blank\':{rel: \'nofollow noopener noreferrer\'}" class="ng-binding">This is a test of a modal for Josh.</p><div class="clearfix"></div><div style="margin-left:40px"></div><p data-ng-show="$ctrl.showReplyBoxId !== comment.commentId" class="text-button ng-binding" data-ng-click="$ctrl.clickReplyToComment( comment.commentId )">Reply to this comment</p><div data-ng-show="$ctrl.showReplyBoxId === comment.commentId" class="ng-hide mt-3"><textarea data-ng-model="$ctrl.editComment.replyText" maxlength="1000" placeholder="Enter your reply here" class="ng-pristine ng-untouched ng-valid ng-empty ng-valid-maxlength"></textarea><p class="text-end"><button class="blue_btn" data-ng-click="$ctrl.onPostReplyCommentClicked()">Comment</button> <button class="blue_btn" data-ng-click="$ctrl.editComment = {}; $ctrl.showReplyBoxId = -1;">Cancel</button></p></div></div></div></div></div>'),t.put("/ngApp/services/send-message.html",'<div style="display:inline"><span data-ng-if="$ctrl.recipientInfo.hasEmail" class="text-link" data-ng-click="$ctrl.showSendModal()">Send Message</span> <span data-ng-if="!$ctrl.recipientInfo.hasEmail">Cannot send message, missing email</span><div class="modal-container" data-ng-if="$ctrl.shouldShowSendModal" data-ng-escape="$ctrl.hideModal()" style="max-width:94vw"><div class="modal-overlay" data-ng-click="$ctrl.shouldShowSendModal = false"></div><div class="ca-modal-dialog modal-md container"><span style="float:right" class="close-x" data-ng-click="$ctrl.hideModal()">&times;</span><h2>Send Message</h2><div data-ng-if="$ctrl.isPremiumPlanActive && !$ctrl.isSendingToSelf"><div data-ng-hide="$ctrl.sendResultMessage && !$ctrl.sendResultIsError"><div class="row mb-3"><label class="col-sm-3 col-12 text-sm-end text-start form-label-popup">To:</label><div class="col-sm-9 col-12 ps-3">{{ $ctrl.recipientInfo.fullName }}</div></div><div class="row mb-3" data-ng-if="$ctrl.shouldShowSendAsBoard"><label class="col-sm-3 col-12 text-sm-end text-start form-label-popup" for="send-as-board-checkbox">Send As Board:</label><div class="col-sm-9 col-12"><input type="checkbox" id="send-as-board-checkbox" style="height:20px;width:20px" data-ng-model="$ctrl.shouldSendAsBoard" data-ng-change="$ctrl.onSendAsBoardChanged()"><div class="note-text">This will set the \'from\' address to the board\'s group email address.</div></div></div><div class="row mb-3"><label class="col-sm-3 col-12 text-sm-end text-start form-label-popup">Subject:</label><div class="col-sm-9 col-12"><input type="text" id="subject-text-box" class="form-control" data-ng-model="$ctrl.messageSubject"></div></div><div class="row mb-3"><label class="col-sm-3 col-12 text-sm-end text-start form-label-popup">Message:</label><div class="col-sm-9 col-12"><textarea id="message-text-box" class="form-control" style="height:170px" data-ng-model="$ctrl.messageBody"></textarea></div></div><div class="note-text">This will send {{ $ctrl.recipientInfo.firstName }} an email to which they will be able to reply to reach you.</div></div><div class="text-end"><div data-ng-show="$ctrl.shouldShowButtons"><button type="button" class="btn btn-primary" data-ng-click="$ctrl.sendMessage()">Send</button></div><img src="/assets/images/spinner-large.gif" data-ng-show="$ctrl.isSending"><p data-ng-show="$ctrl.sendResultMessage" class="error-text" data-ng-style="{ \'color\' : $ctrl.sendResultIsError ? \'red\' : \'blue\', \'text-align\' : \'left\' }"><br>{{ $ctrl.sendResultMessage }}</p></div></div><div data-ng-if="!$ctrl.isPremiumPlanActive && !$ctrl.isSendingToSelf">Your association is currently on our free plan which doesn\'t support message sending. Please consider upgrading to our premium plan to unlock unlimited messages/emails and support improvements to your site!</div><div data-ng-if="$ctrl.isSendingToSelf">You cannot send yourself messages. If you\'re lonely, reach out to a neighbor!</div></div></div></div>'),t.put("/ngApp/services/todo-list.html",'<section class="info" data-ng-cloak><div><div class="loading-overlay" data-ng-show="$ctrl.isLoading"></div><div data-ng-if="!$ctrl.isFixedList"><div data-ng-repeat="curList in $ctrl.todoLists"><h4>{{ curList.name }} <span class="note-text" style="font-size:.55em">To-Do List</span><span data-ng-if="$ctrl.canManage" class="ms-2"><span class="text-link note-text" data-ng-click="$ctrl.deleteTodoList( curList )">Delete</span></span></h4><div><div class="todo-item-box mt-2" data-ng-repeat="curItem in curList.todoItems"><div style="width:80%;display:inline-block;line-height:24px;vertical-align:top"><input type="checkbox" data-ng-click="$ctrl.onToggleComplete( curList.todoListId, curItem.todoItemId )"> {{ curItem.description }} <span class="ms-2" data-ng-if="$ctrl.canManage"><span class="text-link note-text" data-ng-click="$ctrl.deleteTodoItem( curItem )">Delete</span></span></div></div><div class="text-link note-text mt-2" data-ng-if="$ctrl.canManage" data-ng-click="$ctrl.addNewItem( curList.todoListId )">Add To-Do</div></div><hr style="margin-top:20px;margin-bottom:20px"></div><div data-ng-if="$ctrl.canManage"><span class="note-text text-link" style="border-bottom-style:none!important" data-onaftersave="$ctrl.onAddList()" data-editable-text="$ctrl.newListName">Add New To-Do List </span><span class="note-text text-link float-end" data-ng-click="$ctrl.exportAllToCsv()">Export to CSV</span></div><div data-ng-if="!$ctrl.canManage">There are no to-do lists to view.</div></div><div data-ng-if="$ctrl.isFixedList"><div class="todo-item-box mt-2" data-ng-repeat="curItem in $ctrl.todoLists[0].todoItems"><div style="width:80%;display:inline-block;line-height:24px;vertical-align:top"><input type="checkbox" data-ng-click="$ctrl.onToggleComplete( curList.todoListId, curItem.todoItemId )"> {{ curItem.description }} <span class="ms-2" data-ng-if="$ctrl.canManage"><span class="text-link note-text" data-ng-click="$ctrl.deleteTodoItem( curItem )">Delete</span></span></div></div><div class="text-link note-text mt-2" data-ng-if="$ctrl.canManage" data-ng-click="$ctrl.addNewItem( curList.todoListId )">Add To-Do</div></div></div></section><div data-ng-if="$ctrl.editTodoItem" class="modal-container"><div class="modal-overlay"></div><div class="ca-modal-dialog modal-md"><div data-ng-show="$ctrl.isLoading" class="loading-overlay"></div><span style="float:right" class="close-x" data-ng-click="$ctrl.editTodoItem = null">&times;</span><h2>Add To-Do</h2><div class="row mb-3 px-3"><label class="col-sm-3 col-12 form-label">Name:</label><div class="col-sm-9 col-12 px-0"><input id="edit-todo-name-text-box" data-ng-enter="$ctrl.saveTodoItem()" class="form-control" type="text" data-ng-model="$ctrl.editTodoItem.description"></div></div><div class="mb-3 row px-3" data-ng-if="!$ctrl.shouldExpandTodoItemModal"><div class="col-12 px-0" style="text-align:center"><span class="text-link note-text" data-ng-click="$ctrl.shouldExpandTodoItemModal = true">Advanced Options</span></div></div><div data-ng-if="$ctrl.shouldExpandTodoItemModal"><div class="mb-3 row px-3"><label class="col-sm-3 col-12 form-label">Due Date:</label><div class="col-sm-9 col-12 px-0"><input class="form-control" type="text" data-ui-date data-ng-model="$ctrl.editTodoItem.dueDate"></div></div></div><div class="mb-3 row px-3"><div class="col-sm-12" style="text-align:right"><button class="btn btn-primary" data-ng-click="$ctrl.saveTodoItem()" type="button">Save</button></div></div></div></div>'),t.put("/ngApp/watch/manager/ManageMembers.html",'<script>ManageNeighborsJS =\r\n    {\r\n        ShowFeedbackMessage: function ( msg )\r\n        {\r\n            $( "#FeedbackPanel" ).text( msg );\r\n            $( "#FeedbackPanel" ).show();\r\n\r\n            $( "#FeedbackPanel" ).fadeOut( 5000, function ()\r\n            {\r\n                $( "#FeedbackPanel" ).hide();\r\n            } );\r\n        }\r\n    };<\/script><style>.gridStyle{border:1px solid #d4d4d4}.highlightRowStyle:hover{background-color:red}.ngRow.selected{background-color:inherit!important}.ngRow:hover{background-color:#c4c4e4}</style><section class="content-full-width"><div><div class="loading-overlay" data-ng-show="isLoading"></div><div id="FeedbackPanel" style="text-align:center;margin:0 auto;display:none;font-size:large;color:#0b0"></div><span style="font-size:small">Are your neighbors not receiving emails from this site? If so, make sure they add "sender@condoally.com" to their list of trusted email senders.</span><br><br><span>Here you can manage the people that live in your association. Simply click on their name to edit their information. Only admins can upload documents, edit information, add to the logbook, edit the welcome page, and manage members.</span><br><div id="MissingEmailsLabel" data-ng-show="badEmailsExist"><br><span class="error-text">Some neighbors are missing their email address. In order for your neighbors to log-in, you must set their email address then send them a welcome email.</span><br><br></div><div ng-grid="memberGridOptions" class="gridStyle"></div><div id="EditUserContainer" class="modal-container" data-ng-show="editUser != null" data-ng-escape="setEdit( null )"><div class="modal-overlay" data-ng-click="setEdit( null )"></div><form id="editUserForm" name="editUserForm" novalidate class="ca-modal-dialog"><div class="loading-overlay" data-ng-show="isSavingUser"></div><table><tbody><tr><td class="text-end">First Name:</td><td><input type="text" required name="editUserFirstTextBox" id="edit-user-first-text-box" data-ng-model="editUser.firstName"><div class="validation-label" data-ng-show="editUserForm.editUserFirstTextBox.$error.required">Required</div></td><td class="text-end">Last Name:</td><td><input type="text" data-ng-model="editUser.lastName"></td></tr><tr><td class="text-end">Email:</td><td><input type="text" data-ng-model="editUser.email"></td><td class="text-end"><label for="is-site-manager-checkbox">Is Admin:</label></td><td><input id="is-site-manager-checkbox" type="checkbox" data-ng-model="editUser.isSiteManager"><br><span style="font-size:small">Admin can add, edit, and delete site information.</span></td></tr><tr><td class="text-end">Phone Number</td><td><input type="text" maxlength="30" data-ng-model="editUser.phoneNumber"></td><td class="text-end"></td><td style="vertical-align:bottom"></td></tr><tr><td class="text-end">Address</td><td colspan="3"><input type="text" maxlength="256" style="width:100%" data-ng-model="editUser.addressOneLiner"></td></tr><tr><td colspan="2"><div data-ng-show="editUser.userId.length > 0"><input data-ng-hide="sentWelcomeEmail" ng-disabled="editUserForm.$dirty" type="button" value="Send Welcome Email" data-ng-click="onSendWelcome()"><div data-ng-show="editUserForm.$dirty" style="font-size:small">(Please save your changes then come back to send the welcome email.)</div><div data-ng-show="sentWelcomeEmail" data-ng-click="setEdit( null )"><div style="position:relative;top:150px">Welcome email has been sent!<br><span style="font-size:small">(Click anywhere to close)</span></div></div></div><div class="text-end" data-ng-show="!editUser.userId"><input id="send-welcome-checkbox" type="checkbox" data-ng-model="editUser.shouldSendWelcomeEmail"><label for="send-welcome-checkbox">Send Welcome Email with Login Info</label></div></td><td colspan="2" class="text-end"><input id="save-edit-button" ng-disabled="editUserForm.$invalid" type="button" value="Save" data-ng-click="onSaveMember()"> <input id="cancel-edit-button" type="button" value="Cancel" data-ng-click="setEdit( null )"> <input id="remove-resident-button" data-ng-show="editUser.userId.length > 0" type="button" value="Remove Member" data-ng-click="onDeleteMember()"></td></tr></tbody></table></form></div><input type="button" value="Add New Member" data-ng-click="setEdit( {boardPosition:0, shouldSendWelcomeEmail: false} );"><br><br><div>Is your site new and are you ready to share it with your fellow members?<br><input type="button" data-ng-click="onSendAllWelcome()" data-ng-hide="allEmailsSent" value="Launch Site"> <span style="font-weight:700;color:#22f" data-ng-show="allEmailsSent">All emails sent!</span><br><span>This will send all of the members, except you, an email with log-in instructions and basic site information.</span></div><div data-ng-show="isAdmin"><br>For Admins only.<br><div style="border:1px solid #000">Email: <input type="text" data-ng-model="adminSetPass_Username"><br>Password: <input type="text" data-ng-model="adminSetPass_Password"><br><input type="button" value="Set Password" data-ng-click="OnAdminSetPassword()"></div><span style="color:red">{{ adminSetPass_ResultMessage }}</span><br></div></div></section>'),t.put("/ngApp/watch/manager/Settings.html",'<style>.test-bg-image,.test-bg-image-selected{width:150px;height:150px;border:3px solid #fff;margin:14px}.test-bg-image-selected{border:3px solid #00f!important}</style><script>var SettingsJS =\r\n    {\r\n        _defaultBG: "",\r\n\r\n        Init: function ()\r\n        {\r\n            // Hook up the event handlers to toggle the image\r\n            //$( ".test-bg-image" ).click( SettingsJS.OnImageClick );\r\n\r\n            SettingsJS._defaultBG = $( ".test-bg-image-selected" ).attr( \'src\' );\r\n        }\r\n    };<\/script><div class="loading-overlay" data-ng-show="vm.isLoading"></div><h1>Site Title</h1><input type="text" id="site-title-textbox" data-ng-model="vm.settings.siteTitle" maxlength="128" style="width:60%"><button id="site-title-update-button" data-ng-click="vm.onSiteTitleChange()">Update</button><h1>Welcome Message</h1>This message will be displayed at the top of the home page.<br><textarea type="text" id="welcome-message-textbox" data-ng-model="vm.settings.welcomeMessage" rows="3" maxlength="256" style="width:60%;float:left"></textarea> <button style="float:left" id="welcome-message-update-button" data-ng-click="vm.onWelcomeMessageUpdate()">Update</button><div class="clearfix"></div><h1>Background</h1>Customize your site\'s background.<br><div><img data-ng-repeat="bgImage in vm.settings.backgroundImageFiles" id="bg-image-{{ $index }}" data-ng-mouseenter="vm.onImageHoverOver( bgImage )" data-ng-mouseleave="vm.onImageHoverOut();" data-ng-class="bgImage == vm.settings.bgImageFileName && \'test-bg-image-selected\' || \'\'" data-ng-click="vm.onImageClick( bgImage );" class="test-bg-image" src="{{ bgImagePath + bgImage }}"></div><button id="qa-delete-site-button" data-ng-if="vm.showQaButton" data-ng-click="vm.onQaDeleteSite()">d</button>'),t.put("/ngApp/watch/member/WatchCalendar.html",'<style>#calendarEditEvent{width:450px;height:120px;margin-left:-225px;margin-top:-60px}#calendarEditEvent.expanded{width:440px;height:390px;margin-left:-220px;margin-top:-190px}#calendarEditEvent h1{margin-top:0}</style><section class="content-full-width"><div><p>This calendar should be used to track suspicious behavior and plan positive loitering events.</p><div id="log-calendar" ui-calendar="uiConfig.calendar" ng-model="calendarEvents"></div><br><div id="calendar-event-panel" class="modal-container" data-ng-show="editEvent != null"><div class="modal-overlay" data-ng-click="setEditEvent( null )"></div><form id="calendarEditEvent" data-ng-class="{expanded : showExpandedCalendarEventModel}" name="calendarEditEvent" novalidate class="ca-modal-dialog-small" action="javascript:(void)" data-ng-escape="setEditEvent( null )"><div class="loading-overlay" data-ng-show="isLoadingCalendarEvents"></div><h2>{{ editEvent.eventId ? "Edit Event" : "Add Event" }}</h2><table cellpadding="0" cellspacing="0" style="width:100%"><tbody><tr><td class="AlignRightBold">When:</td><td><span id="calendar-event-when">{{ editEvent.dateOnly | date:\'EEE MMMM d\' }}</span></td></tr><tr data-ng-show="showExpandedCalendarEventModel"><td class="AlignRightBold">Time:</td><td><input id="calendar-event-time" type="text" style="width:6.5em" data-ng-model="editEvent.timeOnly"></td></tr><tr><td class="AlignRightBold">What:</td><td><input id="calendar-event-title" type="text" data-ng-model="editEvent.title" style="width:100%"></td></tr><tr data-ng-show="showExpandedCalendarEventModel"><td class="AlignRightBold">Description:</td><td><textarea data-ng--model="editEvent.description" style="width:100%;height:164px"></textarea></td></tr><tr data-ng-show="showExpandedCalendarEventModel && residents"><td class="AlignRightBold">Residents:</td><td><div style="height:137px;overflow-y:auto"><div data-ng-repeat="resident in residents"><label><input type="checkbox" data-ng-checked="isUserAssociated( resident.userId )" data-ng-click="onResidentClicked( resident.userId )"> {{resident.fullName}}</label></div></div></td></tr><tr data-ng-show="showExpandedCalendarEventModel"><td class="AlignRightBold">Notification:</td><td>Send a notification email <input type="text" data-ng-model="editEvent.notificationEmailDaysBefore" style="width:25px"> days before.<br><span style="font-size:small">(Empty to suppress a reminder email from being sent)</span></td></tr><tr><td colspan="2"><span class="text-button" data-ng-hide="showExpandedCalendarEventModel" data-ng-click="expandCalendarEventModel()">More Details</span> <span class="text-button" data-ng-show="editEvent.eventId" style="margin-right:10px" data-ng-click="deleteCalendarEvent(editEvent.eventId)">Delete</span> <span style="float:right"><span class="text-button" style="margin-right:10px" data-ng-click="saveCalendarEvent()">{{editEvent.eventId | iif : "Save" : "Create"}}</span> <span class="text-button" data-ng-click="setEditEvent( null )">Cancel</span></span></td></tr></tbody></table></form></div></div></section>'),t.put("/ngApp/watch/member/WatchHome.html",'<section class="content"><div><div id="welcome-message-label">{{ welcomeMessage }}</div><group-comments></group-comments></div></section><aside><h3>Local News</h3><article data-ng-repeat="news in vm.localNews"><h4><a data-ng-href="{{ news.fullStoryUri }}" target="_blank">{{ news.title }}</a></h4><p class="date">{{ news.date | date:\'short\' }}</p><p><photo photo-src="news.bodySnippet">{{news.bodySnippetText}}</p><p><a data-ng-href="{{ news.fullStoryUri }}" target="_blank" class="more">Read more</a></p></article></aside>'),t.put("/ngApp/watch/member/WatchMembers.html",'<section class="content-full-width"><div><div data-ng-show="isSiteManager"><a href="/#!/ManageMembers">Manage Members</a></div><google-map-poly-editor map-center="vm.mapCenter" group-bounds-poly="vm.groupBounds" visible-polys="vm.housePolys"></google-map-poly-editor><br><div style="position:relative"><div class="loading-overlay" data-ng-show="vm.isLoading"></div><div data-ng-repeat="user in vm.memberList"><div style="float:left;width:80px;height:80px;margin:6px"><img alt="Profile for {{ user.fullName }}" data-ng data-ng-src="{{ user.avatarUrl }}"></div><span id="owner-name-{{ $index }}">{{ user.fullName }}</span> <span data-ng-if="user.email.length > 0 || user.phoneNumber.length > 0">(<a id="owner-email-{{ $index }}" href="mailto:{{ user.email }}">{{ user.email }}</a>{{ user.email.length > 0 && user.phoneNumber.length > 0 ? " - " : "" }}<span id="owner-phone-{{ $index }}">{{ user.phoneNumber | tel }}</span>)<br></span><div class="clearfix"></div><hr></div></div></div></section>')}]);