/*! CommunityAllyWebApp 2018-12-21 */

/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var i=[],n=e.document,r=i.slice,o=i.concat,a=i.push,s=i.indexOf,l={},u=l.toString,c=l.hasOwnProperty,d={},h=function(e,t){return new h.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,f=/^-ms-/,g=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};h.fn=h.prototype={jquery:"1.12.4",constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return h.each(this,e)},map:function(e){return this.pushStack(h.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},h.extend=h.fn.extend=function(){var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||h.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(r=arguments[s]))for(n in r)e=a[n],a!==(i=r[n])&&(u&&i&&(h.isPlainObject(i)||(t=h.isArray(i)))?(t?(t=!1,o=e&&h.isArray(e)?e:[]):o=e&&h.isPlainObject(e)?e:{},a[n]=h.extend(u,o,i)):void 0!==i&&(a[n]=i));return a},h.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!h.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!d.ownFirst)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[u.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(f,"ms-").replace(g,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(v(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(v(Object(e))?h.merge(i,"string"==typeof e?[e]:e):a.call(i,e)),i},inArray:function(e,t,i){var n;if(t){if(s)return s.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;)e[r++]=t[n++];if(i!=i)for(;void 0!==t[n];)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,a=!i;r<o;r++)!t(e[r],r)!==a&&n.push(e[r]);return n},map:function(e,t,i){var n,r,a=0,s=[];if(v(e))for(n=e.length;a<n;a++)null!=(r=t(e[a],a,i))&&s.push(r);else for(a in e)null!=(r=t(e[a],a,i))&&s.push(r);return o.apply([],s)},guid:1,proxy:function(e,t){var i,n,o;if("string"==typeof t&&(o=e[t],t=e,e=o),h.isFunction(e))return i=r.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||h.guid++,n},now:function(){return+new Date},support:d}),"function"==typeof Symbol&&(h.fn[Symbol.iterator]=i[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function v(e){var t=!!e&&"length"in e&&e.length,i=h.type(e);return"function"!==i&&!h.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}var y=
/*!
     * Sizzle CSS Selector Engine v2.2.1
     * http://sizzlejs.com/
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     *
     * Date: 2015-10-17
     */
function(e){var t,i,n,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w="sizzle"+1*new Date,x=e.document,_=0,C=0,S=oe(),k=oe(),$=oe(),E=function(e,t){return e===t&&(d=!0),0},T=1<<31,D={}.hasOwnProperty,M=[],P=M.pop,A=M.push,I=M.push,O=M.slice,L=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",H="\\["+F+"*("+N+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+F+"*\\]",G=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),B=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),V=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),j=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),U=new RegExp(G),q=new RegExp("^"+N+"$"),Y={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ie=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},ne=function(){h()};try{I.apply(M=O.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(e){I={apply:M.length?function(e,t){A.apply(e,O.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,n,r){var o,s,u,c,d,f,v,y,_=t&&t.ownerDocument,C=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return n;if(!r&&((t?t.ownerDocument||t:x)!==p&&h(t),t=t||p,g)){if(11!==C&&(f=J.exec(e)))if(o=f[1]){if(9===C){if(!(u=t.getElementById(o)))return n;if(u.id===o)return n.push(u),n}else if(_&&(u=_.getElementById(o))&&b(t,u)&&u.id===o)return n.push(u),n}else{if(f[2])return I.apply(n,t.getElementsByTagName(e)),n;if((o=f[3])&&i.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(o)),n}if(i.qsa&&!$[e+" "]&&(!m||!m.test(e))){if(1!==C)_=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(ee,"\\$&"):t.setAttribute("id",c=w),s=(v=a(e)).length,d=q.test(c)?"#"+c:"[id='"+c+"']";s--;)v[s]=d+" "+ge(v[s]);y=v.join(","),_=Q.test(e)&&pe(t.parentNode)||t}if(y)try{return I.apply(n,_.querySelectorAll(y)),n}catch(e){}finally{c===w&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,n,r)}function oe(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function ae(e){return e[w]=!0,e}function se(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var i=e.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=t}function ue(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||T)-(~e.sourceIndex||T);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function he(e){return ae(function(t){return t=+t,ae(function(i,n){for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}i=re.support={},o=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=re.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:x;return a!==p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,g=!o(p),(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ne,!1):r.attachEvent&&r.attachEvent("onunload",ne)),i.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=se(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=Z.test(p.getElementsByClassName),i.getById=se(function(e){return f.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),i.getById?(n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var i=t.getElementById(e);return i?[i]:[]}},n.filter.ID=function(e){var t=e.replace(te,ie);return function(e){return e.getAttribute("id")===t}}):(delete n.find.ID,n.filter.ID=function(e){var t=e.replace(te,ie);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(i.qsa=Z.test(p.querySelectorAll))&&(se(function(e){f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),se(function(e){var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&se(function(e){i.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",G)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(f.compareDocumentPosition),b=t||Z.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===x&&b(x,e)?-1:t===p||t.ownerDocument===x&&b(x,t)?1:c?L(c,e)-L(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===p?-1:t===p?1:r?-1:o?1:c?L(c,e)-L(c,t):0;if(r===o)return ue(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?ue(a[n],s[n]):a[n]===x?-1:s[n]===x?1:0},p):p},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(j,"='$1']"),i.matchesSelector&&g&&!$[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var n=y.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return re(t,p,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var r=n.attrHandle[t.toLowerCase()],o=r&&D.call(n.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==o?o:i.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],r=0,o=0;if(d=!i.detectDuplicates,c=!i.sortStable&&e.slice(0),e.sort(E),d){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return c=null,e},r=re.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=re.selectors={cacheLength:50,createPseudo:ae,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&U.test(i)&&(t=a(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=re.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(z," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,c,d,h,p,f,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(b=(p=(u=(c=(d=(h=m)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===_&&u[1])&&u[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[_,p,b];break}}else if(y&&(b=p=(u=(c=(d=(h=t)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===_&&u[1]),!1===b)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((c=(d=h[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[_,b]),h!==t)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){for(var n,o=r(e,t),a=o.length;a--;)e[n=L(e,o[a])]=!(i[n]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:ae(function(e){var t=[],i=[],n=s(e.replace(B,"$1"));return n[w]?ae(function(e,t,i,r){for(var o,a=n(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:ae(function(e){return function(t){return re(e,t).length>0}}),contains:ae(function(e){return e=e.replace(te,ie),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return q.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(te,ie).toLowerCase(),function(t){var i;do{if(i=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,i){return[i<0?i+t:i]}),even:he(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:he(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:he(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:he(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=de(t);function fe(){}fe.prototype=n.filters=n.pseudos,n.setFilters=new fe,a=re.tokenize=function(e,t){var i,r,o,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=n.preFilter;s;){i&&!(r=W.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=V.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(B," ")}),s=s.slice(i.length));for(a in n.filter)!(r=Y[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return t?s.length:s?re.error(e):k(e,l).slice(0)};function ge(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function me(e,t,i){var n=t.dir,r=i&&"parentNode"===n,o=C++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o)}:function(t,i,a){var s,l,u,c=[_,o];if(a){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if((s=(l=(u=t[w]||(t[w]={}))[t.uniqueID]||(u[t.uniqueID]={}))[n])&&s[0]===_&&s[1]===o)return c[2]=s[2];if(l[n]=c,c[2]=e(t,i,a))return!0}}}function ve(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function ye(e,t,i,n,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(i&&!i(o,n,r)||(a.push(o),u&&t.push(s)));return a}function be(e,t,i,n,r,o){return n&&!n[w]&&(n=be(n)),r&&!r[w]&&(r=be(r,o)),ae(function(o,a,s,l){var u,c,d,h=[],p=[],f=a.length,g=o||function(e,t,i){for(var n=0,r=t.length;n<r;n++)re(e,t[n],i);return i}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:ye(g,h,e,s,l),v=i?r||(o?e:f||n)?[]:a:m;if(i&&i(m,v,s,l),n)for(u=ye(v,p),n(u,[],s,l),c=u.length;c--;)(d=u[c])&&(v[p[c]]=!(m[p[c]]=d));if(o){if(r||e){if(r){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(m[c]=d);r(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&(u=r?L(o,d):h[c])>-1&&(o[u]=!(a[u]=d))}}else v=ye(v===a?v.splice(f,v.length):v),r?r(null,a,v,l):I.apply(a,v)})}function we(e){for(var t,i,r,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],l=a?1:0,c=me(function(e){return e===t},s,!0),d=me(function(e){return L(t,e)>-1},s,!0),h=[function(e,i,n){var r=!a&&(n||i!==u)||((t=i).nodeType?c(e,i,n):d(e,i,n));return t=null,r}];l<o;l++)if(i=n.relative[e[l].type])h=[me(ve(h),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[w]){for(r=++l;r<o&&!n.relative[e[r].type];r++);return be(l>1&&ve(h),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),i,l<r&&we(e.slice(l,r)),r<o&&we(e=e.slice(r)),r<o&&ge(e))}h.push(i)}return ve(h)}return s=re.compile=function(e,t){var i,r=[],o=[],s=$[e+" "];if(!s){for(t||(t=a(e)),i=t.length;i--;)(s=we(t[i]))[w]?r.push(s):o.push(s);(s=$(e,function(e,t){var i=t.length>0,r=e.length>0,o=function(o,a,s,l,c){var d,f,m,v=0,y="0",b=o&&[],w=[],x=u,C=o||r&&n.find.TAG("*",c),S=_+=null==x?1:Math.random()||.1,k=C.length;for(c&&(u=a===p||a||c);y!==k&&null!=(d=C[y]);y++){if(r&&d){for(f=0,a||d.ownerDocument===p||(h(d),s=!g);m=e[f++];)if(m(d,a||p,s)){l.push(d);break}c&&(_=S)}i&&((d=!m&&d)&&v--,o&&b.push(d))}if(v+=y,i&&y!==v){for(f=0;m=t[f++];)m(b,w,a,s);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=P.call(l));w=ye(w)}I.apply(l,w),c&&!o&&w.length>0&&v+t.length>1&&re.uniqueSort(l)}return c&&(_=S,u=x),b};return i?ae(o):o}(o,r))).selector=e}return s},l=re.select=function(e,t,r,o){var l,u,c,d,h,p="function"==typeof e&&e,f=!o&&a(e=p.selector||e);if(r=r||[],1===f.length){if((u=f[0]=f[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&i.getById&&9===t.nodeType&&g&&n.relative[u[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(te,ie),t)||[])[0]))return r;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(l=Y.needsContext.test(e)?0:u.length;l--&&(c=u[l],!n.relative[d=c.type]);)if((h=n.find[d])&&(o=h(c.matches[0].replace(te,ie),Q.test(u[0].type)&&pe(t.parentNode)||t))){if(u.splice(l,1),!(e=o.length&&ge(u)))return I.apply(r,o),r;break}}return(p||s(e,f))(o,t,!g,r,!t||Q.test(e)&&pe(t.parentNode)||t),r},i.sortStable=w.split("").sort(E).join("")===w,i.detectDuplicates=!!d,h(),i.sortDetached=se(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(R,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),re}(e);h.find=y,h.expr=y.selectors,h.expr[":"]=h.expr.pseudos,h.uniqueSort=h.unique=y.uniqueSort,h.text=y.getText,h.isXMLDoc=y.isXML,h.contains=y.contains;var b=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&h(e).is(i))break;n.push(e)}return n},w=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},x=h.expr.match.needsContext,_=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,C=/^.[^:#\[\.,]*$/;function S(e,t,i){if(h.isFunction(t))return h.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return h.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(C.test(t))return h.filter(t,e,i);t=h.filter(t,e)}return h.grep(e,function(e){return h.inArray(e,t)>-1!==i})}h.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?h.find.matchesSelector(n,e)?[n]:[]:h.find.matches(e,h.grep(t,function(e){return 1===e.nodeType}))},h.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(h(e).filter(function(){for(t=0;t<r;t++)if(h.contains(n[t],this))return!0}));for(t=0;t<r;t++)h.find(e,n[t],i);return(i=this.pushStack(r>1?h.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&x.test(e)?h(e):e||[],!1).length}});var k,$=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(e,t,i){var r,o;if(!e)return this;if(i=i||k,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:$.exec(e))||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:n,!0)),_.test(r[1])&&h.isPlainObject(t))for(r in t)h.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((o=n.getElementById(r[2]))&&o.parentNode){if(o.id!==r[2])return k.find(e);this.length=1,this[0]=o}return this.context=n,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?void 0!==i.ready?i.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))}).prototype=h.fn,k=h(n);var E=/^(?:parents|prev(?:Until|All))/,T={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({has:function(e){var t,i=h(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(h.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,o=[],a=x.test(e)||"string"!=typeof e?h(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&h.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?h.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function D(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},parentsUntil:function(e,t,i){return b(e,"parentNode",i)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return b(e,"nextSibling")},prevAll:function(e){return b(e,"previousSibling")},nextUntil:function(e,t,i){return b(e,"nextSibling",i)},prevUntil:function(e,t,i){return b(e,"previousSibling",i)},siblings:function(e){return w((e.parentNode||{}).firstChild,e)},children:function(e){return w(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(i,n){var r=h.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=h.filter(n,r)),this.length>1&&(T[e]||(r=h.uniqueSort(r)),E.test(e)&&(r=r.reverse())),this.pushStack(r)}});var M=/\S+/g;h.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return h.each(e.match(M)||[],function(e,i){t[i]=!0}),t}(e):h.extend({},e);var t,i,n,r,o=[],a=[],s=-1,l=function(){for(r=e.once,n=t=!0;a.length;s=-1)for(i=a.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&e.stopOnFalse&&(s=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},u={add:function(){return o&&(i&&!t&&(s=o.length-1,a.push(i)),function t(i){h.each(i,function(i,n){h.isFunction(n)?e.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==h.type(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return h.each(arguments,function(e,t){for(var i;(i=h.inArray(t,o,i))>-1;)o.splice(i,1),i<=s&&s--}),this},has:function(e){return e?h.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=!0,i||u.disable(),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],a.push(i),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(i){h.each(t,function(t,o){var a=h.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?h.extend(e,n):n}},r={};return n.pipe=n.then,h.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,o=0,a=r.call(arguments),s=a.length,l=1!==s||e&&h.isFunction(e.promise)?s:0,u=1===l?e:h.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?r.call(arguments):o,n===t?u.notifyWith(i,n):--l||u.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);o<s;o++)a[o]&&h.isFunction(a[o].promise)?a[o].promise().progress(c(o,i,t)).done(c(o,n,a)).fail(u.reject):--l;return l||u.resolveWith(n,a),u.promise()}});var P;h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){(!0===e?--h.readyWait:h.isReady)||(h.isReady=!0,!0!==e&&--h.readyWait>0||(P.resolveWith(n,[h]),h.fn.triggerHandler&&(h(n).triggerHandler("ready"),h(n).off("ready"))))}});function A(){n.addEventListener?(n.removeEventListener("DOMContentLoaded",I),e.removeEventListener("load",I)):(n.detachEvent("onreadystatechange",I),e.detachEvent("onload",I))}function I(){(n.addEventListener||"load"===e.event.type||"complete"===n.readyState)&&(A(),h.ready())}h.ready.promise=function(t){if(!P)if(P=h.Deferred(),"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll)e.setTimeout(h.ready);else if(n.addEventListener)n.addEventListener("DOMContentLoaded",I),e.addEventListener("load",I);else{n.attachEvent("onreadystatechange",I),e.attachEvent("onload",I);var i=!1;try{i=null==e.frameElement&&n.documentElement}catch(e){}i&&i.doScroll&&function t(){if(!h.isReady){try{i.doScroll("left")}catch(i){return e.setTimeout(t,50)}A(),h.ready()}}()}return P.promise(t)},h.ready.promise();var O;for(O in h(d))break;d.ownFirst="0"===O,d.inlineBlockNeedsLayout=!1,h(function(){var e,t,i,r;(i=n.getElementsByTagName("body")[0])&&i.style&&(t=n.createElement("div"),(r=n.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",d.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(r))}),function(){var e=n.createElement("div");d.deleteExpando=!0;try{delete e.test}catch(e){d.deleteExpando=!1}e=null}();var L=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)},R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/([A-Z])/g;function N(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(F,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:R.test(i)?h.parseJSON(i):i)}catch(e){}h.data(e,t,i)}else i=void 0}return i}function H(e){var t;for(t in e)if(("data"!==t||!h.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function G(e,t,n,r){if(L(e)){var o,a,s=h.expando,l=e.nodeType,u=l?h.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(r||u[c].data)||void 0!==n||"string"!=typeof t)return c||(c=l?e[s]=i.pop()||h.guid++:s),u[c]||(u[c]=l?{}:{toJSON:h.noop}),"object"!=typeof t&&"function"!=typeof t||(r?u[c]=h.extend(u[c],t):u[c].data=h.extend(u[c].data,t)),a=u[c],r||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[h.camelCase(t)]=n),"string"==typeof t?null==(o=a[t])&&(o=a[h.camelCase(t)]):o=a,o}}function z(e,t,i){if(L(e)){var n,r,o=e.nodeType,a=o?h.cache:e,s=o?e[h.expando]:h.expando;if(a[s]){if(t&&(n=i?a[s]:a[s].data)){r=(t=h.isArray(t)?t.concat(h.map(t,h.camelCase)):t in n?[t]:(t=h.camelCase(t))in n?[t]:t.split(" ")).length;for(;r--;)delete n[t[r]];if(i?!H(n):!h.isEmptyObject(n))return}(i||(delete a[s].data,H(a[s])))&&(o?h.cleanData([e],!0):d.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?h.cache[e[h.expando]]:e[h.expando])&&!H(e)},data:function(e,t,i){return G(e,t,i)},removeData:function(e,t){return z(e,t)},_data:function(e,t,i){return G(e,t,i,!0)},_removeData:function(e,t){return z(e,t,!0)}}),h.fn.extend({data:function(e,t){var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=h.data(o),1===o.nodeType&&!h._data(o,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&N(o,n=h.camelCase(n.slice(5)),r[n]);h._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){h.data(this,e)}):arguments.length>1?this.each(function(){h.data(this,e,t)}):o?N(o,e,h.data(o,e)):void 0},removeData:function(e){return this.each(function(){h.removeData(this,e)})}}),h.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=h._data(e,t),i&&(!n||h.isArray(i)?n=h._data(e,t,h.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=h.queue(e,t),n=i.length,r=i.shift(),o=h._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){h.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return h._data(e,i)||h._data(e,i,{empty:h.Callbacks("once memory").add(function(){h._removeData(e,t+"queue"),h._removeData(e,i)})})}}),h.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?h.queue(this[0],e):void 0===t?this:this.each(function(){var i=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=h.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=h._data(o[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}}),function(){var e;d.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,r;return(i=n.getElementsByTagName("body")[0])&&i.style?(t=n.createElement("div"),(r=n.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(n.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(r),e):void 0}}();var B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],j=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)};function U(e,t,i,n){var r,o=1,a=20,s=n?function(){return n.cur()}:function(){return h.css(e,t,"")},l=s(),u=i&&i[3]||(h.cssNumber[t]?"":"px"),c=(h.cssNumber[t]||"px"!==u&&+l)&&W.exec(h.css(e,t));if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do{c/=o=o||".5",h.style(e,t,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}var q=function(e,t,i,n,r,o,a){var s=0,l=e.length,u=null==i;if("object"===h.type(i)){r=!0;for(s in i)q(e,t,s,i[s],!0,o,a)}else if(void 0!==n&&(r=!0,h.isFunction(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(h(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return r?e:u?t.call(e):l?t(e[0],i):o},Y=/^(?:checkbox|radio)$/i,K=/<([\w:-]+)/,X=/^$|\/(?:java|ecma)script/i,Z=/^\s+/,J="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function Q(e){var t=J.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}!function(){var e=n.createElement("div"),t=n.createDocumentFragment(),i=n.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d.leadingWhitespace=3===e.firstChild.nodeType,d.tbody=!e.getElementsByTagName("tbody").length,d.htmlSerialize=!!e.getElementsByTagName("link").length,d.html5Clone="<:nav></:nav>"!==n.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,t.appendChild(i),d.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),(i=n.createElement("input")).setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),d.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,d.noCloneEvent=!!e.addEventListener,e[h.expando]=1,d.attributes=!e.getAttribute(h.expando)}();var ee={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};ee.optgroup=ee.option,ee.tbody=ee.tfoot=ee.colgroup=ee.caption=ee.thead,ee.th=ee.td;function te(e,t){var i,n,r=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],i=e.childNodes||e;null!=(n=i[r]);r++)!t||h.nodeName(n,t)?o.push(n):h.merge(o,te(n,t));return void 0===t||t&&h.nodeName(e,t)?h.merge([e],o):o}function ie(e,t){for(var i,n=0;null!=(i=e[n]);n++)h._data(i,"globalEval",!t||h._data(t[n],"globalEval"))}var ne=/<|&#?\w+;/,re=/<tbody/i;function oe(e){Y.test(e.type)&&(e.defaultChecked=e.checked)}function ae(e,t,i,n,r){for(var o,a,s,l,u,c,p,f=e.length,g=Q(t),m=[],v=0;v<f;v++)if((a=e[v])||0===a)if("object"===h.type(a))h.merge(m,a.nodeType?[a]:a);else if(ne.test(a)){for(l=l||g.appendChild(t.createElement("div")),u=(K.exec(a)||["",""])[1].toLowerCase(),p=ee[u]||ee._default,l.innerHTML=p[1]+h.htmlPrefilter(a)+p[2],o=p[0];o--;)l=l.lastChild;if(!d.leadingWhitespace&&Z.test(a)&&m.push(t.createTextNode(Z.exec(a)[0])),!d.tbody)for(o=(a="table"!==u||re.test(a)?"<table>"!==p[1]||re.test(a)?0:l:l.firstChild)&&a.childNodes.length;o--;)h.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(h.merge(m,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=g.lastChild}else m.push(t.createTextNode(a));for(l&&g.removeChild(l),d.appendChecked||h.grep(te(m,"input"),oe),v=0;a=m[v++];)if(n&&h.inArray(a,n)>-1)r&&r.push(a);else if(s=h.contains(a.ownerDocument,a),l=te(g.appendChild(a),"script"),s&&ie(l),i)for(o=0;a=l[o++];)X.test(a.type||"")&&i.push(a);return l=null,g}!function(){var t,i,r=n.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(d[t]=i in e)||(r.setAttribute(i,"t"),d[t]=!1===r.attributes[i].expando);r=null}();var se=/^(?:input|select|textarea)$/i,le=/^key/,ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ce=/^(?:focusinfocus|focusoutblur)$/,de=/^([^.]*)(?:\.(.+)|)/;function he(){return!0}function pe(){return!1}function fe(){try{return n.activeElement}catch(e){}}function ge(e,t,i,n,r,o){var a,s;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(s in t)ge(e,s,i,n,t[s],o);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=pe;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return h().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=h.guid++)),e.each(function(){h.event.add(this,t,r,n,i)})}h.event={global:{},add:function(e,t,i,n,r){var o,a,s,l,u,c,d,p,f,g,m,v=h._data(e);if(v){for(i.handler&&(i=(l=i).handler,r=l.selector),i.guid||(i.guid=h.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||((c=v.handle=function(e){return void 0===h||e&&h.event.triggered===e.type?void 0:h.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(M)||[""]).length;s--;)f=m=(o=de.exec(t[s])||[])[1],g=(o[2]||"").split(".").sort(),f&&(u=h.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=h.event.special[f]||{},d=h.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&h.expr.match.needsContext.test(r),namespace:g.join(".")},l),(p=a[f])||((p=a[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,g,c)||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,d):p.push(d),h.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){var o,a,s,l,u,c,d,p,f,g,m,v=h.hasData(e)&&h._data(e);if(v&&(c=v.events)){for(u=(t=(t||"").match(M)||[""]).length;u--;)if(f=m=(s=de.exec(t[u])||[])[1],g=(s[2]||"").split(".").sort(),f){for(d=h.event.special[f]||{},p=c[f=(n?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)a=p[o],!r&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(e,a));l&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,g,v.handle)||h.removeEvent(e,f,v.handle),delete c[f])}else for(f in c)h.event.remove(e,f+t[u],i,n,!0);h.isEmptyObject(c)&&(delete v.handle,h._removeData(e,"events"))}},trigger:function(t,i,r,o){var a,s,l,u,d,p,f,g=[r||n],m=c.call(t,"type")?t.type:t,v=c.call(t,"namespace")?t.namespace.split("."):[];if(l=p=r=r||n,3!==r.nodeType&&8!==r.nodeType&&!ce.test(m+h.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),s=m.indexOf(":")<0&&"on"+m,(t=t[h.expando]?t:new h.Event(m,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),i=null==i?[t]:h.makeArray(i,[t]),d=h.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(r,i))){if(!o&&!d.noBubble&&!h.isWindow(r)){for(u=d.delegateType||m,ce.test(u+m)||(l=l.parentNode);l;l=l.parentNode)g.push(l),p=l;p===(r.ownerDocument||n)&&g.push(p.defaultView||p.parentWindow||e)}for(f=0;(l=g[f++])&&!t.isPropagationStopped();)t.type=f>1?u:d.bindType||m,(a=(h._data(l,"events")||{})[t.type]&&h._data(l,"handle"))&&a.apply(l,i),(a=s&&l[s])&&a.apply&&L(l)&&(t.result=a.apply(l,i),!1===t.result&&t.preventDefault());if(t.type=m,!o&&!t.isDefaultPrevented()&&(!d._default||!1===d._default.apply(g.pop(),i))&&L(r)&&s&&r[m]&&!h.isWindow(r)){(p=r[s])&&(r[s]=null),h.event.triggered=m;try{r[m]()}catch(e){}h.event.triggered=void 0,p&&(r[s]=p)}return t.result}},dispatch:function(e){e=h.event.fix(e);var t,i,n,o,a,s=[],l=r.call(arguments),u=(h._data(this,"events")||{})[e.type]||[],c=h.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(s=h.event.handlers.call(this,e,u),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(a=o.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(n=((h.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;i<s;i++)void 0===n[r=(o=t[i]).selector+" "]&&(n[r]=o.needsContext?h(r,this).index(l)>-1:h.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&a.push({elem:l,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[h.expando])return e;var t,i,r,o=e.type,a=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=ue.test(o)?this.mouseHooks:le.test(o)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new h.Event(a),t=r.length;t--;)e[i=r[t]]=a[i];return e.target||(e.target=a.srcElement||n),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,r,o,a=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(r=e.target.ownerDocument||n).documentElement,i=r.body,e.pageX=t.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==fe()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===fe()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(h.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){var n=h.extend(new h.Event,i,{type:e,isSimulated:!0});h.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}},h.removeEvent=n.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t;e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,i))},h.Event=function(e,t){if(!(this instanceof h.Event))return new h.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?he:pe):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),this[h.expando]=!0},h.Event.prototype={constructor:h.Event,isDefaultPrevented:pe,isPropagationStopped:pe,isImmediatePropagationStopped:pe,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=he,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=he,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=he,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||h.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),d.submit||(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=h.nodeName(t,"input")||h.nodeName(t,"button")?h.prop(t,"form"):void 0;i&&!h._data(i,"submit")&&(h.event.add(i,"submit._submit",function(e){e._submitBubble=!0}),h._data(i,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e))},teardown:function(){if(h.nodeName(this,"form"))return!1;h.event.remove(this,"._submit")}}),d.change||(h.event.special.change={setup:function(){if(se.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(h.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),h.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),h.event.simulate("change",this,e)})),!1;h.event.add(this,"beforeactivate._change",function(e){var t=e.target;se.test(t.nodeName)&&!h._data(t,"change")&&(h.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||h.event.simulate("change",this.parentNode,e)}),h._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return h.event.remove(this,"._change"),!se.test(this.nodeName)}}),d.focusin||h.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){h.event.simulate(t,e.target,h.event.fix(e))};h.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=h._data(n,t);r||n.addEventListener(e,i,!0),h._data(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=h._data(n,t)-1;r?h._data(n,t,r):(n.removeEventListener(e,i,!0),h._removeData(n,t))}}}),h.fn.extend({on:function(e,t,i,n){return ge(this,e,t,i,n)},one:function(e,t,i,n){return ge(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,h(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=pe),this.each(function(){h.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return h.event.trigger(e,t,i,!0)}});var me=/ jQuery\d+="(?:null|\d+)"/g,ve=new RegExp("<(?:"+J+")[\\s/>]","i"),ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,be=/<script|<style|<link/i,we=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^true\/(.*)/,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ce=Q(n).appendChild(n.createElement("div"));function Se(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ke(e){return e.type=(null!==h.find.attr(e,"type"))+"/"+e.type,e}function $e(e){var t=xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ee(e,t){if(1===t.nodeType&&h.hasData(e)){var i,n,r,o=h._data(e),a=h._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(i in s)for(n=0,r=s[i].length;n<r;n++)h.event.add(t,i,s[i][n])}a.data&&(a.data=h.extend({},a.data))}}function Te(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!d.noCloneEvent&&t[h.expando]){r=h._data(t);for(n in r.events)h.removeEvent(t,n,r.handle);t.removeAttribute(h.expando)}"script"===i&&t.text!==e.text?(ke(t).text=e.text,$e(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),d.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Y.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function De(e,t,i,n){t=o.apply([],t);var r,a,s,l,u,c,p=0,f=e.length,g=f-1,m=t[0],v=h.isFunction(m);if(v||f>1&&"string"==typeof m&&!d.checkClone&&we.test(m))return e.each(function(r){var o=e.eq(r);v&&(t[0]=m.call(this,r,o.html())),De(o,t,i,n)});if(f&&(r=(c=ae(t,e[0].ownerDocument,!1,e,n)).firstChild,1===c.childNodes.length&&(c=r),r||n)){for(s=(l=h.map(te(c,"script"),ke)).length;p<f;p++)a=c,p!==g&&(a=h.clone(a,!0,!0),s&&h.merge(l,te(a,"script"))),i.call(e[p],a,p);if(s)for(u=l[l.length-1].ownerDocument,h.map(l,$e),p=0;p<s;p++)a=l[p],X.test(a.type||"")&&!h._data(a,"globalEval")&&h.contains(u,a)&&(a.src?h._evalUrl&&h._evalUrl(a.src):h.globalEval((a.text||a.textContent||a.innerHTML||"").replace(_e,"")));c=r=null}return e}function Me(e,t,i){for(var n,r=t?h.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||h.cleanData(te(n)),n.parentNode&&(i&&h.contains(n.ownerDocument,n)&&ie(te(n,"script")),n.parentNode.removeChild(n));return e}h.extend({htmlPrefilter:function(e){return e.replace(ye,"<$1></$2>")},clone:function(e,t,i){var n,r,o,a,s,l=h.contains(e.ownerDocument,e);if(d.html5Clone||h.isXMLDoc(e)||!ve.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ce.innerHTML=e.outerHTML,Ce.removeChild(o=Ce.firstChild)),!(d.noCloneEvent&&d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(n=te(o),s=te(e),a=0;null!=(r=s[a]);++a)n[a]&&Te(r,n[a]);if(t)if(i)for(s=s||te(e),n=n||te(o),a=0;null!=(r=s[a]);a++)Ee(r,n[a]);else Ee(e,o);return(n=te(o,"script")).length>0&&ie(n,!l&&te(e,"script")),n=s=r=null,o},cleanData:function(e,t){for(var n,r,o,a,s=0,l=h.expando,u=h.cache,c=d.attributes,p=h.event.special;null!=(n=e[s]);s++)if((t||L(n))&&(a=(o=n[l])&&u[o])){if(a.events)for(r in a.events)p[r]?h.event.remove(n,r):h.removeEvent(n,r,a.handle);u[o]&&(delete u[o],c||void 0===n.removeAttribute?n[l]=void 0:n.removeAttribute(l),i.push(o))}}}),h.fn.extend({domManip:De,detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return q(this,function(e){return void 0===e?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(e))},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){Se(this,e).appendChild(e)}})},prepend:function(){return De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Se(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&h.cleanData(te(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(me,""):void 0;if("string"==typeof e&&!be.test(e)&&(d.htmlSerialize||!ve.test(e))&&(d.leadingWhitespace||!Z.test(e))&&!ee[(K.exec(e)||["",""])[1].toLowerCase()]){e=h.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(h.cleanData(te(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,function(t){var i=this.parentNode;h.inArray(this,e)<0&&(h.cleanData(te(this)),i&&i.replaceChild(t,this))},e)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){for(var i,n=0,r=[],o=h(e),s=o.length-1;n<=s;n++)i=n===s?this:this.clone(!0),h(o[n])[t](i),a.apply(r,i.get());return this.pushStack(r)}});var Pe,Ae={HTML:"block",BODY:"block"};function Ie(e,t){var i=h(t.createElement(e)).appendTo(t.body),n=h.css(i[0],"display");return i.detach(),n}function Oe(e){var t=n,i=Ae[e];return i||("none"!==(i=Ie(e,t))&&i||((t=((Pe=(Pe||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Pe[0].contentDocument).document).write(),t.close(),i=Ie(e,t),Pe.detach()),Ae[e]=i),i}var Le=/^margin/,Re=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),Fe=function(e,t,i,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[]);for(o in t)e.style[o]=a[o];return r},Ne=n.documentElement;!function(){var t,i,r,o,a,s,l=n.createElement("div"),u=n.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",d.opacity="0.5"===u.style.opacity,d.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===u.style.backgroundClip,(l=n.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),d.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,h.extend(d,{reliableHiddenOffsets:function(){return null==t&&c(),o},boxSizingReliable:function(){return null==t&&c(),r},pixelMarginRight:function(){return null==t&&c(),i},pixelPosition:function(){return null==t&&c(),t},reliableMarginRight:function(){return null==t&&c(),a},reliableMarginLeft:function(){return null==t&&c(),s}}));function c(){var c,d,h=n.documentElement;h.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",t=r=s=!1,i=a=!0,e.getComputedStyle&&(d=e.getComputedStyle(u),t="1%"!==(d||{}).top,s="2px"===(d||{}).marginLeft,r="4px"===(d||{width:"4px"}).width,u.style.marginRight="50%",i="4px"===(d||{marginRight:"4px"}).marginRight,(c=u.appendChild(n.createElement("div"))).style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",u.style.width="1px",a=!parseFloat((e.getComputedStyle(c)||{}).marginRight),u.removeChild(c)),u.style.display="none",(o=0===u.getClientRects().length)&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",(c=u.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===c[0].offsetHeight)&&(c[0].style.display="",c[1].style.display="none",o=0===c[0].offsetHeight)),h.removeChild(l)}}();var He,Ge,ze=/^(top|right|bottom|left)$/;e.getComputedStyle?(He=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Ge=function(e,t,i){var n,r,o,a,s=e.style;return""!==(a=(i=i||He(e))?i.getPropertyValue(t)||i[t]:void 0)&&void 0!==a||h.contains(e.ownerDocument,e)||(a=h.style(e,t)),i&&!d.pixelMarginRight()&&Re.test(a)&&Le.test(t)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o),void 0===a?a:a+""}):Ne.currentStyle&&(He=function(e){return e.currentStyle},Ge=function(e,t,i){var n,r,o,a,s=e.style;return null==(a=(i=i||He(e))?i[t]:void 0)&&s&&s[t]&&(a=s[t]),Re.test(a)&&!ze.test(t)&&(n=s.left,(o=(r=e.runtimeStyle)&&r.left)&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,o&&(r.left=o)),void 0===a?a:a+""||"auto"});function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var We=/alpha\([^)]*\)/i,Ve=/opacity\s*=\s*([^)]*)/i,je=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+B+")(.*)$","i"),qe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"],Xe=n.createElement("div").style;function Ze(e){if(e in Xe)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=Ke.length;i--;)if((e=Ke[i]+t)in Xe)return e}function Je(e,t){for(var i,n,r,o=[],a=0,s=e.length;a<s;a++)(n=e[a]).style&&(o[a]=h._data(n,"olddisplay"),i=n.style.display,t?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&j(n)&&(o[a]=h._data(n,"olddisplay",Oe(n.nodeName)))):(r=j(n),(i&&"none"!==i||!r)&&h._data(n,"olddisplay",r?i:h.css(n,"display"))));for(a=0;a<s;a++)(n=e[a]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"));return e}function Qe(e,t,i){var n=Ue.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function et(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===i&&(a+=h.css(e,i+V[o],!0,r)),n?("content"===i&&(a-=h.css(e,"padding"+V[o],!0,r)),"margin"!==i&&(a-=h.css(e,"border"+V[o]+"Width",!0,r))):(a+=h.css(e,"padding"+V[o],!0,r),"padding"!==i&&(a+=h.css(e,"border"+V[o]+"Width",!0,r)));return a}function tt(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=He(e),a=d.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Ge(e,t,o))<0||null==r)&&(r=e.style[t]),Re.test(r))return r;n=a&&(d.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+et(e,t,i||(a?"border":"content"),n,o)+"px"}h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ge(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:d.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=h.camelCase(t),l=e.style;if(t=h.cssProps[s]||(h.cssProps[s]=Ze(s)||s),a=h.cssHooks[t]||h.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:l[t];if("string"===(o=typeof i)&&(r=W.exec(i))&&r[1]&&(i=U(e,t,r),o="number"),null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(h.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(e){}}},css:function(e,t,i,n){var r,o,a,s=h.camelCase(t);return t=h.cssProps[s]||(h.cssProps[s]=Ze(s)||s),(a=h.cssHooks[t]||h.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=Ge(e,t,n)),"normal"===o&&t in Ye&&(o=Ye[t]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,i,n){if(i)return je.test(h.css(e,"display"))&&0===e.offsetWidth?Fe(e,qe,function(){return tt(e,t,n)}):tt(e,t,n)},set:function(e,i,n){var r=n&&He(e);return Qe(0,i,n?et(e,t,n,d.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,r),r):0)}}}),d.opacity||(h.cssHooks.opacity={get:function(e,t){return Ve.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=h.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===h.trim(o.replace(We,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=We.test(o)?o.replace(We,r):o+" "+r)}}),h.cssHooks.marginRight=Be(d.reliableMarginRight,function(e,t){if(t)return Fe(e,{display:"inline-block"},Ge,[e,"marginRight"])}),h.cssHooks.marginLeft=Be(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||(h.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+V[n]+t]=o[n]||o[n-2]||o[0];return r}},Le.test(e)||(h.cssHooks[e+t].set=Qe)}),h.fn.extend({css:function(e,t){return q(this,function(e,t,i){var n,r,o={},a=0;if(h.isArray(t)){for(n=He(e),r=t.length;a<r;a++)o[t[a]]=h.css(e,t[a],!1,n);return o}return void 0!==i?h.style(e,t,i):h.css(e,t)},e,t,arguments.length>1)},show:function(){return Je(this,!0)},hide:function(){return Je(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){j(this)?h(this).show():h(this).hide()})}});function it(e,t,i,n,r){return new it.prototype.init(e,t,i,n,r)}h.Tween=it,it.prototype={constructor:it,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||h.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(h.cssNumber[i]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,i=it.propHooks[this.prop];return this.options.duration?this.pos=t=h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=h.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[h.cssProps[e.prop]]&&!h.cssHooks[e.prop]?e.elem[e.prop]=e.now:h.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},h.fx=it.prototype.init,h.fx.step={};var nt,rt,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){return e.setTimeout(function(){nt=void 0}),nt=h.now()}function lt(e,t){var i,n={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=V[r])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function ut(e,t,i){for(var n,r=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,t,e))return n}function ct(e,t,i){var n,r,o=0,a=ct.prefilters.length,s=h.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=nt||st(),i=Math.max(0,u.startTime+u.duration-t),n=1-(i/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(n);return s.notifyWith(e,[u,n,i]),n<1&&a?i:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},i),originalProperties:t,originalOptions:i,startTime:nt||st(),duration:i.duration,tweens:[],createTween:function(t,i){var n=h.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var i,n,r,o,a;for(i in e)if(r=t[n=h.camelCase(i)],o=e[i],h.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=h.cssHooks[n])&&"expand"in a){o=a.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=r)}else t[n]=r}(c,u.opts.specialEasing);o<a;o++)if(n=ct.prefilters[o].call(u,e,c,u.opts))return h.isFunction(n.stop)&&(h._queueHooks(u.elem,u.opts.queue).stop=h.proxy(n.stop,n)),n;return h.map(c,ut,u),h.isFunction(u.opts.start)&&u.opts.start.call(e,u),h.fx.timer(h.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}h.Animation=h.extend(ct,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return U(i.elem,e,W.exec(t),i),i}]},tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.match(M);for(var i,n=0,r=e.length;n<r;n++)i=e[n],ct.tweeners[i]=ct.tweeners[i]||[],ct.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,o,a,s,l,u,c=this,p={},f=e.style,g=e.nodeType&&j(e),m=h._data(e,"fxshow");i.queue||(null==(s=h._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,h.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(u=h.css(e,"display"))?h._data(e,"olddisplay")||Oe(e.nodeName):u)&&"none"===h.css(e,"float")&&(d.inlineBlockNeedsLayout&&"inline"!==Oe(e.nodeName)?f.zoom=1:f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.shrinkWrapBlocks()||c.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],ot.exec(r)){if(delete t[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||h.style(e,n)}else u=void 0;if(h.isEmptyObject(p))"inline"===("none"===u?Oe(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(g=m.hidden):m=h._data(e,"fxshow",{}),o&&(m.hidden=!g),g?h(e).show():c.done(function(){h(e).hide()}),c.done(function(){var t;h._removeData(e,"fxshow");for(t in p)h.style(e,t,p[t])});for(n in p)a=ut(g?m[n]:0,n,c),n in m||(m[n]=a.start,g&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),h.speed=function(e,t,i){var n=e&&"object"==typeof e?h.extend({},e):{complete:i||!i&&t||h.isFunction(e)&&e,duration:e,easing:i&&t||t&&!h.isFunction(t)&&t};return n.duration=h.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in h.fx.speeds?h.fx.speeds[n.duration]:h.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){h.isFunction(n.old)&&n.old.call(this),n.queue&&h.dequeue(this,n.queue)},n},h.fn.extend({fadeTo:function(e,t,i,n){return this.filter(j).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=h.isEmptyObject(e),o=h.speed(t,i,n),a=function(){var t=ct(this,h.extend({},e),o);(r||h._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=h.timers,a=h._data(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&at.test(r)&&n(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));!t&&i||h.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=h._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=h.timers,a=n?n.length:0;for(i.finish=!0,h.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),h.each(["toggle","show","hide"],function(e,t){var i=h.fn[t];h.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(t,!0),e,n,r)}}),h.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),h.timers=[],h.fx.tick=function(){var e,t=h.timers,i=0;for(nt=h.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||h.fx.stop(),nt=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){rt||(rt=e.setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){e.clearInterval(rt),rt=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(t,i){return t=h.fx?h.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e,t=n.createElement("input"),i=n.createElement("div"),r=n.createElement("select"),o=r.appendChild(n.createElement("option"));(i=n.createElement("div")).setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),i.appendChild(t),(e=i.getElementsByTagName("a")[0]).style.cssText="top:1px",d.getSetAttribute="t"!==i.className,d.style=/top/.test(e.getAttribute("style")),d.hrefNormalized="/a"===e.getAttribute("href"),d.checkOn=!!t.value,d.optSelected=o.selected,d.enctype=!!n.createElement("form").enctype,r.disabled=!0,d.optDisabled=!o.disabled,(t=n.createElement("input")).setAttribute("value",""),d.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),d.radioValue="t"===t.value}();var dt=/\r/g,ht=/[\x20\t\r\n\f]+/g;h.fn.extend({val:function(e){var t,i,n,r=this[0];{if(arguments.length)return n=h.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,h(this).val()):e)?r="":"number"==typeof r?r+="":h.isArray(r)&&(r=h.map(r,function(e){return null==e?"":e+""})),(t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return(t=h.valHooks[r.type]||h.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(dt,""):null==i?"":i}}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e)).replace(ht," ")}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:n.length,l=r<0?s:o?r:0;l<s;l++)if(((i=n[l]).selected||l===r)&&(d.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!h.nodeName(i.parentNode,"optgroup"))){if(t=h(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,o=h.makeArray(t),a=r.length;a--;)if(n=r[a],h.inArray(h.valHooks.option.get(n),o)>-1)try{n.selected=i=!0}catch(e){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){if(h.isArray(t))return e.checked=h.inArray(h(e).val(),t)>-1}},d.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pt,ft,gt=h.expr.attrHandle,mt=/^(?:checked|selected)$/i,vt=d.getSetAttribute,yt=d.input;h.fn.extend({attr:function(e,t){return q(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?h.prop(e,t,i):(1===o&&h.isXMLDoc(e)||(t=t.toLowerCase(),r=h.attrHooks[t]||(h.expr.match.bool.test(t)?ft:pt)),void 0!==i?null===i?void h.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=h.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&h.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,r=0,o=t&&t.match(M);if(o&&1===e.nodeType)for(;i=o[r++];)n=h.propFix[i]||i,h.expr.match.bool.test(i)?yt&&vt||!mt.test(i)?e[n]=!1:e[h.camelCase("default-"+i)]=e[n]=!1:h.attr(e,i,""),e.removeAttribute(vt?i:n)}}),ft={set:function(e,t,i){return!1===t?h.removeAttr(e,i):yt&&vt||!mt.test(i)?e.setAttribute(!vt&&h.propFix[i]||i,i):e[h.camelCase("default-"+i)]=e[i]=!0,i}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var i=gt[t]||h.find.attr;yt&&vt||!mt.test(t)?gt[t]=function(e,t,n){var r,o;return n||(o=gt[t],gt[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,gt[t]=o),r}:gt[t]=function(e,t,i){if(!i)return e[h.camelCase("default-"+t)]?t.toLowerCase():null}}),yt&&vt||(h.attrHooks.value={set:function(e,t,i){if(!h.nodeName(e,"input"))return pt&&pt.set(e,t,i);e.defaultValue=t}}),vt||(pt={set:function(e,t,i){var n=e.getAttributeNode(i);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i))return t}},gt.id=gt.name=gt.coords=function(e,t,i){var n;if(!i)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},h.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);if(i&&i.specified)return i.value},set:pt.set},h.attrHooks.contenteditable={set:function(e,t,i){pt.set(e,""!==t&&t,i)}},h.each(["width","height"],function(e,t){h.attrHooks[t]={set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}}})),d.style||(h.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var bt=/^(?:input|select|textarea|button|object)$/i,wt=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return q(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),h.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&h.isXMLDoc(e)||(t=h.propFix[t]||t,r=h.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.hrefNormalized||h.each(["href","src"],function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),d.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),d.enctype||(h.propFix.enctype="encoding");var xt=/[\t\r\n\f]/g;function _t(e){return h.attr(e,"class")||""}h.fn.extend({addClass:function(e){var t,i,n,r,o,a,s,l=0;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,_t(this)))});if("string"==typeof e&&e)for(t=e.match(M)||[];i=this[l++];)if(r=_t(i),n=1===i.nodeType&&(" "+r+" ").replace(xt," ")){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(s=h.trim(n))&&h.attr(i,"class",s)}return this},removeClass:function(e){var t,i,n,r,o,a,s,l=0;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,_t(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(M)||[];i=this[l++];)if(r=_t(i),n=1===i.nodeType&&(" "+r+" ").replace(xt," ")){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(s=h.trim(n))&&h.attr(i,"class",s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):h.isFunction(e)?this.each(function(i){h(this).toggleClass(e.call(this,i,_t(this),t),t)}):this.each(function(){var t,n,r,o;if("string"===i)for(n=0,r=h(this),o=e.match(M)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=_t(this))&&h._data(this,"__className__",t),h.attr(this,"class",t||!1===e?"":h._data(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+_t(i)+" ").replace(xt," ").indexOf(t)>-1)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Ct=e.location,St=h.now(),kt=/\?/,$t=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,r=h.trim(t+"");return r&&!h.trim(r.replace($t,function(e,t,r,o){return i&&t&&(n=0),0===n?e:(i=r||t,n+=!o-!r,"")}))?Function("return "+r)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new e.DOMParser,i=n.parseFromString(t,"text/xml")):((i=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(t))}catch(e){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+t),i};var Et=/#.*$/,Tt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mt=/^(?:GET|HEAD)$/,Pt=/^\/\//,At=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,It={},Ot={},Lt="*/".concat("*"),Rt=Ct.href,Ft=At.exec(Rt.toLowerCase())||[];function Nt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(M)||[];if(h.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Ht(e,t,i,n){var r={},o=e===Ot;function a(s){var l;return r[s]=!0,h.each(e[s]||[],function(e,s){var u=s(t,i,n);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Gt(e,t){var i,n,r=h.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&h.extend(!0,e,i),e}h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ft[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,h.ajaxSettings),t):Gt(h.ajaxSettings,e)},ajaxPrefilter:Nt(It),ajaxTransport:Nt(Ot),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{};var n,r,o,a,s,l,u,c,d=h.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?h(p):h.event,g=h.Deferred(),m=h.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!c)for(c={};t=Dt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)v[t]=[v[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),C(0,t),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((t||d.url||Rt)+"").replace(Et,"").replace(Pt,Ft[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=h.trim(d.dataType||"*").toLowerCase().match(M)||[""],null==d.crossDomain&&(n=At.exec(d.url.toLowerCase()),d.crossDomain=!(!n||n[1]===Ft[1]&&n[2]===Ft[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Ft[3]||("http:"===Ft[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=h.param(d.data,d.traditional)),Ht(It,d,i,_),2===w)return _;(l=h.event&&d.global)&&0==h.active++&&h.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Mt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(kt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Tt.test(o)?o.replace(Tt,"$1_="+St++):o+(kt.test(o)?"&":"?")+"_="+St++)),d.ifModified&&(h.lastModified[o]&&_.setRequestHeader("If-Modified-Since",h.lastModified[o]),h.etag[o]&&_.setRequestHeader("If-None-Match",h.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||i.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Lt+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)_.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(!1===d.beforeSend.call(p,_,d)||2===w))return _.abort();x="abort";for(r in{success:1,error:1,complete:1})_[r](d[r]);if(u=Ht(Ot,d,i,_)){if(_.readyState=1,l&&f.trigger("ajaxSend",[_,d]),2===w)return _;d.async&&d.timeout>0&&(s=e.setTimeout(function(){_.abort("timeout")},d.timeout));try{w=1,u.send(y,C)}catch(e){if(!(w<2))throw e;C(-1,e)}}else C(-1,"No Transport");function C(t,i,n,r){var c,y,b,x,C,S=i;2!==w&&(w=2,s&&e.clearTimeout(s),u=void 0,a=r||"",_.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(x=function(e,t,i){for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}n||(n=a)}o=o||n}if(o)return o!==l[0]&&l.unshift(o),i[o]}(d,_,n)),x=function(e,t,i,n){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(d,x,_,c),c?(d.ifModified&&((C=_.getResponseHeader("Last-Modified"))&&(h.lastModified[o]=C),(C=_.getResponseHeader("etag"))&&(h.etag[o]=C)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=x.state,y=x.data,c=!(b=x.error))):(b=S,!t&&S||(S="error",t<0&&(t=0))),_.status=t,_.statusText=(i||S)+"",c?g.resolveWith(p,[y,S,_]):g.rejectWith(p,[_,S,b]),_.statusCode(v),v=void 0,l&&f.trigger(c?"ajaxSuccess":"ajaxError",[_,d,c?y:b]),m.fireWith(p,[_,S]),l&&(f.trigger("ajaxComplete",[_,d]),--h.active||h.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,i){return h.get(e,t,i,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,i,n,r){return h.isFunction(i)&&(r=r||n,n=i,i=void 0),h.ajax(h.extend({url:e,type:t,dataType:r,data:i,success:n},h.isPlainObject(e)&&e))}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each(function(t){h(this).wrapAll(e.call(this,t))});if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return h.isFunction(e)?this.each(function(t){h(this).wrapInner(e.call(this,t))}):this.each(function(){var t=h(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(i){h(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}});h.expr.filters.hidden=function(e){return d.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function(e){if(!h.contains(e.ownerDocument||n,e))return!0;for(;e&&1===e.nodeType;){if("none"===(t=e,t.style&&t.style.display||h.css(t,"display"))||"hidden"===e.type)return!0;e=e.parentNode}var t;return!1}(e)},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var zt=/%20/g,Bt=/\[\]$/,Wt=/\r?\n/g,Vt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function Ut(e,t,i,n){var r;if(h.isArray(t))h.each(t,function(t,r){i||Bt.test(e)?n(e,r):Ut(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==h.type(t))n(e,t);else for(r in t)Ut(e+"["+r+"]",t[r],i,n)}h.param=function(e,t){var i,n=[],r=function(e,t){t=h.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){r(this.name,this.value)});else for(i in e)Ut(i,e[i],t,r);return n.join("&").replace(zt,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&jt.test(this.nodeName)&&!Vt.test(e)&&(this.checked||!Y.test(e))}).map(function(e,t){var i=h(this).val();return null==i?null:h.isArray(i)?h.map(i,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:i.replace(Wt,"\r\n")}}).get()}}),h.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?Zt():n.documentMode>8?Xt():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Xt()||Zt()}:Xt;var qt=0,Yt={},Kt=h.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Yt)Yt[e](void 0,!0)}),d.cors=!!Kt&&"withCredentials"in Kt,(Kt=d.ajax=!!Kt)&&h.ajaxTransport(function(t){if(!t.crossDomain||d.cors){var i;return{send:function(n,r){var o,a=t.xhr(),s=++qt;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"");a.send(t.hasContent&&t.data||null),i=function(e,n){var o,l,u;if(i&&(n||4===a.readyState))if(delete Yt[s],i=void 0,a.onreadystatechange=h.noop,n)4!==a.readyState&&a.abort();else{u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(e){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=u.text?200:404}u&&r(o,l,u,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(i):a.onreadystatechange=Yt[s]=i:i()},abort:function(){i&&i(void 0,!0)}}}});function Xt(){try{return new e.XMLHttpRequest}catch(e){}}function Zt(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),h.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=n.head||h("head")[0]||n.documentElement;return{send:function(r,o){(t=n.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||o(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Jt=[],Qt=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||h.expando+"_"+St++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+r):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||h.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},n.always(function(){void 0===o?h(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,Jt.push(r)),a&&h.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),h.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||n;var r=_.exec(e),o=!i&&[];return r?[t.createElement(r[1])]:(r=ae([e],t,o),o&&o.length&&h(o).remove(),h.merge([],r.childNodes))};var ei=h.fn.load;h.fn.load=function(e,t,i){if("string"!=typeof e&&ei)return ei.apply(this,arguments);var n,r,o,a=this,s=e.indexOf(" ");return s>-1&&(n=h.trim(e.slice(s,e.length)),e=e.slice(0,s)),h.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&h.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?h("<div>").append(h.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};function ti(e){return h.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}h.offset={setOffset:function(e,t,i){var n,r,o,a,s,l,u=h.css(e,"position"),c=h(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),o=h.css(e,"top"),l=h.css(e,"left"),("absolute"===u||"fixed"===u)&&h.inArray("auto",[o,l])>-1?(a=(n=c.position()).top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),h.isFunction(t)&&(t=t.call(e,i,h.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):c.css(d)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,h.contains(t,r)?(void 0!==r.getBoundingClientRect&&(n=r.getBoundingClientRect()),i=ti(o),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===h.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(i=e.offset()),i.top+=h.css(e[0],"borderTopWidth",!0),i.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-h.css(n,"marginTop",!0),left:t.left-i.left-h.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!h.nodeName(e,"html")&&"static"===h.css(e,"position");)e=e.offsetParent;return e||Ne})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);h.fn[e]=function(n){return q(this,function(e,n,r){var o=ti(e);if(void 0===r)return o?t in o?o[t]:o.document.documentElement[n]:e[n];o?o.scrollTo(i?h(o).scrollLeft():r,i?r:h(o).scrollTop()):e[n]=r},e,n,arguments.length,null)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=Be(d.pixelPosition,function(e,i){if(i)return i=Ge(e,t),Re.test(i)?h(e).position()[t]+"px":i})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){h.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===r?"margin":"border");return q(this,function(t,i,n){var r;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?h.css(t,i,a):h.style(t,i,n,a)},t,o?n:void 0,o,null)}})}),h.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var ii=e.jQuery,ni=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=ni),t&&e.jQuery===h&&(e.jQuery=ii),h},t||(e.jQuery=e.$=h),h}),function(e){"use strict";function t(e,t){return t=t||Error,function(){var i,n,r=arguments,o=r[0],a="["+(e?e+":":"")+o+"] ";for(a+=r[1].replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1)+2;return t<r.length?ze(r[t]):e}),a+="\nhttp://errors.angularjs.org/1.5.9/"+(e?e+"/":"")+o,n=2,i="?";n<r.length;n++,i="&")a+=i+"p"+(n-2)+"="+encodeURIComponent(ze(r[n]));return new t(a)}}var i=/^\/(.+)\/([a-z]*)$/,n="validity",r=Object.prototype.hasOwnProperty,o=function(e){return H(e)?e.toLowerCase():e},a=function(e){return H(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(o=function(e){return H(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},a=function(e){return H(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e});var s,l,u,c,d=[].slice,h=[].splice,p=[].push,f=Object.prototype.toString,g=Object.getPrototypeOf,m=t("ng"),v=e.angular||(e.angular={}),y=0;s=e.document.documentMode;function b(e){if(null==e||j(e))return!1;if(B(e)||H(e)||l&&e instanceof l)return!0;var t="length"in Object(e)&&e.length;return G(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function w(e,t,i){var n,o;if(e)if(W(e))for(n in e)"prototype"===n||"length"===n||"name"===n||e.hasOwnProperty&&!e.hasOwnProperty(n)||t.call(i,e[n],n,e);else if(B(e)||b(e)){var a="object"!=typeof e;for(n=0,o=e.length;n<o;n++)(a||n in e)&&t.call(i,e[n],n,e)}else if(e.forEach&&e.forEach!==w)e.forEach(t,i,e);else if(N(e))for(n in e)t.call(i,e[n],n,e);else if("function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e);else for(n in e)r.call(e,n)&&t.call(i,e[n],n,e);return e}function x(e,t,i){for(var n=Object.keys(e).sort(),r=0;r<n.length;r++)t.call(i,e[n[r]],n[r]);return n}function _(e){return function(t,i){e(i,t)}}function C(){return++y}function S(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function k(e,t,i){for(var n=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(F(a)||W(a))for(var s=Object.keys(a),l=0,u=s.length;l<u;l++){var c=s[l],d=a[c];i&&F(d)?z(d)?e[c]=new Date(d.valueOf()):V(d)?e[c]=new RegExp(d):d.nodeName?e[c]=d.cloneNode(!0):J(d)?e[c]=d.clone():(F(e[c])||(e[c]=B(d)?[]:{}),k(e[c],[d],!0)):e[c]=d}}return S(e,n),e}function $(e){return k(e,d.call(arguments,1),!1)}function E(e){return k(e,d.call(arguments,1),!0)}function T(e){return parseInt(e,10)}var D=Number.isNaN||function(e){return e!=e};function M(e,t){return $(Object.create(e),t)}function P(){}P.$inject=[];function A(e){return e}A.$inject=[];function I(e){return function(){return e}}function O(e){return W(e.toString)&&e.toString!==f}function L(e){return void 0===e}function R(e){return void 0!==e}function F(e){return null!==e&&"object"==typeof e}function N(e){return null!==e&&"object"==typeof e&&!g(e)}function H(e){return"string"==typeof e}function G(e){return"number"==typeof e}function z(e){return"[object Date]"===f.call(e)}var B=Array.isArray;function W(e){return"function"==typeof e}function V(e){return"[object RegExp]"===f.call(e)}function j(e){return e&&e.window===e}function U(e){return e&&e.$evalAsync&&e.$watch}function q(e){return"boolean"==typeof e}function Y(e){return e&&W(e.then)}var K=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;var X=function(e){return H(e)?e.trim():e},Z=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function J(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function Q(e){return o(e.nodeName||e[0]&&e[0].nodeName)}function ee(e,t){var i=e.indexOf(t);return i>=0&&e.splice(i,1),i}function te(e,t){var i=[],n=[];if(t){if((a=t)&&G(a.length)&&K.test(f.call(a))||(o=t,"[object ArrayBuffer]"===f.call(o)))throw m("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw m("cpi","Can't copy! Source and destination are identical.");return B(t)?t.length=0:w(t,function(e,i){"$$hashKey"!==i&&delete t[i]}),i.push(e),n.push(t),s(e,t)}var o,a;return l(e);function s(e,t){var i,n=t.$$hashKey;if(B(e))for(var o=0,a=e.length;o<a;o++)t.push(l(e[o]));else if(N(e))for(i in e)t[i]=l(e[i]);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=l(e[i]));else for(i in e)r.call(e,i)&&(t[i]=l(e[i]));return S(t,n),t}function l(e){if(!F(e))return e;var t=i.indexOf(e);if(-1!==t)return n[t];if(j(e)||U(e))throw m("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=function(e){switch(f.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(l(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var i=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return i.lastIndex=e.lastIndex,i;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(W(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===o&&(o=B(e)?[]:Object.create(g(e)),r=!0),i.push(e),n.push(o),r?s(e,o):o}}function ie(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var i,n,r,o=typeof e;if(o===typeof t&&"object"===o){if(!B(e)){if(z(e))return!!z(t)&&ie(e.getTime(),t.getTime());if(V(e))return!!V(t)&&e.toString()===t.toString();if(U(e)||U(t)||j(e)||j(t)||B(t)||z(t)||V(t))return!1;r=Oe();for(n in e)if("$"!==n.charAt(0)&&!W(e[n])){if(!ie(e[n],t[n]))return!1;r[n]=!0}for(n in t)if(!(n in r)&&"$"!==n.charAt(0)&&R(t[n])&&!W(t[n]))return!1;return!0}if(!B(t))return!1;if((i=e.length)===t.length){for(n=0;n<i;n++)if(!ie(e[n],t[n]))return!1;return!0}}return!1}var ne=function(){if(!R(ne.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var i=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ne.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else ne.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ne.rules},re=function(){if(R(re.name_))return re.name_;var t,i,n,r,o=we.length;for(i=0;i<o;++i)if(n=we[i],t=e.document.querySelector("["+n.replace(":","\\:")+"jq]")){r=t.getAttribute(n+"jq");break}return re.name_=r};function oe(e,t,i){return e.concat(d.call(t,i))}function ae(e,t){return d.call(e,t||0)}function se(e,t){var i=arguments.length>2?ae(arguments,2):[];return!W(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(e,oe(i,arguments,0)):t.apply(e,i)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function le(t,i){var n=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:j(i)?n="$WINDOW":i&&e.document===i?n="$DOCUMENT":U(i)&&(n="$SCOPE"),n}function ue(e,t){if(!L(e))return G(t)||(t=t?2:null),JSON.stringify(e,le,t)}function ce(e){return H(e)?JSON.parse(e):e}var de=/:/g;function he(e,t){e=e.replace(de,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return D(i)?t:i}function pe(e,t,i){i=i?-1:1;var n=e.getTimezoneOffset(),r=he(t,n);return o=e,a=i*(r-n),(o=new Date(o.getTime())).setMinutes(o.getMinutes()+a),o;var o,a}function fe(e){e=l(e).clone();try{e.empty()}catch(e){}var t=l("<div>").append(e).html();try{return e[0].nodeType===Re?o(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+o(t)})}catch(e){return o(t)}}function ge(e){try{return decodeURIComponent(e)}catch(e){}}function me(e){var t={};return w((e||"").split("&"),function(e){var i,n,o;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(i=e.indexOf("="))&&(n=e.substring(0,i),o=e.substring(i+1)),R(n=ge(n))&&(o=!R(o)||ge(o),r.call(t,n)?B(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o))}),t}function ve(e){var t=[];return w(e,function(e,i){B(e)?w(e,function(e){t.push(be(i,!0)+(!0===e?"":"="+be(e,!0)))}):t.push(be(i,!0)+(!0===e?"":"="+be(e,!0)))}),t.length?t.join("&"):""}function ye(e){return be(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function be(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var we=["ng-","data-ng-","ng:","x-ng-"];var xe=function(e){if(!e.currentScript)return!0;var t=e.currentScript.getAttribute("src"),i=e.createElement("a");i.href=t;var n=i.protocol;if(e.location.protocol===n)return!0;switch(n){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}(e.document);function _e(t,i){var n,r,o={};if(w(we,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),w(we,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n){if(!xe)return void e.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==function(e,t){var i,n,r=we.length;for(n=0;n<r;++n)if(i=we[n]+t,H(i=e.getAttribute(i)))return i;return null}(n,"strict-di"),i(n,r?[r]:[],o)}}function Ce(t,i,n){F(n)||(n={});n=$({strictDi:!1},n);var r=function(){if((t=l(t)).injector()){var r=t[0]===e.document?"document":fe(t);throw m("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(e){e.value("$rootElement",t)}]),n.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng");var o=Bt(i,n.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,i,n){e.$apply(function(){t.data("$injector",n),i(t)(e)})}]),o},o=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(n.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!a.test(e.name))return r();e.name=e.name.replace(a,""),v.resumeBootstrap=function(e){return w(e,function(e){i.push(e)}),r()},W(v.resumeDeferredBootstrap)&&v.resumeDeferredBootstrap()}function Se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ke(e){var t=v.element(e).injector();if(!t)throw m("test","no injector found for element argument to getTestability");return t.get("$$testability")}var $e=/[A-Z]/g;function Ee(e,t){return t=t||"_",e.replace($e,function(e,i){return(i?t:"")+e.toLowerCase()})}var Te=!1;function De(e,t,i){if(!e)throw m("areq","Argument '{0}' is {1}",t||"?",i||"required");return e}function Me(e,t,i){return i&&B(e)&&(e=e[e.length-1]),De(W(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Pe(e,t){if("hasOwnProperty"===e)throw m("badname","hasOwnProperty is not a valid {0} name",t)}function Ae(e,t,i){if(!t)return e;for(var n,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)n=r[s],e&&(e=(o=e)[n]);return!i&&W(e)?se(o,e):e}function Ie(e){for(var t,i=e[0],n=e[e.length-1],r=1;i!==n&&(i=i.nextSibling);r++)(t||e[r]!==i)&&(t||(t=l(d.call(e,0,r))),t.push(i));return t||e}function Oe(){return Object.create(null)}var Le=1,Re=3,Fe=8,Ne=9,He=11;function Ge(e,t){if(B(e)){t=t||[];for(var i=0,n=e.length;i<n;i++)t[i]=e[i]}else if(F(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function ze(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):L(e)?"undefined":"string"!=typeof e?function(e){var t=[];return JSON.stringify(e,function(e,i){if(F(i=le(e,i))){if(t.indexOf(i)>=0)return"...";t.push(i)}return i})}(e):e}var Be={full:"1.5.9",major:1,minor:5,dot:9,codeName:"timeturning-lockdown"};lt.expando="ng339";var We=lt.cache={},Ve=1,je=function(e,t,i){e.addEventListener(t,i,!1)},Ue=function(e,t,i){e.removeEventListener(t,i,!1)};lt._data=function(e){return this.cache[e[this.expando]]||{}};var qe=/([:\-_]+(.))/g,Ye=/^moz([A-Z])/,Ke={mouseleave:"mouseout",mouseenter:"mouseover"},Xe=t("jqLite");function Ze(e){return e.replace(qe,function(e,t,i,n){return n?i.toUpperCase():i}).replace(Ye,"Moz$1")}var Je=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Qe=/<|&#?\w+;/,et=/<([\w:-]+)/,tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,it={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};it.optgroup=it.option,it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td;function nt(e){return!Qe.test(e)}function rt(e){var t=e.nodeType;return t===Le||!t||t===Ne}function ot(e,t){var i,n,r,o,a=t.createDocumentFragment(),s=[];if(nt(e))s.push(t.createTextNode(e));else{for(i=a.appendChild(t.createElement("div")),n=(et.exec(e)||["",""])[1].toLowerCase(),r=it[n]||it._default,i.innerHTML=r[1]+e.replace(tt,"<$1></$2>")+r[2],o=r[0];o--;)i=i.lastChild;s=oe(s,i.childNodes),(i=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",w(s,function(e){a.appendChild(e)}),a}function at(e,t){var i=e.parentNode;i&&i.replaceChild(t,e),t.appendChild(e)}var st=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function lt(t){if(t instanceof lt)return t;var i;if(H(t)&&(t=X(t),i=!0),!(this instanceof lt)){if(i&&"<"!==t.charAt(0))throw Xe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new lt(t)}yt(this,i?function(t,i){i=i||e.document;var n;return(n=Je.exec(t))?[i.createElement(n[1])]:(n=ot(t,i))?n.childNodes:[]}(t):t)}function ut(e){return e.cloneNode(!0)}function ct(e,t){if(t||ht(e),e.querySelectorAll)for(var i=e.querySelectorAll("*"),n=0,r=i.length;n<r;n++)ht(i[n])}function dt(e,t,i,n){if(R(n))throw Xe("offargs","jqLite#off() does not support the `selector` argument");var r=pt(e),o=r&&r.events,a=r&&r.handle;if(a)if(t){var s=function(t){var n=o[t];R(i)&&ee(n||[],i),R(i)&&n&&n.length>0||(Ue(e,t,a),delete o[t])};w(t.split(" "),function(e){s(e),Ke[e]&&s(Ke[e])})}else for(t in o)"$destroy"!==t&&Ue(e,t,a),delete o[t]}function ht(e,t){var i=e.ng339,n=i&&We[i];if(n){if(t)return void delete n.data[t];n.handle&&(n.events.$destroy&&n.handle({},"$destroy"),dt(e)),delete We[i],e.ng339=void 0}}function pt(e,t){var i=e.ng339,n=i&&We[i];return t&&!n&&(e.ng339=i=++Ve,n=We[i]={events:{},data:{},handle:void 0}),n}function ft(e,t,i){if(rt(e)){var n=R(i),r=!n&&t&&!F(t),o=!t,a=pt(e,!r),s=a&&a.data;if(n)s[t]=i;else{if(o)return s;if(r)return s&&s[t];$(s,t)}}}function gt(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function mt(e,t){t&&e.setAttribute&&w(t.split(" "),function(t){e.setAttribute("class",X((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+X(t)+" "," ")))})}function vt(e,t){if(t&&e.setAttribute){var i=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");w(t.split(" "),function(e){e=X(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),e.setAttribute("class",X(i))}}function yt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var i=t.length;if("number"==typeof i&&t.window!==t){if(i)for(var n=0;n<i;n++)e[e.length++]=t[n]}else e[e.length++]=t}}function bt(e,t){return wt(e,"$"+(t||"ngController")+"Controller")}function wt(e,t,i){e.nodeType===Ne&&(e=e.documentElement);for(var n=B(t)?t:[t];e;){for(var r=0,o=n.length;r<o;r++)if(R(i=l.data(e,n[r])))return i;e=e.parentNode||e.nodeType===He&&e.host}}function xt(e){for(ct(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function _t(e,t){t||ct(e);var i=e.parentNode;i&&i.removeChild(e)}var Ct=lt.prototype={ready:function(t){var i=!1;function n(){i||(i=!0,t())}"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),lt(e).on("load",n))},toString:function(){var e=[];return w(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return l(e>=0?this[e]:this[this.length+e])},length:0,push:p,sort:[].sort,splice:[].splice},St={};w("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){St[o(e)]=e});var kt={};w("input,select,option,textarea,button,form,details".split(","),function(e){kt[e]=!0});var $t={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function Et(e,t){var i=St[t.toLowerCase()];return i&&kt[Q(e)]&&i}w({data:ft,removeData:ht,hasData:function(e){for(var t in We[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,i=e.length;t<i;t++)ht(e[t])}},function(e,t){lt[t]=e}),w({data:ft,inheritedData:wt,scope:function(e){return l.data(e,"$scope")||wt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return l.data(e,"$isolateScope")||l.data(e,"$isolateScopeNoTemplate")},controller:bt,injector:function(e){return wt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:gt,css:function(e,t,i){if(t=Ze(t),!R(i))return e.style[t];e.style[t]=i},attr:function(e,t,i){var n=e.nodeType;if(n!==Re&&2!==n&&n!==Fe){var r=o(t);if(St[r]){if(!R(i))return e[t]||(e.attributes.getNamedItem(t)||P).specified?r:void 0;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(R(i))e.setAttribute(t,i);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?void 0:a}}},prop:function(e,t,i){if(!R(i))return e[t];e[t]=i},text:function(){return e.$dv="",e;function e(e,t){if(L(t)){var i=e.nodeType;return i===Le||i===Re?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(L(t)){if(e.multiple&&"select"===Q(e)){var i=[];return w(e.options,function(e){e.selected&&i.push(e.value||e.text)}),0===i.length?null:i}return e.value}e.value=t},html:function(e,t){if(L(t))return e.innerHTML;ct(e,!0),e.innerHTML=t},empty:xt},function(e,t){lt.prototype[t]=function(t,i){var n,r,o=this.length;if(e!==xt&&L(2===e.length&&e!==gt&&e!==bt?t:i)){if(F(t)){for(n=0;n<o;n++)if(e===ft)e(this[n],t);else for(r in t)e(this[n],r,t[r]);return this}for(var a=e.$dv,s=L(a)?Math.min(o,1):o,l=0;l<s;l++){var u=e(this[l],t,i);a=a?a+u:u}return a}for(n=0;n<o;n++)e(this[n],t,i);return this}});function Tt(e,t,i){i.call(e,t)}function Dt(e,t,i){var n=t.relatedTarget;n&&(n===e||st.call(e,n))||i.call(e,t)}w({removeData:ht,on:function(e,t,i,n){if(R(n))throw Xe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(rt(e)){var r=pt(e,!0),o=r.events,a=r.handle;a||(a=r.handle=function(e,t){var i=function(i,n){i.isDefaultPrevented=function(){return i.defaultPrevented};var r=t[n||i.type],o=r?r.length:0;if(o){if(L(i.immediatePropagationStopped)){var a=i.stopImmediatePropagation;i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0,i.stopPropagation&&i.stopPropagation(),a&&a.call(i)}}i.isImmediatePropagationStopped=function(){return!0===i.immediatePropagationStopped};var s=r.specialHandlerWrapper||Tt;o>1&&(r=Ge(r));for(var l=0;l<o;l++)i.isImmediatePropagationStopped()||s(e,i,r[l])}};return i.elem=e,i}(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,n,r){var s=o[t];s||((s=o[t]=[]).specialHandlerWrapper=n,"$destroy"===t||r||je(e,t,a)),s.push(i)};l--;)t=s[l],Ke[t]?(u(Ke[t],Dt),u(t,void 0,!0)):u(t)}},off:dt,one:function(e,t,i){(e=l(e)).on(t,function n(){e.off(t,i),e.off(t,n)}),e.on(t,i)},replaceWith:function(e,t){var i,n=e.parentNode;ct(e),w(new lt(t),function(t){i?n.insertBefore(t,i.nextSibling):n.replaceChild(t,e),i=t})},children:function(e){var t=[];return w(e.childNodes,function(e){e.nodeType===Le&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var i=e.nodeType;if(i===Le||i===He)for(var n=0,r=(t=new lt(t)).length;n<r;n++){var o=t[n];e.appendChild(o)}},prepend:function(e,t){if(e.nodeType===Le){var i=e.firstChild;w(new lt(t),function(t){e.insertBefore(t,i)})}},wrap:function(e,t){at(e,l(t).eq(0).clone()[0])},remove:_t,detach:function(e){_t(e,!0)},after:function(e,t){for(var i=e,n=e.parentNode,r=0,o=(t=new lt(t)).length;r<o;r++){var a=t[r];n.insertBefore(a,i.nextSibling),i=a}},addClass:vt,removeClass:mt,toggleClass:function(e,t,i){t&&w(t.split(" "),function(t){var n=i;L(n)&&(n=!gt(e,t)),(n?vt:mt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==He?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ut,triggerHandler:function(e,t,i){var n,r,o,a=t.type||t,s=pt(e),l=s&&s.events,u=l&&l[a];u&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:P,type:a,target:e},t.type&&(n=$(n,t)),r=Ge(u),o=i?[n].concat(i):[n],w(r,function(t){n.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){lt.prototype[t]=function(t,i,n){for(var r,o=0,a=this.length;o<a;o++)L(r)?R(r=e(this[o],t,i,n))&&(r=l(r)):yt(r,e(this[o],t,i,n));return R(r)?r:this},lt.prototype.bind=lt.prototype.on,lt.prototype.unbind=lt.prototype.off});function Mt(){this.$get=function(){return $(lt,{hasClass:function(e,t){return e.attr&&(e=e[0]),gt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),vt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),mt(e,t)}})}}function Pt(e,t){var i=e&&e.$$hashKey;if(i)return"function"==typeof i&&(i=e.$$hashKey()),i;var n=typeof e;return i="function"===n||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||C)():n+":"+e}function At(e,t){if(t){var i=0;this.nextUid=function(){return++i}}w(e,this.put,this)}At.prototype={put:function(e,t){this[Pt(e,this.nextUid)]=t},get:function(e){return this[Pt(e,this.nextUid)]},remove:function(e){var t=this[e=Pt(e,this.nextUid)];return delete this[e],t}};var It=[function(){this.$get=[function(){return At}]}],Ot=/^([^\(]+?)=>/,Lt=/^[^\(]*\(\s*([^\)]*)\)/m,Rt=/,/,Ft=/^\s*(_?)(\S+?)\1\s*$/,Nt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ht=t("$injector");function Gt(e){return Function.prototype.toString.call(e)+" "}function zt(e){var t=Gt(e).replace(Nt,"");return t.match(Ot)||t.match(Lt)}function Bt(e,t){t=!0===t;var i={},n="Provider",r=[],o=new At([],!0),a={$provide:{provider:f(g),factory:f(m),service:f(function(e,t){return m(e,["$injector",function(e){return e.instantiate(t)}])}),value:f(function(e,t){return m(e,I(t),!1)}),constant:f(function(e,t){Pe(e,"constant"),a[e]=t,u[e]=t}),decorator:function(e,t){var i=l.get(e+n),r=i.$get;i.$get=function(){var e=h.invoke(r,i);return h.invoke(t,null,{$delegate:e})}}}},l=a.$injector=y(a,function(e,t){throw v.isString(t)&&r.push(t),Ht("unpr","Unknown provider: {0}",r.join(" <- "))}),u={},d=y(u,function(e,t){var i=l.get(e+n,t);return h.invoke(i.$get,i,void 0,e)}),h=d;a["$injector"+n]={$get:I(d)};var p=function e(t){De(L(t)||B(t),"modulesToLoad","not an array");var i,n=[];w(t,function(t){if(!o.get(t)){o.put(t,!0);try{H(t)?(i=c(t),n=n.concat(e(i.requires)).concat(i._runBlocks),r(i._invokeQueue),r(i._configBlocks)):W(t)?n.push(l.invoke(t)):B(t)?n.push(l.invoke(t)):Me(t,"module")}catch(e){throw B(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ht("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function r(e){var t,i;for(t=0,i=e.length;t<i;t++){var n=e[t],r=l.get(n[0]);r[n[1]].apply(r,n[2])}}});return n}(e);return(h=d.get("$injector")).strictDi=t,w(p,function(e){e&&h.invoke(e)}),h;function f(e){return function(t,i){if(!F(t))return e(t,i);w(t,_(e))}}function g(e,t){if(Pe(e,"service"),(W(t)||B(t))&&(t=l.instantiate(t)),!t.$get)throw Ht("pget","Provider '{0}' must define $get factory method.",e);return a[e+n]=t}function m(e,t,i){return g(e,{$get:!1!==i?(n=e,r=t,function(){var e=h.invoke(r,this);if(L(e))throw Ht("undef","Provider '{0}' must return a value from $get factory method.",n);return e}):t});var n,r}function y(e,o){function l(t,n){if(e.hasOwnProperty(t)){if(e[t]===i)throw Ht("cdep","Circular dependency found: {0}",t+" <- "+r.join(" <- "));return e[t]}try{return r.unshift(t),e[t]=i,e[t]=o(t,n),e[t]}catch(n){throw e[t]===i&&delete e[t],n}finally{r.shift()}}function u(e,i,n){for(var r=[],o=Bt.$$annotate(e,t,n),a=0,s=o.length;a<s;a++){var u=o[a];if("string"!=typeof u)throw Ht("itkn","Incorrect injection token! Expected service name as string, got {0}",u);r.push(i&&i.hasOwnProperty(u)?i[u]:l(u,n))}return r}return{invoke:function(e,t,i,n){"string"==typeof i&&(n=i,i=null);var r=u(e,i,n);return B(e)&&(e=e[e.length-1]),o=e,s<=11||"function"!=typeof o||!/^(?:class\b|constructor\()/.test(Gt(o))?e.apply(t,r):(r.unshift(null),new(Function.prototype.bind.apply(e,r)));var o},instantiate:function(e,t,i){var n=B(e)?e[e.length-1]:e,r=u(e,t,i);return r.unshift(null),new(Function.prototype.bind.apply(n,r))},get:l,annotate:Bt.$$annotate,has:function(t){return a.hasOwnProperty(t+n)||e.hasOwnProperty(t)}}}}Bt.$$annotate=function(e,t,i){var n,r;if("function"==typeof e){if(!(n=e.$inject)){if(n=[],e.length){if(t)throw H(i)&&i||(i=e.name||function(e){var t=zt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),Ht("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",i);w(zt(e)[1].split(Rt),function(e){e.replace(Ft,function(e,t,i){n.push(i)})})}e.$inject=n}}else B(e)?(Me(e[r=e.length-1],"fn"),n=e.slice(0,r)):Me(e,"fn",!0);return n};function Wt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(i,n,r){var o=i.document;function a(e){if(e){e.scrollIntoView();var t=function(){var e=s.yOffset;if(W(e))e=e();else if(J(e)){var t=e[0];e="fixed"!==i.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else G(e)||(e=0);return e}();if(t){var n=e.getBoundingClientRect().top;i.scrollBy(0,n-t)}}else i.scrollTo(0,0)}function s(e){var t;(e=H(e)?e:n.hash())?(t=o.getElementById(e))?a(t):(t=function(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===Q(e))return t=e,!0}),t}(o.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}return t&&r.$watch(function(){return n.hash()},function(t,i){if(t!==i||""!==t){n=function(){r.$evalAsync(s)},"complete"===(o=(o=void 0)||e).document.readyState?o.setTimeout(n):l(o).on("load",n);var n,o}}),s}]}var Vt=t("$animate"),jt=1;function Ut(e,t){return e||t?e?t?(B(e)&&(e=e.join(" ")),B(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function qt(e){return F(e)?e:{}}var Yt=function(){this.$get=P},Kt=function(){var e=new At,t=[];this.$get=["$$AnimateRunner","$rootScope",function(i,n){return{enabled:P,on:P,off:P,pin:P,push:function(a,s,l,u){u&&u(),(l=l||{}).from&&a.css(l.from),l.to&&a.css(l.to),(l.addClass||l.removeClass)&&function(i,a,s){var l=e.get(i)||{},u=r(l,a,!0),c=r(l,s,!1);(u||c)&&(e.put(i,l),t.push(i),1===t.length&&n.$$postDigest(o))}(a,l.addClass,l.removeClass);var c=new i;return c.complete(),c}};function r(e,t,i){var n=!1;return t&&w(t=H(t)?t.split(" "):B(t)?t:[],function(t){t&&(n=!0,e[t]=i)}),n}function o(){w(t,function(t){var i=e.get(t);if(i){var n=function(e){H(e)&&(e=e.split(" "));var t=Oe();return w(e,function(e){e.length&&(t[e]=!0)}),t}(t.attr("class")),r="",o="";w(i,function(e,t){e!==!!n[t]&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)}),w(t,function(e){r&&vt(e,r),o&&mt(e,o)}),e.remove(t)}}),t.length=0}}]},Xt=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(i,n){if(i&&"."!==i.charAt(0))throw Vt("notcsel","Expecting class selector starting with '.' got '{0}'.",i);var r=i+"-animation";t.$$registeredAnimations[i.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){if(new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString()))throw Vt("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,i){if(i){var n=function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.nodeType===jt)return i}}(i);!n||n.parentNode||n.previousElementSibling||(i=null)}i?i.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(i,n,r,o){return n=n&&l(n),r=r&&l(r),t(i,n=n||r.parent(),r),e.push(i,"enter",qt(o))},move:function(i,n,r,o){return n=n&&l(n),r=r&&l(r),t(i,n=n||r.parent(),r),e.push(i,"move",qt(o))},leave:function(t,i){return e.push(t,"leave",qt(i),function(){t.remove()})},addClass:function(t,i,n){return(n=qt(n)).addClass=Ut(n.addclass,i),e.push(t,"addClass",n)},removeClass:function(t,i,n){return(n=qt(n)).removeClass=Ut(n.removeClass,i),e.push(t,"removeClass",n)},setClass:function(t,i,n,r){return(r=qt(r)).addClass=Ut(r.addClass,i),r.removeClass=Ut(r.removeClass,n),e.push(t,"setClass",r)},animate:function(t,i,n,r,o){return(o=qt(o)).from=o.from?$(o.from,i):i,o.to=o.to?$(o.to,n):n,r=r||"ng-inline-animate",o.tempClasses=Ut(o.tempClasses,r),e.push(t,"animate",o)}}}]}],Zt=function(){this.$get=["$$rAF",function(e){var t=[];function i(i){t.push(i),t.length>1||e(function(){for(var e=0;e<t.length;e++)t[e]();t=[]})}return function(){var e=!1;return i(function(){e=!0}),function(t){e?t():i(t)}}}]},Jt=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,i,n,r){o.chain=function(e,t){var i=0;!function n(){if(i===e.length)return void t(!0);e[i](function(e){!1!==e?(i++,n()):t(!1)})}()},o.all=function(e,t){var i=0,n=!0;w(e,function(e){e.done(r)});function r(r){n=n&&r,++i===e.length&&t(n)}};function o(e){this.setHost(e);var t=i();this._doneCallbacks=[],this._tick=function(e){var i=n[0];i&&i.hidden?r(e,0,!1):t(e)},this._state=0}return o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:P,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,i){t.done(function(t){!1===t?i():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(w(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},Qt=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,i){return function(t,n){var r=n||{};r.$$prepared||(r=te(r)),r.cleanupStyles&&(r.from=r.to=null),r.from&&(t.css(r.from),r.from=null);var o,a=new i;return{start:s,end:s};function s(){return e(function(){!function(){r.addClass&&(t.addClass(r.addClass),r.addClass=null);r.removeClass&&(t.removeClass(r.removeClass),r.removeClass=null);r.to&&(t.css(r.to),r.to=null)}(),o||a.complete(),o=!0}),a}}}]};function ei(){this.$get=["$window","$log","$sniffer","$document",function(e,t,i,n){return new function(e,t,i,n){var r=this,o=e.location,a=e.history,s=e.setTimeout,u=e.clearTimeout,c={};r.isMock=!1;var d=0,h=[];r.$$completeOutstandingRequest=p,r.$$incOutstandingRequestCount=function(){d++};function p(e){try{e.apply(null,ae(arguments,1))}finally{if(0==--d)for(;h.length;)try{h.pop()()}catch(e){i.error(e)}}}r.notifyWhenNoOutstandingRequests=function(e){0===d?e():h.push(e)};var f,g,m=o.href,v=t.find("base"),y=null,b=n.history?function(){try{return a.state}catch(e){}}:P;k(),g=f,r.url=function(t,i,s){if(L(s)&&(s=null),o!==e.location&&(o=e.location),a!==e.history&&(a=e.history),t){var l=g===s;if(m===t&&(!n.history||l))return r;var u=m&&Ki(m)===Ki(t);return m=t,g=s,!n.history||u&&l?(u||(y=t),i?o.replace(t):u?o.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):o.href=t,o.href!==t&&(y=t)):(a[i?"replaceState":"pushState"](s,"",t),k(),g=f),y&&(y=t),r}return y||o.href.replace(/%27/g,"'")},r.state=function(){return f};var x=[],_=!1;function C(){y=null,k(),$()}var S=null;function k(){ie(f=L(f=b())?null:f,S)&&(f=S),S=f}function $(){m===r.url()&&g===f||(m=r.url(),g=f,w(x,function(e){e(r.url(),f)}))}r.onUrlChange=function(t){return _||(n.history&&l(e).on("popstate",C),l(e).on("hashchange",C),_=!0),x.push(t),t},r.$$applicationDestroyed=function(){l(e).off("hashchange popstate",C)},r.$$checkUrlChange=$,r.baseHref=function(){var e=v.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},r.defer=function(e,t){var i;return d++,i=s(function(){delete c[i],p(e)},t||0),c[i]=!0,i},r.defer.cancel=function(e){return!!c[e]&&(delete c[e],u(e),p(P),!0)}}(e,n,t,i)}]}function ti(){this.$get=function(){var e={};function i(i,n){if(i in e)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",i);var r=0,o=$({},n,{id:i}),a=Oe(),s=n&&n.capacity||Number.MAX_VALUE,l=Oe(),u=null,c=null;return e[i]={put:function(e,t){if(!L(t)){if(s<Number.MAX_VALUE){d(l[e]||(l[e]={key:e}))}return e in a||r++,a[e]=t,r>s&&this.remove(c.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;d(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=l[e];if(!t)return;t===u&&(u=t.p),t===c&&(c=t.n),h(t.n,t.p),delete l[e]}e in a&&(delete a[e],r--)},removeAll:function(){a=Oe(),r=0,l=Oe(),u=c=null},destroy:function(){a=null,o=null,l=null,delete e[i]},info:function(){return $({},o,{size:r})}};function d(e){e!==u&&(c?c===e&&(c=e.n):c=e,h(e.n,e.p),h(e,u),(u=e).n=null)}function h(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return i.info=function(){var t={};return w(e,function(e,i){t[i]=e.info()}),t},i.get=function(t){return e[t]},i}}function ii(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var ni=t("$compile");var ri=new function(){};oi.$inject=["$provide","$$sanitizeUriProvider"];function oi(t,i){var n={},a="Directive",u=/^\s*directive:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?::([^;]+))?;?)/,d=function(e){var t,i={},n=e.split(",");for(t=0;t<n.length;t++)i[n[t]]=!0;return i}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,g=Oe();function m(e,t,i){var n=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,r=Oe();return w(e,function(e,o){if(e in g)r[o]=g[e];else{var a=e.match(n);if(!a)throw ni("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,i?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(g[e]=r[o])}}),r}function v(e,t){var i={isolateScope:null,bindToController:null};if(F(e.scope)&&(!0===e.bindToController?(i.bindToController=m(e.scope,t,!0),i.isolateScope={}):i.isolateScope=m(e.scope,t,!1)),F(e.bindToController)&&(i.bindToController=m(e.bindToController,t,!0)),F(i.bindToController)){var n=e.controller,r=e.controllerAs;if(!n)throw ni("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!pi(n,r))throw ni("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return i}this.directive=function e(i,r){return Pe(i,"directive"),H(i)?(!function(e){var t=e.charAt(0);if(!t||t!==o(t))throw ni("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw ni("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(i),De(r,"directiveFactory"),n.hasOwnProperty(i)||(n[i]=[],t.factory(i+a,["$injector","$exceptionHandler",function(e,t){var r=[];return w(n[i],function(n,o){try{var a=e.invoke(n);W(a)?a={compile:I(a)}:!a.compile&&a.link&&(a.compile=I(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||i,a.require=function(e){var t=e.require||e.controller&&e.name;return!B(t)&&F(t)&&w(t,function(e,i){var n=e.match(h);e.substring(n[0].length)||(t[i]=n[0]+i)}),t}(a),a.restrict=a.restrict||"EA",a.$$moduleName=n.$$moduleName,r.push(a)}catch(e){t(e)}}),r}])),n[i].push(r)):w(i,_(e)),this},this.component=function(e,t){var i=t.controller||function(){};function n(e){function n(t){return W(t)||B(t)?function(i,n){return e.invoke(t,this,{$element:i,$attrs:n})}:t}var r=t.template||t.templateUrl?t.template:"",o={controller:i,controllerAs:pi(t.controller)||t.controllerAs||"$ctrl",template:n(r),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return w(t,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}return w(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,W(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return R(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return R(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var y=!0;this.debugInfoEnabled=function(e){return R(e)?(y=e,this):y};var b=10;this.onChangesTtl=function(e){return arguments.length?(b=e,this):b};var x=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(x=e,this):x};var C=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(C=e,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,i,g,m,_,S,k,E,T,D){var I,O=/^\w/,N=e.document.createElement("div"),G=x,z=C,V=b;function j(){try{if(!--V)throw I=void 0,ni("infchng","{0} $onChanges() iterations reached. Aborting!\n",b);k.$apply(function(){for(var e=[],t=0,i=I.length;t<i;++t)try{I[t]()}catch(t){e.push(t)}if(I=void 0,e.length)throw e})}finally{V++}}function Y(e,t){if(t){var i,n,r,o=Object.keys(t);for(i=0,n=o.length;i<n;i++)this[r=o[i]]=t[r]}else this.$attr={};this.$$element=e}Y.prototype={$normalize:li,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var i=ui(e,t);i&&i.length&&T.addClass(this.$$element,i);var n=ui(t,e);n&&n.length&&T.removeClass(this.$$element,n)},$set:function(e,t,i,n){var r,o,a=Et(this.$$element[0],e),s=(o=e,$t[o]),l=e;if(a?(this.$$element.prop(e,t),n=a):s&&(this[s]=t,l=s),this[e]=t,n?this.$attr[e]=n:(n=this.$attr[e])||(this.$attr[e]=n=Ee(e,"-")),"a"===(r=Q(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===r&&"src"===e)this[e]=t=D(t,"src"===e);else if("img"===r&&"srcset"===e&&R(t)){for(var u="",c=X(t),d=/\s/.test(c)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,h=c.split(d),p=Math.floor(h.length/2),f=0;f<p;f++){var m=2*f;u+=D(X(h[m]),!0),u+=" "+X(h[m+1])}var v=X(h[2*f]).split(/\s/);u+=D(X(v[0]),!0),2===v.length&&(u+=" "+X(v[1])),this[e]=t=u}!1!==i&&(null===t||L(t)?this.$$element.removeAttr(n):O.test(n)?this.$$element.attr(n,t):function(e,t,i){N.innerHTML="<span "+t+">";var n=N.firstChild.attributes,r=n[0];n.removeNamedItem(r.name),r.value=i,e.attributes.setNamedItem(r)}(this.$$element[0],n,t));var y=this.$$observers;y&&w(y[l],function(e){try{e(t)}catch(e){g(e)}})},$observe:function(e,t){var i=this,n=i.$$observers||(i.$$observers=Oe()),r=n[e]||(n[e]=[]);return r.push(t),k.$evalAsync(function(){r.$$inter||!i.hasOwnProperty(e)||L(i[e])||t(i[e])}),function(){ee(r,t)}}};function K(e,t){try{e.addClass(t)}catch(e){}}var Z=i.startSymbol(),J=i.endSymbol(),te="{{"===Z&&"}}"===J?A:function(e){return e.replace(/\{\{/g,Z).replace(/}}/g,J)},ne=/^ngAttr[A-Z]/,re=/^(.+)Start$/;return oe.$$addBindingInfo=y?function(e,t){var i=e.data("$binding")||[];B(t)?i=i.concat(t):i.push(t),e.data("$binding",i)}:P,oe.$$addBindingClass=y?function(e){K(e,"ng-binding")}:P,oe.$$addScopeInfo=y?function(e,t,i,n){var r=i?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:P,oe.$$addScopeClass=y?function(e,t){K(e,t?"ng-isolate-scope":"ng-scope")}:P,oe.$$createComment=function(t,i){var n="";return y&&(n=" "+(t||"")+": ",i&&(n+=i+" ")),e.document.createComment(n)},oe;function oe(t,i,n,r,o){t instanceof l||(t=l(t));for(var a=/\S+/,s=0,u=t.length;s<u;s++){var c=t[s];c.nodeType===Re&&c.nodeValue.match(a)&&at(c,t[s]=e.document.createElement("span"))}var d=le(t,i,t,n,r,o);oe.$$addScopeClass(t);var h=null;return function(e,i,n){De(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new());var r=(n=n||{}).parentBoundTranscludeFn,a=n.transcludeControllers,s=n.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),h||(h=function(e){var t=e&&e[0];return t&&"foreignobject"!==Q(t)&&f.call(t).match(/SVG/)?"svg":"html"}(s));var u;if(u="html"!==h?l(Se(h,l("<div>").append(t).html())):i?Ct.clone.call(t):t,a)for(var c in a)u.data("$"+c+"Controller",a[c].instance);return oe.$$addScopeInfo(u,e),i&&i(u,e),d&&d(e,u,u,r),u}}function le(e,t,i,n,r,o){for(var a,s,u,c,d,h,p,f=[],g=0;g<e.length;g++)a=new Y,(u=(s=ce(e[g],[],a,0===g?n:void 0,r)).length?ge(s,e[g],a,t,i,null,[],[],o):null)&&u.scope&&oe.$$addScopeClass(a.$$element),d=u&&u.terminal||!(c=e[g].childNodes)||!c.length?null:le(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(f.push(g,u,d),h=!0,p=p||u),o=null;return h?function(e,i,n,r){var o,a,s,u,c,d,h,g,m;if(p){var v=i.length;for(m=new Array(v),c=0;c<f.length;c+=3)h=f[c],m[h]=i[h]}else m=i;for(c=0,d=f.length;c<d;)s=m[f[c++]],o=f[c++],a=f[c++],o?(o.scope?(u=e.$new(),oe.$$addScopeInfo(l(s),u)):u=e,g=o.transcludeOnThisElement?ue(e,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&t?ue(e,t):null,o(a,u,s,n,g)):a&&a(e,s.childNodes,void 0,r)}:null}function ue(e,t,i){function n(n,r,o,a,s){return n||((n=e.$new(!1,s)).$$transcluded=!0),t(n,r,{parentBoundTranscludeFn:i,transcludeControllers:o,futureParentElement:a})}var r=n.$$slots=Oe();for(var o in t.$$slots)t.$$slots[o]?r[o]=ue(e,t.$$slots[o],i):r[o]=null;return n}function ce(e,t,n,r,o){var a,l,d,h=e.nodeType,p=n.$attr;switch(h){case Le:ye(t,li(l=Q(e)),"E",r,o);for(var f,g,m,v,y,b,w=e.attributes,x=0,_=w&&w.length;x<_;x++){var C=!1,S=!1;g=(f=w[x]).name,y=X(f.value),v=li(g),(b=ne.test(v))&&(g=g.replace(si,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var k=v.match(re);k&&be(k[1])&&(C=g,S=g.substr(0,g.length-5)+"end",g=g.substr(0,g.length-6)),p[m=li(g.toLowerCase())]=g,!b&&n.hasOwnProperty(m)||(n[m]=y,Et(e,m)&&(n[m]=!0)),ke(e,t,y,m,b),ye(t,m,"A",r,o,C,S)}if("input"===l&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!z)break;if(F(d=e.className)&&(d=d.animVal),H(d)&&""!==d)for(;a=c.exec(d);)ye(t,m=li(a[2]),"C",r,o)&&(n[m]=X(a[3])),d=d.substr(a.index+a[0].length);break;case Re:if(11===s)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Re;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);!function(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=!!t.length;return i&&oe.$$addBindingClass(t),function(e,t){var r=t.parent();i||oe.$$addBindingClass(r),oe.$$addBindingInfo(r,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}(t,e.nodeValue);break;case Fe:if(!G)break;!function(e,t,i,n,r){try{var o=u.exec(e.nodeValue);if(o){var a=li(o[1]);ye(t,a,"M",n,r)&&(i[a]=X(o[2]))}}catch(e){}}(e,t,n,r,o)}return t.sort(_e),t}function de(e,t,i){var n=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw ni("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,i);e.nodeType===Le&&(e.hasAttribute(t)&&r++,e.hasAttribute(i)&&r--),n.push(e),e=e.nextSibling}while(r>0);else n.push(e);return l(n)}function he(e,t,i){return function(n,r,o,a,s){return r=de(r[0],t,i),e(n,r,o,a,s)}}function pe(e,t,i,n,r,o){var a;return e?oe(t,i,n,r,o):function(){return a||(a=oe(t,i,n,r,o),t=i=o=null),a.apply(this,arguments)}}function ge(e,t,i,n,r,o,a,s,u){u=u||{};for(var c,d,h,p,f,m=-Number.MAX_VALUE,v=u.newScopeDirective,y=u.controllerDirectives,b=u.newIsolateScopeDirective,x=u.templateDirective,_=u.nonTlbTranscludeDirective,C=!1,k=!1,E=u.hasElementTranscludeDirective,T=i.$$element=l(t),D=o,M=n,P=!1,A=!1,I=0,O=e.length;I<O;I++){var R=(c=e[I]).$$start,N=c.$$end;if(R&&(T=de(t,R,N)),h=void 0,m>c.priority)break;if((f=c.scope)&&(c.templateUrl||(F(f)?(Ce("new/isolated scope",b||v,c,T),b=c):Ce("new/isolated scope",b,c,T)),v=v||c),d=c.name,!P&&(c.replace&&(c.templateUrl||c.template)||c.transclude&&!c.$$tlb)){for(var H,G=I+1;H=e[G++];)if(H.transclude&&!H.$$tlb||H.replace&&(H.templateUrl||H.template)){A=!0;break}P=!0}if(!c.templateUrl&&c.controller&&(f=c.controller,y=y||Oe(),Ce("'"+d+"' controller",y[d],c,T),y[d]=c),f=c.transclude)if(C=!0,c.$$tlb||(Ce("transclusion",_,c,T),_=c),"element"===f)E=!0,m=c.priority,h=T,T=i.$$element=l(oe.$$createComment(d,i[d])),t=T[0],$e(r,ae(h),t),h[0].$$parentNode=h[0].parentNode,M=pe(A,h,n,m,D&&D.name,{nonTlbTranscludeDirective:_});else{var z=Oe();if(h=l(ut(t)).contents(),F(f)){h=[];var V=Oe(),j=Oe();w(f,function(e,t){var i="?"===e.charAt(0);e=i?e.substring(1):e,V[e]=t,z[t]=null,j[t]=i}),w(T.contents(),function(e){var t=V[li(Q(e))];t?(j[t]=!0,z[t]=z[t]||[],z[t].push(e)):h.push(e)}),w(j,function(e,t){if(!e)throw ni("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var q in z)z[q]&&(z[q]=pe(A,z[q],n))}T.empty(),(M=pe(A,h,n,void 0,void 0,{needsNewScope:c.$$isolateScope||c.$$newScope})).$$slots=z}if(c.template)if(k=!0,Ce("template",x,c,T),x=c,f=W(c.template)?c.template(T,i):c.template,f=te(f),c.replace){if(D=c,h=nt(f)?[]:ci(Se(c.templateNamespace,X(f))),t=h[0],1!==h.length||t.nodeType!==Le)throw ni("tplrt","Template for directive '{0}' must have exactly one root element. {1}",d,"");$e(r,T,t);var K={$attr:{}},Z=ce(t,[],K),J=e.splice(I+1,e.length-(I+1));(b||v)&&ve(Z,b,v),e=e.concat(Z).concat(J),we(i,K),O=e.length}else T.html(f);if(c.templateUrl)k=!0,Ce("template",x,c,T),x=c,c.replace&&(D=c),ne=xe(e.splice(I,e.length-I),T,i,r,C&&M,a,s,{controllerDirectives:y,newScopeDirective:v!==c&&v,newIsolateScopeDirective:b,templateDirective:x,nonTlbTranscludeDirective:_}),O=e.length;else if(c.compile)try{p=c.compile(T,i,M);var ee=c.$$originalDirective||c;W(p)?ie(null,se(ee,p),R,N):p&&ie(se(ee,p.pre),se(ee,p.post),R,N)}catch(e){g(e,fe(T))}c.terminal&&(ne.terminal=!0,m=Math.max(m,c.priority))}return ne.scope=v&&!0===v.scope,ne.transcludeOnThisElement=C,ne.templateOnThisElement=k,ne.transclude=M,u.hasElementTranscludeDirective=E,ne;function ie(e,t,i,n){e&&(i&&(e=he(e,i,n)),e.require=c.require,e.directiveName=d,(b===c||c.$$isolateScope)&&(e=Te(e,{isolateScope:!0})),a.push(e)),t&&(i&&(t=he(t,i,n)),t.require=c.require,t.directiveName=d,(b===c||c.$$isolateScope)&&(t=Te(t,{isolateScope:!0})),s.push(t))}function ne(e,n,r,o,u){var c,d,h,p,f,m,_,C,k,T;t===r?(k=i,C=i.$$element):k=new Y(C=l(r),i),f=n,b?p=n.$new(!0):v&&(f=n.$parent),u&&((_=function(e,t,i,n){var r;U(e)||(n=i,i=t,t=e,e=void 0);E&&(r=m);i||(i=E?C.parent():C);{if(!n)return u(e,t,r,i,O);var o=u.$$slots[n];if(o)return o(e,t,r,i,O);if(L(o))throw ni("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',n,fe(C))}}).$$boundTransclude=u,_.isSlotFilled=function(e){return!!u.$$slots[e]}),y&&(m=function(e,t,i,n,r,o,a){var s=Oe();for(var l in n){var u=n[l],c={$scope:u===a||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:i},d=u.controller;"@"===d&&(d=t[u.name]);var h=S(d,c,!0,u.controllerAs);s[u.name]=h,e.data("$"+u.name+"Controller",h.instance)}return s}(C,k,_,y,p,n,b)),b&&(oe.$$addScopeInfo(C,p,!0,!(x&&(x===b||x===b.$$originalDirective))),oe.$$addScopeClass(C,!0),p.$$isolateBindings=b.$$isolateBindings,(T=Pe(n,k,p,p.$$isolateBindings,b)).removeWatches&&p.$on("$destroy",T.removeWatches));for(var D in m){var M=y[D],P=m[D],A=M.$$bindings.bindToController;P.identifier&&A?P.bindingInfo=Pe(f,k,P.instance,A,M):P.bindingInfo={};var I=P();I!==P.instance&&(P.instance=I,C.data("$"+M.name+"Controller",I),P.bindingInfo.removeWatches&&P.bindingInfo.removeWatches(),P.bindingInfo=Pe(f,k,P.instance,A,M))}for(w(y,function(e,t){var i=e.require;e.bindToController&&!B(i)&&F(i)&&$(m[t].instance,me(t,i,C,m))}),w(m,function(e){var t=e.instance;if(W(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){g(e)}if(W(t.$onInit))try{t.$onInit()}catch(e){g(e)}W(t.$doCheck)&&(f.$watch(function(){t.$doCheck()}),t.$doCheck()),W(t.$onDestroy)&&f.$on("$destroy",function(){t.$onDestroy()})}),c=0,d=a.length;c<d;c++)Me(h=a[c],h.isolateScope?p:n,C,k,h.require&&me(h.directiveName,h.require,C,m),_);var O=n;for(b&&(b.template||null===b.templateUrl)&&(O=p),e&&e(O,r.childNodes,void 0,u),c=s.length-1;c>=0;c--)Me(h=s[c],h.isolateScope?p:n,C,k,h.require&&me(h.directiveName,h.require,C,m),_);w(m,function(e){var t=e.instance;W(t.$postLink)&&t.$postLink()})}}function me(e,t,i,n){var r;if(H(t)){var o=t.match(h),a=t.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?i=i.parent():r=(r=n&&n[a])&&r.instance,!r){var u="$"+a+"Controller";r=s?i.inheritedData(u):i.data(u)}if(!r&&!l)throw ni("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(B(t)){r=[];for(var c=0,d=t.length;c<d;c++)r[c]=me(e,t[c],i,n)}else F(t)&&(r={},w(t,function(t,o){r[o]=me(e,t,i,n)}));return r||null}function ve(e,t,i){for(var n=0,r=e.length;n<r;n++)e[n]=M(e[n],{$$isolateScope:t,$$newScope:i})}function ye(e,i,r,o,s,l,u){if(i===s)return null;var c=null;if(n.hasOwnProperty(i))for(var d,h=t.get(i+a),p=0,f=h.length;p<f;p++)try{if(d=h[p],(L(o)||o>d.priority)&&-1!==d.restrict.indexOf(r)){if(l&&(d=M(d,{$$start:l,$$end:u})),!d.$$bindings){var m=d.$$bindings=v(d,d.name);F(m.isolateScope)&&(d.$$isolateBindings=m.isolateScope)}e.push(d),c=d}}catch(e){g(e)}return c}function be(e){if(n.hasOwnProperty(e))for(var i=t.get(e+a),r=0,o=i.length;r<o;r++)if(i[r].multiElement)return!0;return!1}function we(e,t){var i=t.$attr,n=e.$attr;w(e,function(n,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==n&&(n+=("style"===r?";":" ")+t[r]),e.$set(r,n,!0,i[r]))}),w(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(n[r]=i[r]))})}function xe(e,t,i,n,r,o,a,s){var u,c,d=[],h=t[0],p=e.shift(),f=M(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),g=W(p.templateUrl)?p.templateUrl(t,i):p.templateUrl,v=p.templateNamespace;return t.empty(),m(g).then(function(m){var y,b,x,_;if(m=te(m),p.replace){if(x=nt(m)?[]:ci(Se(v,X(m))),y=x[0],1!==x.length||y.nodeType!==Le)throw ni("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,g);b={$attr:{}},$e(n,t,y);var C=ce(y,[],b);F(p.scope)&&ve(C,!0),e=C.concat(e),we(i,b)}else y=h,t.html(m);for(e.unshift(f),u=ge(e,y,i,r,t,p,o,a,s),w(n,function(e,i){e===y&&(n[i]=t[0])}),c=le(t[0].childNodes,r);d.length;){var S=d.shift(),k=d.shift(),$=d.shift(),E=d.shift(),T=t[0];if(!S.$$destroyed){if(k!==h){var D=k.className;s.hasElementTranscludeDirective&&p.replace||(T=ut(y)),$e($,l(k),T),K(l(T),D)}_=u.transcludeOnThisElement?ue(S,u.transclude,E):E,u(c,S,T,n,_)}}d=null}),function(e,t,i,n,r){var o=r;t.$$destroyed||(d?d.push(t,i,n,o):(u.transcludeOnThisElement&&(o=ue(t,u.transclude,r)),u(c,t,i,n,o)))}}function _e(e,t){var i=t.priority-e.priority;return 0!==i?i:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function Ce(e,t,i,n){function r(e){return e?" (module: "+e+")":""}if(t)throw ni("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),i.name,r(i.$$moduleName),e,fe(n))}function Se(t,i){switch(t=o(t||"html")){case"svg":case"math":var n=e.document.createElement("div");return n.innerHTML="<"+t+">"+i+"</"+t+">",n.childNodes[0].childNodes;default:return i}}function ke(e,t,n,r,o){var a=function(e,t){if("srcdoc"===t)return E.HTML;var i=Q(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(i))return E.RESOURCE_URL}else if("xlinkHref"===t||"form"===i&&"action"===t)return E.RESOURCE_URL}(e,r);o=d[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===Q(e))throw ni("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",fe(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=Oe());if(p.test(r))throw ni("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[r];c!==n&&(s=c&&i(c,!0,a,o),n=c),s&&(l[r]=s(e),(u[r]||(u[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||e).$watch(s,function(e,t){"class"===r&&e!==t?l.$updateClass(e,t):l.$set(r,e)}))}}}})}}function $e(t,i,n){var r,o,a=i[0],s=i.length,u=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===a){t[r++]=n;for(var c=r,d=c+s-1,h=t.length;c<h;c++,d++)d<h?t[c]=t[d]:delete t[c];t.length-=s-1,t.context===a&&(t.context=n);break}u&&u.replaceChild(n,a);var p=e.document.createDocumentFragment();for(r=0;r<s;r++)p.appendChild(i[r]);for(l.hasData(a)&&(l.data(n,l.data(a)),l(a).off("$destroy")),l.cleanData(p.querySelectorAll("*")),r=1;r<s;r++)delete i[r];i[0]=n,i.length=1}function Te(e,t){return $(function(){return e.apply(null,arguments)},e,t)}function Me(e,t,i,n,r,o){try{e(t,i,n,r,o)}catch(e){g(e,fe(i))}}function Pe(e,t,n,o,a){var s,l=[],u={};w(o,function(o,s){var d,h,p,f,g,m=o.attrName,v=o.optional;switch(o.mode){case"@":v||r.call(t,m)||(n[s]=t[m]=void 0),t.$observe(m,function(e){if(H(e)||q(e)){var t=n[s];c(s,e,t),n[s]=e}}),t.$$observers[m].$$scope=e,H(d=t[m])?n[s]=i(d)(e):q(d)&&(n[s]=d),u[s]=new ai(ri,n[s]);break;case"=":if(!r.call(t,m)){if(v)break;t[m]=void 0}if(v&&!t[m])break;h=_(t[m]),f=h.literal?ie:function(e,t){return e===t||e!=e&&t!=t},p=h.assign||function(){throw d=n[s]=h(e),ni("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[m],m,a.name)},d=n[s]=h(e);var y=function(t){return f(t,n[s])||(f(t,d)?p(e,t=n[s]):n[s]=t),d=t};y.$stateful=!0,g=o.collection?e.$watchCollection(t[m],y):e.$watch(_(t[m],y),null,h.literal),l.push(g);break;case"<":if(!r.call(t,m)){if(v)break;t[m]=void 0}if(v&&!t[m])break;h=_(t[m]);var b=n[s]=h(e);u[s]=new ai(ri,n[s]),g=e.$watch(h,function(e,t){if(t===e){if(t===b)return;t=b}c(s,e,t),n[s]=e},h.literal),l.push(g);break;case"&":if((h=t.hasOwnProperty(m)?_(t[m]):P)===P&&v)break;n[s]=function(t){return h(e,t)}}});function c(t,i,r){W(n.$onChanges)&&i!==r&&(I||(e.$$postDigest(j),I=[]),s||(s={},I.push(d)),s[t]&&(r=s[t].previousValue),s[t]=new ai(r,i))}function d(){n.$onChanges(s),s=void 0}return{initialChanges:u,removeWatches:l.length&&function(){for(var e=0,t=l.length;e<t;++e)l[e]()}}}}]}function ai(e,t){this.previousValue=e,this.currentValue=t}ai.prototype.isFirstChange=function(){return this.previousValue===ri};var si=/^((?:x|data)[:\-_])/i;function li(e){return Ze(e.replace(si,""))}function ui(e,t){var i="",n=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<n.length;o++){for(var a=n[o],s=0;s<r.length;s++)if(a===r[s])continue e;i+=(i.length>0?" ":"")+a}return i}function ci(e){var t=(e=l(e)).length;if(t<=1)return e;for(;t--;){e[t].nodeType===Fe&&h.call(e,t,1)}return e}var di=t("$controller"),hi=/^(\S+)(\s+as\s+([\w$]+))?$/;function pi(e,t){if(t&&H(t))return t;if(H(e)){var i=hi.exec(e);if(i)return i[3]}}function fi(){var e={},i=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,i){Pe(t,"controller"),F(t)?$(e,t):e[t]=i},this.allowGlobals=function(){i=!0},this.$get=["$injector","$window",function(n,r){return function(t,a,s,l){var u,c,d,h;if(s=!0===s,l&&H(l)&&(h=l),H(t)){if(!(c=t.match(hi)))throw di("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);d=c[1],h=h||c[3],Me(t=e.hasOwnProperty(d)?e[d]:Ae(a.$scope,d,!0)||(i?Ae(r,d,!0):void 0),d,!0)}if(s){var p=(B(t)?t[t.length-1]:t).prototype;return u=Object.create(p||null),h&&o(a,h,u,d||t.name),$(function(){var e=n.invoke(t,u,a,d);return e!==u&&(F(e)||W(e))&&(u=e,h&&o(a,h,u,d||t.name)),u},{instance:u,identifier:h})}return u=n.instantiate(t,a,d),h&&o(a,h,u,d||t.name),u};function o(e,i,n,r){if(!e||!F(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,i);e.$scope[i]=n}}]}function gi(){this.$get=["$window",function(e){return l(e.document)}]}function mi(){this.$get=["$log",function(e){return function(t,i){e.error.apply(e,arguments)}}]}var vi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof l&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},yi="application/json",bi={"Content-Type":yi+";charset=utf-8"},wi=/^\[|^\{(?!\{)/,xi={"[":/]$/,"{":/}$/},_i=/^\)\]\}',?\n/,Ci=t("$http"),Si=function(e){return function(){throw Ci("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}};function ki(e){return F(e)?z(e)?e.toISOString():ue(e):e}function $i(){this.$get=function(){return function(e){if(!e)return"";var t=[];return x(e,function(e,i){null===e||L(e)||(B(e)?w(e,function(e){t.push(be(i)+"="+be(ki(e)))}):t.push(be(i)+"="+be(ki(e))))}),t.join("&")}}}function Ei(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(i,n,r){if(null===i||L(i))return;B(i)?w(i,function(t,i){e(t,n+"["+(F(t)?i:"")+"]")}):F(i)&&!z(i)?x(i,function(t,i){e(t,n+(r?"":"[")+i+(r?"":"]"))}):t.push(be(n)+"="+be(ki(i)))}(e,"",!0),t.join("&")}}}function Ti(e,t){if(H(e)){var i=e.replace(_i,"").trim();if(i){var n=t("Content-Type");(n&&0===n.indexOf(yi)||function(e){var t=e.match(wi);return t&&xi[t[0]].test(e)}(i))&&(e=ce(i))}}return e}function Di(e){var t,i=Oe();function n(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}return H(e)?w(e.split("\n"),function(e){t=e.indexOf(":"),n(o(X(e.substr(0,t))),X(e.substr(t+1)))}):F(e)&&w(e,function(e,t){n(o(t),X(e))}),i}function Mi(e){var t;return function(i){if(t||(t=Di(e)),i){var n=t[o(i)];return void 0===n&&(n=null),n}return t}}function Pi(e,t,i,n){return W(n)?n(e,t,i):(w(n,function(n){e=n(e,t,i)}),e)}function Ai(e){return 200<=e&&e<300}function Ii(){var e=this.defaults={transformResponse:[Ti],transformRequest:[function(e){return F(e)&&(n=e,"[object File]"!==f.call(n))&&(i=e,"[object Blob]"!==f.call(i))&&(t=e,"[object FormData]"!==f.call(t))?ue(e):e;var t,i,n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ge(bi),put:Ge(bi),patch:Ge(bi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},i=!1;this.useApplyAsync=function(e){return R(e)?(i=!!e,this):i};var n=!0;this.useLegacyPromiseExtensions=function(e){return R(e)?(n=!!e,this):n};var r=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,c,d,h){var p=u("$http");e.paramSerializer=H(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var f=[];w(r,function(e){f.unshift(H(e)?h.get(e):h.invoke(e))});function g(r){if(!F(r))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",r);if(!H(r.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",r.url);var u=$({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},r);u.headers=function(t){var i,n,r,a=e.headers,s=$({},t.headers);a=$({},a.common,a[o(t.method)]);e:for(i in a){n=o(i);for(r in s)if(o(r)===n)continue e;s[i]=a[i]}return function(e,t){var i,n={};return w(e,function(e,r){W(e)?null!=(i=e(t))&&(n[r]=i):n[r]=e}),n}(s,Ge(t))}(r),u.method=a(u.method),u.paramSerializer=H(u.paramSerializer)?h.get(u.paramSerializer):u.paramSerializer;var m=[],v=[],y=d.when(u);return w(f,function(e){(e.request||e.requestError)&&m.unshift(e.request,e.requestError),(e.response||e.responseError)&&v.push(e.response,e.responseError)}),y=b(y=(y=b(y,m)).then(function(t){var n=t.headers,r=Pi(t.data,Mi(n),void 0,t.transformRequest);L(r)&&w(n,function(e,t){"content-type"===o(t)&&delete n[t]});L(t.withCredentials)&&!L(e.withCredentials)&&(t.withCredentials=e.withCredentials);return function(t,n){var r,o,a=d.defer(),u=a.promise,h=t.headers,f=function(e,t){t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(t.url,t.paramSerializer(t.params));g.pendingRequests.push(t),u.then(x,x),!t.cache&&!e.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(r=F(t.cache)?t.cache:F(e.cache)?e.cache:p);r&&(R(o=r.get(f))?Y(o)?o.then(b,b):B(o)?y(o[1],o[0],Ge(o[2]),o[3]):y(o,200,{},"OK"):r.put(f,u));if(L(o)){var m=dr(t.url)?l()[t.xsrfCookieName||e.xsrfCookieName]:void 0;m&&(h[t.xsrfHeaderName||e.xsrfHeaderName]=m),s(t.method,f,n,function(e,t,n,o){r&&(Ai(e)?r.put(f,[e,t,Di(n),o]):r.remove(f));function a(){y(t,e,n,o)}i?c.$applyAsync(a):(a(),c.$$phase||c.$apply())},h,t.timeout,t.withCredentials,t.responseType,v(t.eventHandlers),v(t.uploadEventHandlers))}return u;function v(e){if(e){var t={};return w(e,function(e,n){t[n]=function(t){i?c.$applyAsync(n):c.$$phase?n():c.$apply(n);function n(){e(t)}}}),t}}function y(e,i,n,r){(Ai(i=i>=-1?i:0)?a.resolve:a.reject)({data:e,status:i,headers:Mi(n),config:t,statusText:r})}function b(e){y(e.data,e.status,Ge(e.headers()),e.statusText)}function x(){var e=g.pendingRequests.indexOf(t);-1!==e&&g.pendingRequests.splice(e,1)}}(t,r).then(x,x)}),v),n?(y.success=function(e){return Me(e,"fn"),y.then(function(t){e(t.data,t.status,t.headers,u)}),y},y.error=function(e){return Me(e,"fn"),y.then(null,function(t){e(t.data,t.status,t.headers,u)}),y}):(y.success=Si("success"),y.error=Si("error")),y;function b(e,t){for(var i=0,n=t.length;i<n;){var r=t[i++],o=t[i++];e=e.then(r,o)}return t.length=0,e}function x(e){var t=$({},e);return t.data=Pi(e.data,e.headers,e.status,u.transformResponse),Ai(e.status)?t:d.reject(t)}}return g.pendingRequests=[],function(e){w(arguments,function(e){g[e]=function(t,i){return g($({},i||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){w(arguments,function(e){g[e]=function(t,i,n){return g($({},n||{},{method:e,url:t,data:i}))}})}("post","put","patch"),g.defaults=e,g}]}function Oi(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Li(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,i,n){return function(e,t,i,n,r){return function(a,s,l,u,c,d,h,p,f,g){if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===o(a))var m=n.createCallback(s),v=function(e,t,i){e=e.replace("JSON_CALLBACK",t);var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){Ue(o,"load",a),Ue(o,"error",a),r.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||n.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),i&&i(s,l)},je(o,"load",a),je(o,"error",a),r.body.appendChild(o),a}(s,m,function(e,t){var i=200===e&&n.getResponse(m);C(u,e,i,"",t),n.removeCallback(m)});else{var y=t(a,s);y.open(a,s,!0),w(c,function(e,t){R(e)&&y.setRequestHeader(t,e)}),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,i=1223===y.status?204:y.status;0===i&&(i=t?200:"file"===cr(s).protocol?404:0),C(u,i,t,y.getAllResponseHeaders(),e)};var b=function(){C(u,-1,null,null,"")};if(y.onerror=b,y.onabort=b,y.ontimeout=b,w(f,function(e,t){y.addEventListener(t,e)}),w(g,function(e,t){y.upload.addEventListener(t,e)}),h&&(y.withCredentials=!0),p)try{y.responseType=p}catch(e){if("json"!==p)throw e}y.send(L(l)?null:l)}if(d>0)var x=i(_,d);else Y(d)&&d.then(_);function _(){v&&v(),y&&y.abort()}function C(t,n,r,o,a){R(x)&&i.cancel(x),v=y=null,t(n,r,o,a),e.$$completeOutstandingRequest(P)}}}(e,n,e.defer,t,i[0])}]}var Ri=v.$interpolateMinErr=t("$interpolate");Ri.throwNoconcat=function(e){throw Ri("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Ri.interr=function(e,t){return Ri("interr","Can't interpolate: {0}\n{1}",e,t.toString())};function Fi(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(i,n,r){var o=e.length,a=t.length,s=new RegExp(e.replace(/./g,u),"g"),l=new RegExp(t.replace(/./g,u),"g");function u(e){return"\\\\\\"+e}function c(i){return i.replace(s,e).replace(l,t)}function d(e,t,i,n){var r=e.$watch(function(e){return r(),n(e)},t,i);return r}function h(s,l,u,h){if(!s.length||-1===s.indexOf(e)){var p;if(!l){(p=I(c(s))).exp=s,p.expressions=[],p.$$watchDelegate=d}return p}h=!!h;for(var f,g,m,v=0,y=[],b=[],w=s.length,x=[],_=[];v<w;){if(-1===(f=s.indexOf(e,v))||-1===(g=s.indexOf(t,f+o))){v!==w&&x.push(c(s.substring(v)));break}v!==f&&x.push(c(s.substring(v,f))),m=s.substring(f+o,g),y.push(m),b.push(i(m,k)),v=g+a,_.push(x.length),x.push("")}if(u&&x.length>1&&Ri.throwNoconcat(s),!l||y.length){var C=function(e){for(var t=0,i=y.length;t<i;t++){if(h&&L(e[t]))return;x[_[t]]=e[t]}return x.join("")},S=function(e){return u?r.getTrusted(u,e):r.valueOf(e)};return $(function(e){var t=0,i=y.length,r=new Array(i);try{for(;t<i;t++)r[t]=b[t](e);return C(r)}catch(e){n(Ri.interr(s,e))}},{exp:s,expressions:y,$$watchDelegate:function(e,t){var i;return e.$watchGroup(b,function(n,r){var o=C(n);W(t)&&t.call(this,o,n!==r?i:o,e),i=o})}})}function k(e){try{return e=S(e),h&&!R(e)?e:function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=ue(e)}return e}(e)}catch(e){n(Ri.interr(s,e))}}}return h.startSymbol=function(){return e},h.endSymbol=function(){return t},h}]}function Ni(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,i,n,r){var o={};function a(a,s,l,u){var c=arguments.length>4,d=c?ae(arguments,4):[],h=t.setInterval,p=t.clearInterval,f=0,g=R(u)&&!u,m=(g?n:i).defer(),v=m.promise;return l=R(l)?l:0,v.$$intervalId=h(function(){g?r.defer(y):e.$evalAsync(y),m.notify(f++),l>0&&f>=l&&(m.resolve(f),p(v.$$intervalId),delete o[v.$$intervalId]),g||e.$apply()},s),o[v.$$intervalId]=m,v;function y(){c?a.apply(null,d):a(f)}}return a.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},a}]}var Hi=function(){this.$get=["$window",function(e){var t=e.angular.callbacks,i={};return{createCallback:function(e){var n="_"+(t.$$counter++).toString(36),r="angular.callbacks."+n,o=function(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}(n);return i[r]=t[n]=o,r},wasCalled:function(e){return i[e].called},getResponse:function(e){return i[e].data},removeCallback:function(e){var n=i[e];delete t[n.id],delete i[e]}}}]},Gi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,zi={http:80,https:443,ftp:21},Bi=t("$location");function Wi(e){for(var t=e.split("/"),i=t.length;i--;)t[i]=ye(t[i]);return t.join("/")}function Vi(e,t){var i=cr(e);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=T(i.port)||zi[i.protocol]||null}var ji=/^\s*[\\/]{2,}/;function Ui(e,t){if(ji.test(e))throw Bi("badpath",'Invalid url "{0}".',e);var i="/"!==e.charAt(0);i&&(e="/"+e);var n=cr(e);t.$$path=decodeURIComponent(i&&"/"===n.pathname.charAt(0)?n.pathname.substring(1):n.pathname),t.$$search=me(n.search),t.$$hash=decodeURIComponent(n.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function qi(e,t){return 0===e.lastIndexOf(t,0)}function Yi(e,t){if(qi(t,e))return t.substr(e.length)}function Ki(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function Xi(e){return e.replace(/(#.+)|#$/,"$1")}function Zi(e,t,i){this.$$html5=!0,i=i||"",Vi(e,this),this.$$parse=function(e){var i=Yi(t,e);if(!H(i))throw Bi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Ui(i,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=ve(this.$$search),i=this.$$hash?"#"+ye(this.$$hash):"";this.$$url=Wi(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(n,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return R(o=Yi(e,n))?(a=o,s=i&&R(o=Yi(i,o))?t+(Yi("/",o)||o):e+a):R(o=Yi(t,n))?s=t+o:t===n+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Ji(e,t,i){Vi(e,this),this.$$parse=function(n){var r,o=Yi(e,n)||Yi(t,n);L(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",L(o)&&(e=n,this.replace())):L(r=Yi(i,o))&&(r=o),Ui(r,this),this.$$path=function(e,t,i){var n,r=/^\/[A-Z]:(\/.*)/;qi(t,i)&&(t=t.replace(i,""));if(r.exec(t))return e;return(n=r.exec(e))?n[1]:e}(this.$$path,r,e),this.$$compose()},this.$$compose=function(){var t=ve(this.$$search),n=this.$$hash?"#"+ye(this.$$hash):"";this.$$url=Wi(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+(this.$$url?i+this.$$url:"")},this.$$parseLinkUrl=function(t,i){return Ki(e)===Ki(t)&&(this.$$parse(t),!0)}}function Qi(e,t,i){this.$$html5=!0,Ji.apply(this,arguments),this.$$parseLinkUrl=function(n,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e===Ki(n)?o=n:(a=Yi(t,n))?o=e+i+a:t===n+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=ve(this.$$search),n=this.$$hash?"#"+ye(this.$$hash):"";this.$$url=Wi(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+i+this.$$url}}var en={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:tn("$$absUrl"),url:function(e){if(L(e))return this.$$url;var t=Gi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:tn("$$protocol"),host:tn("$$host"),port:tn("$$port"),path:nn("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(H(e)||G(e))e=e.toString(),this.$$search=me(e);else{if(!F(e))throw Bi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");w(e=te(e,{}),function(t,i){null==t&&delete e[i]}),this.$$search=e}break;default:L(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:nn("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};w([Qi,Ji,Zi],function(e){e.prototype=Object.create(en),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Zi||!this.$$html5)throw Bi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=L(t)?null:t,this}});function tn(e){return function(){return this[e]}}function nn(e,t){return function(i){return L(i)?this[e]:(this[e]=t(i),this.$$compose(),this)}}function rn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return R(t)?(e=t,this):e},this.html5Mode=function(e){return q(e)?(t.enabled=e,this):F(e)?(q(e.enabled)&&(t.enabled=e.enabled),q(e.requireBase)&&(t.requireBase=e.requireBase),q(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,n,r,o,a){var s,u,c,d=n.baseHref(),h=n.url();if(t.enabled){if(!d&&t.requireBase)throw Bi("nobase","$location in HTML5 mode requires a <base> tag to be present!");c=(p=h).substring(0,p.indexOf("/",p.indexOf("//")+2))+(d||"/"),u=r.history?Zi:Qi}else c=Ki(h),u=Ji;var p,f,g=(f=c,f.substr(0,Ki(f).lastIndexOf("/")+1));(s=new u(c,g,"#"+e)).$$parseLinkUrl(h,h),s.$$state=n.state();var m=/^\s*(javascript|mailto):/i;function v(e,t,i){var r=s.url(),o=s.$$state;try{n.url(e,t,i),s.$$state=n.state()}catch(e){throw s.url(r),s.$$state=o,e}}o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var r=l(e.target);"a"!==Q(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var u=r.prop("href"),c=r.attr("href")||r.attr("xlink:href");F(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=cr(u.animVal).href),m.test(u)||!u||r.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(u,c)&&(e.preventDefault(),s.absUrl()!==n.url()&&(i.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Xi(s.absUrl())!==Xi(h)&&n.url(s.absUrl(),!0);var y=!0;return n.onUrlChange(function(e,t){L(Yi(g,e))?a.location.href=e:(i.$evalAsync(function(){var n,r=s.absUrl(),o=s.$$state;e=Xi(e),s.$$parse(e),s.$$state=t,n=i.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,s.absUrl()===e&&(n?(s.$$parse(r),s.$$state=o,v(r,!1,o)):(y=!1,b(r,o)))}),i.$$phase||i.$digest())}),i.$watch(function(){var e=Xi(n.url()),t=Xi(s.absUrl()),o=n.state(),a=s.$$replace,l=e!==t||s.$$html5&&r.history&&o!==s.$$state;(y||l)&&(y=!1,i.$evalAsync(function(){var t=s.absUrl(),n=i.$broadcast("$locationChangeStart",t,e,s.$$state,o).defaultPrevented;s.absUrl()===t&&(n?(s.$$parse(e),s.$$state=o):(l&&v(t,a,o===s.$$state?null:s.$$state),b(e,o)))})),s.$$replace=!1}),s;function b(e,t){i.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}}]}function on(){var e=!0,t=this;this.debugEnabled=function(t){return R(t)?(e=t,this):e},this.$get=["$window",function(i){return{log:n("log"),info:n("info"),warn:n("warn"),error:n("error"),debug:function(){var i=n("debug");return function(){e&&i.apply(t,arguments)}}()};function n(e){var t=i.console||{},n=t[e]||t.log||P,r=!1;try{r=!!n.apply}catch(e){}return r?function(){var e=[];return w(arguments,function(t){e.push(((i=t)instanceof Error&&(i.stack?i=i.message&&-1===i.stack.indexOf(i.message)?"Error: "+i.message+"\n"+i.stack:i.stack:i.sourceURL&&(i=i.message+"\n"+i.sourceURL+":"+i.line)),i));var i}),n.apply(t,e)}:function(e,t){n(e,null==t?"":t)}}}]}var an=t("$parse"),sn=[].constructor,ln=(!1).constructor,un=Function.constructor,cn=(0).constructor,dn={}.constructor,hn="".constructor,pn=sn.prototype,fn=ln.prototype,gn=un.prototype,mn=cn.prototype,vn=dn.prototype,yn=hn.prototype,bn=gn.call,wn=gn.apply,xn=gn.bind,_n=vn.valueOf;function Cn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw an("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Sn(e){return e+""}function kn(e,t){if(e){if(e.constructor===e)throw an("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw an("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw an("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw an("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function $n(e,t){if(e){if(e.constructor===e)throw an("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===bn||e===wn||e===xn)throw an("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function En(e,t){if(e&&(e===sn||e===ln||e===un||e===cn||e===dn||e===hn||e===pn||e===fn||e===gn||e===mn||e===vn||e===yn))throw an("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",t)}var Tn=Oe();w("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Tn[e]=!0});var Dn={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Mn=function(e){this.options=e};Mn.prototype={constructor:Mn,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var i=t+this.peek(),n=i+this.peek(2),r=Tn[t],o=Tn[i],a=Tn[n];if(r||o||a){var s=a?n:o?i:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var i=e.charCodeAt(0),n=t.charCodeAt(0);return i>=55296&&i<=56319&&n>=56320&&n<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,i){i=i||this.index;var n=R(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw an("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var i=o(this.text.charAt(this.index));if("."===i||this.isNumber(i))e+=i;else{var n=this.peek();if("e"===i&&this.isExpOperator(n))e+=i;else if(this.isExpOperator(i)&&n&&this.isNumber(n)&&"e"===e.charAt(e.length-1))e+=i;else{if(!this.isExpOperator(i)||n&&this.isNumber(n)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var i="",n=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(n+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,i+=String.fromCharCode(parseInt(a,16))}else{i+=Dn[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:n,constant:!0,value:i});i+=o}this.index++}this.throwError("Unterminated quote",t)}};var Pn=function(e,t){this.lexer=e,this.options=t};Pn.Program="Program",Pn.ExpressionStatement="ExpressionStatement",Pn.AssignmentExpression="AssignmentExpression",Pn.ConditionalExpression="ConditionalExpression",Pn.LogicalExpression="LogicalExpression",Pn.BinaryExpression="BinaryExpression",Pn.UnaryExpression="UnaryExpression",Pn.CallExpression="CallExpression",Pn.MemberExpression="MemberExpression",Pn.Identifier="Identifier",Pn.Literal="Literal",Pn.ArrayExpression="ArrayExpression",Pn.Property="Property",Pn.ObjectExpression="ObjectExpression",Pn.ThisExpression="ThisExpression",Pn.LocalsExpression="LocalsExpression",Pn.NGValueParameter="NGValueParameter",Pn.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Pn.Program,body:e}},expressionStatement:function(){return{type:Pn.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:Pn.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,i=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Pn.ConditionalExpression,test:i,alternate:e,consequent:t}):i},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Pn.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Pn.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Pn.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Pn.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Pn.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Pn.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Pn.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=te(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Pn.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Pn.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Pn.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Pn.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],i={type:Pn.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return i},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Pn.Identifier,name:e.text}},constant:function(){return{type:Pn.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Pn.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Pn.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Pn.ObjectExpression,properties:t}},throwError:function(e,t){throw an("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw an("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw an("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,i,n){return this.peekAhead(0,e,t,i,n)},peekAhead:function(e,t,i,n,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===i||a===n||a===r||!t&&!i&&!n&&!r)return o}return!1},expect:function(e,t,i,n){var r=this.peek(e,t,i,n);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Pn.ThisExpression},$locals:{type:Pn.LocalsExpression}}};function An(e,t){return void 0!==e?e:t}function In(e,t){return void 0===e?t:void 0===t?e:e+t}function On(e,t){var i,n,r;switch(e.type){case Pn.Program:i=!0,w(e.body,function(e){On(e.expression,t),i=i&&e.expression.constant}),e.constant=i;break;case Pn.Literal:e.constant=!0,e.toWatch=[];break;case Pn.UnaryExpression:On(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Pn.BinaryExpression:On(e.left,t),On(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Pn.LogicalExpression:On(e.left,t),On(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Pn.ConditionalExpression:On(e.test,t),On(e.alternate,t),On(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Pn.Identifier:e.constant=!1,e.toWatch=[e];break;case Pn.MemberExpression:On(e.object,t),e.computed&&On(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Pn.CallExpression:r=!!e.filter&&(o=t,a=e.callee.name,!o(a).$stateful),i=r,n=[],w(e.arguments,function(e){On(e,t),i=i&&e.constant,e.constant||n.push.apply(n,e.toWatch)}),e.constant=i,e.toWatch=r?n:[e];break;case Pn.AssignmentExpression:On(e.left,t),On(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Pn.ArrayExpression:i=!0,n=[],w(e.elements,function(e){On(e,t),i=i&&e.constant,e.constant||n.push.apply(n,e.toWatch)}),e.constant=i,e.toWatch=n;break;case Pn.ObjectExpression:i=!0,n=[],w(e.properties,function(e){On(e.value,t),i=i&&e.value.constant&&!e.computed,e.value.constant||n.push.apply(n,e.value.toWatch)}),e.constant=i,e.toWatch=n;break;case Pn.ThisExpression:case Pn.LocalsExpression:e.constant=!1,e.toWatch=[]}var o,a}function Ln(e){if(1===e.length){var t=e[0].expression,i=t.toWatch;return 1!==i.length?i:i[0]!==t?i:void 0}}function Rn(e){return e.type===Pn.Identifier||e.type===Pn.MemberExpression}function Fn(e){if(1===e.body.length&&Rn(e.body[0].expression))return{type:Pn.AssignmentExpression,left:e.body[0].expression,right:{type:Pn.NGValueParameter},operator:"="}}function Nn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Pn.Literal||e.body[0].expression.type===Pn.ArrayExpression||e.body[0].expression.type===Pn.ObjectExpression)}function Hn(e){return e.constant}function Gn(e,t){this.astBuilder=e,this.$filter=t}Gn.prototype={compile:function(e,t){var i=this,n=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},On(n,i.$filter);var r,o="";if(this.stage="assign",r=Fn(n)){this.state.computing="assign";var a=this.nextId();this.recurse(r,a),this.return_(a),o="fn.assign="+this.generateFunction("assign","s,v,l")}var s=Ln(n.body);i.stage="inputs",w(s,function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(e,r),i.return_(r),i.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(n);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,Cn,kn,$n,Sn,En,An,In,e);return this.state=this.stage=void 0,u.literal=Nn(n),u.constant=Hn(n),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,i=this;return w(t,function(t){e.push("var "+t+"="+i.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return w(this.state.filters,function(i,n){e.push(i+"=$filter("+t.escape(n)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,n,r,o){var a,s,l,u,c,d=this;if(n=n||P,!o&&R(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,n,r,!0));switch(e.type){case Pn.Program:w(e.body,function(t,i){d.recurse(t.expression,void 0,void 0,function(e){s=e}),i!==e.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case Pn.Literal:u=this.escape(e.value),this.assign(t,u),n(u);break;case Pn.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){s=e}),u=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,u),n(u);break;case Pn.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){a=e}),this.recurse(e.right,void 0,void 0,function(e){s=e}),u="+"===e.operator?this.plus(a,s):"-"===e.operator?this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):"("+a+")"+e.operator+"("+s+")",this.assign(t,u),n(u);break;case Pn.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),n(t);break;case Pn.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),n(t);break;case Pn.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),Cn(e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){r&&1!==r&&d.if_(d.not(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),(d.state.expensiveChecks||Wn(e.name))&&d.addEnsureSafeObject(t),n(t);break;case Pn.MemberExpression:a=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,a,void 0,function(){d.if_(d.notNull(a),function(){r&&1!==r&&d.addEnsureSafeAssignContext(a),e.computed?(s=d.nextId(),d.recurse(e.property,s),d.getStringValue(s),d.addEnsureSafeMemberName(s),r&&1!==r&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),u=d.ensureSafeObject(d.computedMember(a,s)),d.assign(t,u),i&&(i.computed=!0,i.name=s)):(Cn(e.property.name),r&&1!==r&&d.if_(d.not(d.nonComputedMember(a,e.property.name)),d.lazyAssign(d.nonComputedMember(a,e.property.name),"{}")),u=d.nonComputedMember(a,e.property.name),(d.state.expensiveChecks||Wn(e.property.name))&&(u=d.ensureSafeObject(u)),d.assign(t,u),i&&(i.computed=!1,i.name=e.property.name))},function(){d.assign(t,"undefined")}),n(t)},!!r);break;case Pn.CallExpression:t=t||this.nextId(),e.filter?(s=d.filter(e.callee.name),l=[],w(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),u=s+"("+l.join(",")+")",d.assign(t,u),n(t)):(s=d.nextId(),a={},l=[],d.recurse(e.callee,s,a,function(){d.if_(d.notNull(s),function(){d.addEnsureSafeFunction(s),w(e.arguments,function(e){d.recurse(e,d.nextId(),void 0,function(e){l.push(d.ensureSafeObject(e))})}),a.name?(d.state.expensiveChecks||d.addEnsureSafeObject(a.context),u=d.member(a.context,a.name,a.computed)+"("+l.join(",")+")"):u=s+"("+l.join(",")+")",u=d.ensureSafeObject(u),d.assign(t,u)},function(){d.assign(t,"undefined")}),n(t)}));break;case Pn.AssignmentExpression:if(s=this.nextId(),a={},!Rn(e.left))throw an("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(e.right,s),d.addEnsureSafeObject(d.member(a.context,a.name,a.computed)),d.addEnsureSafeAssignContext(a.context),u=d.member(a.context,a.name,a.computed)+e.operator+s,d.assign(t,u),n(t||u)})},1);break;case Pn.ArrayExpression:l=[],w(e.elements,function(e){d.recurse(e,d.nextId(),void 0,function(e){l.push(e)})}),u="["+l.join(",")+"]",this.assign(t,u),n(u);break;case Pn.ObjectExpression:l=[],c=!1,w(e.properties,function(e){e.computed&&(c=!0)}),c?(t=t||this.nextId(),this.assign(t,"{}"),w(e.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===Pn.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):(w(e.properties,function(t){d.recurse(t.value,e.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===Pn.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+l.join(",")+"}",this.assign(t,u)),n(t||u);break;case Pn.ThisExpression:this.assign(t,"s"),n("s");break;case Pn.LocalsExpression:this.assign(t,"l"),n("l");break;case Pn.NGValueParameter:this.assign(t,"v"),n("v")}},getHasOwnProperty:function(e,t){var i=e+"."+t,n=this.current().own;return n.hasOwnProperty(i)||(n[i]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),n[i]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,i){if(!0===e)t();else{var n=this.current().body;n.push("if(",e,"){"),t(),n.push("}"),i&&(n.push("else{"),i(),n.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,i){return i?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,i,n,r,o){var a=this;return function(){a.recurse(e,t,i,n,r,o)}},lazyAssign:function(e,t){var i=this;return function(){i.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(H(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(G(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw an("esc","IMPOSSIBLE")},nextId:function(e,t){var i="v"+this.state.nextId++;return e||this.current().vars.push(i+(t?"="+t:"")),i},current:function(){return this.state[this.state.computing]}};function zn(e,t){this.astBuilder=e,this.$filter=t}zn.prototype={compile:function(e,t){var i=this,n=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,On(n,i.$filter);var r,o;(r=Fn(n))&&(o=this.recurse(r));var a,s=Ln(n.body);s&&(a=[],w(s,function(e,t){var n=i.recurse(e);e.input=n,a.push(n),e.watchId=t}));var l=[];w(n.body,function(e){l.push(i.recurse(e.expression))});var u=0===n.body.length?P:1===n.body.length?l[0]:function(e,t){var i;return w(l,function(n){i=n(e,t)}),i};return o&&(u.assign=function(e,t,i){return o(e,i,t)}),a&&(u.inputs=a),u.literal=Nn(n),u.constant=Hn(n),u},recurse:function(e,t,i){var n,r,o,a=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Pn.Literal:return this.value(e.value,t);case Pn.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case Pn.BinaryExpression:case Pn.LogicalExpression:return n=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](n,r,t);case Pn.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Pn.Identifier:return Cn(e.name,a.expression),a.identifier(e.name,a.expensiveChecks||Wn(e.name),t,i,a.expression);case Pn.MemberExpression:return n=this.recurse(e.object,!1,!!i),e.computed||(Cn(e.property.name,a.expression),r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(n,r,t,i,a.expression):this.nonComputedMember(n,r,a.expensiveChecks,t,i,a.expression);case Pn.CallExpression:return o=[],w(e.arguments,function(e){o.push(a.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,i,n,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,i,n,a));var u=r.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:u}:u}:function(e,i,n,s){var l,u=r(e,i,n,s);if(null!=u.value){kn(u.context,a.expression),$n(u.value,a.expression);for(var c=[],d=0;d<o.length;++d)c.push(kn(o[d](e,i,n,s),a.expression));l=kn(u.value.apply(u.context,c),a.expression)}return t?{value:l}:l};case Pn.AssignmentExpression:return n=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,i,o,s){var l=n(e,i,o,s),u=r(e,i,o,s);return kn(l.value,a.expression),En(l.context),l.context[l.name]=u,t?{value:u}:u};case Pn.ArrayExpression:return o=[],w(e.elements,function(e){o.push(a.recurse(e))}),function(e,i,n,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,i,n,r));return t?{value:a}:a};case Pn.ObjectExpression:return o=[],w(e.properties,function(e){e.computed?o.push({key:a.recurse(e.key),computed:!0,value:a.recurse(e.value)}):o.push({key:e.key.type===Pn.Identifier?e.key.name:""+e.key.value,computed:!1,value:a.recurse(e.value)})}),function(e,i,n,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,i,n,r)]=o[s].value(e,i,n,r):a[o[s].key]=o[s].value(e,i,n,r);return t?{value:a}:a};case Pn.ThisExpression:return function(e){return t?{value:e}:e};case Pn.LocalsExpression:return function(e,i){return t?{value:i}:i};case Pn.NGValueParameter:return function(e,i,n){return t?{value:n}:n}}},"unary+":function(e,t){return function(i,n,r,o){var a=e(i,n,r,o);return a=R(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(i,n,r,o){var a=e(i,n,r,o);return a=R(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(i,n,r,o){var a=!e(i,n,r,o);return t?{value:a}:a}},"binary+":function(e,t,i){return function(n,r,o,a){var s=In(e(n,r,o,a),t(n,r,o,a));return i?{value:s}:s}},"binary-":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a),l=t(n,r,o,a),u=(R(s)?s:0)-(R(l)?l:0);return i?{value:u}:u}},"binary*":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)*t(n,r,o,a);return i?{value:s}:s}},"binary/":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)/t(n,r,o,a);return i?{value:s}:s}},"binary%":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)%t(n,r,o,a);return i?{value:s}:s}},"binary===":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)===t(n,r,o,a);return i?{value:s}:s}},"binary!==":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)!==t(n,r,o,a);return i?{value:s}:s}},"binary==":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)==t(n,r,o,a);return i?{value:s}:s}},"binary!=":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)!=t(n,r,o,a);return i?{value:s}:s}},"binary<":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)<t(n,r,o,a);return i?{value:s}:s}},"binary>":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)>t(n,r,o,a);return i?{value:s}:s}},"binary<=":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)<=t(n,r,o,a);return i?{value:s}:s}},"binary>=":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)>=t(n,r,o,a);return i?{value:s}:s}},"binary&&":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)&&t(n,r,o,a);return i?{value:s}:s}},"binary||":function(e,t,i){return function(n,r,o,a){var s=e(n,r,o,a)||t(n,r,o,a);return i?{value:s}:s}},"ternary?:":function(e,t,i,n){return function(r,o,a,s){var l=e(r,o,a,s)?t(r,o,a,s):i(r,o,a,s);return n?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,i,n,r){return function(o,a,s,l){var u=a&&e in a?a:o;n&&1!==n&&u&&!u[e]&&(u[e]={});var c=u?u[e]:void 0;return t&&kn(c,r),i?{context:u,name:e,value:c}:c}},computedMember:function(e,t,i,n,r){return function(o,a,s,l){var u,c,d=e(o,a,s,l);return null!=d&&(Cn(u=Sn(u=t(o,a,s,l)),r),n&&1!==n&&(En(d),d&&!d[u]&&(d[u]={})),kn(c=d[u],r)),i?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,i,n,r,o){return function(a,s,l,u){var c=e(a,s,l,u);r&&1!==r&&(En(c),c&&!c[t]&&(c[t]={}));var d=null!=c?c[t]:void 0;return(i||Wn(t))&&kn(d,o),n?{context:c,name:t,value:d}:d}},inputs:function(e,t){return function(i,n,r,o){return o?o[t]:e(i,n,r)}}};var Bn=function(e,t,i){this.lexer=e,this.$filter=t,this.options=i,this.ast=new Pn(e,i),this.astCompiler=i.csp?new zn(this.ast,t):new Gn(this.ast,t)};Bn.prototype={constructor:Bn,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};function Wn(e){return"constructor"===e}function Vn(e){return W(e.valueOf)?e.valueOf():_n.call(e)}function jn(){var e,t,i=Oe(),n=Oe(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(i,n){return e=i,t=n,this},this.$get=["$filter",function(o){var a=ne().noUnsafeEval,s={csp:a,expensiveChecks:!1,literals:te(r),isIdentifierStart:W(e)&&e,isIdentifierContinue:W(t)&&t},l={csp:a,expensiveChecks:!0,literals:te(r),isIdentifierStart:W(e)&&e,isIdentifierContinue:W(t)&&t},u=!1;return c.$$runningExpensiveChecks=function(){return u},c;function c(e,t,r){var a,c,d;switch(r=r||u,typeof e){case"string":d=e=e.trim();var v=r?n:i;if(!(a=v[d])){":"===e.charAt(0)&&":"===e.charAt(1)&&(c=!0,e=e.substring(2));var y=r?l:s,b=new Mn(y);(a=new Bn(b,o,y).parse(e)).constant?a.$$watchDelegate=g:c?a.$$watchDelegate=a.literal?f:p:a.inputs&&(a.$$watchDelegate=h),r&&(a=function e(t){if(!t)return t;n.$$watchDelegate=t.$$watchDelegate;n.assign=e(t.assign);n.constant=t.constant;n.literal=t.literal;for(var i=0;t.inputs&&i<t.inputs.length;++i)t.inputs[i]=e(t.inputs[i]);n.inputs=t.inputs;return n;function n(e,i,n,r){var o=u;u=!0;try{return t(e,i,n,r)}finally{u=o}}}(a)),v[d]=a}return m(a,t);case"function":return m(e,t);default:return m(P,t)}}function d(e,t){return null==e||null==t?e===t:("object"!=typeof e||"object"!=typeof(e=Vn(e)))&&(e===t||e!=e&&t!=t)}function h(e,t,i,n,r){var o,a=n.inputs;if(1===a.length){var s=d;return a=a[0],e.$watch(function(e){var t=a(e);return d(t,s)||(o=n(e,void 0,void 0,[t]),s=t&&Vn(t)),o},t,i,r)}for(var l=[],u=[],c=0,h=a.length;c<h;c++)l[c]=d,u[c]=null;return e.$watch(function(e){for(var t=!1,i=0,r=a.length;i<r;i++){var s=a[i](e);(t||(t=!d(s,l[i])))&&(u[i]=s,l[i]=s&&Vn(s))}return t&&(o=n(e,void 0,void 0,u)),o},t,i,r)}function p(e,t,i,n){var r,o;return r=e.$watch(function(e){return n(e)},function(e,i,n){o=e,W(t)&&t.apply(this,arguments),R(e)&&n.$$postDigest(function(){R(o)&&r()})},i)}function f(e,t,i,n){var r,o;return r=e.$watch(function(e){return n(e)},function(e,i,n){o=e,W(t)&&t.call(this,e,i,n),a(e)&&n.$$postDigest(function(){a(o)&&r()})},i);function a(e){var t=!0;return w(e,function(e){R(e)||(t=!1)}),t}}function g(e,t,i,n){var r=e.$watch(function(e){return r(),n(e)},t,i);return r}function m(e,t){if(!t)return e;var i=e.$$watchDelegate,n=!1,r=i!==f&&i!==p?function(i,r,o,a){var s=n&&a?a[0]:e(i,r,o,a);return t(s,i,r)}:function(i,n,r,o){var a=e(i,n,r,o),s=t(a,i,n);return R(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==h?r.$$watchDelegate=e.$$watchDelegate:t.$stateful||(r.$$watchDelegate=h,n=!e.inputs,r.inputs=e.inputs?e.inputs:[e]),r}}]}function Un(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Yn(function(t){e.$evalAsync(t)},t)}]}function qn(){this.$get=["$browser","$exceptionHandler",function(e,t){return Yn(function(t){e.defer(t)},t)}]}function Yn(e,i){var n=t("$q",TypeError),r=function(){var e=new l;return e.resolve=a(e,e.resolve),e.reject=a(e,e.reject),e.notify=a(e,e.notify),e};function o(){this.$$state={status:0}}$(o.prototype,{then:function(e,t,i){if(L(e)&&L(t)&&L(i))return this;var n=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,e,t,i]),this.$$state.status>0&&s(this.$$state),n.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return c(t,!0,e)},function(t){return c(t,!1,e)},t)}});function a(e,t){return function(i){t.call(e,i)}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){!function(e){var t,n,r;r=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=r.length;o<a;++o){n=r[o][0],t=r[o][e.status];try{W(t)?n.resolve(t(e.value)):1===e.status?n.resolve(e.value):n.reject(e.value)}catch(e){n.reject(e),i(e)}}}(t)}))}function l(){this.promise=new o}$(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var t,n=this,r=!1;try{(F(e)||W(e))&&(t=e&&e.then),W(t)?(this.promise.$$state.status=-1,t.call(e,function(e){if(r)return;r=!0,n.$$resolve(e)},o,a(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(e){o(e),i(e)}function o(e){r||(r=!0,n.$$reject(e))}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var n=this.promise.$$state.pending;this.promise.$$state.status<=0&&n&&n.length&&e(function(){for(var e,r,o=0,a=n.length;o<a;o++){r=n[o][0],e=n[o][3];try{r.notify(W(e)?e(t):t)}catch(e){i(e)}}})}});var u=function(e,t){var i=new l;return t?i.resolve(e):i.reject(e),i.promise},c=function(e,t,i){var n=null;try{W(i)&&(n=i())}catch(e){return u(e,!1)}return Y(n)?n.then(function(){return u(e,t)},function(e){return u(e,!1)}):u(e,t)},d=function(e,t,i,n){var r=new l;return r.resolve(e),r.promise.then(t,i,n)},h=d;var p=function(e){if(!W(e))throw n("norslvr","Expected resolverFn, got '{0}'",e);var t=new l;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return p.prototype=o.prototype,p.defer=r,p.reject=function(e){var t=new l;return t.reject(e),t.promise},p.when=d,p.resolve=h,p.all=function(e){var t=new l,i=0,n=B(e)?[]:{};return w(e,function(e,r){i++,d(e).then(function(e){n.hasOwnProperty(r)||(n[r]=e,--i||t.resolve(n))},function(e){n.hasOwnProperty(r)||t.reject(e)})}),0===i&&t.resolve(n),t.promise},p.race=function(e){var t=r();return w(e,function(e){d(e).then(t.resolve,t.reject)}),t.promise},p}function Kn(){this.$get=["$window","$timeout",function(e,t){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!i,o=r?function(e){var t=i(e);return function(){n(t)}}:function(e){var i=t(e,16.66,!1);return function(){t.cancel(i)}};return o.supported=r,o}]}function Xn(){var e=10,i=t("$rootScope"),n=null,o=null;this.digestTtl=function(t){return arguments.length&&(e=t),e};this.$get=["$exceptionHandler","$parse","$browser",function(t,a,l){function u(e){e.currentScope.$$destroyed=!0}function c(){this.$id=C(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}c.prototype={constructor:c,$new:function(e,t){var i;return t=t||this,e?(i=new c).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=C(),this.$$ChildScope=null}return t.prototype=e,t}(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(e||t!==this)&&i.$on("$destroy",u),i},$watch:function(e,t,i,r){var o=a(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,i,o,e);var s=this,l=s.$$watchers,u={fn:t,last:_,get:o,exp:r||e,eq:!!i};return n=null,W(t)||(u.fn=P),l||(l=s.$$watchers=[]),l.unshift(u),y(this,1),function(){ee(l,u)>=0&&y(s,-1),n=null}},$watchGroup:function(e,t){var i=new Array(e.length),n=new Array(e.length),r=[],o=this,a=!1,s=!0;if(!e.length){var l=!0;return o.$evalAsync(function(){l&&t(n,n,o)}),function(){l=!1}}if(1===e.length)return this.$watch(e[0],function(e,r,o){n[0]=e,i[0]=r,t(n,e===r?n:i,o)});w(e,function(e,t){var s=o.$watch(e,function(e,r){n[t]=e,i[t]=r,a||(a=!0,o.$evalAsync(u))});r.push(s)});function u(){a=!1,s?(s=!1,t(n,n,o)):t(n,i,o)}return function(){for(;r.length;)r.shift()()}},$watchCollection:function(e,t){g.$stateful=!0;var i,n,o,s=this,l=t.length>1,u=0,c=a(e,g),d=[],h={},p=!0,f=0;function g(e){var t,o,a,s;if(!L(i=e)){if(F(i))if(b(i)){n!==d&&(f=(n=d).length=0,u++),t=i.length,f!==t&&(u++,n.length=f=t);for(var l=0;l<t;l++)s=n[l],a=i[l],s!=s&&a!=a||s===a||(u++,n[l]=a)}else{n!==h&&(n=h={},f=0,u++),t=0;for(o in i)r.call(i,o)&&(t++,a=i[o],s=n[o],o in n?s!=s&&a!=a||s===a||(u++,n[o]=a):(f++,n[o]=a,u++));if(f>t){u++;for(o in n)r.call(i,o)||(f--,delete n[o])}}else n!==i&&(n=i,u++);return u}}return this.$watch(c,function(){if(p?(p=!1,t(i,i,s)):t(i,o,s),l)if(F(i))if(b(i)){o=new Array(i.length);for(var e=0;e<i.length;e++)o[e]=i[e]}else{o={};for(var n in i)r.call(i,n)&&(o[n]=i[n])}else o=i})},$digest:function(){var r,a,s,u,c,f,y,b,w,x,C=e,k=[];m("$digest"),l.$$checkUrlChange(),this===d&&null!==o&&(l.defer.cancel(o),S()),n=null;do{f=!1,b=this;for(var $=0;$<h.length;$++){try{(x=h[$]).scope.$eval(x.expression,x.locals)}catch(e){t(e)}n=null}h.length=0;e:do{if(u=b.$$watchers)for(c=u.length;c--;)try{if(r=u[c])if((a=(0,r.get)(b))===(s=r.last)||(r.eq?ie(a,s):D(a)&&D(s))){if(r===n){f=!1;break e}}else f=!0,n=r,r.last=r.eq?te(a,null):a,(0,r.fn)(a,s===_?a:s,b),C<5&&(k[w=4-C]||(k[w]=[]),k[w].push({msg:W(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:a,oldVal:s}))}catch(e){t(e)}if(!(y=b.$$watchersCount&&b.$$childHead||b!==this&&b.$$nextSibling))for(;b!==this&&!(y=b.$$nextSibling);)b=b.$parent}while(b=y);if((f||h.length)&&!C--)throw v(),i("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,k)}while(f||h.length);for(v();g<p.length;)try{p[g++]()}catch(e){t(e)}p.length=g=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===d&&l.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var t in this.$$listenerCount)x(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=P,this.$on=this.$watch=this.$watchGroup=function(){return P},this.$$listeners={},this.$$nextSibling=null,function e(t){9===s&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){d.$$phase||h.length||l.defer(function(){h.length&&d.$digest()}),h.push({scope:this,expression:a(e),locals:t})},$$postDigest:function(e){p.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{v()}}catch(e){t(e)}finally{try{d.$digest()}catch(e){throw t(e),e}}},$applyAsync:function(e){var t=this;e&&f.push(function(){t.$eval(e)}),e=a(e),null===o&&(o=l.defer(function(){d.$apply(S)}))},$on:function(e,t){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(t);var n=this;do{n.$$listenerCount[e]||(n.$$listenerCount[e]=0),n.$$listenerCount[e]++}while(n=n.$parent);var r=this;return function(){var n=i.indexOf(t);-1!==n&&(i[n]=null,x(r,1,e))}},$emit:function(e,i){var n,r,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=oe([u],arguments,1);do{for(n=s.$$listeners[e]||a,u.currentScope=s,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,c)}catch(e){t(e)}else n.splice(r,1),r--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,i){var n=this,r=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var a,s,l,u=oe([o],arguments,1);n=r;){for(o.currentScope=n,s=0,l=(a=n.$$listeners[e]||[]).length;s<l;s++)if(a[s])try{a[s].apply(null,u)}catch(e){t(e)}else a.splice(s,1),s--,l--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var d=new c,h=d.$$asyncQueue=[],p=d.$$postDigestQueue=[],f=d.$$applyAsyncQueue=[],g=0;return d;function m(e){if(d.$$phase)throw i("inprog","{0} already in progress",d.$$phase);d.$$phase=e}function v(){d.$$phase=null}function y(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function x(e,t,i){do{e.$$listenerCount[i]-=t,0===e.$$listenerCount[i]&&delete e.$$listenerCount[i]}while(e=e.$parent)}function _(){}function S(){for(;f.length;)try{f.shift()()}catch(e){t(e)}o=null}}]}function Zn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return R(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return R(e)?(t=e,this):t},this.$get=function(){return function(i,n){var r,o=n?t:e;return""===(r=cr(i).href)||r.match(o)?i:"unsafe:"+r}}}var Jn=t("$sce"),Qn={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function er(e){var t=[];return R(e)&&w(e,function(e){t.push(function(e){if("self"===e)return e;if(H(e)){if(e.indexOf("***")>-1)throw Jn("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Z(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(V(e))return new RegExp("^"+e.source+"$");throw Jn("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function tr(){this.SCE_CONTEXTS=Qn;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=er(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=er(e)),t},this.$get=["$injector",function(i){var n=function(e){throw Jn("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(n=i.get("$sanitize"));function r(e,t){return"self"===e?dr(t):!!e.exec(t.href)}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var a=o(),s={};s[Qn.HTML]=o(a),s[Qn.CSS]=o(a),s[Qn.URL]=o(a),s[Qn.JS]=o(a),s[Qn.RESOURCE_URL]=o(s[Qn.URL]);return{trustAs:function(e,t){var i=s.hasOwnProperty(e)?s[e]:null;if(!i)throw Jn("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||L(t)||""===t)return t;if("string"!=typeof t)throw Jn("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)},getTrusted:function(i,o){if(null===o||L(o)||""===o)return o;var a=s.hasOwnProperty(i)?s[i]:null;if(a&&o instanceof a)return o.$$unwrapTrustedValue();if(i===Qn.RESOURCE_URL){if(function(i){var n,o,a=cr(i.toString()),s=!1;for(n=0,o=e.length;n<o;n++)if(r(e[n],a)){s=!0;break}if(s)for(n=0,o=t.length;n<o;n++)if(r(t[n],a)){s=!1;break}return s}(o))return o;throw Jn("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",o.toString())}if(i===Qn.HTML)return n(o);throw Jn("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function ir(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,i){if(e&&s<8)throw Jn("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=Ge(Qn);n.isEnabled=function(){return e},n.trustAs=i.trustAs,n.getTrusted=i.getTrusted,n.valueOf=i.valueOf,e||(n.trustAs=n.getTrusted=function(e,t){return t},n.valueOf=A),n.parseAs=function(e,i){var r=t(i);return r.literal&&r.constant?r:t(i,function(t){return n.getTrusted(e,t)})};var r=n.parseAs,a=n.getTrusted,l=n.trustAs;return w(Qn,function(e,t){var i=o(t);n[Ze("parse_as_"+i)]=function(t){return r(e,t)},n[Ze("get_trusted_"+i)]=function(t){return a(e,t)},n[Ze("trust_as_"+i)]=function(t){return l(e,t)}}),n}]}function nr(){this.$get=["$window","$document",function(e,t){var i,n,r={},a=!(e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,l=T((/android (\d+)/.exec(o((e.navigator||{}).userAgent))||[])[1]),u=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},d=/^(Moz|webkit|ms)(?=[A-Z])/,h=c.body&&c.body.style,p=!1,f=!1;if(h){for(var g in h)if(n=d.exec(g)){i=(i=n[0])[0].toUpperCase()+i.substr(1);break}i||(i="WebkitOpacity"in h&&"webkit"),p=!!("transition"in h||i+"Transition"in h),f=!!("animation"in h||i+"Animation"in h),!l||p&&f||(p=H(h.webkitTransition),f=H(h.webkitAnimation))}return{history:!(!a||l<4||u),hasEvent:function(e){if("input"===e&&s<=11)return!1;if(L(r[e])){var t=c.createElement("div");r[e]="on"+e in t}return r[e]},csp:ne(),vendorPrefix:i,transitions:p,animations:f,android:l}}]}var rr=t("$compile");function or(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,i,n,r){function o(a,s){o.totalPendingRequests++,H(a)&&!L(t.get(a))||(a=r.getTrustedResourceUrl(a));var l=i.defaults&&i.defaults.transformResponse;return B(l)?l=l.filter(function(e){return e!==Ti}):l===Ti&&(l=null),i.get(a,$({cache:t,transformResponse:l},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},function(e){if(!s)throw rr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return n.reject(e)})}return o.totalPendingRequests=0,o}]}function ar(){this.$get=["$rootScope","$browser","$location",function(e,t,i){var n={};return n.findBindings=function(e,t,i){var n=[];return w(e.getElementsByClassName("ng-binding"),function(e){var r=v.element(e).data("$binding");r&&w(r,function(r){if(i){new RegExp("(^|\\s)"+Z(t)+"(\\s|\\||$)").test(r)&&n.push(e)}else-1!==r.indexOf(t)&&n.push(e)})}),n},n.findModels=function(e,t,i){for(var n=["ng-","data-ng-","ng\\:"],r=0;r<n.length;++r){var o="["+n[r]+"model"+(i?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},n.getLocation=function(){return i.url()},n.setLocation=function(t){t!==i.url()&&(i.url(t),e.$digest())},n.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},n}]}function sr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,i,n,r){var o={};function a(a,s,l){W(a)||(l=s,s=a,a=P);var u,c=ae(arguments,3),d=R(l)&&!l,h=(d?n:i).defer(),p=h.promise;return u=t.defer(function(){try{h.resolve(a.apply(null,c))}catch(e){h.reject(e),r(e)}finally{delete o[p.$$timeoutId]}d||e.$apply()},s),p.$$timeoutId=u,o[u]=h,p}return a.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}var lr=e.document.createElement("a"),ur=cr(e.location.href);function cr(e){var t=e;return s&&(lr.setAttribute("href",t),t=lr.href),lr.setAttribute("href",t),{href:lr.href,protocol:lr.protocol?lr.protocol.replace(/:$/,""):"",host:lr.host,search:lr.search?lr.search.replace(/^\?/,""):"",hash:lr.hash?lr.hash.replace(/^#/,""):"",hostname:lr.hostname,port:lr.port,pathname:"/"===lr.pathname.charAt(0)?lr.pathname:"/"+lr.pathname}}function dr(e){var t=H(e)?cr(e):e;return t.protocol===ur.protocol&&t.host===ur.host}function hr(){this.$get=I(e)}function pr(e){var t=e[0]||{},i={},n="";function r(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,a,s,l,u=t.cookie||"";if(u!==n)for(e=(n=u).split("; "),i={},a=0;a<e.length;a++)(s=(o=e[a]).indexOf("="))>0&&(l=r(o.substring(0,s)),L(i[l])&&(i[l]=r(o.substring(s+1))));return i}}pr.$inject=["$document"];function fr(){this.$get=pr}gr.$inject=["$provide"];function gr(e){var t="Filter";function i(n,r){if(F(n)){var o={};return w(n,function(e,t){o[t]=i(t,e)}),o}return e.factory(n+t,r)}this.register=i,this.$get=["$injector",function(e){return function(i){return e.get(i+t)}}],i("currency",_r),i("date",Or),i("filter",mr),i("json",Lr),i("limitTo",Nr),i("lowercase",Rr),i("number",Cr),i("orderBy",Gr),i("uppercase",Fr)}function mr(){return function(e,i,n,r){if(!b(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}r=r||"$";var a,s;switch(yr(i)){case"function":a=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=function(e,t,i,n){var r=F(e)&&i in e;!0===t?t=ie:W(t)||(t=function(e,t){return!L(e)&&(null===e||null===t?e===t:!(F(t)||F(e)&&!O(e))&&(e=o(""+e),t=o(""+t),-1!==e.indexOf(t)))});return function(o){return r&&!F(o)?vr(o,e[i],t,i,!1):vr(o,e,t,i,n)}}(i,n,r,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function vr(e,t,i,n,r,o){var a=yr(e),s=yr(t);if("string"===s&&"!"===t.charAt(0))return!vr(e,t.substring(1),i,n,r);if(B(e))return e.some(function(e){return vr(e,t,i,n,r)});switch(a){case"object":var l;if(r){for(l in e)if("$"!==l.charAt(0)&&vr(e[l],t,i,n,!0))return!0;return!o&&vr(e,t,i,n,!1)}if("object"===s){for(l in t){var u=t[l];if(!W(u)&&!L(u)){var c=l===n;if(!vr(c?e:e[l],u,i,n,c,c))return!1}}return!0}return i(e,t);case"function":return!1;default:return i(e,t)}}function yr(e){return null===e?"null":typeof e}var br=22,wr=".",xr="0";_r.$inject=["$locale"];function _r(e){var t=e.NUMBER_FORMATS;return function(e,i,n){return L(i)&&(i=t.CURRENCY_SYM),L(n)&&(n=t.PATTERNS[1].maxFrac),null==e?e:Sr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,n).replace(/\u00A4/g,i)}}Cr.$inject=["$locale"];function Cr(e){var t=e.NUMBER_FORMATS;return function(e,i){return null==e?e:Sr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function Sr(e,t,i,n,r){if(!H(e)&&!G(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="";else{(function(e,t,i,n){var r=e.d,o=r.length-e.i,a=(t=L(t)?Math.min(Math.max(i,o),n):+t)+e.i,s=r[a];if(a>0){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight(function(e,t,i,n){return t+=e,n[i]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)})(o=function(e){var t,i,n,r,o,a=0;for((i=e.indexOf(wr))>-1&&(e=e.replace(wr,"")),(n=e.search(/e/i))>0?(i<0&&(i=n),i+=+e.slice(n+1),e=e.substring(0,n)):i<0&&(i=e.length),n=0;e.charAt(n)===xr;n++);if(n===(o=e.length))t=[0],i=1;else{for(o--;e.charAt(o)===xr;)o--;for(i-=n,t=[],r=0;n<=o;n++,r++)t[r]=+e.charAt(n)}return i>br&&(t=t.splice(0,br-1),a=i-1,i=1),{d:t,e:a,i:i}}(l),r,t.minFrac,t.maxFrac);var c=o.d,d=o.i,h=o.e,p=[];for(s=c.reduce(function(e,t){return e&&!t},!0);d<0;)c.unshift(0),d++;d>0?p=c.splice(d,c.length):(p=c,c=[0]);var f=[];for(c.length>=t.lgSize&&f.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)f.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&f.unshift(c.join("")),u=f.join(i),p.length&&(u+=n+p.join("")),h&&(u+="e+"+h)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function kr(e,t,i,n){var r="";for((e<0||n&&e<=0)&&(n?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=xr+e;return i&&(e=e.substr(e.length-t)),r+e}function $r(e,t,i,n,r){return i=i||0,function(o){var a=o["get"+e]();return(i>0||a>-i)&&(a+=i),0===a&&-12===i&&(a=12),kr(a,t,n,r)}}function Er(e,t,i){return function(n,r){var o=n["get"+e]();return r[a((i?"STANDALONE":"")+(t?"SHORT":"")+e)][o]}}function Tr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Dr(e){return function(t){var i,n=Tr(t.getFullYear()),r=+(i=t,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay())))-+n;return kr(1+Math.round(r/6048e5),e)}}function Mr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}var Pr={yyyy:$r("FullYear",4,0,!1,!0),yy:$r("FullYear",2,0,!0,!0),y:$r("FullYear",1,0,!1,!0),MMMM:Er("Month"),MMM:Er("Month",!0),MM:$r("Month",2,1),M:$r("Month",1,1),LLLL:Er("Month",!1,!0),dd:$r("Date",2),d:$r("Date",1),HH:$r("Hours",2),H:$r("Hours",1),hh:$r("Hours",2,-12),h:$r("Hours",1,-12),mm:$r("Minutes",2),m:$r("Minutes",1),ss:$r("Seconds",2),s:$r("Seconds",1),sss:$r("Milliseconds",3),EEEE:Er("Day"),EEE:Er("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,i){var n=-1*i,r=n>=0?"+":"";return r+=kr(Math[n>0?"floor":"ceil"](n/60),2)+kr(Math.abs(n%60),2)},ww:Dr(2),w:Dr(1),G:Mr,GG:Mr,GGG:Mr,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Ar=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ir=/^\-?\d+$/;Or.$inject=["$locale"];function Or(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,n,r){var o,a,s="",l=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,H(i)&&(i=Ir.test(i)?T(i):function(e){var i;if(i=e.match(t)){var n=new Date(0),r=0,o=0,a=i[8]?n.setUTCFullYear:n.setFullYear,s=i[8]?n.setUTCHours:n.setHours;i[9]&&(r=T(i[9]+i[10]),o=T(i[9]+i[11])),a.call(n,T(i[1]),T(i[2])-1,T(i[3]));var l=T(i[4]||0)-r,u=T(i[5]||0)-o,c=T(i[6]||0),d=Math.round(1e3*parseFloat("0."+(i[7]||0)));return s.call(n,l,u,c,d),n}return e}(i)),G(i)&&(i=new Date(i)),!z(i)||!isFinite(i.getTime()))return i;for(;n;)(a=Ar.exec(n))?n=(l=oe(l,a,1)).pop():(l.push(n),n=null);var u=i.getTimezoneOffset();return r&&(u=he(r,u),i=pe(i,r,!0)),w(l,function(t){o=Pr[t],s+=o?o(i,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Lr(){return function(e,t){return L(t)&&(t=2),ue(e,t)}}var Rr=I(o),Fr=I(a);function Nr(){return function(e,t,i){return t=Math.abs(Number(t))===1/0?Number(t):T(t),D(t)?e:(G(e)&&(e=e.toString()),b(e)?(i=(i=!i||isNaN(i)?0:T(i))<0?Math.max(0,e.length+i):i,t>=0?Hr(e,i,i+t):0===i?Hr(e,t,e.length):Hr(e,Math.max(0,i+t),i)):e)}}function Hr(e,t,i){return H(e)?e.slice(t,i):d.call(e,t,i)}Gr.$inject=["$parse"];function Gr(e){return function(r,o,a,s){if(null==r)return r;if(!b(r))throw t("orderBy")("notarray","Expected array but received: {0}",r);B(o)||(o=[o]),0===o.length&&(o=["+"]);var l,u=(l=o,l.map(function(t){var i=1,n=A;if(W(t))n=t;else if(H(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(i="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(n=e(t)).constant)){var r=n();n=function(e){return e[r]}}return{get:n,descending:i}})),c=a?-1:1,d=W(s)?s:n,h=Array.prototype.map.call(r,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:u.map(function(n){return function(e,t){var n=typeof e;null===e?(n="string",e="null"):"object"===n&&(e=function(e){if(W(e.valueOf)&&i(e=e.valueOf()))return e;if(O(e)&&i(e=e.toString()))return e;return e}(e));return{value:e,type:n,index:t}}(n.get(e),t)})}});return h.sort(function(e,t){for(var i=0,n=u.length;i<n;i++){var r=d(e.predicateValues[i],t.predicateValues[i]);if(r)return r*u[i].descending*c}return d(e.tieBreaker,t.tieBreaker)*c}),r=h.map(function(e){return e.value})};function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var i=0,n=e.type,r=t.type;if(n===r){var o=e.value,a=t.value;"string"===n?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===n&&(F(o)&&(o=e.index),F(a)&&(a=t.index)),o!==a&&(i=o<a?-1:1)}else i=n<r?-1:1;return i}}function zr(e){return W(e)&&(e={link:e}),e.restrict=e.restrict||"AC",I(e)}var Br=I({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var i="[object SVGAnimatedString]"===f.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(i)||e.preventDefault()})}}}}),Wr={};w(St,function(e,t){if("multiple"!==e){var i=li("ng-"+t),n=r;"checked"===e&&(n=function(e,t,n){n.ngModel!==n[i]&&r(e,0,n)}),Wr[i]=function(){return{restrict:"A",priority:100,link:n}}}function r(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}}),w($t,function(e,t){Wr[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"===r.ngPattern.charAt(0)){var o=r.ngPattern.match(i);if(o)return void r.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),w(["src","srcset","href"],function(e){var t=li("ng-"+e);Wr[t]=function(){return{priority:99,link:function(i,n,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===f.call(n.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){t?(r.$set(a,t),s&&o&&n.prop(o,r[a])):"href"===e&&r.$set(a,null)})}}}});var Vr={$addControl:P,$$renameControl:function(e,t){e.$name=t},$removeControl:P,$setValidity:P,$setDirty:P,$setPristine:P,$setSubmitted:P},jr="ng-submitted";Ur.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function Ur(e,t,i,n,r){var o=this,a=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=r(t.name||t.ngForm||"")(i),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=Vr,o.$rollbackViewValue=function(){w(a,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){w(a,function(e){e.$commitViewValue()})},o.$addControl=function(e){Pe(e.$name,"input"),a.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var i=e.$name;o[i]===e&&delete o[i],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],w(o.$pending,function(t,i){o.$setValidity(i,null,e)}),w(o.$error,function(t,i){o.$setValidity(i,null,e)}),w(o.$$success,function(t,i){o.$setValidity(i,null,e)}),ee(a,e),e.$$parentForm=Vr},Xo({ctrl:this,$element:e,set:function(e,t,i){var n=e[t];if(n){-1===n.indexOf(i)&&n.push(i)}else e[t]=[i]},unset:function(e,t,i){var n=e[t];n&&(ee(n,i),0===n.length&&delete e[t])},$animate:n}),o.$setDirty=function(){n.removeClass(e,zo),n.addClass(e,Bo),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){n.setClass(e,zo,Bo+" "+jr),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,w(a,function(e){e.$setPristine()})},o.$setUntouched=function(){w(a,function(e){e.$setUntouched()})},o.$setSubmitted=function(){n.addClass(e,jr),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}var qr=function(e){return["$timeout","$parse",function(t,i){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Ur,compile:function(i,r){i.addClass(zo).addClass(Ho);var o=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,i,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};je(i[0],"submit",l),i.on("$destroy",function(){t(function(){Ue(i[0],"submit",l)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var u=o?n(s.$name):P;o&&(u(e,s),r.$observe(o,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=n(s.$name))(e,s))})),i.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),$(s,Vr)})}}}};function n(e){return""===e?i('this[""]').assign:i(e).assign||P}}]},Yr=qr(),Kr=qr(!0),Xr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Zr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Jr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Qr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,eo=/^(\d{4,})-(\d{2})-(\d{2})$/,to=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,io=/^(\d{4,})-W(\d\d)$/,no=/^(\d{4,})-(\d\d)$/,ro=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,oo="keydown wheel mousedown",ao=Oe();w("date,datetime-local,month,time,week".split(","),function(e){ao[e]=!0});var so={text:function(e,t,i,n,r,o){uo(e,t,i,n,r,o),lo(n)},date:ho("date",eo,co(eo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ho("datetimelocal",to,co(to,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ho("time",ro,co(ro,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ho("week",io,function(e,t){if(z(e))return e;if(H(e)){io.lastIndex=0;var i=io.exec(e);if(i){var n=+i[1],r=+i[2],o=0,a=0,s=0,l=0,u=Tr(n),c=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(n,0,u.getDate()+c,o,a,s,l)}}return NaN},"yyyy-Www"),month:ho("month",no,co(no,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,n,r,o){po(e,t,i,n),uo(e,t,i,n,r,o),fo(n);var a,s;(R(i.min)||i.ngMin)&&(n.$validators.min=function(e){return n.$isEmpty(e)||L(a)||e>=a},i.$observe("min",function(e){a=go(e),n.$validate()}));(R(i.max)||i.ngMax)&&(n.$validators.max=function(e){return n.$isEmpty(e)||L(s)||e<=s},i.$observe("max",function(e){s=go(e),n.$validate()}))},url:function(e,t,i,n,r,o){uo(e,t,i,n,r,o),lo(n),n.$$parserName="url",n.$validators.url=function(e,t){var i=e||t;return n.$isEmpty(i)||Zr.test(i)}},email:function(e,t,i,n,r,o){uo(e,t,i,n,r,o),lo(n),n.$$parserName="email",n.$validators.email=function(e,t){var i=e||t;return n.$isEmpty(i)||Jr.test(i)}},radio:function(e,t,i,n){L(i.name)&&t.attr("name",C());t.on("click",function(e){t[0].checked&&n.$setViewValue(i.value,e&&e.type)}),n.$render=function(){var e=i.value;t[0].checked=e===n.$viewValue},i.$observe("value",n.$render)},range:function(e,t,i,n,r,o){po(e,t,i,n),fo(n),uo(e,t,i,n,r,o);var a=n.$$hasNativeValidators&&"range"===t[0].type,s=a?0:void 0,l=a?100:void 0,u=a?1:void 0,c=t[0].validity,d=R(i.min),h=R(i.max),p=R(i.step),f=n.$render;n.$render=a&&R(c.rangeUnderflow)&&R(c.rangeOverflow)?function(){f(),n.$setViewValue(t.val())}:f,d&&(n.$validators.min=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||L(s)||t>=s},g("min",function(e){if(s=go(e),D(n.$modelValue))return;if(a){var i=t.val();s>i&&(i=s,t.val(i)),n.$setViewValue(i)}else n.$validate()}));h&&(n.$validators.max=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||L(l)||t<=l},g("max",function(e){if(l=go(e),D(n.$modelValue))return;if(a){var i=t.val();l<i&&(t.val(l),i=l<s?s:l),n.$setViewValue(i)}else n.$validate()}));p&&(n.$validators.step=a?function(){return!c.stepMismatch}:function(e,t){return n.$isEmpty(t)||L(u)||function(e,t,i){var n=Number(e);if(!mo(n)||!mo(t)||!mo(i)){var r=Math.max(vo(n),vo(t),vo(i)),o=Math.pow(10,r);n*=o,t*=o,i*=o}return(n-t)%i==0}(t,s||0,u)},g("step",function(e){if(u=go(e),D(n.$modelValue))return;a&&n.$viewValue!==t.val()?n.$setViewValue(t.val()):n.$validate()}));function g(e,n){t.attr(e,i[e]),i.$observe(e,n)}},checkbox:function(e,t,i,n,r,o,a,s){var l=yo(s,e,"ngTrueValue",i.ngTrueValue,!0),u=yo(s,e,"ngFalseValue",i.ngFalseValue,!1);t.on("click",function(e){n.$setViewValue(t[0].checked,e&&e.type)}),n.$render=function(){t[0].checked=n.$viewValue},n.$isEmpty=function(e){return!1===e},n.$formatters.push(function(e){return ie(e,l)}),n.$parsers.push(function(e){return e?l:u})},hidden:P,button:P,submit:P,reset:P,file:P};function lo(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function uo(e,t,i,r,a,s){var l=o(t[0].type);if(!a.android){var u=!1;t.on("compositionstart",function(){u=!0}),t.on("compositionend",function(){u=!1,d()})}var c,d=function(e){if(c&&(s.defer.cancel(c),c=null),!u){var n=t.val(),o=e&&e.type;"password"===l||i.ngTrim&&"false"===i.ngTrim||(n=X(n)),(r.$viewValue!==n||""===n&&r.$$hasNativeValidators)&&r.$setViewValue(n,o)}};if(a.hasEvent("input"))t.on("input",d);else{var h=function(e,t,i){c||(c=s.defer(function(){c=null,t&&t.value===i||d(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||h(e,this,this.value)}),a.hasEvent("paste")&&t.on("paste cut",h)}t.on("change",d),ao[l]&&r.$$hasNativeValidators&&l===i.type&&t.on(oo,function(e){if(!c){var t=this[n],i=t.badInput,r=t.typeMismatch;c=s.defer(function(){c=null,t.badInput===i&&t.typeMismatch===r||d(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function co(e,t){return function(i,n){var r,o;if(z(i))return i;if(H(i)){if('"'===i.charAt(0)&&'"'===i.charAt(i.length-1)&&(i=i.substring(1,i.length-1)),Xr.test(i))return new Date(i);if(e.lastIndex=0,r=e.exec(i))return r.shift(),o=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},w(r,function(e,i){i<t.length&&(o[t[i]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function ho(e,t,i,n){return function(r,o,a,s,l,u,c){po(r,o,a,s),uo(0,o,a,s,l,u);var d,h=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var n=i(e,d);return h&&(n=pe(n,h)),n}}),s.$formatters.push(function(e){if(e&&!z(e))throw jo("datefmt","Expected `{0}` to be a date",e);return g(e)?((d=e)&&h&&(d=pe(d,h,!0)),c("date")(e,n,h)):(d=null,"")}),R(a.min)||a.ngMin){var p;s.$validators.min=function(e){return!g(e)||L(p)||i(e)>=p},a.$observe("min",function(e){p=m(e),s.$validate()})}if(R(a.max)||a.ngMax){var f;s.$validators.max=function(e){return!g(e)||L(f)||i(e)<=f},a.$observe("max",function(e){f=m(e),s.$validate()})}function g(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function m(e){return R(e)&&!z(e)?i(e)||void 0:e}}}function po(e,t,i,r){var o=t[0];(r.$$hasNativeValidators=F(o.validity))&&r.$parsers.push(function(e){var i=t.prop(n)||{};return i.badInput||i.typeMismatch?void 0:e})}function fo(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:Qr.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!G(t))throw jo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function go(e){return R(e)&&!G(e)&&(e=parseFloat(e)),D(e)?void 0:e}function mo(e){return(0|e)===e}function vo(e){var t=e.toString(),i=t.indexOf(".");if(-1===i){if(-1<e&&e<1){var n=/e-(\d+)$/.exec(t);if(n)return Number(n[1])}return 0}return t.length-i-1}function yo(e,t,i,n,r){var o;if(R(n)){if(!(o=e(n)).constant)throw jo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,n);return o(t)}return r}var bo=["$browser","$sniffer","$filter","$parse",function(e,t,i,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,a,s,l){if(l[0]){var u=o(s.type);"range"!==u||s.hasOwnProperty("ngInputRange")||(u="text"),(so[u]||so.text)(r,a,s,l[0],t,e,i,n)}}}}}],wo=/^(true|false|\d+)$/,xo=function(){return{restrict:"A",priority:100,compile:function(e,t){return wo.test(t.ngValue)?function(e,t,i){i.$set("value",e.$eval(i.ngValue))}:function(e,t,i){e.$watch(i.ngValue,function(e){i.$set("value",e)})}}}},_o=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,i,n){e.$$addBindingInfo(i,n.ngBind),i=i[0],t.$watch(n.ngBind,function(e){i.textContent=L(e)?"":e})}}}}],Co=["$interpolate","$compile",function(e,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,n,r){var o=e(n.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(n,o.expressions),n=n[0],r.$observe("ngBindTemplate",function(e){n.textContent=L(e)?"":e})}}}}],So=["$sce","$parse","$compile",function(e,t,i){return{restrict:"A",compile:function(n,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(t){return e.valueOf(t)});return i.$$addBindingClass(n),function(t,n,r){i.$$addBindingInfo(n,r.ngBindHtml),t.$watch(a,function(){var i=o(t);n.html(e.getTrustedHtml(i)||"")})}}}}],ko=I({restrict:"A",require:"ngModel",link:function(e,t,i,n){n.$viewChangeListeners.push(function(){e.$eval(i.ngChange)})}});function $o(e,t){return e="ngClass"+e,["$animate",function(i){return{restrict:"AC",link:function(o,a,s){var l;o.$watch(s[e],d,!0),s.$observe("class",function(t){d(o.$eval(s[e]))}),"ngClass"!==e&&o.$watch("$index",function(i,n){var a=1&i;if(a!==(1&n)){var l=r(o.$eval(s[e]));a===t?u(l):function(e){var t=c(e,-1);s.$removeClass(t)}(l)}});function u(e){var t=c(e,1);s.$addClass(t)}function c(e,t){var i=a.data("$classCounts")||Oe(),n=[];return w(e,function(e){(t>0||i[e])&&(i[e]=(i[e]||0)+t,i[e]===+(t>0)&&n.push(e))}),a.data("$classCounts",i),n.join(" ")}function d(e){if(!0===t||(1&o.$index)===t){var s=r(e||[]);if(l){if(!ie(e,l)){!function(e,t){var r=n(t,e),o=n(e,t);r=c(r,1),o=c(o,-1),r&&r.length&&i.addClass(a,r),o&&o.length&&i.removeClass(a,o)}(r(l),s)}}else u(s)}l=B(e)?e.map(function(e){return Ge(e)}):Ge(e)}}};function n(e,t){var i=[];e:for(var n=0;n<e.length;n++){for(var r=e[n],o=0;o<t.length;o++)if(r===t[o])continue e;i.push(r)}return i}function r(e){var t=[];return B(e)?(w(e,function(e){t=t.concat(r(e))}),t):H(e)?e.split(" "):F(e)?(w(e,function(e,i){e&&(t=t.concat(i.split(" ")))}),t):e}}]}var Eo=$o("",!0),To=$o("Odd",0),Do=$o("Even",1),Mo=zr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Po=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ao={},Io={blur:!0,focus:!0};w("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=li("ng-"+e);Ao[t]=["$parse","$rootScope",function(i,n){return{restrict:"A",compile:function(r,o){var a=i(o[t],null,!0);return function(t,i){i.on(e,function(i){var r=function(){a(t,{$event:i})};Io[e]&&n.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var Oo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,n,r,o,a){var s,l,u;i.$watch(r.ngIf,function(i){i?l||a(function(i,o){l=o,i[i.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:i},e.enter(i,n.parent(),n)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=Ie(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],Lo=["$templateRequest","$anchorScroll","$animate",function(e,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:v.noop,compile:function(n,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(n,r,l,u,c){var d,h,p,f=0,g=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(i.leave(p).then(function(){h=null}),h=p,p=null)};n.$watch(o,function(o){var l=function(){!R(s)||s&&!n.$eval(s)||t()},h=++f;o?(e(o,!0).then(function(e){if(!n.$$destroyed&&h===f){var t=n.$new();u.template=e;var s=c(t,function(e){g(),i.enter(e,null,r).then(l)});p=s,(d=t).$emit("$includeContentLoaded",o),n.$eval(a)}},function(){n.$$destroyed||h===f&&(g(),n.$emit("$includeContentError",o))}),n.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],Ro=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,n,r,o){if(f.call(n[0]).match(/SVG/))return n.empty(),void t(ot(o.template,e.document).childNodes)(i,function(e){n.append(e)},{futureParentElement:n});n.html(o.template),t(n.contents())(i)}}}],Fo=zr({priority:450,compile:function(){return{pre:function(e,t,i){e.$eval(i.ngInit)}}}}),No=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,n){var r=t.attr(i.$attr.ngList)||", ",o="false"!==i.ngTrim,a=o?X(r):r;n.$parsers.push(function(e){if(!L(e)){var t=[];return e&&w(e.split(a),function(e){e&&t.push(o?X(e):e)}),t}}),n.$formatters.push(function(e){if(B(e))return e.join(r)}),n.$isEmpty=function(e){return!e||!e.length}}}},Ho="ng-valid",Go="ng-invalid",zo="ng-pristine",Bo="ng-dirty",Wo="ng-untouched",Vo="ng-pending",jo=t("ngModel"),Uo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,n,r,o,a,s,l,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(i.name||"",!1)(e),this.$$parentForm=Vr;var c,d=r(i.ngModel),h=d.assign,p=d,f=h,g=null,m=this;this.$$setOptions=function(e){if(m.$options=e,e&&e.getterSetter){var t=r(i.ngModel+"()"),o=r(i.ngModel+"($$$p)");p=function(e){var i=d(e);return W(i)&&(i=t(e)),i},f=function(e,t){W(d(e))?o(e,{$$$p:t}):h(e,t)}}else if(!d.assign)throw jo("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,fe(n))},this.$render=P,this.$isEmpty=function(e){return L(e)||""===e||null===e||e!=e},this.$$updateEmptyClasses=function(e){m.$isEmpty(e)?(o.removeClass(n,"ng-not-empty"),o.addClass(n,"ng-empty")):(o.removeClass(n,"ng-empty"),o.addClass(n,"ng-not-empty"))};var v=0;Xo({ctrl:this,$element:n,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:o}),this.$setPristine=function(){m.$dirty=!1,m.$pristine=!0,o.removeClass(n,Bo),o.addClass(n,zo)},this.$setDirty=function(){m.$dirty=!0,m.$pristine=!1,o.removeClass(n,zo),o.addClass(n,Bo),m.$$parentForm.$setDirty()},this.$setUntouched=function(){m.$touched=!1,m.$untouched=!0,o.setClass(n,Wo,"ng-touched")},this.$setTouched=function(){m.$touched=!0,m.$untouched=!1,o.setClass(n,"ng-touched",Wo)},this.$rollbackViewValue=function(){a.cancel(g),m.$viewValue=m.$$lastCommittedViewValue,m.$render()},this.$validate=function(){if(!D(m.$modelValue)){var e=m.$$lastCommittedViewValue,t=m.$$rawModelValue,i=m.$valid,n=m.$modelValue,r=m.$options&&m.$options.allowInvalid;m.$$runValidators(t,e,function(e){r||i===e||(m.$modelValue=e?t:void 0,m.$modelValue!==n&&m.$$writeModelToScope())})}},this.$$runValidators=function(e,t,i){var n=++v;!function(){var e=m.$$parserName||"parse";{if(!L(c))return c||(w(m.$validators,function(e,t){r(t,null)}),w(m.$asyncValidators,function(e,t){r(t,null)})),r(e,c),c;r(e,null)}return!0}()?o(!1):function(){var i=!0;if(w(m.$validators,function(n,o){var a=n(e,t);i=i&&a,r(o,a)}),!i)return w(m.$asyncValidators,function(e,t){r(t,null)}),!1;return!0}()?function(){var i=[],n=!0;w(m.$asyncValidators,function(o,a){var s=o(e,t);if(!Y(s))throw jo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);r(a,void 0),i.push(s.then(function(){r(a,!0)},function(){n=!1,r(a,!1)}))}),i.length?l.all(i).then(function(){o(n)},P):o(!0)}():o(!1);function r(e,t){n===v&&m.$setValidity(e,t)}function o(e){n===v&&i(e)}},this.$commitViewValue=function(){var e=m.$viewValue;a.cancel(g),(m.$$lastCommittedViewValue!==e||""===e&&m.$$hasNativeValidators)&&(m.$$updateEmptyClasses(e),m.$$lastCommittedViewValue=e,m.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=m.$$lastCommittedViewValue;if(c=!L(t)||void 0)for(var i=0;i<m.$parsers.length;i++)if(L(t=m.$parsers[i](t))){c=!1;break}D(m.$modelValue)&&(m.$modelValue=p(e));var n=m.$modelValue,r=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=t,r&&(m.$modelValue=t,o()),m.$$runValidators(t,m.$$lastCommittedViewValue,function(e){r||(m.$modelValue=e?t:void 0,o())});function o(){m.$modelValue!==n&&m.$$writeModelToScope()}},this.$$writeModelToScope=function(){f(e,m.$modelValue),w(m.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){m.$viewValue=e,m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var i,n=0,r=m.$options;r&&R(r.debounce)&&(G(i=r.debounce)?n=i:G(i[t])?n=i[t]:G(i.default)&&(n=i.default)),a.cancel(g),n?g=a(function(){m.$commitViewValue()},n):s.$$phase?m.$commitViewValue():e.$apply(function(){m.$commitViewValue()})},e.$watch(function(){var t=p(e);if(t!==m.$modelValue&&(m.$modelValue==m.$modelValue||t==t)){m.$modelValue=m.$$rawModelValue=t,c=void 0;for(var i=m.$formatters,n=i.length,r=t;n--;)r=i[n](r);m.$viewValue!==r&&(m.$$updateEmptyClasses(r),m.$viewValue=m.$$lastCommittedViewValue=r,m.$render(),m.$$runValidators(m.$modelValue,m.$viewValue,P))}return t})}],qo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Uo,priority:1,compile:function(t){return t.addClass(zo).addClass(Wo).addClass(Ho),{pre:function(e,t,i,n){var r=n[0],o=n[1]||r.$$parentForm;r.$$setOptions(n[2]&&n[2].$options),o.$addControl(r),i.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,i,n,r){var o=r[0];o.$options&&o.$options.updateOn&&i.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),i.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Yo=/(\s+|^)default(\s+|$)/,Ko=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var i=this;this.$options=te(e.$eval(t.ngModelOptions)),R(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=X(this.$options.updateOn.replace(Yo,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}};function Xo(e){var t=e.ctrl,i=e.$element,n={},r=e.set,o=e.unset,a=e.$animate;n[Go]=!(n[Ho]=i.hasClass(Ho)),t.$setValidity=function(e,i,n){L(i)?function(e,i,n){t[e]||(t[e]={});r(t[e],i,n)}("$pending",e,n):function(e,i,n){t[e]&&o(t[e],i,n);Zo(t[e])&&(t[e]=void 0)}("$pending",e,n);q(i)?i?(o(t.$error,e,n),r(t.$$success,e,n)):(r(t.$error,e,n),o(t.$$success,e,n)):(o(t.$error,e,n),o(t.$$success,e,n));t.$pending?(s(Vo,!0),t.$valid=t.$invalid=void 0,l("",null)):(s(Vo,!1),t.$valid=Zo(t.$error),t.$invalid=!t.$valid,l("",t.$valid));var a;a=t.$pending&&t.$pending[e]?void 0:!t.$error[e]&&(!!t.$$success[e]||null);l(e,a),t.$$parentForm.$setValidity(e,a,t)};function s(e,t){t&&!n[e]?(a.addClass(i,e),n[e]=!0):!t&&n[e]&&(a.removeClass(i,e),n[e]=!1)}function l(e,t){e=e?"-"+Ee(e,"-"):"",s(Ho+e,!0===t),s(Go+e,!1===t)}}function Zo(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Jo=zr({terminal:!0,priority:1e3}),Qo=t("ngOptions"),ea=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ta=["$compile","$document","$parse",function(t,i,n){var r=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,i,n){n[0].registerOption=P},post:function(e,a,s,u){for(var c,d=u[0],h=u[1],p=s.multiple,f=0,g=a.children(),m=g.length;f<m;f++)if(""===g[f].value){c=g.eq(f);break}var y=!!c,x=l(r.cloneNode(!1));x.val("?");var _,C=function(e,t,i){var r=e.match(ea);if(!r)throw Qo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,fe(t));var o=r[5]||r[7],a=r[6],s=/ as /.test(r[0])&&r[1],l=r[9],u=n(r[2]?r[1]:o),c=s&&n(s)||u,d=l&&n(l),h=l?function(e,t){return d(i,t)}:function(e){return Pt(e)},p=function(e,t){return h(e,x(e,t))},f=n(r[2]||r[1]),g=n(r[3]||""),m=n(r[4]||""),y=n(r[8]),w={},x=a?function(e,t){return w[a]=t,w[o]=e,w}:function(e){return w[o]=e,w};function _(e,t,i,n,r){this.selectValue=e,this.viewValue=t,this.label=i,this.group=n,this.disabled=r}function C(e){var t;if(!a&&b(e))t=e;else{t=[];for(var i in e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}return{trackBy:l,getTrackByValue:p,getWatchables:n(y,function(e){for(var t=[],n=C(e=e||[]),o=n.length,a=0;a<o;a++){var s=e===n?a:n[a],l=e[s],u=x(l,s),c=h(l,u);if(t.push(c),r[2]||r[1]){var d=f(i,u);t.push(d)}if(r[4]){var p=m(i,u);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=y(i)||[],r=C(n),o=r.length,a=0;a<o;a++){var s=n===r?a:r[a],u=n[s],d=x(u,s),b=c(i,d),w=h(b,d),S=new _(w,b,f(i,d),g(i,d),m(i,d));e.push(S),t[w]=S}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return l?v.copy(e.viewValue):e.viewValue}}}}}(s.ngOptions,a,e),S=i[0].createDocumentFragment(),k=function(){y?c.removeAttr("selected"):c.remove()},$=function(){x.remove()};p?(h.$isEmpty=function(e){return!e||0===e.length},d.writeValue=function(e){_.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=_.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},d.readValue=function(){var e=[];return w(a.val()||[],function(t){var i=_.selectValueMap[t];i&&!i.disabled&&e.push(_.getViewValueFromOption(i))}),e},C.trackBy&&e.$watchCollection(function(){if(B(h.$viewValue))return h.$viewValue.map(function(e){return C.getTrackByValue(e)})},function(){h.$render()})):(d.writeValue=function(e){var t=_.selectValueMap[a.val()],i=_.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),i?(a[0].value!==i.selectValue&&($(),k(),a[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):null===e||y?($(),y||a.prepend(c),a.val(""),c.prop("selected",!0),c.attr("selected",!0)):(k(),a.prepend(x),a.val("?"),x.prop("selected",!0),x.attr("selected",!0))},d.readValue=function(){var e=_.selectValueMap[a.val()];return e&&!e.disabled?(k(),$(),_.getViewValueFromOption(e)):null},C.trackBy&&e.$watch(function(){return C.getTrackByValue(h.$viewValue)},function(){h.$render()})),y?(c.remove(),t(c)(e),c.removeClass("ng-scope")):c=l(r.cloneNode(!1)),a.empty(),T(),e.$watchCollection(C.getWatchables,T);function E(e,t){var i=r.cloneNode(!1);t.appendChild(i),o=i,(n=e).element=o,o.disabled=n.disabled,n.label!==o.label&&(o.label=n.label,o.textContent=n.label),n.value!==o.value&&(o.value=n.selectValue);var n,o}function T(){var e=_&&d.readValue();if(_)for(var t=_.items.length-1;t>=0;t--){var i=_.items[t];R(i.group)?_t(i.element.parentNode):_t(i.element)}_=C.getOptions();var n={};if(y&&a.prepend(c),_.items.forEach(function(e){var t;R(e.group)?((t=n[e.group])||(t=o.cloneNode(!1),S.appendChild(t),t.label=null===e.group?"null":e.group,n[e.group]=t),E(e,t)):E(e,S)}),a[0].appendChild(S),h.$render(),!h.$isEmpty(e)){var r=d.readValue();(C.trackBy||p?ie(e,r):e===r)||(h.$setViewValue(r),h.$render())}}}}}}],ia=["$locale","$interpolate","$log",function(e,t,i){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(a,s,l){var u,c=l.count,d=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,p=a.$eval(d)||{},f={},g=t.startSymbol(),m=t.endSymbol(),y=g+c+"-"+h+m,b=v.noop;w(l,function(e,t){var i=r.exec(t);if(i){var n=(i[1]?"-":"")+o(i[2]);p[n]=s.attr(l.$attr[t])}}),w(p,function(e,i){f[i]=t(e.replace(n,y))}),a.$watch(c,function(t){var n=parseFloat(t),r=D(n);if(r||n in p||(n=e.pluralCat(n-h)),!(n===u||r&&D(u))){b();var o=f[n];L(o)?(null!=t&&i.debug("ngPluralize: no rule defined for '"+n+"' in "+d),b=P,x()):b=a.$watch(o,x),u=n}});function x(e){s.text(e||"")}}}}],na=["$parse","$animate","$compile",function(e,i,n){var o=t("ngRepeat"),a=function(e,t,i,n,r,o,a){e[i]=n,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,s){var l=s.ngRepeat,u=n.$$createComment("end ngRepeat",l),c=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!c)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",l);var d=c[1],h=c[2],p=c[3],f=c[4];if(!(c=d.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",d);var g=c[3]||c[1],m=c[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",p);var v,y,x,_,C={$id:Pt};return f?v=e(f):(x=function(e,t){return Pt(t)},_=function(e){return e}),function(e,t,n,s,c){v&&(y=function(t,i,n){return m&&(C[m]=t),C[g]=i,C.$index=n,v(e,C)});var d=Oe();e.$watchCollection(h,function(n){var s,h,f,v,C,S,k,$,E,T,D,M,P=t[0],A=Oe();if(p&&(e[p]=n),b(n))E=n,$=y||x;else{$=y||_,E=[];for(var I in n)r.call(n,I)&&"$"!==I.charAt(0)&&E.push(I)}for(v=E.length,D=new Array(v),s=0;s<v;s++)if(C=n===E?s:E[s],S=n[C],k=$(C,S,s),d[k])T=d[k],delete d[k],A[k]=T,D[s]=T;else{if(A[k])throw w(D,function(e){e&&e.scope&&(d[e.id]=e)}),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",l,k,S);D[s]={id:k,scope:void 0,clone:void 0},A[k]=!0}for(var O in d){if(M=Ie((T=d[O]).clone),i.leave(M),M[0].parentNode)for(s=0,h=M.length;s<h;s++)M[s].$$NG_REMOVED=!0;T.scope.$destroy()}for(s=0;s<v;s++)if(C=n===E?s:E[s],S=n[C],(T=D[s]).scope){f=P;do{f=f.nextSibling}while(f&&f.$$NG_REMOVED);T.clone[0]!==f&&i.move(Ie(T.clone),null,P),P=(L=T).clone[L.clone.length-1],a(T.scope,s,g,S,m,C,v)}else c(function(e,t){T.scope=t;var n=u.cloneNode(!1);e[e.length++]=n,i.enter(e,null,P),P=n,T.clone=e,A[T.id]=T,a(T.scope,s,g,S,m,C,v)});var L;d=A})}}}}],ra=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngShow,function(t){e[t?"removeClass":"addClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],oa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,i,n){t.$watch(n.ngHide,function(t){e[t?"addClass":"removeClass"](i,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],aa=zr(function(e,t,i){e.$watch(i.ngStyle,function(e,i){i&&e!==i&&w(i,function(e,i){t.css(i,"")}),e&&t.css(e)},!0)}),sa=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(i,n,r,o){var a=r.ngSwitch||r.on,s=[],l=[],u=[],c=[],d=function(e,t){return function(){e.splice(t,1)}};i.$watch(a,function(i){var n,r;for(n=0,r=u.length;n<r;++n)e.cancel(u[n]);for(u.length=0,n=0,r=c.length;n<r;++n){var a=Ie(l[n].clone);c[n].$destroy();(u[n]=e.leave(a)).then(d(u,n))}l.length=0,c.length=0,(s=o.cases["!"+i]||o.cases["?"])&&w(s,function(i){i.transclude(function(n,r){c.push(r);var o=i.element;n[n.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:n};l.push(a),e.enter(n,o.parent(),o)})})})}}}],la=zr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,r){n.cases["!"+i.ngSwitchWhen]=n.cases["!"+i.ngSwitchWhen]||[],n.cases["!"+i.ngSwitchWhen].push({transclude:r,element:t})}}),ua=zr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,i,n,r){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:r,element:t})}}),ca=t("ngTransclude"),da=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var i=e(t.contents());return t.empty(),function(e,t,n,r,o){if(!o)throw ca("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",fe(t));n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude="");var a=n.ngTransclude||n.ngTranscludeSlot;o(function(e,i){e.length?t.append(e):(s(),i.$destroy())},null,a),a&&!o.isSlotFilled(a)&&s();function s(){i(e,function(e){t.append(e)})}}}}}],ha=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,i){if("text/ng-template"===i.type){var n=i.id,r=t[0].text;e.put(n,r)}}}}],pa={$setViewValue:P,$render:P};var fa=["$element","$scope",function(t,i){var n=this,r=new At;n.ngModelCtrl=pa,n.unknownOption=l(e.document.createElement("option")),n.renderUnknownOption=function(e){var i="? "+Pt(e)+" ?";n.unknownOption.val(i),t.prepend(n.unknownOption),t.val(i)},i.$on("$destroy",function(){n.renderUnknownOption=P}),n.removeUnknownOption=function(){n.unknownOption.parent()&&n.unknownOption.remove()},n.readValue=function(){return n.removeUnknownOption(),t.val()},n.writeValue=function(e){n.hasOption(e)?(n.removeUnknownOption(),t.val(e),""===e&&n.emptyOption.prop("selected",!0)):null==e&&n.emptyOption?(n.removeUnknownOption(),t.val("")):n.renderUnknownOption(e)},n.addOption=function(e,t){if(t[0].nodeType!==Fe){Pe(e,'"option value"'),""===e&&(n.emptyOption=t);var i=r.get(e)||0;r.put(e,i+1),n.ngModelCtrl.$render(),(o=t)[0].hasAttribute("selected")&&(o[0].selected=!0);var o}},n.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.remove(e),""===e&&(n.emptyOption=void 0)):r.put(e,t-1))},n.hasOption=function(e){return!!r.get(e)},n.registerOption=function(e,t,i,r,o){if(r){var a;i.$observe("value",function(e){R(a)&&n.removeOption(a),a=e,n.addOption(e,t)})}else o?e.$watch(o,function(e,r){i.$set("value",e),r!==e&&n.removeOption(r),n.addOption(e,t)}):n.addOption(i.value,t);t.on("$destroy",function(){n.removeOption(i.value),n.ngModelCtrl.$render()})}}],ga=function(){return{restrict:"E",require:["select","?ngModel"],controller:fa,priority:1,link:{pre:function(e,t,i,n){var r=n[1];if(!r)return;var o=n[0];if(o.ngModelCtrl=r,t.on("change",function(){e.$apply(function(){r.$setViewValue(o.readValue())})}),i.multiple){o.readValue=function(){var e=[];return w(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var i=new At(e);w(t.find("option"),function(e){e.selected=R(i.get(e.value))})};var a,s=NaN;e.$watch(function(){s!==r.$viewValue||ie(a,r.$viewValue)||(a=Ge(r.$viewValue),r.$render()),s=r.$viewValue}),r.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,i,n){var r=n[1];if(!r)return;var o=n[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}},ma=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,i){if(R(i.value))var n=e(i.value,!0);else{var r=e(t.text(),!0);r||i.$set("value",t.text())}return function(e,t,i){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,i,n,r)}}}}],va=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){n&&(i.required=!0,n.$validators.required=function(e,t){return!i.required||!n.$isEmpty(t)},i.$observe("required",function(){n.$validate()}))}}},ya=function(){return{restrict:"A",require:"?ngModel",link:function(e,i,n,r){if(r){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(H(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,fe(i));o=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||L(o)||o.test(t)}}}}},ba=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){if(n){var r=-1;i.$observe("maxlength",function(e){var t=T(e);r=D(t)?-1:t,n.$validate()}),n.$validators.maxlength=function(e,t){return r<0||n.$isEmpty(t)||t.length<=r}}}}},wa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,n){if(n){var r=0;i.$observe("minlength",function(e){r=T(e)||0,n.$validate()}),n.$validators.minlength=function(e,t){return n.$isEmpty(t)||t.length>=r}}}}};if(e.angular.bootstrap)e.console&&console.log("WARNING: Tried to load angular more than once.");else{!function(){var t;if(!Te){var i=re();(u=L(i)?e.jQuery:i?e[i]:void 0)&&u.fn.on?(l=u,$(u.fn,{scope:Ct.scope,isolateScope:Ct.isolateScope,controller:Ct.controller,injector:Ct.injector,inheritedData:Ct.inheritedData}),t=u.cleanData,u.cleanData=function(e){for(var i,n,r=0;null!=(n=e[r]);r++)(i=u._data(n,"events"))&&i.$destroy&&u(n).triggerHandler("$destroy");t(e)}):l=lt,v.element=l,Te=!0}}(),$(v,{bootstrap:Ce,copy:te,extend:$,merge:E,equals:ie,element:l,forEach:w,injector:Bt,noop:P,bind:se,toJson:ue,fromJson:ce,identity:A,isUndefined:L,isDefined:R,isString:H,isFunction:W,isObject:F,isNumber:G,isElement:J,isArray:B,version:Be,isDate:z,lowercase:o,uppercase:a,callbacks:{$$counter:0},getTestability:ke,$$minErr:t,$$csp:ne,reloadWithDebugInfo:Se}),(c=function(e){var i=t("$injector"),n=t("ng");function r(e,t,i){return e[t]||(e[t]=i())}var o=r(e,"angular",Object);return o.$$minErr=o.$$minErr||t,r(o,"module",function(){var e={};return function(t,o,a){return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)}(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),r(e,t,function(){if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var e=[],n=[],r=[],s=u("$injector","invoke","push",n),l={_invokeQueue:e,_configBlocks:n,_runBlocks:r,requires:o,name:t,provider:c("$provide","provider"),factory:c("$provide","factory"),service:c("$provide","service"),value:u("$provide","value"),constant:u("$provide","constant","unshift"),decorator:c("$provide","decorator"),animation:c("$animateProvider","register"),filter:c("$filterProvider","register"),controller:c("$controllerProvider","register"),directive:c("$compileProvider","directive"),component:c("$compileProvider","component"),config:s,run:function(e){return r.push(e),this}};return a&&s(a),l;function u(t,i,n,r){return r||(r=e),function(){return r[n||"push"]([t,i,arguments]),l}}function c(i,n){return function(r,o){return o&&W(o)&&(o.$$moduleName=t),e.push([i,n,arguments]),l}}})}})}(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Zn}),e.provider("$compile",oi).directive({a:Br,input:bo,textarea:bo,form:Yr,script:ha,select:ga,option:ma,ngBind:_o,ngBindHtml:So,ngBindTemplate:Co,ngClass:Eo,ngClassEven:Do,ngClassOdd:To,ngCloak:Mo,ngController:Po,ngForm:Kr,ngHide:oa,ngIf:Oo,ngInclude:Lo,ngInit:Fo,ngNonBindable:Jo,ngPluralize:ia,ngRepeat:na,ngShow:ra,ngStyle:aa,ngSwitch:sa,ngSwitchWhen:la,ngSwitchDefault:ua,ngOptions:ta,ngTransclude:da,ngModel:qo,ngList:No,ngChange:ko,pattern:ya,ngPattern:ya,required:va,ngRequired:va,minlength:wa,ngMinlength:wa,maxlength:ba,ngMaxlength:ba,ngValue:xo,ngModelOptions:Ko}).directive({ngInclude:Ro}).directive(Wr).directive(Ao),e.provider({$anchorScroll:Wt,$animate:Xt,$animateCss:Qt,$$animateJs:Yt,$$animateQueue:Kt,$$AnimateRunner:Jt,$$animateAsyncRun:Zt,$browser:ei,$cacheFactory:ti,$controller:fi,$document:gi,$exceptionHandler:mi,$filter:gr,$$forceReflow:vi,$interpolate:Fi,$interval:Ni,$http:Ii,$httpParamSerializer:$i,$httpParamSerializerJQLike:Ei,$httpBackend:Li,$xhrFactory:Oi,$jsonpCallbacks:Hi,$location:rn,$log:on,$parse:jn,$rootScope:Xn,$q:Un,$$q:qn,$sce:ir,$sceDelegate:tr,$sniffer:nr,$templateCache:ii,$templateRequest:or,$$testability:ar,$timeout:sr,$window:hr,$$rAF:Kn,$$jqLite:Mt,$$HashMap:It,$$cookieReader:fr})}]);v.module("ngLocale",[],["$provide",function(e){var t="one",i="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var r=0|e,o=function(e,t){var i=t;void 0===i&&(i=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var n=Math.pow(10,i);return{v:i,f:(e*n|0)%n}}(e,n);return 1==r&&0==o.v?t:i}})}]),l(e.document).ready(function(){_e(e.document,Ce)})}}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"use strict";var i=t.$$minErr("$resource"),n=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function r(e,r){if(null==(o=r)||""===o||"hasOwnProperty"===o||!n.test("."+o))throw i("badmember",'Dotted member path "@{0}" is invalid.',r);for(var o,a=r.split("."),s=0,l=a.length;s<l&&t.isDefined(e);s++){var u=a[s];e=null!==e?e[u]:void 0}return e}function o(e,i){i=i||{},t.forEach(i,function(e,t){delete i[t]});for(var n in e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(i[n]=e[n]);return i}t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){var c=t.noop,d=t.forEach,h=t.extend,p=t.copy,f=t.isFunction;function g(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function m(e,t){this.template=e,this.defaults=h({},n.defaults,t),this.urlParams={}}m.prototype={setUrlParams:function(n,r,o){var a,s,l=this,u=o||l.template,c="",h=l.urlParams={};d(u.split(/\W/),function(e){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(u)&&(h[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(u)})}),u=(u=u.replace(/\\:/g,":")).replace(e,function(e){return c=e,""}),r=r||{},d(l.urlParams,function(e,i){a=r.hasOwnProperty(i)?r[i]:l.defaults[i],t.isDefined(a)&&null!==a?(s=e.isQueryParamValue?g(a,!0):g(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),u=u.replace(new RegExp(":"+i+"(\\W|$)","g"),function(e,t){return s+t})):u=u.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(e,t,i){return"/"===i.charAt(0)?i:t+i})}),l.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),n.url=c+u.replace(/\/\\\./,"/."),d(r,function(e,t){l.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}};return function e(g,v,y,b){var w=new m(g,b);y=h({},n.defaults.actions,y);function x(e){return e.resource}function _(e){o(e||{},this)}return _.prototype.toJSON=function(){var e=h({},this);return delete e.$promise,delete e.$resolved,e},d(y,function(e,g){var m=/^(POST|PUT|PATCH)$/i.test(e.method),y=e.timeout,C=t.isDefined(e.cancellable)?e.cancellable:b&&t.isDefined(b.cancellable)?b.cancellable:n.defaults.cancellable;y&&!t.isNumber(y)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,y=null),_[g]=function(n,s,b,S){var k,$,E,T={};switch(arguments.length){case 4:E=S,$=b;case 3:case 2:if(!f(s)){T=n,k=s,$=b;break}if(f(n)){$=n,E=s;break}$=s,E=b;case 1:f(n)?$=n:m?k=n:T=n;break;case 0:break;default:throw i("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var D,M,P=this instanceof _,A=P?k:e.isArray?[]:new _(k),I={},O=e.interceptor&&e.interceptor.response||x,L=e.interceptor&&e.interceptor.responseError||void 0;d(e,function(e,t){switch(t){default:I[t]=p(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!P&&C&&(D=l.defer(),I.timeout=D.promise,y&&(M=u(D.resolve,y))),m&&(I.data=k),w.setUrlParams(I,h({},function(e,t){var i={};return t=h({},v,t),d(t,function(t,n){f(t)&&(t=t(e)),i[n]=t&&t.charAt&&"@"===t.charAt(0)?r(e,t.substr(1)):t}),i}(k,e.params||{}),T),e.url);var R=a(I).then(function(n){var r=n.data;if(r){if(t.isArray(r)!==!!e.isArray)throw i("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",g,e.isArray?"array":"object",t.isArray(r)?"array":"object",I.method,I.url);if(e.isArray)A.length=0,d(r,function(e){"object"==typeof e?A.push(new _(e)):A.push(e)});else{var a=A.$promise;o(r,A),A.$promise=a}}return n.resource=A,n},function(e){return(E||c)(e),l.reject(e)});return R.finally(function(){A.$resolved=!0,!P&&C&&(A.$cancelRequest=t.noop,u.cancel(M),D=M=I.timeout=null)}),R=R.then(function(e){var t=O(e);return($||c)(t,e.headers),t},L),P?R:(A.$promise=R,A.$resolved=!1,C&&(A.$cancelRequest=D.resolve),A)},_.prototype["$"+g]=function(e,t,i){f(e)&&(i=t,t=e,e={});var n=_[g].call(this,e,this,t,i);return n.$promise||n}}),_.bind=function(t){return e(g,h({},v,t),y)},_}}]})}(window,window.angular),function(e,t){"use strict";var i,n,r=t.module("ngRoute",["ng"]).provider("$route",function(){i=t.isArray,n=t.isObject;function e(e,i){return t.extend(Object.create(e),i)}var r={};this.when=function(e,o){var s=function(e,t){if(i(e)){t=t||[];for(var r=0,o=e.length;r<o;r++)t[r]=e[r]}else if(n(e)){t=t||{};for(var a in e)"$"===a.charAt(0)&&"$"===a.charAt(1)||(t[a]=e[a])}return t||e}(o);if(t.isUndefined(s.reloadOnSearch)&&(s.reloadOnSearch=!0),t.isUndefined(s.caseInsensitiveMatch)&&(s.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(s,e&&a(e,s)),e){var l="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";r[l]=t.extend({redirectTo:e},a(l,s))}return this},this.caseInsensitiveMatch=!1;function a(e,t){var i=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},r=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(e,t,i,n){var o="?"===n||"*?"===n?"?":null,a="*"===n||"*?"===n?"*":null;return r.push({name:i,optional:!!o}),t=t||"",(o?"":t)+"(?:"+(o?t:"")+(a?"(.+?)":"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",i?"i":""),n}this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(i,n,a,s,l,u,c){var d,h,p=!1,f={routes:r,reload:function(){p=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,p=!1}};i.$evalAsync(function(){g(e),e.defaultPrevented||m()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw o("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),n.path(y(this.current.$$route.originalPath,e)),n.search(e)}};return i.$on("$locationChangeStart",g),i.$on("$locationChangeSuccess",m),f;function g(o){var a=f.current;d=function(){var i,o;return t.forEach(r,function(r,a){!o&&(i=function(e,t){var i=t.keys,n={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,a=r.length;o<a;++o){var s=i[o-1],l=r[o];s&&l&&(n[s.name]=l)}return n}(n.path(),r))&&((o=e(r,{params:t.extend({},n.search(),i),pathParams:i})).$$route=r)}),o||r.null&&e(r.null,{params:{},pathParams:{}})}(),(h=d&&a&&d.$$route===a.$$route&&t.equals(d.pathParams,a.pathParams)&&!d.reloadOnSearch&&!p)||!a&&!d||i.$broadcast("$routeChangeStart",d,a).defaultPrevented&&o&&o.preventDefault()}function m(){var e=f.current,r=d;h?(e.params=r.params,t.copy(e.params,a),i.$broadcast("$routeUpdate",e)):(r||e)&&(p=!1,f.current=r,r&&r.redirectTo&&(t.isString(r.redirectTo)?n.path(y(r.redirectTo,r.params)).search(r.params).replace():n.url(r.redirectTo(r.pathParams,n.path(),n.search())).replace()),s.when(r).then(v).then(function(n){r===f.current&&(r&&(r.locals=n,t.copy(r.params,a)),i.$broadcast("$routeChangeSuccess",r,e))},function(t){r===f.current&&i.$broadcast("$routeChangeError",r,e,t)}))}function v(e){if(e){var i=t.extend({},e.resolve);t.forEach(i,function(e,n){i[n]=t.isString(e)?l.get(e):l.invoke(e,null,null,n)});var n=function(e){var i,n;t.isDefined(i=e.template)?t.isFunction(i)&&(i=i(e.params)):t.isDefined(n=e.templateUrl)&&(t.isFunction(n)&&(n=n(e.params)),t.isDefined(n)&&(e.loadedTemplateUrl=c.valueOf(n),i=u(n)));return i}(e);return t.isDefined(n)&&(i.$template=n),s.all(i)}}function y(e,i){var n=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)n.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),o=r[1];n.push(i[o]),n.push(r[2]||""),delete i[o]}}),n.join("")}}]}),o=t.$$minErr("ngRoute");r.provider("$routeParams",function(){this.$get=function(){return{}}});r.directive("ngView",a),r.directive("ngView",s),a.$inject=["$route","$anchorScroll","$animate"];function a(e,i,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,a,s,l){var u,c,d,h=a.autoscroll,p=a.onload||"";r.$on("$routeChangeSuccess",g),g();function f(){d&&(n.cancel(d),d=null),u&&(u.$destroy(),u=null),c&&((d=n.leave(c)).then(function(){d=null}),c=null)}function g(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var d=r.$new(),g=e.current,m=l(d,function(e){n.enter(e,null,c||o).then(function(){!t.isDefined(h)||h&&!r.$eval(h)||i()}),f()});c=m,(u=g.scope=d).$emit("$viewContentLoaded"),u.$eval(p)}else f()}}}}s.$inject=["$compile","$controller","$route"];function s(e,t,i){return{restrict:"ECA",priority:-400,link:function(n,r){var o=i.current,a=o.locals;r.html(a.$template);var s=e(r.contents());if(o.controller){a.$scope=n;var l=t(o.controller,a);o.controllerAs&&(n[o.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}n[o.resolveAs||"$resolve"]=a,s(n)}}}}(window,window.angular),function(e,t){"use strict";var i,n,r,o,a,s,l,u,c=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){var d=!1;this.$get=["$$sanitizeUri",function(e){return d&&n(_,w),function(t){var i=[];return l(t,u(i,function(t,i){return!/^unsafe:/.test(e(t,i))})),i.join("")}}],this.enableSvg=function(e){return o(e)?(d=e,this):d},i=t.bind,n=t.extend,r=t.forEach,o=t.isDefined,a=t.lowercase,s=t.noop,l=function(t,i){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),T.innerHTML=t;var n=5;do{if(0===n)throw c("uinput","Failed to sanitize html because the input is unstable");n--,e.document.documentMode&&P(T),t=T.innerHTML,T.innerHTML=t}while(t!==T.innerHTML);for(var r=T.firstChild;r;){switch(r.nodeType){case 1:i.start(r.nodeName.toLowerCase(),D(r.attributes));break;case 3:i.chars(r.textContent)}var o;if(!((o=r.firstChild)||(1===r.nodeType&&i.end(r.nodeName.toLowerCase()),o=r.nextSibling)))for(;null==o&&(r=r.parentNode)!==T;)o=r.nextSibling,1===r.nodeType&&i.end(r.nodeName.toLowerCase());r=o}for(;r=T.firstChild;)T.removeChild(r)},u=function(e,t){var n=!1,o=i(e,e.push);return{start:function(e,i){e=a(e),!n&&x[e]&&(n=e),n||!0!==_[e]||(o("<"),o(e),r(i,function(i,n){var r=a(n),s="img"===e&&"src"===r||"background"===r;!0!==$[r]||!0===C[r]&&!t(i,s)||(o(" "),o(n),o('="'),o(M(i)),o('"'))}),o(">"))},end:function(e){e=a(e),n||!0!==_[e]||!0===f[e]||(o("</"),o(e),o(">")),e==n&&(n=!1)},chars:function(e){n||o(M(e))}}};var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^#-~ |!])/g,f=E("area,br,col,hr,img,wbr"),g=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=E("rp,rt"),v=n({},m,g),y=n({},g,E("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),b=n({},m,E("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=E("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),x=E("script,style"),_=n({},f,y,b,v),C=E("background,cite,href,longdesc,src,xlink:href"),S=E("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),k=E("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),$=n({},C,k,S);function E(e,t){var i,n={},r=e.split(",");for(i=0;i<r.length;i++)n[t?a(r[i]):r[i]]=!0;return n}var T;!function(e){var t;if(!e.document||!e.document.implementation)throw c("noinert","Can't create an inert html document");var i=((t=e.document.implementation.createHTMLDocument("inert")).documentElement||t.getDocumentElement()).getElementsByTagName("body");if(1===i.length)T=i[0];else{var n=t.createElement("html");T=t.createElement("body"),n.appendChild(T),t.appendChild(n)}}(e);function D(e){for(var t={},i=0,n=e.length;i<n;i++){var r=e[i];t[r.name]=r.value}return t}function M(e){return e.replace(/&/g,"&amp;").replace(h,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(p,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function P(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var i=t.attributes,n=0,r=i.length;n<r;n++){var o=i[n],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),n--,r--)}var s=t.firstChild;s&&P(s),(s=t.nextSibling)&&P(s)}}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,n=/^mailto:/i,r=t.$$minErr("linky"),o=t.isDefined,a=t.isFunction,l=t.isObject,c=t.isString;return function(t,d,h){if(null==t||""===t)return t;if(!c(t))throw r("notstring","Expected string but received: {0}",t);for(var p,f,g,m=a(h)?h:l(h)?function(){return h}:function(){return{}},v=t,y=[];p=v.match(i);)f=p[0],p[2]||p[4]||(f=(p[3]?"http://":"mailto:")+f),g=p.index,b(v.substr(0,g)),w(f,p[0].replace(n,"")),v=v.substring(g+p[0].length);return b(v),e(y.join(""));function b(e){e&&y.push(function(e){var t=[];return u(t,s).chars(e),t.join("")}(e))}function w(e,t){var i,n=m(e);y.push("<a ");for(i in n)y.push(i+'="'+n[i]+'" ');!o(d)||"target"in n||y.push('target="',d,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),b(t),y.push("</a>")}}}])}(window,window.angular),angular.module("ui.date",[]).constant("uiDateConfig",{}).directive("uiDate",["uiDateConfig","uiDateConverter",function(e,t){"use strict";var i;return i={},angular.extend(i,e),{require:"?ngModel",link:function(i,n,r,o){var a=function(){return angular.extend({},e,i.$eval(r.uiDate))};i.$watch(a,function(){var e=!1,s=a();if(o){var l=s.onSelect||angular.noop;s.onSelect=function(t,r){i.$apply(function(){e=!0,o.$setViewValue(n.datepicker("getDate")),l(t,r)})},s.beforeShow=function(){e=!0},s.onClose=function(t,i){e=!1},n.off("blur.datepicker").on("blur.datepicker",function(){e||i.$apply(function(){n.datepicker("setDate",n.datepicker("getDate")),o.$setViewValue(n.datepicker("getDate"))})}),o.$render=function(){var e=o.$modelValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e)){if(!angular.isString(o.$modelValue))throw new Error("ng-Model value must be a Date, or a String object with a date formatter - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");e=t.stringToDate(r.uiDateFormat,o.$modelValue)}n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(s),o&&o.$render()},!0)}}}]).factory("uiDateConverter",["uiDateFormatConfig",function(e){return{stringToDate:function(t,i){if(t=t||e,angular.isString(i)){if(t)return jQuery.datepicker.parseDate(t,i);var n=new Date(i);return isNaN(n.getTime())?null:n}return null},dateToString:function(t,i){return t=t||e,i?t?jQuery.datepicker.formatDate(t,i):i.toISOString():null}}}]).constant("uiDateFormatConfig","").directive("uiDateFormat",["uiDateConverter",function(e){return{require:"ngModel",link:function(t,i,n,r){var o=n.uiDateFormat;r.$formatters.unshift(function(t){return e.stringToDate(o,t)}),r.$parsers.push(function(t){return e.dateToString(o,t)})}}}]),function(e,t){"use strict";var i="_ng_field_",n="_ng_depth_",r="_ng_hidden_",o="_ng_column_",a=/CUSTOM_FILTERS/g,s=/COL_FIELD/g,l=/DISPLAY_CELL_TEMPLATE/g,u=/EDITABLE_CELL_TEMPLATE/g,c=/CELL_EDITABLE_CONDITION/g,d=/<.+>/;e.ngGrid={},e.ngGrid.i18n={},angular.module("ngGrid.services",[]);var h=angular.module("ngGrid.directives",[]),p=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var f=function(e,t,i,n){if(void 0===e.selectionProvider.selectedItems)return!0;var r,o=i.which||i.keyCode,a=!1,s=!1,l=void 0===e.selectionProvider.lastClickedRow?1:e.selectionProvider.lastClickedRow.rowIndex,u=e.columns.filter(function(e){return e.visible}),c=e.columns.filter(function(e){return e.pinned});if(e.col&&(r=u.indexOf(e.col)),37!==o&&38!==o&&39!==o&&40!==o&&(n.config.noTabInterference||9!==o)&&13!==o)return!0;if(e.enableCellSelection){9===o&&i.preventDefault();var d=e.showSelectionCheckbox?1===e.col.index:0===e.col.index,h=1===e.$index||0===e.$index,p=e.$index===e.renderedColumns.length-1||e.$index===e.renderedColumns.length-2,f=u.indexOf(e.col)===u.length-1,g=c.indexOf(e.col)===c.length-1;if(37===o||9===o&&i.shiftKey){var m=0;d||(r-=1),h?d&&9===o&&i.shiftKey?(m=n.$canvas.width(),r=u.length-1,s=!0):m=n.$viewport.scrollLeft()-e.col.width:c.length>0&&(m=n.$viewport.scrollLeft()-u[r].width),n.$viewport.scrollLeft(m)}else(39===o||9===o&&!i.shiftKey)&&(p?f&&9===o&&!i.shiftKey?(n.$viewport.scrollLeft(0),r=e.showSelectionCheckbox?1:0,a=!0):n.$viewport.scrollLeft(n.$viewport.scrollLeft()+e.col.width):g&&n.$viewport.scrollLeft(0),f||(r+=1))}var v;v=e.configGroups.length>0?n.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):n.filteredRows;var y=0;if(0!==l&&(38===o||13===o&&i.shiftKey||9===o&&i.shiftKey&&s)?y=-1:l!==v.length-1&&(40===o||13===o&&!i.shiftKey||9===o&&a)&&(y=1),y){var b=v[l+y];b.beforeSelectionChange(b,i)&&(b.continueSelection(i),e.$emit("ngGridEventDigestGridParent"),e.selectionProvider.lastClickedRow.renderedRowIndex>=e.renderedRows.length-6-2?n.$viewport.scrollTop(n.$viewport.scrollTop()+e.rowHeight):8>=e.selectionProvider.lastClickedRow.renderedRowIndex&&n.$viewport.scrollTop(n.$viewport.scrollTop()-e.rowHeight))}return e.enableCellSelection&&setTimeout(function(){e.domAccessProvider.focusCellElement(e,e.renderedColumns.indexOf(u[r]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(0>(i=0>i?Math.ceil(i):Math.floor(i))&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],r=arguments[1],o=0;i>o;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&n.push(a)}return n}),p.filter("checkmark",function(){return function(e){return e?"":""}}),p.filter("ngColumns",function(){return function(e){return e.filter(function(e){return!e.isAggCol})}}),angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService","$window",function(e,i){var n={},r={};return n.eventStorage={},n.AssignGridContainers=function(e,i,r){r.$root=t(i),r.$topPanel=r.$root.find(".ngTopPanel"),r.$groupPanel=r.$root.find(".ngGroupPanel"),r.$headerContainer=r.$topPanel.find(".ngHeaderContainer"),e.$headerContainer=r.$headerContainer,r.$headerScroller=r.$topPanel.find(".ngHeaderScroller"),r.$headers=r.$headerScroller.children(),r.$viewport=r.$root.find(".ngViewport"),r.$canvas=r.$viewport.find(".ngCanvas"),r.$footerPanel=r.$root.find(".ngFooterPanel");var o=e.$watch(function(){return r.$viewport.scrollLeft()},function(e){return r.$headerContainer.scrollLeft(e)});e.$on("$destroy",function(){t(r.$root.parent()).off("resize.nggrid"),r.$root=null,r.$topPanel=null,r.$headerContainer=null,r.$headers=null,r.$canvas=null,r.$footerPanel=null,o()}),n.UpdateGridLayout(e,r)},n.getRealWidth=function(e){var i=0,n=e.parents().andSelf().not(":visible");return t.swap(n[0],{visibility:"hidden",display:"block"},function(){i=e.outerWidth()}),i},n.UpdateGridLayout=function(e,t){if(t.$root){var i=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width(),t.$root.is(":hidden")&&(t.elementDims.rootMaxW=n.getRealWidth(t.$root)),t.elementDims.rootMaxH=t.$root.height(),t.refreshDomSizes(),e.adjustScrollTop(i,!0)}},n.numberOfGrids=0,n.setStyleText=function(e,t){var n=e.styleSheet,r=e.gridId,o=i.document;n||(n=o.getElementById(r)),n||(n=o.createElement("style"),n.type="text/css",n.id=r,(o.head||o.getElementsByTagName("head")[0]).appendChild(n)),n.styleSheet&&!n.sheet?n.styleSheet.cssText=t:n.innerHTML=t,e.styleSheet=n,e.styleText=t},n.BuildStyles=function(e,t,i){var r,o=t.config.rowHeight,a=t.gridId,s=e.columns,l=0,u=e.totalRowWidth();r="."+a+" .ngCanvas { width: "+u+"px; }."+a+" .ngRow { width: "+u+"px; }."+a+" .ngCanvas { width: "+u+"px; }."+a+" .ngHeaderScroller { width: "+(u+n.ScrollH)+"px}";for(var c=0;s.length>c;c++){var d=s[c];!1!==d.visible&&(r+="."+a+" .col"+c+" { width: "+d.width+"px; left: "+l+"px; height: "+o+"px }."+a+" .colt"+c+" { width: "+d.width+"px; }",l+=d.width)}n.setStyleText(t,r),e.adjustScrollLeft(t.$viewport.scrollLeft()),i&&n.digest(e)},n.setColLeft=function(e,t,i){if(i.styleText){var o=r[e.index];o||(o=r[e.index]=RegExp(".col"+e.index+" { width: [0-9]+px; left: [0-9]+px"));var a=i.styleText.replace(o,".col"+e.index+" { width: "+e.width+"px; left: "+t+"px");n.setStyleText(i,a)}},n.setColLeft.immediate=1,n.RebuildGrid=function(e,t){n.UpdateGridLayout(e,t),(null==t.config.maintainColumnRatios||t.config.maintainColumnRatios)&&t.configureColumnWidths(),e.adjustScrollLeft(t.$viewport.scrollLeft()),n.BuildStyles(e,t,!0)},n.digest=function(e){e.$root.$$phase||e.$digest()},n.ScrollH=17,n.ScrollW=17,n.LetterW=10,function(){var e=t("<div></div>");e.appendTo("body"),e.height(100).width(100).css("position","absolute").css("overflow","scroll"),e.append('<div style="height: 400px; width: 400px;"></div>'),n.ScrollH=e.height()-e[0].clientHeight,n.ScrollW=e.width()-e[0].clientWidth,e.empty(),e.attr("style",""),e.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),n.LetterW=e.children().first().width(),e.remove()}(),n}]),angular.module("ngGrid.services").factory("$sortService",["$parse",function(e){var t={};return t.colSortFnCache={},t.isCustomSort=!1,t.guessSortFn=function(e){switch(typeof e){case"number":return t.sortNumber;case"boolean":return t.sortBool;case"string":return e.match(/^[-+]?[$]?[\d,.]+%?$/)?t.sortNumberStr:t.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?t.sortDate:t.basicSort}},t.basicSort=function(e,t){return e===t?0:t>e?-1:1},t.sortNumber=function(e,t){return e-t},t.sortNumberStr=function(e,t){var i,n,r=!1,o=!1;return i=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(i)&&(r=!0),n=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(n)&&(o=!0),r&&o?0:r?1:o?-1:i-n},t.sortAlpha=function(e,t){var i=e.toLowerCase(),n=t.toLowerCase();return i===n?0:n>i?-1:1},t.sortDate=function(e,t){var i=e.getTime(),n=t.getTime();return i===n?0:n>i?-1:1},t.sortBool=function(e,t){return e&&t?0:e||t?e?1:-1:0},t.sortData=function(i,n){if(n&&i){var r,o,a=i.fields.length,s=i.fields,l=n.slice(0);n.sort(function(n,u){for(var c,d,h=0,p=0;0===h&&a>p;){r=i.columns[p],o=i.directions[p],d=t.getSortFn(r,l);var f=e(s[p])(n),g=e(s[p])(u);t.isCustomSort?(c=d(f,g),h="asc"===o?c:0-c):!f&&0!==f||!g&&0!==g?g||f?f?g||(h=-1):h=1:h=0:(c=d(f,g),h="asc"===o?c:0-c),p++}return h})}},t.Sort=function(e,i){t.isSorting||(t.isSorting=!0,t.sortData(e,i),t.isSorting=!1)},t.getSortFn=function(i,n){var r,o;if(t.colSortFnCache[i.field])r=t.colSortFnCache[i.field];else if(void 0!==i.sortingAlgorithm)r=i.sortingAlgorithm,t.colSortFnCache[i.field]=i.sortingAlgorithm,t.isCustomSort=!0;else{if(!(o=n[0]))return r;(r=t.guessSortFn(e(i.field)(o)))?t.colSortFnCache[i.field]=r:r=t.sortAlpha}return r},t}]),angular.module("ngGrid.services").factory("$utilityService",["$parse",function(i){var n=/function (.{1,})\(/;return{visualLength:function(e){var i=document.getElementById("testDataLength");i||(i=document.createElement("SPAN"),i.id="testDataLength",i.style.visibility="hidden",document.body.appendChild(i));var n=t(e);t(i).css({font:n.css("font"),"font-size":n.css("font-size"),"font-family":n.css("font-family")}),i.innerHTML=n.text();var r=i.offsetWidth;return document.body.removeChild(i),r},forIn:function(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},evalProperty:function(e,t){return i("entity."+t)({entity:e})},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},isNullOrUndefined:function(e){return void 0===e||null===e},getElementsByClassName:function(e){if(document.getElementsByClassName)return document.getElementsByClassName(e);for(var t=[],i=RegExp("\\b"+e+"\\b"),n=document.getElementsByTagName("*"),r=0;n.length>r;r++){var o=n[r].className;i.test(o)&&t.push(n[r])}return t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),seti18n:function(t,i){var n=e.ngGrid.i18n[i];for(var r in n)t.i18n[r]=n[r]},getInstanceType:function(e){var t=n.exec(""+e.constructor);if(t&&t.length>1){return t[1].replace(/^\s+|\s+$/g,"")}return""}}}]);var g=function(e,t,i,n){this.rowIndex=0,this.offsetTop=this.rowIndex*i,this.entity=e,this.label=e.gLabel,this.field=e.gField,this.depth=e.gDepth,this.parent=e.parent,this.children=e.children,this.aggChildren=e.aggChildren,this.aggIndex=e.aggIndex,this.collapsed=n,this.groupInitState=n,this.rowFactory=t,this.rowHeight=i,this.isAggRow=!0,this.offsetLeft=25*e.gDepth,this.aggLabelFilter=e.aggLabelFilter};g.prototype.toggleExpand=function(){this.collapsed=!this.collapsed,this.orig&&(this.orig.collapsed=this.collapsed),this.notifyChildren()},g.prototype.setExpand=function(e){this.collapsed=e,this.notifyChildren()},g.prototype.notifyChildren=function(){for(var e=Math.max(this.rowFactory.aggCache.length,this.children.length),t=0;e>t;t++)if(this.aggChildren[t]&&(this.aggChildren[t].entity[r]=this.collapsed,this.collapsed&&this.aggChildren[t].setExpand(this.collapsed)),this.children[t]&&(this.children[t][r]=this.collapsed),t>this.aggIndex&&this.rowFactory.aggCache[t]){var i=this.rowFactory.aggCache[t],n=30*this.children.length;i.offsetTop=this.collapsed?i.offsetTop-n:i.offsetTop+n}this.rowFactory.renderedChange()},g.prototype.aggClass=function(){return this.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"},g.prototype.totalChildren=function(){if(this.aggChildren.length>0){var e=0,t=function(i){i.aggChildren.length>0?angular.forEach(i.aggChildren,function(e){t(e)}):e+=i.children.length};return t(this),e}return this.children.length},g.prototype.copy=function(){var e=new g(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);return e.orig=this,e};var m=function(e,i,n,r,o,s){var l=this,u=e.colDef,c=0,h=null;l.colDef=e.colDef,l.width=u.width,l.groupIndex=0,l.isGroupedBy=!1,l.minWidth=u.minWidth?u.minWidth:50,l.maxWidth=u.maxWidth?u.maxWidth:9e3,l.enableCellEdit=void 0!==u.enableCellEdit?u.enableCellEdit:e.enableCellEdit||e.enableCellEditOnFocus,l.cellEditableCondition=u.cellEditableCondition||e.cellEditableCondition||"true",l.headerRowHeight=e.headerRowHeight,l.displayName=void 0===u.displayName?u.field:u.displayName,l.index=e.index,l.isAggCol=e.isAggCol,l.cellClass=u.cellClass,l.sortPriority=void 0,l.cellFilter=u.cellFilter?u.cellFilter:"",l.field=u.field,l.aggLabelFilter=u.aggLabelFilter||u.cellFilter,l.visible=s.isNullOrUndefined(u.visible)||u.visible,l.sortable=!1,l.resizable=!1,l.pinnable=!1,l.pinned=e.enablePinning&&u.pinned,l.originalIndex=null==e.originalIndex?l.index:e.originalIndex,l.groupable=s.isNullOrUndefined(u.groupable)||u.groupable,e.enableSort&&(l.sortable=s.isNullOrUndefined(u.sortable)||u.sortable),e.enableResize&&(l.resizable=s.isNullOrUndefined(u.resizable)||u.resizable),e.enablePinning&&(l.pinnable=s.isNullOrUndefined(u.pinnable)||u.pinnable),l.sortDirection=void 0,l.sortingAlgorithm=u.sortFn,l.headerClass=u.headerClass,l.cursor=l.sortable?"pointer":"default",l.headerCellTemplate=u.headerCellTemplate||o.get("headerCellTemplate.html"),l.cellTemplate=u.cellTemplate||o.get("cellTemplate.html").replace(a,l.cellFilter?"|"+l.cellFilter:""),l.enableCellEdit&&(l.cellEditTemplate=u.cellEditTemplate||o.get("cellEditTemplate.html"),l.editableCellTemplate=u.editableCellTemplate||o.get("editableCellTemplate.html")),u.cellTemplate&&!d.test(u.cellTemplate)&&(l.cellTemplate=o.get(u.cellTemplate)||t.ajax({type:"GET",url:u.cellTemplate,async:!1}).responseText),l.enableCellEdit&&u.editableCellTemplate&&!d.test(u.editableCellTemplate)&&(l.editableCellTemplate=o.get(u.editableCellTemplate)||t.ajax({type:"GET",url:u.editableCellTemplate,async:!1}).responseText),u.headerCellTemplate&&!d.test(u.headerCellTemplate)&&(l.headerCellTemplate=o.get(u.headerCellTemplate)||t.ajax({type:"GET",url:u.headerCellTemplate,async:!1}).responseText),l.colIndex=function(){var e=l.pinned?"pinned ":"";return e+="col"+l.index+" colt"+l.index,l.cellClass&&(e+=" "+l.cellClass),e},l.groupedByClass=function(){return l.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},l.toggleVisible=function(){l.visible=!l.visible},l.showSortButtonUp=function(){return l.sortable?"desc"===l.sortDirection:l.sortable},l.showSortButtonDown=function(){return l.sortable?"asc"===l.sortDirection:l.sortable},l.noSortVisible=function(){return!l.sortDirection},l.sort=function(t){if(!l.sortable)return!0;var i="asc"===l.sortDirection?"desc":"asc";return l.sortDirection=i,e.sortCallback(l,t),!1},l.gripClick=function(){1===++c?h=setTimeout(function(){c=0},500):(clearTimeout(h),e.resizeOnDataCallback(l),c=0)},l.gripOnMouseDown=function(e){return i.isColumnResizing=!0,e.ctrlKey&&!l.pinned?(l.toggleVisible(),r.BuildStyles(i,n),!0):(e.target.parentElement.style.cursor="col-resize",l.startMousePosition=e.clientX,l.origWidth=l.width,t(document).mousemove(l.onMouseMove),t(document).mouseup(l.gripOnMouseUp),!1)},l.onMouseMove=function(e){var t=e.clientX-l.startMousePosition+l.origWidth;return l.width=l.minWidth>t?l.minWidth:t>l.maxWidth?l.maxWidth:t,i.hasUserChangedGridColumnWidths=!0,r.BuildStyles(i,n),!1},l.gripOnMouseUp=function(e){return t(document).off("mousemove",l.onMouseMove),t(document).off("mouseup",l.gripOnMouseUp),e.target.parentElement.style.cursor="default",r.digest(i),i.isColumnResizing=!1,!1},l.copy=function(){var t=new m(e,i,n,r,o,s);return t.isClone=!0,t.orig=l,t},l.setVars=function(e){l.orig=e,l.width=e.width,l.groupIndex=e.groupIndex,l.isGroupedBy=e.isGroupedBy,l.displayName=e.displayName,l.index=e.index,l.isAggCol=e.isAggCol,l.cellClass=e.cellClass,l.cellFilter=e.cellFilter,l.field=e.field,l.aggLabelFilter=e.aggLabelFilter,l.visible=e.visible,l.sortable=e.sortable,l.resizable=e.resizable,l.pinnable=e.pinnable,l.pinned=e.pinned,l.originalIndex=e.originalIndex,l.sortDirection=e.sortDirection,l.sortingAlgorithm=e.sortingAlgorithm,l.headerClass=e.headerClass,l.headerCellTemplate=e.headerCellTemplate,l.cellTemplate=e.cellTemplate,l.cellEditTemplate=e.cellEditTemplate}},v=function(e){this.outerHeight=null,this.outerWidth=null,t.extend(this,e)},y=function(e){this.previousColumn=null,this.grid=e};y.prototype.changeUserSelect=function(e,t){e.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"===t?"-moz-none":t,"-ms-user-select":t,"user-select":t})},y.prototype.focusCellElement=function(e,t){if(e.selectionProvider.lastClickedRow){var i=void 0!==t?t:this.previousColumn,n=e.selectionProvider.lastClickedRow.clone?e.selectionProvider.lastClickedRow.clone.elm:e.selectionProvider.lastClickedRow.elm;if(void 0!==i&&n){var r=angular.element(n[0].children).filter(function(){return 8!==this.nodeType}),o=Math.max(Math.min(e.renderedColumns.length-1,i),0);this.grid.config.showSelectionCheckbox&&angular.element(r[o]).scope()&&0===angular.element(r[o]).scope().col.index&&(o=1),r[o]&&r[o].children[1].children[0].focus(),this.previousColumn=i}}},y.prototype.selectionHandlers=function(e,t){function i(i){if(16===i.keyCode)return o.changeUserSelect(t,"none",i),!0;if(!r){r=!0;var n=f(e,t,i,o.grid);return r=!1,n}return!0}function n(e){return 16===e.keyCode&&o.changeUserSelect(t,"text",e),!0}var r=!1,o=this;t.bind("keydown",i),t.bind("keyup",n),t.on("$destroy",function(){t.off("keydown",i),t.off("keyup",n)})};var b=function(e,t){this.topRow=e,this.bottomRow=t},w=function(e,t,i,n,r){this.entity=e,this.config=t,this.selectionProvider=i,this.rowIndex=n,this.utils=r,this.selected=i.getSelection(e),this.cursor=this.config.enableRowSelection&&!this.config.selectWithCheckboxOnly?"pointer":"default",this.beforeSelectionChange=t.beforeSelectionChangeCallback,this.afterSelectionChange=t.afterSelectionChangeCallback,this.offsetTop=this.rowIndex*t.rowHeight,this.rowDisplayIndex=0};w.prototype.setSelection=function(e){this.selectionProvider.setSelection(this,e),this.selectionProvider.lastClickedRow=this},w.prototype.continueSelection=function(e){this.selectionProvider.ChangeSelection(this,e)},w.prototype.ensureEntity=function(e){this.entity!==e&&(this.entity=e,this.selected=this.selectionProvider.getSelection(this.entity))},w.prototype.toggleSelected=function(e){if(!this.config.enableRowSelection&&!this.config.enableCellSelection)return!0;var t=e.target||e;return"checkbox"===t.type&&"ngSelectionCell ng-scope"!==t.parentElement.className||(this.config.selectWithCheckboxOnly&&"checkbox"!==t.type?(this.selectionProvider.lastClickedRow=this,!0):(this.beforeSelectionChange(this,e)&&this.continueSelection(e),!1))},w.prototype.alternatingRowClass=function(){var e=0==this.rowIndex%2;return{ngRow:!0,selected:this.selected,even:e,odd:!e,"ui-state-default":this.config.jqueryUITheme&&e,"ui-state-active":this.config.jqueryUITheme&&!e}},w.prototype.getProperty=function(e){return this.utils.evalProperty(this.entity,e)},w.prototype.copy=function(){return this.clone=new w(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils),this.clone.isClone=!0,this.clone.elm=this.elm,this.clone.orig=this,this.clone},w.prototype.setVars=function(e){e.clone=this,this.entity=e.entity,this.selected=e.selected,this.orig=e};var x=function(e,t,a,s,l){var u=this;u.aggCache={},u.parentCache=[],u.dataChanged=!0,u.parsedData=[],u.rowConfig={},u.selectionProvider=t.selectionProvider,u.rowHeight=30,u.numberOfAggregates=0,u.groupedData=void 0,u.rowHeight=e.config.rowHeight,u.rowConfig={enableRowSelection:e.config.enableRowSelection,rowClasses:e.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:e.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:e.config.beforeSelectionChange,afterSelectionChangeCallback:e.config.afterSelectionChange,jqueryUITheme:e.config.jqueryUITheme,enableCellSelection:e.config.enableCellSelection,rowHeight:e.config.rowHeight},u.renderedRange=new b(0,e.minRowsToRender()+6),u.buildEntityRow=function(e,t){return new w(e,u.rowConfig,u.selectionProvider,t,l)},u.buildAggregateRow=function(t,i){var n=u.aggCache[t.aggIndex];return n||(n=new g(t,u,u.rowConfig.rowHeight,e.config.groupsCollapsedByDefault),u.aggCache[t.aggIndex]=n),n.rowIndex=i,n.offsetTop=i*u.rowConfig.rowHeight,n},u.UpdateViewableRange=function(e){u.renderedRange=e,u.renderedChange()},u.filteredRowsChanged=function(){e.lateBoundColumns&&e.filteredRows.length>0&&(e.config.columnDefs=void 0,e.buildColumns(),e.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)})),u.dataChanged=!0,e.config.groups.length>0&&u.getGrouping(e.config.groups),u.UpdateViewableRange(u.renderedRange)},u.renderedChange=function(){if(!u.groupedData||1>e.config.groups.length)return u.renderedChangeNoGroups(),void e.refreshDomSizes();u.wasGrouped=!0,u.parentCache=[];var t=0,i=u.parsedData.filter(function(e){return e.isAggRow?!e.parent||!e.parent.collapsed:(e[r]||(e.rowIndex=t++),!e[r])});u.totalRows=i.length;for(var n=[],o=u.renderedRange.topRow;u.renderedRange.bottomRow>o;o++)i[o]&&(i[o].offsetTop=o*e.config.rowHeight,n.push(i[o]));e.setRenderedRows(n)},u.renderedChangeNoGroups=function(){for(var t=[],i=u.renderedRange.topRow;u.renderedRange.bottomRow>i;i++)e.filteredRows[i]&&(e.filteredRows[i].rowIndex=i,e.filteredRows[i].offsetTop=i*e.config.rowHeight,t.push(e.filteredRows[i]));e.setRenderedRows(t)},u.fixRowCache=function(){var t=e.data.length;if(0>t-e.rowCache.length)e.rowCache.length=e.rowMap.length=t;else for(var i=e.rowCache.length;t>i;i++)e.rowCache[i]=e.rowFactory.buildEntityRow(e.data[i],i)},u.parseGroupData=function(e){if(e.values)for(var t=0;e.values.length>t;t++)u.parentCache[u.parentCache.length-1].children.push(e.values[t]),u.parsedData.push(e.values[t]);else for(var r in e)if(r!==i&&r!==n&&r!==o&&e.hasOwnProperty(r)){var a=u.buildAggregateRow({gField:e[i],gLabel:r,gDepth:e[n],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:u.numberOfAggregates,aggLabelFilter:e[o].aggLabelFilter},0);u.numberOfAggregates++,a.parent=u.parentCache[a.depth-1],a.parent&&(a.parent.collapsed=!1,a.parent.aggChildren.push(a)),u.parsedData.push(a),u.parentCache[a.depth]=a,u.parseGroupData(e[r])}},u.getGrouping=function(c){function d(e,t){return e.filter(function(e){return e.field===t})}u.aggCache=[],u.numberOfAggregates=0,u.groupedData={};for(var h=e.filteredRows,p=c.length,f=t.columns,g=0;h.length>g;g++){var v=h[g].entity;if(!v)return;h[g][r]=e.config.groupsCollapsedByDefault;for(var y=u.groupedData,b=0;c.length>b;b++){var w=c[b],x=d(f,w)[0],_=l.evalProperty(v,w);y[_=_?""+_:"null"]||(y[_]={}),y[i]||(y[i]=w),y[n]||(y[n]=b),y[o]||(y[o]=x),y=y[_]}y.values||(y.values=[]),y.values.push(h[g])}if(f.length>0)for(var C=0;c.length>C;C++)!f[C].isAggCol&&p>=C&&f.splice(0,0,new m({colDef:{field:"",width:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:e.config.pinSelectionCheckbox},enablePinning:e.config.enablePinning,isAggCol:!0,headerRowHeight:e.config.headerRowHeight},t,e,a,s,l));e.fixColumnIndexes(),t.adjustScrollLeft(0),u.parsedData.length=0,u.parseGroupData(u.groupedData),u.fixRowCache()},e.config.groups.length>0&&e.filteredRows.length>0&&u.getGrouping(e.config.groups)},_=function(e,i,n){var r=this,o=[];r.extFilter=i.config.filterOptions.useExternalFilter,e.showFilter=i.config.showFilter,e.filterText="",r.fieldMap={};var a=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i.toLowerCase()]=e[i]);return t},s=function(e,t,i){var r;for(var o in t)if(t.hasOwnProperty(o)){var l=i[o.toLowerCase()];if(!l)continue;var u=t[o];if("object"!=typeof u||u instanceof Date){var c=null,d=null;if(l&&l.cellFilter&&(d=l.cellFilter.split(":"),c=n(d[0])),null!==u&&void 0!==u){if("function"==typeof c){var h=""+c(u,d[1].slice(1,-1));r=e.regex.test(h)}else r=e.regex.test(""+u);if(r)return!0}}else{var p=a(l);if(r=s(e,u,p))return!0}}return!1},l=function(e,t){var i,o=r.fieldMap[e.columnDisplay];if(!o)return!1;var a=o.cellFilter.split(":"),s=o.cellFilter?n(a[0]):null,l=t[e.column]||t[o.field.split(".")[0]];if(null===l||void 0===l)return!1;if("function"==typeof s){var c=""+s("object"==typeof l?u(l,o.field):l,a[1]);i=e.regex.test(c)}else i=e.regex.test("object"==typeof l?""+u(l,o.field):""+l);return!!i};r.evalFilter=function(){i.filteredRows=0===o.length?i.rowCache:i.rowCache.filter(function(e){return function(e){for(var t=0,i=o.length;i>t;t++){var n=o[t];if(!(n.column?l(n,e):s(n,e,r.fieldMap)))return!1}return!0}(e.entity)});for(var e=0;i.filteredRows.length>e;e++)i.filteredRows[e].rowIndex=e;i.rowFactory.filteredRowsChanged()};var u=function(e,t){if("object"!=typeof e||"string"!=typeof t)return e;var i=t.split("."),n=e;if(i.length>1){for(var r=1,o=i.length;o>r;r++)if(n=n[i[r]],!n)return e;return n}return e},c=function(e,t){try{return RegExp(e,t)}catch(t){return RegExp(e.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}};r.extFilter||e.$on("$destroy",e.$watch("columns",function(e){for(var t=0;e.length>t;t++){var i=e[t];if(i.field)if(i.field.match(/\./g)){for(var n=i.field.split("."),o=r.fieldMap,a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];o[n[n.length-1]]=i}else r.fieldMap[i.field.toLowerCase()]=i;i.displayName&&(r.fieldMap[i.displayName.toLowerCase().replace(/\s+/g,"")]=i)}})),e.$on("$destroy",e.$watch(function(){return i.config.filterOptions.filterText},function(t){e.filterText=t})),e.$on("$destroy",e.$watch("filterText",function(i){r.extFilter||(e.$emit("ngGridEventFilter",i),function(e){o=[];var i;if(i=t.trim(e))for(var n=i.split(";"),r=0;n.length>r;r++){var a=n[r].split(":");if(a.length>1){var s=t.trim(a[0]),l=t.trim(a[1]);s&&l&&o.push({column:s,columnDisplay:s.replace(/\s+/g,"").toLowerCase(),regex:c(l,"i")})}else{var u=t.trim(a[0]);u&&o.push({column:"",regex:c(u,"i")})}}}(i),r.evalFilter())}))},C=function(e,t,i){var n=this;n.multi=e.config.multiSelect,n.selectedItems=e.config.selectedItems,n.selectedIndex=e.config.selectedIndex,n.lastClickedRow=void 0,n.ignoreSelectedItemChanges=!1,n.pKeyParser=i(e.config.primaryKey),n.ChangeSelection=function(i,r){var o=r.which||r.keyCode,a=40===o||38===o;if(r&&r.shiftKey&&!r.keyCode&&n.multi&&e.config.enableRowSelection){if(n.lastClickedRow){var s;s=t.configGroups.length>0?e.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):e.filteredRows;var l=i.rowIndex,u=n.lastClickedRowIndex;if(l===u)return!1;u>l?(l^=u,l^=u^=l,l--):u++;for(var c=[];l>=u;u++)c.push(s[u]);if(c[c.length-1].beforeSelectionChange(c,r)){for(var d=0;c.length>d;d++){var h=c[d],p=h.selected;h.selected=!p,h.clone&&(h.clone.selected=h.selected);var f=n.selectedItems.indexOf(h.entity);-1===f?n.selectedItems.push(h.entity):n.selectedItems.splice(f,1)}c[c.length-1].afterSelectionChange(c,r)}return n.lastClickedRow=i,n.lastClickedRowIndex=i.rowIndex,!0}}else n.multi?(!r.keyCode||a&&!e.config.selectWithCheckboxOnly)&&n.setSelection(i,!i.selected):n.lastClickedRow===i?n.setSelection(n.lastClickedRow,!!e.config.keepLastSelected||!i.selected):(n.lastClickedRow&&n.setSelection(n.lastClickedRow,!1),n.setSelection(i,!i.selected));return n.lastClickedRow=i,n.lastClickedRowIndex=i.rowIndex,!0},n.getSelection=function(e){return-1!==n.getSelectionIndex(e)},n.getSelectionIndex=function(t){var i=-1;if(e.config.primaryKey){var r=n.pKeyParser(t);angular.forEach(n.selectedItems,function(e,t){r===n.pKeyParser(e)&&(i=t)})}else i=n.selectedItems.indexOf(t);return i},n.setSelection=function(t,i){if(e.config.enableRowSelection){if(i)-1===n.getSelectionIndex(t.entity)&&(!n.multi&&n.selectedItems.length>0&&n.toggleSelectAll(!1,!0),n.selectedItems.push(t.entity));else{var r=n.getSelectionIndex(t.entity);-1!==r&&n.selectedItems.splice(r,1)}t.selected=i,t.orig&&(t.orig.selected=i),t.clone&&(t.clone.selected=i),t.afterSelectionChange(t)}},n.toggleSelectAll=function(t,i,r){var o=r?e.filteredRows:e.rowCache;if(i||e.config.beforeSelectionChange(o,t)){n.selectedItems.length>0&&(n.selectedItems.length=0);for(var a=0;o.length>a;a++)o[a].selected=t,o[a].clone&&(o[a].clone.selected=t),t&&n.selectedItems.push(o[a].entity);i||e.config.afterSelectionChange(o,t)}}},S=function(e,t){e.headerCellStyle=function(e){return{height:e.headerRowHeight+"px"}},e.rowStyle=function(t){var i={top:t.offsetTop+"px",height:e.rowHeight+"px"};return t.isAggRow&&(i.left=t.offsetLeft),i},e.canvasStyle=function(){return{height:t.maxCanvasHt+"px"}},e.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}},e.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.topPanelHeight()+"px"}},e.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}},e.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}},e.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.viewportDimHeight()+"px"}},e.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.footerRowHeight+"px"}}};h.directive("ngCellHasFocus",["$domUtilityService",function(e){var t=function(t){t.isFocused=!0,e.digest(t),t.$broadcast("ngGridEventStartCellEdit"),t.$emit("ngGridEventStartCellEdit"),t.$on("$destroy",t.$on("ngGridEventEndCellEdit",function(){t.isFocused=!1,e.digest(t)}))};return function(e,i){function n(){return e.enableCellEditOnFocus?u=!0:i.focus(),!0}function r(n){e.enableCellEditOnFocus&&(n.preventDefault(),u=!1,t(e,i))}function o(){return l=!0,e.enableCellEditOnFocus&&!u&&t(e,i),!0}function a(){return l=!1,!0}function s(n){return e.enableCellEditOnFocus||(l&&37!==n.keyCode&&38!==n.keyCode&&39!==n.keyCode&&40!==n.keyCode&&9!==n.keyCode&&!n.shiftKey&&13!==n.keyCode&&t(e,i),l&&n.shiftKey&&n.keyCode>=65&&90>=n.keyCode&&t(e,i),27===n.keyCode&&i.focus()),!0}var l=!1,u=!1;e.editCell=function(){e.enableCellEditOnFocus||setTimeout(function(){t(e,i)},0)},i.bind("mousedown",n),i.bind("click",r),i.bind("focus",o),i.bind("blur",a),i.bind("keydown",s),i.on("$destroy",function(){i.off("mousedown",n),i.off("click",r),i.off("focus",o),i.off("blur",a),i.off("keydown",s)})}}]),h.directive("ngCellText",function(){return function(e,t){function i(e){e.preventDefault()}function n(e){e.preventDefault()}t.bind("mouseover",i),t.bind("mouseleave",n),t.on("$destroy",function(){t.off("mouseover",i),t.off("mouseleave",n)})}}),h.directive("ngCell",["$compile","$domUtilityService",function(e,i){return{scope:!1,compile:function(){return{pre:function(i,n){var r,o=i.col.cellTemplate.replace(s,"row.entity."+i.col.field);i.col.enableCellEdit?r=(r=(r=(r=i.col.cellEditTemplate).replace(c,i.col.cellEditableCondition)).replace(l,o)).replace(u,i.col.editableCellTemplate.replace(s,"row.entity."+i.col.field)):r=o;var a=t(r);n.append(a),e(a)(i),i.enableCellSelection&&-1===a[0].className.indexOf("ngSelectionCell")&&(a[0].setAttribute("tabindex",0),a.addClass("ngCellElement"))},post:function(e,t){e.enableCellSelection&&e.domAccessProvider.selectionHandlers(e,t),e.$on("$destroy",e.$on("ngGridEventDigestCell",function(){i.digest(e)}))}}}}}]),h.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,i){return function(e,t,n){var r,o;e.$on("$destroy",e.$watch(n.ngEditCellIf,function(n){r&&(r.remove(),r=void 0),o&&(o.$destroy(),o=void 0),n&&(o=e.$new(),i(o,function(e){r=e,t.after(e)}))}))}}}}]),h.directive("ngGridFooter",["$compile","$templateCache",function(e,t){return{scope:!1,compile:function(){return{pre:function(i,n){0===n.children().length&&n.append(e(t.get(i.gridId+"footerTemplate.html"))(i))}}}}}]),h.directive("ngGridMenu",["$compile","$templateCache",function(e,t){return{scope:!1,compile:function(){return{pre:function(i,n){0===n.children().length&&n.append(e(t.get(i.gridId+"menuTemplate.html"))(i))}}}}}]),h.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(i,n,o,a,s,l,u,c,h,p){return{scope:!0,compile:function(){return{pre:function(f,g,w){var k=t(g),$=f.$eval(w.ngGrid);$.gridDim=new v({outerHeight:t(k).height(),outerWidth:t(k).width()});var E=new function(i,n,o,a,s,l,u,c,h,p,f){var g=this;g.maxCanvasHt=0,g.config=t.extend({aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellEditOnFocus:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,forceSyncScrolling:!0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50,noTabInterference:!1},e.ngGrid.config,n),g.config.showSelectionCheckbox=g.config.showSelectionCheckbox&&!1===g.config.enableColumnHeavyVirt,g.config.enablePinning=g.config.enablePinning&&!1===g.config.enableColumnHeavyVirt,g.config.selectWithCheckboxOnly=g.config.selectWithCheckboxOnly&&!1!==g.config.showSelectionCheckbox,g.config.pinSelectionCheckbox=g.config.enablePinning,"string"==typeof n.columnDefs&&(g.config.columnDefs=i.$eval(n.columnDefs)),g.rowCache=[],g.rowMap=[],g.gridId="ng"+u.newId(),g.$root=null,g.$groupPanel=null,g.$topPanel=null,g.$headerContainer=null,g.$headerScroller=null,g.$headers=null,g.$viewport=null,g.$canvas=null,g.rootDim=g.config.gridDim,g.data=[],g.lateBindColumns=!1,g.filteredRows=[],g.initTemplates=function(){var e=[];return angular.forEach(["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],function(t){e.push(g.getTemplate(t))}),f.all(e)},g.getTemplate=function(e){var t=g.config[e],i=g.gridId+e+".html",n=f.defer();if(t&&!d.test(t))p.get(t,{cache:l}).success(function(e){l.put(i,e),n.resolve()}).error(function(){n.reject("Could not load template: "+t)});else if(t)l.put(i,t),n.resolve();else{var r=e+".html";l.put(i,l.get(r)),n.resolve()}return n.promise},"object"==typeof g.config.data&&(g.data=g.config.data),g.calcMaxCanvasHeight=function(){return g.config.groups.length>0?g.rowFactory.parsedData.filter(function(e){return!e[r]}).length*g.config.rowHeight:g.filteredRows.length*g.config.rowHeight},g.elementDims={scrollW:0,scrollH:0,rowIndexCellW:25,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0},g.setRenderedRows=function(e){i.renderedRows.length=e.length;for(var t=0;e.length>t;t++)!i.renderedRows[t]||e[t].isAggRow||i.renderedRows[t].isAggRow?(i.renderedRows[t]=e[t].copy(),i.renderedRows[t].collapsed=e[t].collapsed,e[t].isAggRow||i.renderedRows[t].setVars(e[t])):i.renderedRows[t].setVars(e[t]),i.renderedRows[t].rowIndex=e[t].rowIndex,i.renderedRows[t].offsetTop=e[t].offsetTop,i.renderedRows[t].selected=e[t].selected,e[t].renderedRowIndex=t;g.refreshDomSizes(),i.$emit("ngGridEventRows",e)},g.minRowsToRender=function(){var e=i.viewportDimHeight()||1;return Math.floor(e/g.config.rowHeight)},g.refreshDomSizes=function(){var e=new v;e.outerWidth=g.elementDims.rootMaxW,e.outerHeight=g.elementDims.rootMaxH,g.rootDim=e,g.maxCanvasHt=g.calcMaxCanvasHeight()},g.buildColumnDefsFromData=function(){g.config.columnDefs=[];var e=g.data[0];return e?void u.forIn(e,function(e,t){-1===g.config.excludeProperties.indexOf(t)&&g.config.columnDefs.push({field:t})}):void(g.lateBoundColumns=!0)},g.buildColumns=function(){var e=g.config.columnDefs,t=[];if(e||(g.buildColumnDefsFromData(),e=g.config.columnDefs),g.config.showSelectionCheckbox&&t.push(new m({colDef:{field:"",width:g.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:l.get(i.gridId+"checkboxHeaderTemplate.html"),cellTemplate:l.get(i.gridId+"checkboxCellTemplate.html"),pinned:g.config.pinSelectionCheckbox},index:0,headerRowHeight:g.config.headerRowHeight,sortCallback:g.sortData,resizeOnDataCallback:g.resizeOnData,enableResize:g.config.enableColumnResize,enableSort:g.config.enableSorting,enablePinning:g.config.enablePinning},i,g,a,l,u)),e.length>0){var n=g.config.showSelectionCheckbox?1:0,r=i.configGroups.length;i.configGroups.length=0,angular.forEach(e,function(e,o){var s=new m({colDef:e,index:(o+=n)+r,originalIndex:o,headerRowHeight:g.config.headerRowHeight,sortCallback:g.sortData,resizeOnDataCallback:g.resizeOnData,enableResize:g.config.enableColumnResize,enableSort:g.config.enableSorting,enablePinning:g.config.enablePinning,enableCellEdit:g.config.enableCellEdit||g.config.enableCellEditOnFocus,cellEditableCondition:g.config.cellEditableCondition},i,g,a,l,u),c=g.config.groups.indexOf(e.field);-1!==c&&(s.isGroupedBy=!0,i.configGroups.splice(c,0,s),s.groupIndex=i.configGroups.length),t.push(s)}),i.columns=t,g.config.groups.length>0&&g.rowFactory.getGrouping(g.config.groups)}},g.configureColumnWidths=function(){var e=[],t=[],n=0,r=0,o={};if(angular.forEach(i.columns,function(e,t){if(!u.isNullOrUndefined(e.originalIndex)){var i=e.originalIndex;g.config.showSelectionCheckbox&&(0===e.originalIndex&&e.visible&&(r+=25),i--),o[i]=t}}),angular.forEach(g.config.columnDefs,function(a,s){var l=i.columns[o[s]];a.index=s;var c,d=!1;if(u.isNullOrUndefined(a.width)?a.width="*":c=(d=!!isNaN(a.width)&&u.endsWith(a.width,"%"))?a.width:parseInt(a.width,10),isNaN(c)&&!i.hasUserChangedGridColumnWidths){if("auto"===(c=a.width)){l.width=l.minWidth,r+=l.width;var h=l;return void i.$on("$destroy",i.$on("ngGridEventData",function(){g.resizeOnData(h)}))}if(-1!==c.indexOf("*"))return!1!==l.visible&&(n+=c.length),void e.push(a);if(d)return void t.push(a);throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}!1!==l.visible&&(r+=l.width=parseInt(l.width,10))}),t.length>0){g.config.maintainColumnRatios=!1!==g.config.maintainColumnRatios;var s=0,l=0;angular.forEach(t,function(e){var t=i.columns[o[e.index]],n=parseFloat(e.width)/100;s+=n,t.visible||(l+=n)});var c=s-l;angular.forEach(t,function(e){var t=i.columns[o[e.index]],n=parseFloat(e.width)/100;n/=l>0?c:s;var a=g.rootDim.outerWidth*s;t.width=a*n,r+=t.width})}if(e.length>0){g.config.maintainColumnRatios=!1!==g.config.maintainColumnRatios;var d=g.rootDim.outerWidth-r;g.maxCanvasHt>i.viewportDimHeight()&&(d-=a.ScrollW);var h=Math.floor(d/n);angular.forEach(e,function(t,n){var s=i.columns[o[t.index]];if(s.width=h*t.width.length,!1!==s.visible&&(r+=s.width),n===e.length-1&&g.rootDim.outerWidth>r){var l=g.rootDim.outerWidth-r;g.maxCanvasHt>i.viewportDimHeight()&&(l-=a.ScrollW),s.width+=l}})}},g.init=function(){return g.initTemplates().then(function(){i.selectionProvider=new C(g,i,h),i.domAccessProvider=new y(g),g.rowFactory=new x(g,i,a,l,u),g.searchProvider=new _(i,g,s),g.styleProvider=new S(i,g),i.$on("$destroy",i.$watch("configGroups",function(e){var t=[];angular.forEach(e,function(e){t.push(e.field||e)}),g.config.groups=t,g.rowFactory.filteredRowsChanged(),i.$emit("ngGridEventGroups",e)},!0)),i.$on("$destroy",i.$watch("columns",function(e){i.isColumnResizing||a.RebuildGrid(i,g),i.$emit("ngGridEventColumns",e)},!0)),i.$on("$destroy",i.$watch(function(){return n.i18n},function(e){u.seti18n(i,e)})),g.maxCanvasHt=g.calcMaxCanvasHeight(),g.config.sortInfo.fields&&g.config.sortInfo.fields.length>0&&i.$on("$destroy",i.$watch(function(){return g.config.sortInfo},function(){o.isSorting||(g.sortColumnsInit(),i.$emit("ngGridEventSorted",g.config.sortInfo))},!0))})},g.resizeOnData=function(e){var n=e.minWidth,r=u.getElementsByClassName("col"+e.index);angular.forEach(r,function(e,i){var r;if(0===i){var o=t(e).find(".ngHeaderText");r=u.visualLength(o)+10}else{var a=t(e).find(".ngCellText");r=u.visualLength(a)+10}r>n&&(n=r)}),e.width=e.longest=Math.min(e.maxWidth,n+7),a.BuildStyles(i,g,!0)},g.lastSortedColumns=[],g.sortData=function(e,n){if(n&&n.shiftKey&&g.config.sortInfo){var r=g.config.sortInfo.columns.indexOf(e);-1===r?(1===g.config.sortInfo.columns.length&&(g.config.sortInfo.columns[0].sortPriority=1),g.config.sortInfo.columns.push(e),e.sortPriority=g.config.sortInfo.columns.length,g.config.sortInfo.fields.push(e.field),g.config.sortInfo.directions.push(e.sortDirection),g.lastSortedColumns.push(e)):g.config.sortInfo.directions[r]=e.sortDirection}else if(!g.config.useExternalSorting||g.config.useExternalSorting&&g.config.sortInfo){var o=t.isArray(e);g.config.sortInfo.columns.length=0,g.config.sortInfo.fields.length=0,g.config.sortInfo.directions.length=0;var a=function(e){g.config.sortInfo.columns.push(e),g.config.sortInfo.fields.push(e.field),g.config.sortInfo.directions.push(e.sortDirection),g.lastSortedColumns.push(e)};o?angular.forEach(e,function(e,t){e.sortPriority=t+1,a(e)}):(g.clearSortingData(e),e.sortPriority=void 0,a(e)),g.sortActual(),g.searchProvider.evalFilter(),i.$emit("ngGridEventSorted",g.config.sortInfo)}},g.sortColumnsInit=function(){g.config.sortInfo.columns?g.config.sortInfo.columns.length=0:g.config.sortInfo.columns=[];var e=[];angular.forEach(i.columns,function(t){var i=g.config.sortInfo.fields.indexOf(t.field);-1!==i&&(t.sortDirection=g.config.sortInfo.directions[i]||"asc",e[i]=t)}),1===e.length?g.sortData(e[0]):g.sortData(e)},g.sortActual=function(){if(!g.config.useExternalSorting){var e=g.data.slice(0);angular.forEach(e,function(e,t){var i=g.rowMap[t];if(void 0!==i){var n=g.rowCache[i];void 0!==n&&(e.preSortSelected=n.selected,e.preSortIndex=t)}}),o.Sort(g.config.sortInfo,e),angular.forEach(e,function(e,t){g.rowCache[t].entity=e,g.rowCache[t].selected=e.preSortSelected,g.rowMap[e.preSortIndex]=t,delete e.preSortSelected,delete e.preSortIndex})}},g.clearSortingData=function(e){e?(angular.forEach(g.lastSortedColumns,function(t){e.index!==t.index&&(t.sortDirection="",t.sortPriority=null)}),g.lastSortedColumns[0]=e,g.lastSortedColumns.length=1):(angular.forEach(g.lastSortedColumns,function(e){e.sortDirection="",e.sortPriority=null}),g.lastSortedColumns=[])},g.fixColumnIndexes=function(){for(var e=0;i.columns.length>e;e++)i.columns[e].index=e},g.fixGroupIndexes=function(){angular.forEach(i.configGroups,function(e,t){e.groupIndex=t+1})},i.elementsNeedMeasuring=!0,i.columns=[],i.renderedRows=[],i.renderedColumns=[],i.headerRow=null,i.rowHeight=g.config.rowHeight,i.jqueryUITheme=g.config.jqueryUITheme,i.showSelectionCheckbox=g.config.showSelectionCheckbox,i.enableCellSelection=g.config.enableCellSelection,i.enableCellEditOnFocus=g.config.enableCellEditOnFocus,i.footer=null,i.selectedItems=g.config.selectedItems,i.multiSelect=g.config.multiSelect,i.showFooter=g.config.showFooter,i.footerRowHeight=i.showFooter?g.config.footerRowHeight:0,i.showColumnMenu=g.config.showColumnMenu,i.forceSyncScrolling=g.config.forceSyncScrolling,i.showMenu=!1,i.configGroups=[],i.gridId=g.gridId,i.enablePaging=g.config.enablePaging,i.pagingOptions=g.config.pagingOptions,i.i18n={},u.seti18n(i,g.config.i18n),i.adjustScrollLeft=function(e){for(var t=0,n=0,r=i.columns.length,o=[],s=!g.config.enableColumnHeavyVirt,l=0,u=function(e){s?o.push(e):i.renderedColumns[l]?i.renderedColumns[l].setVars(e):i.renderedColumns[l]=e.copy(),l++},c=0;r>c;c++){var d=i.columns[c];if(!1!==d.visible){var h=d.width+t;if(d.pinned){u(d);var p=c>0?e+n:e;a.setColLeft(d,p,g),n+=d.width}else h>=e&&e+g.rootDim.outerWidth>=t&&u(d);t+=d.width}}s&&(i.renderedColumns=o)},g.prevScrollTop=0,g.prevScrollIndex=0,i.adjustScrollTop=function(e,t){if(g.prevScrollTop!==e||t){e>0&&g.$viewport[0].scrollHeight-e<=g.$viewport.outerHeight()&&i.$emit("ngGridEventScroll");var n,r=Math.floor(e/g.config.rowHeight);if(g.filteredRows.length>g.config.virtualizationThreshold){if(e>g.prevScrollTop&&g.prevScrollIndex+4>r)return;if(g.prevScrollTop>e&&r>g.prevScrollIndex-4)return;n=new b(Math.max(0,r-6),r+g.minRowsToRender()+6)}else{var o=i.configGroups.length>0?g.rowFactory.parsedData.length:g.filteredRows.length;n=new b(0,Math.max(o,g.minRowsToRender()+6))}g.prevScrollTop=e,g.rowFactory.UpdateViewableRange(n),g.prevScrollIndex=r}},i.toggleShowMenu=function(){i.showMenu=!i.showMenu},i.toggleSelectAll=function(e,t){i.selectionProvider.toggleSelectAll(e,!1,t)},i.totalFilteredItemsLength=function(){return g.filteredRows.length},i.showGroupPanel=function(){return g.config.showGroupPanel},i.topPanelHeight=function(){return!0===g.config.showGroupPanel?g.config.headerRowHeight+32:g.config.headerRowHeight},i.viewportDimHeight=function(){return Math.max(0,g.rootDim.outerHeight-i.topPanelHeight()-i.footerRowHeight-2)},i.groupBy=function(e){if(!(1>g.data.length)&&e.groupable&&e.field){e.sortDirection||e.sort({shiftKey:i.configGroups.length>0});var t=i.configGroups.indexOf(e);-1===t?(e.isGroupedBy=!0,i.configGroups.push(e),e.groupIndex=i.configGroups.length):i.removeGroup(t),g.$viewport.scrollTop(0),a.digest(i)}},i.removeGroup=function(e){var t=i.columns.filter(function(t){return t.groupIndex===e+1})[0];t.isGroupedBy=!1,t.groupIndex=0,i.columns[e].isAggCol&&(i.columns.splice(e,1),i.configGroups.splice(e,1),g.fixGroupIndexes()),0===i.configGroups.length&&(g.fixColumnIndexes(),a.digest(i)),i.adjustScrollLeft(0)},i.togglePin=function(e){for(var t=e.index,n=0,r=0;i.columns.length>r&&i.columns[r].pinned;r++)n++;e.pinned&&(n=Math.max(e.originalIndex,n-1)),e.pinned=!e.pinned,i.columns.splice(t,1),i.columns.splice(n,0,e),g.fixColumnIndexes(),a.BuildStyles(i,g,!0),g.$viewport.scrollLeft(g.$viewport.scrollLeft()-e.width)},i.totalRowWidth=function(){for(var e=0,t=i.columns,n=0;t.length>n;n++)!1!==t[n].visible&&(e+=t[n].width);return e},i.headerScrollerDim=function(){var e=i.viewportDimHeight(),t=g.maxCanvasHt,n=t>e,r=new v;return r.autoFitHeight=!0,r.outerWidth=i.totalRowWidth(),n?r.outerWidth+=g.elementDims.scrollW:g.elementDims.scrollH>=t-e&&(r.outerWidth+=g.elementDims.scrollW),r}}(f,$,a,s,n,o,l,u,c,h,p);return f.$on("$destroy",function(){$.gridDim=null,$.selectRow=null,$.selectItem=null,$.selectAll=null,$.selectVisible=null,$.groupBy=null,$.sortBy=null,$.gridId=null,$.ngGrid=null,$.$gridScope=null,$.$gridServices=null,f.domAccessProvider.grid=null,angular.element(E.styleSheet).remove(),E.styleSheet=null}),E.init().then(function(){if("string"==typeof $.columnDefs?f.$on("$destroy",f.$parent.$watch($.columnDefs,function(e){return e?(E.lateBoundColumns=!1,f.columns=[],E.config.columnDefs=e,E.buildColumns(),E.eventProvider.assignEvents(),void s.RebuildGrid(f,E)):(E.refreshDomSizes(),void E.buildColumns())},!0)):E.buildColumns(),"string"==typeof $.totalServerItems?f.$on("$destroy",f.$parent.$watch($.totalServerItems,function(e){f.totalServerItems=angular.isDefined(e)?e:0})):f.totalServerItems=0,"string"==typeof $.data){var n=function(e){E.data=t.extend([],e),E.rowFactory.fixRowCache(),angular.forEach(E.data,function(e,t){var i=E.rowMap[t]||t;E.rowCache[i]&&E.rowCache[i].ensureEntity(e),E.rowMap[i]=t}),E.searchProvider.evalFilter(),E.configureColumnWidths(),E.refreshDomSizes(),E.config.sortInfo.fields.length>0&&(E.sortColumnsInit(),f.$emit("ngGridEventSorted",E.config.sortInfo)),f.$emit("ngGridEventData",E.gridId)};f.$on("$destroy",f.$parent.$watch($.data,n)),f.$on("$destroy",f.$parent.$watch($.data+".length",function(){n(f.$eval($.data)),f.adjustScrollTop(E.$viewport.scrollTop(),!0)}))}return E.footerController=new function(e,t){e.maxRows=function(){return Math.max(e.totalServerItems,t.data.length)},e.$on("$destroy",e.$watch("totalServerItems",function(){e.currentMaxPages=e.maxPages()})),e.multiSelect=t.config.enableRowSelection&&t.config.multiSelect,e.selectedItemCount=t.selectedItemCount,e.maxPages=function(){return 0===e.maxRows()?1:Math.ceil(e.maxRows()/e.pagingOptions.pageSize)},e.pageForward=function(){var t=e.pagingOptions.currentPage;e.totalServerItems>0?e.pagingOptions.currentPage=Math.min(t+1,e.maxPages()):e.pagingOptions.currentPage++},e.pageBackward=function(){var t=e.pagingOptions.currentPage;e.pagingOptions.currentPage=Math.max(t-1,1)},e.pageToFirst=function(){e.pagingOptions.currentPage=1},e.pageToLast=function(){var t=e.maxPages();e.pagingOptions.currentPage=t},e.cantPageForward=function(){var i=e.pagingOptions.currentPage,n=e.maxPages();return e.totalServerItems>0?i>=n:1>t.data.length},e.cantPageToLast=function(){return!(e.totalServerItems>0)||e.cantPageForward()},e.cantPageBackward=function(){return 1>=e.pagingOptions.currentPage}}(f,E),g.addClass("ngGrid").addClass(""+E.gridId),$.enableHighlighting||g.addClass("unselectable"),$.jqueryUITheme&&g.addClass("ui-widget"),g.append(i(o.get("gridTemplate.html"))(f)),s.AssignGridContainers(f,g,E),E.eventProvider=new function(i,n,r,o){var a=this;a.colToMove=void 0,a.groupToMove=void 0,a.assignEvents=function(){i.config.jqueryUIDraggable&&!i.config.enablePinning?(i.$groupPanel.droppable({addClasses:!1,drop:function(e){a.onGroupDrop(e)}}),i.$groupPanel.on("$destroy",function(){i.$groupPanel=null})):(i.$groupPanel.on("mousedown",a.onGroupMouseDown).on("dragover",a.dragOver).on("drop",a.onGroupDrop),i.$topPanel.on("mousedown",".ngHeaderScroller",a.onHeaderMouseDown).on("dragover",".ngHeaderScroller",a.dragOver),i.$groupPanel.on("$destroy",function(){i.$groupPanel&&i.$groupPanel.off("mousedown"),i.$groupPanel=null}),i.config.enableColumnReordering&&i.$topPanel.on("drop",".ngHeaderScroller",a.onHeaderDrop),i.$topPanel.on("$destroy",function(){i.$topPanel&&i.$topPanel.off("mousedown"),i.config.enableColumnReordering&&i.$topPanel&&i.$topPanel.off("drop"),i.$topPanel=null})),n.$on("$destroy",n.$watch("renderedColumns",function(){o(a.setDraggables)}))},a.dragStart=function(e){e.dataTransfer.setData("text","")},a.dragOver=function(e){e.preventDefault()},a.setDraggables=function(){if(i.config.jqueryUIDraggable)i.$root&&i.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(e){a.onHeaderMouseDown(e)}}).droppable({drop:function(e){a.onHeaderDrop(e)}});else{var e=i.$root.find(".ngHeaderSortColumn");if(angular.forEach(e,function(e){e.className&&-1!==e.className.indexOf("ngHeaderSortColumn")&&(e.setAttribute("draggable","true"),e.addEventListener&&(e.addEventListener("dragstart",a.dragStart),angular.element(e).on("$destroy",function(){angular.element(e).off("dragstart",a.dragStart),e.removeEventListener("dragstart",a.dragStart)})))}),-1!==navigator.userAgent.indexOf("MSIE")){var t=i.$root.find(".ngHeaderSortColumn");t.bind("selectstart",function(){return this.dragDrop(),!1}),angular.element(t).on("$destroy",function(){t.off("selectstart")})}}},a.onGroupMouseDown=function(e){var n=t(e.target);if("ngRemoveGroup"!==n[0].className){var r=angular.element(n).scope();r&&(i.config.jqueryUIDraggable||(n.attr("draggable","true"),this.addEventListener&&(this.addEventListener("dragstart",a.dragStart),angular.element(this).on("$destroy",function(){this.removeEventListener("dragstart",a.dragStart)})),-1!==navigator.userAgent.indexOf("MSIE")&&(n.bind("selectstart",function(){return this.dragDrop(),!1}),n.on("$destroy",function(){n.off("selectstart")}))),a.groupToMove={header:n,groupName:r.group,index:r.$index})}else a.groupToMove=void 0},a.onGroupDrop=function(e){e.stopPropagation();var r,o;a.groupToMove?("ngGroupPanel"===(r=t(e.target).closest(".ngGroupElement")).context.className?(n.configGroups.splice(a.groupToMove.index,1),n.configGroups.push(a.groupToMove.groupName)):(o=angular.element(r).scope())&&a.groupToMove.index!==o.$index&&(n.configGroups.splice(a.groupToMove.index,1),n.configGroups.splice(o.$index,0,a.groupToMove.groupName)),a.groupToMove=void 0,i.fixGroupIndexes()):a.colToMove&&(-1===n.configGroups.indexOf(a.colToMove.col)&&(r=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"===r.context.className||"ngGroupPanelDescription ng-binding"===r.context.className?n.groupBy(a.colToMove.col):(o=angular.element(r).scope(),o&&n.removeGroup(o.$index))),a.colToMove=void 0),n.$$phase||n.$apply()},a.onHeaderMouseDown=function(e){var i=t(e.target).closest(".ngHeaderSortColumn"),n=angular.element(i).scope();n&&(a.colToMove={header:i,col:n.col})},a.onHeaderDrop=function(e){if(a.colToMove&&!a.colToMove.col.pinned){var o=t(e.target).closest(".ngHeaderSortColumn"),s=angular.element(o).scope();if(s){if(a.colToMove.col===s.col||s.col.pinned)return;n.columns.splice(a.colToMove.col.index,1),n.columns.splice(s.col.index,0,a.colToMove.col),i.fixColumnIndexes(),a.colToMove=void 0,r.digest(n)}}},a.assignGridEventHandlers=function(){-1===i.config.tabIndex?(i.$viewport.attr("tabIndex",r.numberOfGrids),r.numberOfGrids++):i.$viewport.attr("tabIndex",i.config.tabIndex);var o,a=function(){clearTimeout(o),o=setTimeout(function(){r.RebuildGrid(n,i)},100)};t(e).on("resize.nggrid",a);var s;t(i.$root.parent()).on("resize.nggrid",function(){clearTimeout(s),s=setTimeout(function(){r.RebuildGrid(n,i)},100)}),n.$on("$destroy",function(){t(e).off("resize.nggrid",a)})},a.assignGridEventHandlers(),a.assignEvents()}(E,f,s,u),$.selectRow=function(e,t){E.rowCache[e]&&(E.rowCache[e].clone&&E.rowCache[e].clone.setSelection(!!t),E.rowCache[e].setSelection(!!t))},$.selectItem=function(e,t){$.selectRow(E.rowMap[e],t)},$.selectAll=function(e){f.toggleSelectAll(e)},$.selectVisible=function(e){f.toggleSelectAll(e,!0)},$.groupBy=function(e){if(e)f.groupBy(f.columns.filter(function(t){return t.field===e})[0]);else{var i=t.extend(!0,[],f.configGroups);angular.forEach(i,f.groupBy)}},$.sortBy=function(e){var t=f.columns.filter(function(t){return t.field===e})[0];t&&t.sort()},$.gridId=E.gridId,$.ngGrid=E,$.$gridScope=f,$.$gridServices={SortService:a,DomUtilityService:s,UtilityService:l},f.$on("$destroy",f.$on("ngGridEventDigestGrid",function(){s.digest(f.$parent)})),f.$on("$destroy",f.$on("ngGridEventDigestGridParent",function(){s.digest(f.$parent)})),f.$evalAsync(function(){f.adjustScrollLeft(0)}),angular.forEach($.plugins,function(e){"function"==typeof e&&(e=new e);var t=f.$new();e.init(t,E,$.$gridServices),$.plugins[l.getInstanceType(e)]=e,f.$on("$destroy",function(){t.$destroy()})}),"function"==typeof $.init&&$.init(E,f),null})}}}}}]),h.directive("ngHeaderCell",["$compile",function(e){return{scope:!1,compile:function(){return{pre:function(t,i){i.append(e(t.col.headerCellTemplate)(t))}}}}}]),h.directive("ngHeaderRow",["$compile","$templateCache",function(e,t){return{scope:!1,compile:function(){return{pre:function(i,n){0===n.children().length&&n.append(e(t.get(i.gridId+"headerRowTemplate.html"))(i))}}}}}]),h.directive("ngInput",[function(){return{require:"ngModel",link:function(e,t,i,n){function r(i){switch(i.keyCode){case 37:case 38:case 39:case 40:i.stopPropagation();break;case 27:e.$$phase||e.$apply(function(){n.$setViewValue(s),t.blur()});break;case 13:(e.enableCellEditOnFocus&&e.totalFilteredItemsLength()-1>e.row.rowIndex&&e.row.rowIndex>0||e.col.enableCellEdit)&&t.blur()}return!0}function o(e){e.stopPropagation()}function a(e){e.stopPropagation()}var s,l=e.$watch("ngModel",function(){s=n.$modelValue,l()});t.bind("keydown",r),t.bind("click",o),t.bind("mousedown",a),t.on("$destroy",function(){t.off("keydown",r),t.off("click",o),t.off("mousedown",a)}),e.$on("$destroy",e.$on("ngGridEventStartCellEdit",function(){t.focus(),t.select()})),angular.element(t).bind("blur",function(){e.$emit("ngGridEventEndCellEdit")})}}}]),h.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(e,t,i){return{scope:!1,compile:function(){return{pre:function(n,r){if(n.row.elm=r,n.row.clone&&(n.row.clone.elm=r),n.row.isAggRow){var o=i.get(n.gridId+"aggregateTemplate.html");o=n.row.aggLabelFilter?o.replace(a,"| "+n.row.aggLabelFilter):o.replace(a,""),r.append(e(o)(n))}else r.append(e(i.get(n.gridId+"rowTemplate.html"))(n));n.$on("$destroy",n.$on("ngGridEventDigestRow",function(){t.digest(n)}))}}}}}]),h.directive("ngViewport",[function(){return function(e,t){function i(t){var i=t.target.scrollLeft,n=t.target.scrollTop;return e.$headerContainer&&e.$headerContainer.scrollLeft(i),e.adjustScrollLeft(i),e.adjustScrollTop(n),e.forceSyncScrolling?o():(clearTimeout(r),r=setTimeout(o,150)),i,n,!1,!0}function n(){return!0,t.focus&&t.focus(),!0}var r,o=function(){e.$root.$$phase||e.$digest()};t.bind("scroll",i),t.bind("mousewheel DOMMouseScroll",n),t.on("$destroy",function(){t.off("scroll",i),t.off("mousewheel DOMMouseScroll",n)}),e.enableCellSelection||e.domAccessProvider.selectionHandlers(e,t)}}]),e.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil.",ngSearchPlaceHolder:"Sg...",ngMenuText:"Vlg kolonner:",ngShowingItemsLabel:"Viste rkker:",ngTotalItemsLabel:"Rkker totalt:",ngSelectedItemsLabel:"Valgte rkker:",ngPageSizeLabel:"Side strrelse:",ngPagerFirstTitle:"Frste side",ngPagerNextTitle:"Nste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"},e.ngGrid.i18n.de={ngAggregateLabel:"eintrag",ngGroupPanelDescription:"Ziehen Sie eine Spaltenberschrift hierhin um nach dieser Spalte zu gruppieren.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswhlen:",ngShowingItemsLabel:"Zeige Eintrge:",ngTotalItemsLabel:"Eintrge gesamt:",ngSelectedItemsLabel:"Ausgewhlte Eintrge:",ngPageSizeLabel:"Eintrge pro Seite:",ngPagerFirstTitle:"Erste Seite",ngPagerNextTitle:"Nchste Seite",ngPagerPrevTitle:"Vorherige Seite",ngPagerLastTitle:"Letzte Seite"},e.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},e.ngGrid.i18n.es={ngAggregateLabel:"Artculos",ngGroupPanelDescription:"Arrastre un encabezado de columna aqu y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artculos Mostrando:",ngTotalItemsLabel:"Artculos Totales:",ngSelectedItemsLabel:"Artculos Seleccionados:",ngPageSizeLabel:"Tamao de Pgina:",ngPagerFirstTitle:"Primera Pgina",ngPagerNextTitle:"Pgina Siguiente",ngPagerPrevTitle:"Pgina Anterior",ngPagerLastTitle:"ltima Pgina"},e.ngGrid.i18n.fa={ngAggregateLabel:"",ngGroupPanelDescription:"            .",ngSearchPlaceHolder:"...",ngMenuText:" :",ngShowingItemsLabel:" :",ngTotalItemsLabel:" :",ngSelectedItemsLabel:" :",ngPageSizeLabel:" :",ngPagerFirstTitle:" ",ngPagerNextTitle:" ",ngPagerPrevTitle:" ",ngPagerLastTitle:" "},e.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tte de colonne ici et dposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"lments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Premire page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page prcdente",ngPagerLastTitle:"Dernire page"},e.ngGrid.i18n.nl={ngAggregateLabel:"items",ngGroupPanelDescription:"Sleep hier een kolomkop om op te groeperen.",ngSearchPlaceHolder:"Zoeken...",ngMenuText:"Kies kolommen:",ngShowingItemsLabel:"Toon items:",ngTotalItemsLabel:"Totaal items:",ngSelectedItemsLabel:"Geselecteerde items:",ngPageSizeLabel:"Pagina grootte:, ",ngPagerFirstTitle:"Eerste pagina",ngPagerNextTitle:"Volgende pagina",ngPagerPrevTitle:"Vorige pagina",ngPagerLastTitle:"Laatste pagina"},e.ngGrid.i18n["pt-br"]={ngAggregateLabel:"itens",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Itens:",ngTotalItemsLabel:"Total de Itens:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Pgina:",ngPagerFirstTitle:"Primeira Pgina",ngPagerNextTitle:"Prxima Pgina",ngPagerPrevTitle:"Pgina Anterior",ngPagerLastTitle:"ltima Pgina"},e.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"",ngGroupPanelDescription:"",ngSearchPlaceHolder:"...",ngMenuText:"",ngShowingItemsLabel:"",ngTotalItemsLabel:"",ngSelectedItemsLabel:"",ngPageSizeLabel:"",ngPagerFirstTitle:"",ngPagerNextTitle:"",ngPagerPrevTitle:"",ngPagerLastTitle:""},e.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"",ngGroupPanelDescription:"",ngSearchPlaceHolder:"...",ngMenuText:"",ngShowingItemsLabel:"",ngTotalItemsLabel:"",ngSelectedItemsLabel:"",ngPageSizeLabel:"",ngPagerFirstTitle:"",ngPagerNextTitle:"",ngPagerPrevTitle:"",ngPagerLastTitle:""},angular.module("ngGrid").run(["$templateCache",function(e){e.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">\r\n    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>\r\n    <div class="{{row.aggClass()}}"></div>\r\n</div>\r\n'),e.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="CELL_EDITABLE_CONDITION && editCell()">\r\n\t<div ng-edit-cell-if="!(isFocused && CELL_EDITABLE_CONDITION)">\t\r\n\t\tDISPLAY_CELL_TEMPLATE\r\n\t</div>\r\n\t<div ng-edit-cell-if="isFocused && CELL_EDITABLE_CONDITION">\r\n\t\tEDITABLE_CELL_TEMPLATE\r\n\t</div>\r\n</div>\r\n'),e.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),e.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),e.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>'),e.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />'),e.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">\r\n    <div class="ngTotalSelectContainer" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>\r\n            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >\r\n                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>\r\n            </select>\r\n        </div>\r\n        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n            <button type="button" class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>\r\n            <input class="ngPagerCurrent" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            <button type="button" class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),e.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">\r\n    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">\r\n        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>\r\n        <ul ng-show="configGroups.length > 0" class="ngGroupList">\r\n            <li class="ngGroupItem" ng-repeat="group in configGroups">\r\n                <span class="ngGroupElement">\r\n                    <span class="ngGroupName">{{group.displayName}}\r\n                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>\r\n                    </span>\r\n                    <span ng-hide="$last" class="ngGroupArrow"></span>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="ngHeaderContainer" ng-style="headerStyle()">\r\n        <div ng-header-row class="ngHeaderScroller" ng-style="headerScrollerStyle()"></div>\r\n    </div>\r\n    <div ng-grid-menu></div>\r\n</div>\r\n<div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">\r\n    <div class="ngCanvas" ng-style="canvasStyle()">\r\n        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>\r\n    </div>\r\n</div>\r\n<div ng-grid-footer></div>\r\n'),e.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !col.noSortVisible() }">\r\n    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>\r\n    <div class="ngSortButtonDown" ng-click="col.sort($event)" ng-show="col.showSortButtonDown()"></div>\r\n    <div class="ngSortButtonUp" ng-click="col.sort($event)" ng-show="col.showSortButtonUp()"></div>\r\n    <div class="ngSortPriority">{{col.sortPriority}}</div>\r\n    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div>\r\n</div>\r\n<div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>\r\n'),e.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n\t<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-header-cell></div>\r\n</div>'),e.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">\r\n    <div class="ngHeaderButtonArrow"></div>\r\n</div>\r\n<div ng-show="showMenu" class="ngColMenu">\r\n    <div ng-show="showFilter">\r\n        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>\r\n    </div>\r\n    <div ng-show="showColumnMenu">\r\n        <span class="ngMenuText">{{i18n.ngMenuText}}</span>\r\n        <ul class="ngColList">\r\n            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">\r\n                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>\r\n\t\t\t\t<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>\r\n\t\t\t\t<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>          \r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'),e.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">\r\n\t<div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-cell></div>\r\n</div>')}])}(window,jQuery);function ngGridFlexibleHeightPlugin(e){var t=this;t.grid=null,t.scope=null,t.init=function(i,n,r){t.domUtilityService=r.DomUtilityService,t.grid=n,t.scope=i;var o=function(){var i="."+t.grid.gridId+" .ngFooterPanel",n=t.grid.$topPanel.height()+$(i).height(),r=t.grid.$canvas.height()+1;null!=e&&null!=e.minHeight&&r+n<e.minHeight&&(r=e.minHeight-n-2);var o=r+3;t.scope.baseViewportHeight&&t.scope.baseViewportHeight===o||(t.grid.$viewport.css("height",o+"px"),t.grid.$root.css("height",o+n+"px"),t.scope.baseViewportHeight=o,t.domUtilityService.RebuildGrid(t.scope,t.grid))};t.scope.catHashKeys=function(){var e,i="";for(e in t.scope.renderedRows)i+=t.scope.renderedRows[e].$$hashKey;return i},t.scope.$watch("catHashKeys()",o),t.scope.$watch(t.grid.config.data,function(){setTimeout(o,1)})}}
/*!
 * ngTagsInput v3.1.1
 * http://mbenford.github.io/ngTagsInput
 *
 * Copyright (c) 2013-2016 Michael Benford
 * License: MIT
 *
 * Generated at 2016-05-27 12:28:31 -0300
 */
!function(){"use strict";var e=8,t=9,i=13,n=27,r=32,o=38,a=40,s=37,l=39,u=46,c=188,d=["text","email","url"],h=angular.module("ngTagsInput",[]);h.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(t,n,o,a,h,p){function f(e){return-1!==d.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,t,i){e.events=p.simplePubSub(),h.load("tagsInput",e,t,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",f],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,9007199254740991],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,9007199254740991],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),e.tagList=new function(e,t,i,n){var r,o,s,l,u={};return r=function(t){return p.safeToString(t[e.displayProperty])},o=function(t,i){t[e.displayProperty]=i},s=function(t){var n=r(t),o=n&&n.length>=e.minLength&&n.length<=e.maxLength&&e.allowedTagsPattern.test(n)&&!p.findInObjectArray(u.items,t,e.keyProperty||e.displayProperty);return a.when(o&&i({$tag:t})).then(p.promisifyValue)},l=function(e){return a.when(n({$tag:e})).then(p.promisifyValue)},u.items=[],u.addText=function(e){var t={};return o(t,e),u.add(t)},u.add=function(i){var n=r(i);return e.replaceSpacesWithDashes&&(n=p.replaceSpacesWithDashes(n)),o(i,n),s(i).then(function(){u.items.push(i),t.trigger("tag-added",{$tag:i})}).catch(function(){n&&t.trigger("invalid-tag",{$tag:i})})},u.remove=function(e){var i=u.items[e];return l(i).then(function(){return u.items.splice(e,1),u.clearSelection(),t.trigger("tag-removed",{$tag:i}),i})},u.select=function(e){e<0?e=u.items.length-1:e>=u.items.length&&(e=0),u.index=e,u.selected=u.items[e]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.clearSelection(),u}(e.options,e.events,p.handleUndefinedResult(e.onTagAdding,!0),p.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){i.find("input");return{addTag:function(t){return e.tagList.add(t)},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},getTemplateScope:function(){return e.templateScope},on:function(t,i){return e.events.on(t,i,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(a,d,h,f){var g,m,v=[i,c,r,e,u,s,l],y=a.tagList,b=a.events,w=a.options,x=d.find("input"),_=["minTags","maxTags","allowLeftoverText"];g=function(){f.$setValidity("maxTags",y.items.length<=w.maxTags),f.$setValidity("minTags",y.items.length>=w.minTags),f.$setValidity("leftoverText",!(!a.hasFocus&&!w.allowLeftoverText)||!a.newTag.text())},m=function(){t(function(){x[0].focus()})},f.$isEmpty=function(e){return!e||!e.length},a.newTag={text:function(e){if(!angular.isDefined(e))return a.text||"";a.text=e,b.trigger("input-change",e)},invalid:null},a.track=function(e){return e[w.keyProperty||w.displayProperty]},a.getTagClass=function(e,t){var i=e===y.selected;return[a.tagClass({$tag:e,$index:t,$selected:i}),{selected:i}]},a.$watch("tags",function(e){e?(y.items=p.makeObjectArray(e,w.displayProperty),a.tags=y.items):y.items=[]}),a.$watch("tags.length",function(){g(),f.$validate()}),h.$observe("disabled",function(e){a.disabled=e}),a.eventHandlers={input:{keydown:function(e){b.trigger("input-keydown",e)},focus:function(){a.hasFocus||(a.hasFocus=!0,b.trigger("input-focus"))},blur:function(){t(function(){var e=n.prop("activeElement"),t=e===x[0],i=d[0].contains(e);!t&&i||(a.hasFocus=!1,b.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):o.clipboardData.getData("Text")},b.trigger("input-paste",e)}},host:{click:function(){a.disabled||m()}},tag:{click:function(e){b.trigger("tag-clicked",{$tag:e})}}},b.on("tag-added",a.onTagAdded).on("invalid-tag",a.onInvalidTag).on("tag-removed",a.onTagRemoved).on("tag-clicked",a.onTagClicked).on("tag-added",function(){a.newTag.text("")}).on("tag-added tag-removed",function(){a.tags=y.items,f.$setDirty(),m()}).on("invalid-tag",function(){a.newTag.invalid=!0}).on("option-change",function(e){-1!==_.indexOf(e.name)&&g()}).on("input-change",function(){y.clearSelection(),a.newTag.invalid=null}).on("input-focus",function(){d.triggerHandler("focus"),f.$setValidity("leftoverText",!0)}).on("input-blur",function(){w.addOnBlur&&!w.addFromAutocompleteOnly&&y.addText(a.newTag.text()),d.triggerHandler("blur"),g()}).on("input-keydown",function(t){var n,o,d,h,f=t.keyCode,g={};p.isModifierOn(t)||-1===v.indexOf(f)||(g[i]=w.addOnEnter,g[c]=w.addOnComma,g[r]=w.addOnSpace,n=!w.addFromAutocompleteOnly&&g[f],o=(f===e||f===u)&&y.selected,h=f===e&&0===a.newTag.text().length&&w.enableEditingLastTag,d=(f===e||f===s||f===l)&&0===a.newTag.text().length&&!w.enableEditingLastTag,n?y.addText(a.newTag.text()):h?(y.selectPrior(),y.removeSelected().then(function(e){e&&a.newTag.text(e[w.displayProperty])})):o?y.removeSelected():d&&(f===s||f===e?y.selectPrior():f===l&&y.selectNext()),(n||d||o||h)&&t.preventDefault())}).on("input-paste",function(e){if(w.addOnPaste){var t=e.getTextData().split(w.pasteSplitPattern);t.length>1&&(t.forEach(function(e){y.addText(e)}),e.preventDefault())}})}}}]),h.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,i,n,r){var o=r.registerTagItem(),a=o.getOptions();t.$$template=a.template,t.$$removeTagSymbol=a.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[a.displayProperty])},t.$removeTag=function(){o.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),h.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(e,r,s,l,u,c){return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,i){e.events=c.simplePubSub(),u.load("autoComplete",e,i,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new function(e,t,i){var n,r,o,a={};return o=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},n=function(e,i){return e.filter(function(e){return!c.findInObjectArray(i,e,o(),function(e,i){return t.tagsInput.replaceSpacesWithDashes&&(e=c.replaceSpacesWithDashes(e),i=c.replaceSpacesWithDashes(i)),c.defaultComparer(e,i)})})},a.reset=function(){r=null,a.items=[],a.visible=!1,a.index=-1,a.selected=null,a.query=null},a.show=function(){t.selectFirstMatch?a.select(0):a.selected=null,a.visible=!0},a.load=c.debounce(function(i,s){a.query=i;var u=l.when(e({$query:i}));r=u,u.then(function(e){u===r&&(e=c.makeObjectArray(e.data||e,o()),e=n(e,s),a.items=e.slice(0,t.maxResultsToShow),a.items.length>0?a.show():a.reset())})},t.debounceDelay),a.selectNext=function(){a.select(++a.index)},a.selectPrior=function(){a.select(--a.index)},a.select=function(e){e<0?e=a.items.length-1:e>=a.items.length&&(e=0),a.index=e,a.selected=a.items[e],i.trigger("suggestion-selected",e)},a.reset(),a}(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(e,r,s,l){var u,d=[i,t,n,o,a],h=e.suggestionList,p=l.registerAutocomplete(),f=e.options,g=e.events;f.tagsInput=p.getOptions(),u=function(e){return e&&e.length>=f.minLength||!e&&f.loadOnEmpty},e.templateScope=p.getTemplateScope(),e.addSuggestionByIndex=function(t){h.select(t),e.addSuggestion()},e.addSuggestion=function(){var e=!1;return h.selected&&(p.addTag(angular.copy(h.selected)),h.reset(),e=!0),e},e.track=function(e){return e[f.tagsInput.keyProperty||f.tagsInput.displayProperty]},e.getSuggestionClass=function(t,i){var n=t===h.selected;return[e.matchClass({$match:t,$index:i,$selected:n}),{selected:n}]},p.on("tag-added tag-removed invalid-tag input-blur",function(){h.reset()}).on("input-change",function(e){u(e)?h.load(e,p.getTags()):h.reset()}).on("input-focus",function(){var e=p.getCurrentTagText();f.loadOnFocus&&u(e)&&h.load(e,p.getTags())}).on("input-keydown",function(r){var s=r.keyCode,l=!1;if(!c.isModifierOn(r)&&-1!==d.indexOf(s))return h.visible?s===a?(h.selectNext(),l=!0):s===o?(h.selectPrior(),l=!0):s===n?(h.reset(),l=!0):s!==i&&s!==t||(l=e.addSuggestion()):s===a&&e.options.loadOnDownArrow&&(h.load(p.getCurrentTagText(),p.getTags()),l=!0),l?(r.preventDefault(),r.stopImmediatePropagation(),!1):void 0}),g.on("suggestion-selected",function(e){!function(e,t){var i=e.find("li").eq(t),n=i.parent(),r=i.prop("offsetTop"),o=i.prop("offsetHeight"),a=n.prop("clientHeight"),s=n.prop("scrollTop");r<s?n.prop("scrollTop",r):r+o>a+s&&n.prop("scrollTop",r+o-a)}(r,e)})}}}]),h.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(i,n,r,o){var a=o.registerAutocompleteMatch(),s=a.getOptions();i.$$template=s.template,i.$index=i.$parent.$index,i.$highlight=function(i){return s.highlightMatchedText&&(i=t.safeHighlight(i,a.getQuery())),e.trustAsHtml(i)},i.$getDisplayText=function(){return t.safeToString(i.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),h.directive("tiTranscludeAppend",function(){return function(e,t,i,n,r){r(function(e){t.append(e)})}}),h.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n,r){var o,a,s=e.getTextAutosizeThreshold();(o=angular.element('<span class="input"></span>')).css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),i.parent().append(o),a=function(e){var t,r=e;return angular.isString(r)&&0===r.length&&(r=n.placeholder),r&&(o.text(r),o.css("display",""),t=o.prop("offsetWidth"),o.css("display","none")),i.css("width",t?t+s+"px":""),e},r.$parsers.unshift(a),r.$formatters.unshift(a),n.$observe("placeholder",function(e){r.$modelValue||a(e)})}}}]),h.directive("tiBindAttrs",function(){return function(e,t,i){e.$watch(i.tiBindAttrs,function(e){angular.forEach(e,function(e,t){i.$set(t,e)})},!0)}}),h.provider("tagsInputConfig",function(){var e={},t={},i=3;this.setDefaults=function(t,i){return e[t]=i,this},this.setActiveInterpolation=function(e,i){return t[e]=i,this},this.setTextAutosizeThreshold=function(e){return i=e,this},this.$get=["$interpolate",function(n){var r={};return r[String]=function(e){return e},r[Number]=function(e){return parseInt(e,10)},r[Boolean]=function(e){return"true"===e.toLowerCase()},r[RegExp]=function(e){return new RegExp(e)},{load:function(i,o,a,s){var l=function(){return!0};o.options={},angular.forEach(s,function(s,u){var c,d,h,p,f,g;c=s[0],d=s[1],h=s[2]||l,p=r[c],f=function(){var t=e[i]&&e[i][u];return angular.isDefined(t)?t:d},g=function(e){o.options[u]=e&&h(e)?p(e):f()},t[i]&&t[i][u]?a.$observe(u,function(e){g(e),o.events.trigger("option-change",{name:u,newValue:e})}):g(a[u]&&n(a[u])(o.$parent))})},getTextAutosizeThreshold:function(){return i}}}]}),h.factory("tiUtil",["$timeout","$q",function(e,t){var i={};return i.debounce=function(t,i){var n;return function(){var r=arguments;e.cancel(n),n=e(function(){t.apply(null,r)},i)}},i.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var i=[];return e.forEach(function(e){var n={};n[t]=e,i.push(n)}),i},i.findInObjectArray=function(e,t,n,r){var o=null;return r=r||i.defaultComparer,e.some(function(e){if(r(e[n],t[n]))return o=e,!0}),o},i.defaultComparer=function(e,t){return i.safeToString(e).toLowerCase()===i.safeToString(t).toLowerCase()},i.safeHighlight=function(e,t){if(!t)return e;e=i.encodeHTML(e),t=i.encodeHTML(t);var n,r=new RegExp("&[^;]+;|"+(n=t,n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")),"gi");return e.replace(r,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})},i.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},i.encodeHTML=function(e){return i.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},i.handleUndefinedResult=function(e,t){return function(){var i=e.apply(null,arguments);return angular.isUndefined(i)?t:i}},i.replaceSpacesWithDashes=function(e){return i.safeToString(e).replace(/\s/g,"-")},i.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},i.promisifyValue=function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},i.simplePubSub=function(){var e={};return{on:function(t,i,n){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]);(n?[].unshift:[].push).call(e[t],i)}),this},trigger:function(t,n){return(e[t]||[]).every(function(e){return i.handleUndefinedResult(e,!0)(n)}),this}}},i}]),h.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}();function wizardButtonDirective(e){angular.module("mgo-angular-wizard").directive(e,function(){return{restrict:"A",replace:!1,require:"^wizard",link:function(t,i,n,r){i.on("click",function(i){i.preventDefault(),t.$apply(function(){t.$eval(n[e]),r[e.replace("wz","").toLowerCase()]()})})}}})}angular.module("templates-angularwizard",["step.html","wizard.html"]),angular.module("step.html",[]).run(["$templateCache",function(e){e.put("step.html",'<section ng-show="selected" ng-class="{current: selected, done: completed}" class="step" ng-transclude>\n</section>')}]),angular.module("wizard.html",[]).run(["$templateCache",function(e){e.put("wizard.html",'<div>\n  <ul class="steps-indicator steps-{{getEnabledSteps().length}}" ng-if="!hideIndicators">\n      <li ng-class="{default: !step.completed && !step.selected, current: step.selected && !step.completed, done: step.completed && !step.selected, editing: step.selected && step.completed}" ng-repeat="step in getEnabledSteps()">\n        <a ng-click="goTo(step)">{{step.title || step.wzTitle}}</a>\n      </li>\n    </ul>\n  <div class="steps" ng-transclude></div>\n  </div>\n')}]),angular.module("mgo-angular-wizard",["templates-angularwizard"]),angular.module("mgo-angular-wizard").directive("wzStep",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{wzTitle:"@",title:"@",canenter:"=",canexit:"=",disabled:"@?wzDisabled"},require:"^wizard",templateUrl:function(e,t){return t.template||"step.html"},link:function(e,t,i,n){e.title=e.title||e.wzTitle,n.addStep(e)}}}),angular.module("mgo-angular-wizard").directive("wizard",function(){return{restrict:"EA",replace:!0,transclude:!0,scope:{currentStep:"=",onFinish:"&",hideIndicators:"=",editMode:"=",name:"@"},templateUrl:function(e,t){return t.template||"wizard.html"},controller:["$scope","$element","$log","WizardHandler","$q",function(e,t,i,n,r){function o(){_.each(e.getEnabledSteps(),function(e){e.selected=!1}),e.selectedStep=null}var a=!0;n.addWizard(e.name||n.defaultName,this),e.$on("$destroy",function(){n.removeWizard(e.name||n.defaultName)}),e.steps=[],e.context={},e.$watch("currentStep",function(t){if(t){var i=e.selectedStep.title||e.selectedStep.wzTitle;e.selectedStep&&i!==e.currentStep&&e.goTo(_.findWhere(e.getEnabledSteps(),{title:e.currentStep}))}}),e.$watch("[editMode, steps.length]",function(){var t=e.editMode;_.isUndefined(t)||_.isNull(t)||t&&_.each(e.getEnabledSteps(),function(e){e.completed=!0})},!0),this.addStep=function(t){e.steps.push(t),1===e.getEnabledSteps().length&&e.goTo(e.getEnabledSteps()[0])},this.context=e.context,e.getStepNumber=function(t){return _.indexOf(e.getEnabledSteps(),t)+1},e.goTo=function(t){if(a)o(),e.selectedStep=t,_.isUndefined(e.currentStep)||(e.currentStep=t.title||t.wzTitle),t.selected=!0,e.$emit("wizard:stepChanged",{step:t,index:_.indexOf(e.getEnabledSteps(),t)}),a=!1;else{var i;e.currentStepNumber()>0?i=e.currentStepNumber()-1:0===e.currentStepNumber()&&(i=0),r.all([function(t,i){var n,o;return void 0===t.canexit||e.getStepNumber(i)<e.currentStepNumber()||("boolean"==typeof t.canexit?t.canexit:(o=t.canexit(e.context),angular.isFunction(o.then)?(n=r.defer(),o.then(function(e){n.resolve(e)}),n.promise):!0===t.canexit(e.context)))}(e.getEnabledSteps()[i],t),function(t){var i,n;return void 0===t.canenter||("boolean"==typeof t.canenter?t.canenter:(n=t.canenter(e.context),angular.isFunction(n.then)?(i=r.defer(),n.then(function(e){i.resolve(e)}),i.promise):!0===t.canenter(e.context)))}(t)]).then(function(i){i[0]&&i[1]&&(o(),e.selectedStep=t,_.isUndefined(e.currentStep)||(e.currentStep=t.title||t.wzTitle),t.selected=!0,e.$emit("wizard:stepChanged",{step:t,index:_.indexOf(e.getEnabledSteps(),t)}))})}},e.currentStepNumber=function(){return _.indexOf(e.getEnabledSteps(),e.selectedStep)+1},e.getEnabledSteps=function(){return _.filter(e.steps,function(e){return"true"!==e.disabled})},this.currentStepTitle=function(){return e.selectedStep.title},this.currentStepNumber=function(){return e.currentStepNumber()},this.next=function(t){var i=e.getEnabledSteps(),n=_.indexOf(i,e.selectedStep);if(angular.isFunction(t)){if(!t())return;n===i.length-1?this.finish():e.goTo(i[n+1])}t||(e.selectedStep.completed=!0),n===i.length-1?this.finish():e.goTo(i[n+1])},this.goTo=function(t){var i,n=e.getEnabledSteps();i=_.isNumber(t)?n[t]:_.findWhere(n,{title:t}),e.goTo(i)},this.finish=function(){e.onFinish&&e.onFinish()},this.previous=function(){var t=_.indexOf(e.getEnabledSteps(),e.selectedStep);if(0===t)throw new Error("Can't go back. It's already in step 0");e.goTo(e.getEnabledSteps()[t-1])},this.cancel=function(){if(0===_.indexOf(e.getEnabledSteps(),e.selectedStep))throw new Error("Can't go back. It's already in step 0");e.goTo(e.getEnabledSteps()[0])}}]}}),wizardButtonDirective("wzNext"),wizardButtonDirective("wzPrevious"),wizardButtonDirective("wzFinish"),wizardButtonDirective("wzCancel"),angular.module("mgo-angular-wizard").factory("WizardHandler",function(){var e={},t={};return e.defaultName="defaultWizard",e.addWizard=function(e,i){t[e]=i},e.removeWizard=function(e){delete t[e]},e.wizard=function(i){var n=i;return i||(n=e.defaultName),t[n]},e});"use strict";angular.module("isteven-multi-select",["ng"]).directive("istevenMultiSelect",["$sce","$timeout","$templateCache",function(e,t,i){return{restrict:"AE",scope:{inputModel:"=",outputModel:"=",isDisabled:"=",onClear:"&",onClose:"&",onSearchChange:"&",onItemClick:"&",onOpen:"&",onReset:"&",onSelectAll:"&",onSelectNone:"&",translation:"="},templateUrl:"isteven-multi-select.htm",link:function(i,n,r){i.backUp=[],i.varButtonLabel="",i.spacingProperty="",i.indexProperty="",i.orientationH=!1,i.orientationV=!0,i.filteredModel=[],i.inputLabel={labelFilter:""},i.tabIndex=0,i.lang={},i.helperStatus={all:!0,none:!0,reset:!0,filter:!0};var o=0,a=[],s=0,l="",u=[],c=0,d=null;i.clearClicked=function(e){i.inputLabel.labelFilter="",i.updateFilter(),i.select("clear",e)},i.numberToArray=function(e){return new Array(e)},i.searchChanged=function(){if(i.inputLabel.labelFilter.length<c&&i.inputLabel.labelFilter.length>0)return!1;i.updateFilter()},i.updateFilter=function(){i.filteredModel=[];var e=0;if(void 0===i.inputModel)return!1;for(e=i.inputModel.length-1;e>=0;e--){void 0!==i.inputModel[e][r.groupProperty]&&!1===i.inputModel[e][r.groupProperty]&&i.filteredModel.push(i.inputModel[e]);var n=!1;if(void 0===i.inputModel[e][r.groupProperty]){if(void 0!==r.searchProperty&&""!==r.searchProperty){for(var o in i.inputModel[e])if("boolean"!=typeof i.inputModel[e][o]&&String(i.inputModel[e][o]).toUpperCase().indexOf(i.inputLabel.labelFilter.toUpperCase())>=0&&r.searchProperty.indexOf(o)>-1){n=!0;break}}else for(var o in i.inputModel[e])if("boolean"!=typeof i.inputModel[e][o]&&String(i.inputModel[e][o]).toUpperCase().indexOf(i.inputLabel.labelFilter.toUpperCase())>=0){n=!0;break}!0===n&&i.filteredModel.push(i.inputModel[e])}void 0!==i.inputModel[e][r.groupProperty]&&!0===i.inputModel[e][r.groupProperty]&&(void 0!==i.filteredModel[i.filteredModel.length-1][r.groupProperty]&&!1===i.filteredModel[i.filteredModel.length-1][r.groupProperty]?i.filteredModel.pop():i.filteredModel.push(i.inputModel[e]))}i.filteredModel.reverse(),t(function(){if(i.getFormElements(),i.inputLabel.labelFilter.length>c){var e=[];angular.forEach(i.filteredModel,function(t,n){if(void 0!==t&&void 0===t[r.groupProperty]){var o=angular.copy(t),a=e.push(o);delete e[a-1][i.indexProperty],delete e[a-1][i.spacingProperty]}}),i.onSearchChange({data:{keyword:i.inputLabel.labelFilter,result:e}})}},0)},i.getFormElements=function(){u=[];var e=[],t=[],r=[],o=[];i.helperStatus.all||i.helperStatus.none||i.helperStatus.reset?(e=n.children().children().next().children().children()[0].getElementsByTagName("button"),i.helperStatus.filter&&(t=n.children().children().next().children().children().next()[0].getElementsByTagName("input"),o=n.children().children().next().children().children().next()[0].getElementsByTagName("button"))):i.helperStatus.filter&&(t=n.children().children().next().children().children()[0].getElementsByTagName("input"),o=n.children().children().next().children().children()[0].getElementsByTagName("button")),r=i.helperStatus.all||i.helperStatus.none||i.helperStatus.reset||i.helperStatus.filter?n.children().children().next().children().next()[0].getElementsByTagName("input"):n.children().children().next()[0].getElementsByTagName("input");for(var a=0;a<e.length;a++)u.push(e[a]);for(a=0;a<t.length;a++)u.push(t[a]);for(a=0;a<o.length;a++)u.push(o[a]);for(a=0;a<r.length;a++)u.push(r[a])},i.isGroupMarker=function(e,t){return void 0!==e[r.groupProperty]&&e[r.groupProperty]===t},i.removeGroupEndMarker=function(e){return void 0===e[r.groupProperty]||!1!==e[r.groupProperty]},i.syncItems=function(e,n,a){if(n.preventDefault(),n.stopPropagation(),void 0!==r.disableProperty&&!0===e[r.disableProperty])return!1;if(void 0!==r.isDisabled&&!0===i.isDisabled)return!1;if(void 0!==e[r.groupProperty]&&!1===e[r.groupProperty])return!1;var l=i.filteredModel.indexOf(e);if(void 0!==e[r.groupProperty]&&!0===e[r.groupProperty]){if(void 0!==r.selectionMode&&"SINGLE"===r.selectionMode.toUpperCase())return!1;var u,c,h=0,p=i.filteredModel.length-1,f=[],g=0;for(u=l;u<i.filteredModel.length&&!(0===g&&u>l);u++)if(void 0!==i.filteredModel[u][r.groupProperty]&&!0===i.filteredModel[u][r.groupProperty])0===f.length&&(h=u+1),g+=1;else if(void 0!==i.filteredModel[u][r.groupProperty]&&!1===i.filteredModel[u][r.groupProperty]){if(g-=1,f.length>0&&0===g){var m=!0;for(p=u,c=0;c<f.length;c++)if(void 0!==f[c][i.tickProperty]&&!1===f[c][i.tickProperty]){m=!1;break}if(!0===m)for(c=h;c<=p;c++)void 0===i.filteredModel[c][r.groupProperty]&&(void 0===r.disableProperty?(i.filteredModel[c][i.tickProperty]=!1,v=i.filteredModel[c][i.indexProperty],i.inputModel[v][i.tickProperty]=!1):!0!==i.filteredModel[c][r.disableProperty]&&(i.filteredModel[c][i.tickProperty]=!1,v=i.filteredModel[c][i.indexProperty],i.inputModel[v][i.tickProperty]=!1));else for(c=h;c<=p;c++)void 0===i.filteredModel[c][r.groupProperty]&&(void 0===r.disableProperty?(i.filteredModel[c][i.tickProperty]=!0,v=i.filteredModel[c][i.indexProperty],i.inputModel[v][i.tickProperty]=!0):!0!==i.filteredModel[c][r.disableProperty]&&(i.filteredModel[c][i.tickProperty]=!0,v=i.filteredModel[c][i.indexProperty],i.inputModel[v][i.tickProperty]=!0))}}else f.push(i.filteredModel[u])}else{if(void 0!==r.selectionMode&&"SINGLE"===r.selectionMode.toUpperCase()){for(u=0;u<i.filteredModel.length;u++)i.filteredModel[u][i.tickProperty]=!1;for(u=0;u<i.inputModel.length;u++)i.inputModel[u][i.tickProperty]=!1;i.filteredModel[l][i.tickProperty]=!0}else i.filteredModel[l][i.tickProperty]=!i.filteredModel[l][i.tickProperty];var v=i.filteredModel[l][i.indexProperty];i.inputModel[v][i.tickProperty]=i.filteredModel[l][i.tickProperty]}null!==(d=angular.copy(e))&&t(function(){delete d[i.indexProperty],delete d[i.spacingProperty],i.onItemClick({data:d}),d=null},0),i.refreshOutputModel(),i.refreshButton(),o=i.tabIndex,i.tabIndex=a+s,n.target.focus(),i.removeFocusStyle(o),i.setFocusStyle(i.tabIndex),void 0!==r.selectionMode&&"SINGLE"===r.selectionMode.toUpperCase()&&i.toggleCheckboxes(n)},i.refreshOutputModel=function(){i.outputModel=[];var e=[],t={};void 0!==r.outputProperties?(e=r.outputProperties.split(" "),angular.forEach(i.inputModel,function(n,o){if(void 0!==n&&void 0===n[r.groupProperty]&&!0===n[i.tickProperty]){t={},angular.forEach(n,function(i,n){e.indexOf(n)>-1&&(t[n]=i)});var a=i.outputModel.push(t);delete i.outputModel[a-1][i.indexProperty],delete i.outputModel[a-1][i.spacingProperty]}})):angular.forEach(i.inputModel,function(e,t){if(void 0!==e&&void 0===e[r.groupProperty]&&!0===e[i.tickProperty]){var n=angular.copy(e),o=i.outputModel.push(n);delete i.outputModel[o-1][i.indexProperty],delete i.outputModel[o-1][i.spacingProperty]}})},i.refreshButton=function(){i.varButtonLabel="";var t=0;if(0===i.outputModel.length)i.varButtonLabel=i.lang.nothingSelected;else{var n=i.outputModel.length;void 0!==r.maxLabels&&""!==r.maxLabels&&(n=r.maxLabels),i.outputModel.length>n?i.more=!0:i.more=!1,angular.forEach(i.inputModel,function(e,o){void 0!==e&&!0===e[r.tickProperty]&&(t<n&&(i.varButtonLabel+=(i.varButtonLabel.length>0?'</div>, <div class="buttonLabel">':'<div class="buttonLabel">')+i.writeLabel(e,"buttonLabel")),t++)}),!0===i.more&&(n>0&&(i.varButtonLabel+=", ... "),i.varButtonLabel+="("+i.outputModel.length+")")}i.varButtonLabel=e.trustAsHtml(i.varButtonLabel+'<span class="caret"></span>')},i.itemIsDisabled=function(e){return void 0!==r.disableProperty&&!0===e[r.disableProperty]||!0===i.isDisabled},i.writeLabel=function(t,i){var n=r[i].split(" "),o="";return angular.forEach(n,function(e,i){t[e]&&(o+="&nbsp;"+e.split(".").reduce(function(e,t){return e[t]},t))}),"BUTTONLABEL"===i.toUpperCase()?o:e.trustAsHtml(o)},i.toggleCheckboxes=function(e){var r=n.children()[0];if(angular.element(document).off("click",i.externalClickListener),angular.element(document).off("keydown",i.keyboardListener),angular.element(l).hasClass("show"))angular.element(l).removeClass("show"),angular.element(r).removeClass("buttonClicked"),angular.element(document).off("click",i.externalClickListener),angular.element(document).off("keydown",i.keyboardListener),i.removeFocusStyle(i.tabIndex),void 0!==u[i.tabIndex]&&u[i.tabIndex].blur(),t(function(){i.onClose()},0),n.children().children()[0].focus();else{i.inputLabel.labelFilter="",i.updateFilter(),a=[],s=0,angular.element(l).addClass("show"),angular.element(r).addClass("buttonClicked"),angular.element(document).on("click",i.externalClickListener),angular.element(document).on("keydown",i.keyboardListener),i.getFormElements(),i.tabIndex=0;var o=angular.element(n[0].querySelector(".helperContainer"))[0];if(void 0!==o){for(var c=0;c<o.getElementsByTagName("BUTTON").length;c++)a[c]=o.getElementsByTagName("BUTTON")[c];s=a.length+o.getElementsByTagName("INPUT").length}n[0].querySelector(".inputFilter")?(n[0].querySelector(".inputFilter").focus(),i.tabIndex=i.tabIndex+s-2,angular.element(n).children()[0].blur()):i.isDisabled||(i.tabIndex=i.tabIndex+s,i.inputModel.length>0&&(u[i.tabIndex].focus(),i.setFocusStyle(i.tabIndex),angular.element(n).children()[0].blur())),i.onOpen()}},i.externalClickListener=function(e){for(var r=n.find(e.target.tagName),o=0;o<r.length;o++)if(e.target==r[o])return;angular.element(l.previousSibling).removeClass("buttonClicked"),angular.element(l).removeClass("show"),angular.element(document).off("click",i.externalClickListener),angular.element(document).off("keydown",i.keyboardListener),t(function(){i.onClose()},0),n.children().children()[0].focus()},i.select=function(e,t){var n=a.indexOf(t.target);switch(i.tabIndex=n,e.toUpperCase()){case"ALL":angular.forEach(i.filteredModel,function(e,t){void 0!==e&&!0!==e[r.disableProperty]&&void 0===e[r.groupProperty]&&(e[i.tickProperty]=!0)}),i.refreshOutputModel(),i.refreshButton(),i.onSelectAll();break;case"NONE":angular.forEach(i.filteredModel,function(e,t){void 0!==e&&!0!==e[r.disableProperty]&&void 0===e[r.groupProperty]&&(e[i.tickProperty]=!1)}),i.refreshOutputModel(),i.refreshButton(),i.onSelectNone();break;case"RESET":angular.forEach(i.filteredModel,function(e,t){if(void 0===e[r.groupProperty]&&void 0!==e&&!0!==e[r.disableProperty]){var n=e[i.indexProperty];e[i.tickProperty]=i.backUp[n][i.tickProperty]}}),i.refreshOutputModel(),i.refreshButton(),i.onReset();break;case"CLEAR":i.tabIndex=i.tabIndex+1,i.onClear();break;case"FILTER":i.tabIndex=a.length-1}};i.prepareGrouping=function(){var e=0;angular.forEach(i.filteredModel,function(t,n){t[i.spacingProperty]=e,!0===t[r.groupProperty]?e+=2:!1===t[r.groupProperty]&&(e-=2)})},i.prepareIndex=function(){var e=0;angular.forEach(i.filteredModel,function(t,n){t[i.indexProperty]=e,e++})},i.keyboardListener=function(e){var t=e.keyCode?e.keyCode:e.which,n=!1;if(27===t)e.preventDefault(),e.stopPropagation(),i.toggleCheckboxes(e);else if(40===t||39===t||!e.shiftKey&&9==t)for(n=!0,o=i.tabIndex,i.tabIndex++,i.tabIndex>u.length-1&&(i.tabIndex=0,o=u.length-1);!0===u[i.tabIndex].disabled&&(i.tabIndex++,i.tabIndex>u.length-1&&(i.tabIndex=0),i.tabIndex!==o););else if(38===t||37===t||e.shiftKey&&9==t)for(n=!0,o=i.tabIndex,i.tabIndex--,i.tabIndex<0&&(i.tabIndex=u.length-1,o=0);!0===u[i.tabIndex].disabled&&(i.tabIndex--,i.tabIndex!==o);)i.tabIndex<0&&(i.tabIndex=u.length-1);if(!0===n){e.preventDefault(),u[i.tabIndex].focus();"CHECKBOX"===document.activeElement.type.toUpperCase()?(i.setFocusStyle(i.tabIndex),i.removeFocusStyle(o)):(i.removeFocusStyle(o),i.removeFocusStyle(s),i.removeFocusStyle(u.length-1))}n=!1},i.setFocusStyle=function(e){angular.element(u[e]).parent().parent().parent().addClass("multiSelectFocus")},i.removeFocusStyle=function(e){angular.element(u[e]).parent().parent().parent().removeClass("multiSelectFocus")},i.groupProperty=r.groupProperty,i.tickProperty=r.tickProperty,i.directiveId=r.directiveId;var h=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i="",n=0;n<e;n++)i+=t.charAt(Math.floor(Math.random()*t.length));return i}(5);if(i.indexProperty="idx_"+h,i.spacingProperty="spc_"+h,void 0!==r.orientation&&("HORIZONTAL"===r.orientation.toUpperCase()?(i.orientationH=!0,i.orientationV=!1):(i.orientationH=!1,i.orientationV=!0)),l=n.children().children().next()[0],void 0!==r.maxHeight){var p=n.children().children().children()[0];angular.element(p).attr("style","height:"+r.maxHeight+"; overflow-y:scroll;")}for(var f in i.helperStatus)i.helperStatus.hasOwnProperty(f)&&void 0!==r.helperElements&&-1===r.helperElements.toUpperCase().indexOf(f.toUpperCase())&&(i.helperStatus[f]=!1);void 0!==r.selectionMode&&"SINGLE"===r.selectionMode.toUpperCase()&&(i.helperStatus.all=!1,i.helperStatus.none=!1),i.icon={},i.icon.selectAll="&#10003;",i.icon.selectNone="&times;",i.icon.reset="&#8630;",i.icon.tickMark="&#10003;",void 0!==r.translation?(i.lang.selectAll=e.trustAsHtml(i.icon.selectAll+"&nbsp;&nbsp;"+i.translation.selectAll),i.lang.selectNone=e.trustAsHtml(i.icon.selectNone+"&nbsp;&nbsp;"+i.translation.selectNone),i.lang.reset=e.trustAsHtml(i.icon.reset+"&nbsp;&nbsp;"+i.translation.reset),i.lang.search=i.translation.search,i.lang.nothingSelected=e.trustAsHtml(i.translation.nothingSelected)):(i.lang.selectAll=e.trustAsHtml(i.icon.selectAll+"&nbsp;&nbsp;Select All"),i.lang.selectNone=e.trustAsHtml(i.icon.selectNone+"&nbsp;&nbsp;Select None"),i.lang.reset=e.trustAsHtml(i.icon.reset+"&nbsp;&nbsp;Reset"),i.lang.search="Search...",i.lang.nothingSelected="None Selected"),i.icon.tickMark=e.trustAsHtml(i.icon.tickMark),void 0!==r.MinSearchLength&&parseInt(r.MinSearchLength)>0&&(c=Math.floor(parseInt(r.MinSearchLength))),i.$watch("inputModel",function(e){e&&(i.refreshOutputModel(),i.refreshButton())},!0),i.$watch("inputModel",function(e){e&&(i.backUp=angular.copy(i.inputModel),i.updateFilter(),i.prepareGrouping(),i.prepareIndex(),i.refreshOutputModel(),i.refreshButton())}),i.$watch("isDisabled",function(e){i.isDisabled=e});var g=function(e){i.$apply(function(){i.scrolled=!1})};angular.element(document).bind("touchstart",g);var m=function(e){i.$apply(function(){i.scrolled=!0})};angular.element(document).bind("touchmove",m),i.$on("$destroy",function(){angular.element(document).unbind("touchstart",g),angular.element(document).unbind("touchmove",m)})}}}]).run(["$templateCache",function(e){e.put("isteven-multi-select.htm",'<span class="multiSelect inlineBlock"><button id="{{directiveId}}" type="button"ng-click="toggleCheckboxes( $event ); refreshSelectedItems(); refreshButton(); prepareGrouping; prepareIndex();"ng-bind-html="varButtonLabel"ng-disabled="disable-button"></button><div class="checkboxLayer"><div class="helperContainer" ng-if="helperStatus.filter || helperStatus.all || helperStatus.none || helperStatus.reset "><div class="line" ng-if="helperStatus.all || helperStatus.none || helperStatus.reset "><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.all"ng-click="select( \'all\', $event );"ng-bind-html="lang.selectAll"></button><button type="button" class="helperButton"ng-disabled="isDisabled"ng-if="helperStatus.none"ng-click="select( \'none\', $event );"ng-bind-html="lang.selectNone"></button><button type="button" class="helperButton reset"ng-disabled="isDisabled"ng-if="helperStatus.reset"ng-click="select( \'reset\', $event );"ng-bind-html="lang.reset"></button></div><div class="line" style="position:relative" ng-if="helperStatus.filter"><input placeholder="{{lang.search}}" type="text"ng-click="select( \'filter\', $event )" ng-model="inputLabel.labelFilter" ng-change="searchChanged()" class="inputFilter"/><button type="button" class="clearButton" ng-click="clearClicked( $event )" ></button> </div> </div> <div class="checkBoxContainer"><div ng-repeat="item in filteredModel | filter:removeGroupEndMarker" class="multiSelectItem"ng-class="{selected: item[ tickProperty ], horizontal: orientationH, vertical: orientationV, multiSelectGroup:item[ groupProperty ], disabled:itemIsDisabled( item )}"ng-click="syncItems( item, $event, $index );" ng-mouseleave="removeFocusStyle( tabIndex );"> <div class="acol" ng-if="item[ spacingProperty ] > 0" ng-repeat="i in numberToArray( item[ spacingProperty ] ) track by $index"></div>  <div class="acol"><label><input class="checkbox focusable" type="checkbox" ng-disabled="itemIsDisabled( item )" ng-checked="item[ tickProperty ]" ng-click="syncItems( item, $event, $index )" /><span ng-class="{disabled:itemIsDisabled( item )}" ng-bind-html="writeLabel( item, \'itemLabel\' )"></span></label></div><span class="tickMark" ng-if="item[ groupProperty ] !== true && item[ tickProperty ] === true" ng-bind-html="icon.tickMark"></span></div></div></div></span>')}]),window.XdUtils=window.XdUtils||function(){return{extend:function(e,t){var i,n=t||{};for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}}}(),window.xdLocalStorage=window.xdLocalStorage||function(){var e,t="cross-domain-local-message",i={iframeId:"cross-domain-iframe",iframeUrl:void 0,initCallback:function(){}},n=-1,r={},o=!1,a=!0;function s(e){var n;try{n=JSON.parse(e.data)}catch(e){}n&&n.namespace===t&&("iframe-ready"===n.id?(a=!0,i.initCallback()):r[(o=n).id]&&(r[o.id](o),delete r[o.id]));var o}function l(i,o,a,s){r[++n]=s;var l={namespace:t,id:n,action:i,key:o,value:a};e.contentWindow.postMessage(JSON.stringify(l),"*")}function u(t){i=XdUtils.extend(t,i);var n=document.createElement("div");window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent("onmessage",s),n.innerHTML='<iframe id="'+i.iframeId+'" src='+i.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(n),e=document.getElementById(i.iframeId)}function c(){return o?!!a||(console.log("You must wait for iframe ready message before using the api."),!1):(console.log("You must call xdLocalStorage.init() before using it."),!1)}function d(){return"complete"===document.readyState}return{init:function(e){if(!e.iframeUrl)throw"You must specify iframeUrl";o?console.log("xdLocalStorage was already initialized!"):(o=!0,d()?u(e):document.addEventListener?document.addEventListener("readystatechange",function(){d()&&u(e)}):document.attachEvent("readystatechange",function(){d()&&u(e)}))},setItem:function(e,t,i){c()&&l("set",e,t,i)},getItem:function(e,t){c()&&l("get",e,null,t)},removeItem:function(e,t){c()&&l("remove",e,null,t)},key:function(e,t){c()&&l("key",e,null,t)},getSize:function(e){c()&&l("size",null,null,e)},getLength:function(e){c()&&l("length",null,null,e)},clear:function(e){c()&&l("clear",null,null,e)},wasInit:function(){return o}}}(),angular.module("xdLocalStorage",[]).service("xdLocalStorage",["$q","$rootScope","$timeout",function(e,t,i){var n=!1,r=e.defer(),o=2500,a=t.$watch(function(){return n},function(){n&&(r.resolve(!0),a())});function s(n){var a=Array.prototype.slice.call(arguments,1);return function(){if(!xdLocalStorage.wasInit())throw"You must init xdLocalStorage in app config before use";return r.promise}().then(function(){var r=e.defer();return i(function(){r.reject()},o),xdLocalStorage[n].apply(this,a.concat(function(){var e=arguments[0];t.$apply(function(){r.resolve(e)})})),r.promise})}return{init:function(a){var s=e.defer();return a.initCallback=function(){t.$apply(function(){n=!0,s.resolve()})},i(function(){r.reject()},o),xdLocalStorage.init(a),s.promise},setItem:function(e,t){return s("setItem",e,t)},getItem:function(e){return s("getItem",e)},removeItem:function(e){return s("removeItem",e)},key:function(e){return s("key",e)},clear:function(){return s("clear")}}}]),angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"]),angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["","","Ar","","","B/.","Br","Bs.","Bs.F.","GH","","c","Ch.","","C$","D","","","..",".","JD",".",".","",".","..",".","Db","$","","Esc","","","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","","h","","","K","kr","kn","MK","ZK","Kz","K","L","Le","","E","lp","M","KM","MT","","Nfk","","Nu.","UM","T$","MOP$","","Pt.","","..","LL","LS","P","Q","q","R","R$","..",".",".","","RM","p","Rf.","","","SRe","Rp","","Ksh","Sh.So.","USh","S/","SDR","","\t","WS$","","VT","","","z"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}}),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,i,n){return{priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,r,o,a){if(a&&t.col.compiledElementFn)(0,t.col.compiledElementFn)(t,function(e,t){r.append(e)});else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){r.append(e)})}).catch(angular.noop);else{var s=t.col.cellTemplate.replace(n.MODEL_COL_FIELD,"row.entity."+i.preEval(t.col.field)).replace(n.COL_FIELD,"grid.getCellValue(row, col)"),l=e(s)(t);r.append(l)}},post:function(e,t,i,r){var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(i){var n=t;a&&(n.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,n.addClass(a)};e.col.cellClass&&s();var l=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN,n.dataChange.EDIT]),u=e.$watch("row",function(i,n){if(i!==n){(a||e.col.cellClass)&&s();var r=e.col.getColClass(!1);r!==o&&(t.removeClass(o),t.addClass(r),o=r)}}),c=function(){l(),u()};e.$on("$destroy",c),t.on("$destroy",c)}}}}}]),angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,i){var n={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){void 0!==t&&t&&angular.isArray(t)?(t.forEach(function(t){void 0!==t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&void 0!==e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return void 0!==e.col&&void 0!==e.col.sort&&void 0!==e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!(!e.col||!e.col.suppressRemoveSort)},hideable:function(e){return void 0===e.col||!e.col||!e.col.colDef||!1!==e.col.colDef.enableHiding},getDefaultMenuItems:function(i){return[{title:function(){return e.getSafeText("sort.ascending")},icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),i.sortColumn(e,t.ASC)},shown:function(){return n.sortable(i)},active:function(){return n.isActiveSort(i,t.ASC)}},{title:function(){return e.getSafeText("sort.descending")},icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),i.sortColumn(e,t.DESC)},shown:function(){return n.sortable(i)},active:function(){return n.isActiveSort(i,t.DESC)}},{title:function(){return e.getSafeText("sort.remove")},icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.unsortColumn()},shown:function(){return n.sortable(i)&&void 0!==i.col&&void 0!==i.col.sort&&void 0!==i.col.sort.direction&&null!==i.col.sort.direction&&!n.suppressRemoveSort(i)}},{title:function(){return e.getSafeText("column.hide")},icon:"ui-grid-icon-cancel",shown:function(){return n.hideable(i)},action:function(e){e.stopPropagation(),i.hideColumn()}}]},getColumnElementPosition:function(e,t,n){var r={};return r.left=n[0].offsetLeft,r.top=n[0].offsetTop,r.parentLeft=n[0].offsetParent.offsetLeft,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=i.elementHeight(n,!0),r.width=i.elementWidth(n,!0),r},repositionMenu:function(e,t,n,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),s=i.closestElm(o,".ui-grid-render-container"),l=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,u=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,c=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,d=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var h=a[0].querySelectorAll(".ui-grid-menu-mid");0===h.length||angular.element(h).hasClass("ng-hide")||(c=i.elementWidth(a,!0),e.lastMenuWidth=c,t.lastMenuWidth=c,d=parseInt(i.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=d,t.lastMenuPaddingRight=d)}var p=n.left+l-u+n.parentLeft+n.width-c+d;p<n.offset&&(p=n.offset),r.css("left",p+"px"),r.css("top",n.top+n.height+"px")}};return n}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,i,n,r){return{priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,l){n.initialize(o,l),o.defaultMenuItems=n.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,n.setColMenuItemWatch(o),o.showMenu=function(e,t,i){o.col=e;var r=n.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=r,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:i})):(o.menuShown=!0,n.repositionMenu(o,e,r,a,t),o.colElement=t,o.colElementPosition=r,o.$broadcast("show-menu",{originalEvent:i}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,n.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(r,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){n.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(r,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()}).catch(angular.noop)},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()},o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(i.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),e(function(){var e,i=function(){return t.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(t,i){return angular.equals(t,o.col)?(e=i,!0):void 0});var n;if(o.grid.columns.some(function(t,i){if(!t.visible)return!1;if(e>i)n=t;else{if(i>e&&!n)return n=t,!0;if(i>e&&n)return!0}}),n){var a=n.getColClass();t.focus.bySelector(r,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){return"canceled"!==e?i():void 0}).catch(angular.noop)}else i()})}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]}}]),angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,i,n){return{compile:function(){return{pre:function(t,i,n,r){t.col.updateFilters=function(n){if(i.children().remove(),n){var r=t.col.filterHeaderTemplate;void 0===r&&""!==t.col.providedFilterHeaderTemplate?t.col.filterHeaderTemplatePromise&&t.col.filterHeaderTemplatePromise.then(function(){r=t.col.filterHeaderTemplate,i.append(e(r)(t))}):i.append(e(r)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,r,o){e.aria=i.getSafeText("headerCell.aria"),e.removeFilter=function(e,i){e.term=null,n.focus.bySelector(t,".ui-grid-filter-input-"+i)}}}}}}]),angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,i,n){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,r){return{pre:function(e,t,i,r){var o=e.col.footerCellTemplate;void 0===o&&""!==e.col.providedFooterCellTemplate?e.col.footerCellTemplatePromise&&e.col.footerCellTemplatePromise.then(function(){o=e.col.footerCellTemplate,t.append(n(o)(e))}):t.append(n(o)(e))},post:function(e,t,n,r){e.grid=r.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(i){var n=t;a&&(n.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,n.addClass(a)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(s,[i.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,s),e.$on("$destroy",l)}}}}}]),angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,i,n,r){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,i){return{pre:function(e,i,r,o){var a=o[0],s=o[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=i;var l=e.grid.options.footerTemplate;n.getTemplate(l).then(function(n){var r=angular.element(n),o=t(r)(e);if(i.append(o),s){var a=i[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}}).catch(angular.noop)},post:function(e,t,i,r){var o=r[0],a=r[1];o.grid,n.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}]),angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,i,n,r){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,i){return{pre:function(e,i,r,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;n.getTemplate(a).then(function(n){var r=angular.element(n),o=t(r)(e);i.append(o)}).catch(angular.noop)},post:function(e,t,i,n){}}}}}]),angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,i,n,r,o,a,s){return{priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,i,n){var r=t.col.headerCellTemplate;void 0===r&&""!==t.col.providedHeaderCellTemplate?t.col.headerCellTemplatePromise&&t.col.headerCellTemplatePromise.then(function(){r=t.col.headerCellTemplate,i.append(e(r)(t))}):i.append(e(r)(t))},post:function(e,i,r,a){var l=a[0],u=a[1];e.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t,i){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,i=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none;return e.isSortPriorityVisible()&&(i=i+". "+e.i18n.headerCell.priority+" "+(t.sort.priority+1)),i},e.grid=l.grid,e.renderContainer=l.grid.renderContainers[u.containerId];var c=e.col.getColClass(!1);i.addClass(c),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var d,h,p=(angular.element(i[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(i[0].querySelectorAll(".ui-grid-cell-contents"))),f=[];e.downFn=function(r){r.stopPropagation(),void 0!==r.originalEvent&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(h=r.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},500),e.mousedownTimeout.then(function(){e.colMenu&&l.columnMenuScope.showMenu(e.col,i,r)}).catch(angular.noop),l.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:r,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===r.type?(n.on("touchend",e.upFn),n.on("touchmove",e.moveFn)):"mousedown"===r.type&&(n.on("mouseup",e.upFn),n.on("mousemove",e.moveFn)))},e.upFn=function(i){i.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(i.type),(new Date).getTime()-e.mousedownStartTime>500||e.sortable&&e.handleClick(i)},e.handleKeyDown=function(e){32===e.keyCode&&e.preventDefault()},e.moveFn=function(i){0!=i.pageX-h&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(i.type))},e.clickFn=function(t){t.stopPropagation(),p.off("click",e.clickFn)},e.offAllEvents=function(){p.off("touchstart",e.downFn),p.off("mousedown",e.downFn),n.off("touchend",e.upFn),n.off("mouseup",e.upFn),n.off("touchmove",e.moveFn),n.off("mousemove",e.moveFn),p.off("click",e.clickFn)},e.onDownEvents=function(i){switch(i){case"touchmove":case"touchend":p.on("click",e.clickFn),p.on("touchstart",e.downFn),t(function(){p.on("mousedown",e.downFn)},500);break;case"mousemove":case"mouseup":p.on("click",e.clickFn),p.on("mousedown",e.downFn),t(function(){p.on("touchstart",e.downFn)},500);break;default:p.on("click",e.clickFn),p.on("touchstart",e.downFn),p.on("mousedown",e.downFn)}};var g=function(t){var n=i;d&&(n.removeClass(d),d=null),d=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,n.addClass(d),e.$applyAsync(function(){var t=e.grid.renderContainers.right&&e.grid.renderContainers.right.visibleColumnCache.length?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=l.grid.options&&l.grid.options.enableGridMenu&&e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.sortable=Boolean(e.col.enableSorting);var r=e.filterable;e.filterable=Boolean(l.grid.options.enableFiltering&&e.col.enableFiltering),r!==e.filterable&&(void 0!==e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,i){f.push(e.$watch("col.filters["+i+"].term",function(e,t){e!==t&&(l.grid.api.core.raise.filterChanged(),l.grid.api.core.notifyDataChange(o.dataChange.COLUMN),l.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){f.forEach(function(e){e()})})):f.forEach(function(e){e()})),e.col.grid.options&&!1!==e.col.grid.options.enableColumnMenus&&e.col.colDef&&!1!==e.col.colDef.enableColumnMenu?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};g();var m=e.grid.registerDataChangeCallback(g,[o.dataChange.COLUMN]);e.$on("$destroy",m),e.handleClick=function(t){var i=!1;t.shiftKey&&(i=!0),l.grid.sortColumn(e.col,i).then(function(){l.columnMenuScope&&l.columnMenuScope.hideMenu(),l.grid.refresh()}).catch(angular.noop)},e.headerCellArrowKeyDown=function(t){(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),e.toggleMenu(t))},e.toggleMenu=function(t){t.stopPropagation(),l.columnMenuScope.menuShown&&l.columnMenuScope.col===e.col?l.columnMenuScope.hideMenu():l.columnMenuScope.showMenu(e.col,i)}}}}}}]),angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,i,n,r,o){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,i){return{pre:function(e,i,r,a){function s(){c.header=c.colContainer.header=i;var e=i[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?c.headerCanvas=c.colContainer.headerCanvas=e[0]:c.headerCanvas=null}function l(e){if(!u.grid.isScrollingHorizontally){var t=n.normalizeScrollLeft(c.headerViewport,u.grid),i=c.colContainer.scrollHorizontal(t),r=new o(u.grid,null,c.colContainer,o.Sources.ViewPortScroll);r.newScrollLeft=t,i>-1&&(r.x={percentage:i}),u.grid.scrollContainers(null,r)}}var u=a[0],c=a[1];e.grid=u.grid,e.colContainer=c.colContainer,s();var d;d=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:"ui-grid/ui-grid-header":"ui-grid/ui-grid-no-header",n.getTemplate(d).then(function(n){var r=angular.element(n),o=t(r)(e);if(i.replaceWith(o),i=o,s(),c){var a=i[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(c.headerViewport=a,angular.element(a).on("scroll",l),e.$on("$destroy",function(){angular.element(a).off("scroll",l)}))}e.grid.queueRefresh()}).catch(angular.noop)},post:function(e,t,i,r){var o=r[0],a=r[1];o.grid,n.disableAnimations(t),a.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(a.headerViewport=s),o&&o.grid.registerStyleComputation({priority:15,func:function(){var e="",t=0;return a.colContainer.visibleColumnCache.forEach(function(i){e+=i.getColClassDefinition(),t+=i.drawnWidth}),a.colContainer.canvasWidth=t,e}})}}}}}]),angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,i){var n={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",n.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",n.removeFromGridMenu)},addToGridMenu:function(t,i){angular.isArray(i)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(i)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,i){var n=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===i&&(n>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):n=r)}),n>-1&&t.gridMenuScope.registeredMenuItems.splice(n,1)},getMenuItems:function(i){var r=[];i.grid.options.gridMenuCustomItems&&(angular.isArray(i.grid.options.gridMenuCustomItems)?r=r.concat(i.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){i.grid.clearAllFilters()},shown:function(){return i.grid.options.enableFiltering},order:100}];return r=(r=r.concat(o)).concat(i.registeredMenuItems),!1!==i.grid.options.gridMenuShowHideColumns&&(r=r.concat(n.showHideColumns(i))),r.sort(function(e,t){return e.order-t.order}),r},showHideColumns:function(e){var i=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(i.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,r){if(!1!==t.enableHiding){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r};n.setMenuItemTitle(o,t,e.grid),i.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(!0===this.context.gridCol.colDef.visible||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r+1},n.setMenuItemTitle(o,t,e.grid),i.push(o)}}),i):i},setMenuItemTitle:function(t,i,n){var r=n.options.gridMenuTitleFilter(i.displayName||e.readableColumnName(i.name)||i.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e}).catch(angular.noop)):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(!0===e.colDef.visible||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(i.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return n}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,i,n){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,r,o,a){var s=a[0];t.i18n={aria:n.getSafeText("gridMenu.aria")},i.initialize(t,s.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=i.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(r,".ui-grid-icon-container")})}}}]),angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,i,n,r,o,a){return{priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(n,s,l,u){if(n.dynamicStyles="",u&&u.grid&&u.grid.options&&u.grid.options.gridMenuTemplate){var c=u.grid.options.gridMenuTemplate;r.getTemplate(c).then(function(t){var i=angular.element(t),r=e(i)(n);s.replaceWith(r)}).catch(angular.noop)}var d=function(e){var t=e-u.grid.headerHeight-20;n.dynamicStyles=[".grid"+u.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")};u&&(d(u.grid.gridHeight),u.grid.api.core.on.gridDimensionChanged(n,function(e,t,i,n){d(i)})),n.i18n={close:a.getSafeText("columnMenu.close")},n.showMenu=function(e,i){n.shown?n.shownMid||(n.shownMid=!0,n.$emit("menu-shown")):(n.shown=!0,t(function(){n.shownMid=!0,n.$emit("menu-shown")}));var o="click";i&&i.originalEvent&&i.originalEvent.type&&"touchstart"===i.originalEvent.type&&(o=i.originalEvent.type),angular.element(document).off("click touchstart",h),s.off("keyup",p),s.off("keydown",f),t(function(){angular.element(document).on(o,h),s.on("keyup",p),s.on("keydown",f)}),r.focus.bySelector(s,"button[type=button]",!0)},n.hideMenu=function(e){n.shown&&(n.shownMid=!1,t(function(){n.shownMid||(n.shown=!1,n.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",h),s.off("keyup",p),s.off("keydown",f)},n.$on("hide-menu",function(e,t){n.hideMenu(e,t)}),n.$on("show-menu",function(e,t){n.showMenu(e,t)});var h=function(){n.shown&&n.$apply(function(){n.hideMenu()})},p=function(e){27===e.keyCode&&n.hideMenu()},f=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var i,n,r=s[0].querySelectorAll("button:not(.ng-hide)");r.length>0&&(i=r[0],n=r[r.length-1],e.target!==n||e.shiftKey?e.target===i&&e.shiftKey&&t(n):t(i))}};(void 0===n.autoHide||void 0===n.autoHide)&&(n.autoHide=!0),n.autoHide&&angular.element(i).on("resize",h),n.$on("$destroy",function(){angular.element(i).off("resize",h),angular.element(document).off("click touchstart",h),s.off("keyup",p),s.off("keydown",f)}),u&&n.$on("$destroy",u.grid.api.core.on.scrollBegin(n,h)),n.$on("$destroy",n.$on(o.events.ITEM_DRAGGING,h))}}}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,i){return{priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(i,n){i.templateUrl&&e.getTemplate(i.templateUrl).then(function(e){var r=angular.element(e),o=t(r)(i);n.replaceWith(o)}).catch(angular.noop)},post:function(t,n,r,o){var a=o[0];(void 0===t.shown||null===t.shown)&&(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),void 0!==a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(i,n){if(i.stopPropagation(),"function"==typeof t.action){var r={};t.context&&(r.context=t.context),void 0!==a&&a&&(r.grid=a.grid),t.action.call(r,i,n),t.leaveOpen?e.focus.bySelector(angular.element(i.target.parentElement),"button[type=button]",!0):t.$emit("hide-menu")}},t.label=function(){var e=t.name;return"function"==typeof t.name&&(e=t.name.call()),e},t.i18n=i.get()}}}}}]),function(){var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var i=(t.aria?"uiGridOneBindAria":"uiGridOneBind")+(t.directiveName?t.directiveName:t.tag);e.directive(i,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(n,r,o,a){var s=n.$watch(o[i],function(o){if(o){if(t.appendGridId){var l=null;angular.forEach(o.split(" "),function(t){l=(l?l+" ":"")+function(t){var r;if(n.grid)r=n.grid;else if(n.col&&n.col.grid)r=n.col.grid;else if(!a.some(function(e){return e&&e.grid?(r=e.grid,!0):void 0}))throw e.logError("["+i+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");r&&(new RegExp(r.id.toString()).test(t)||(t=r.id.toString()+"-"+t));return t}(t)}),o=l}switch(t.method){case"attr":t.aria?r[t.method]("aria-"+t.tag.toLowerCase(),o):r[t.method](t.tag.toLowerCase(),o);break;case"addClass":if(angular.isObject(o)&&!angular.isArray(o)){var u=[],c=!1;if(angular.forEach(o,function(e,t){null!==e&&void 0!==e&&(c=!0,e&&u.push(t))}),!c)return;o=u}if(!o)return;r.addClass(angular.isArray(o)?o.join(" "):o);break;default:r[t.method](o)}s()}},!0)}}}])})}(),function(){var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,i,n,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,i,n){var r=n[0],o=n[1],a=e.grid=r.grid;if(!e.rowContainerName)throw new Error("No row render container name specified");if(!e.colContainerName)throw new Error("No column render container name specified");if(!a.renderContainers[e.rowContainerName])throw new Error("Row render container '"+e.rowContainerName+"' is not registered.");if(!a.renderContainers[e.colContainerName])throw new Error("Column render container '"+e.colContainerName+"' is not registered.");var s=e.rowContainer=a.renderContainers[e.rowContainerName],l=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=s,o.colContainer=l},post:function(e,t,i,o){var a=o[0],s=o[1],l=a.grid,u=s.rowContainer,c=s.colContainer,d=null,h=null,p=l.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),n.on.mousewheel(t,function(e){var t=new r(l,u,c,r.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var i=-1*e.deltaY*e.deltaFactor;d=s.viewport[0].scrollTop,t.verticalScrollLength=u.getVerticalScrollLength();var o=(d+i)/t.verticalScrollLength;o>=1&&d<t.verticalScrollLength&&(s.viewport[0].scrollTop=t.verticalScrollLength),0>o?o=0:o>1&&(o=1),t.y={percentage:o,pixels:i}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;h=n.normalizeScrollLeft(s.viewport,l),t.horizontalScrollLength=c.getCanvasWidth()-c.getViewportWidth();var p=(h+a)/t.horizontalScrollLength;0>p?p=0:p>1&&(p=1),t.x={percentage:p,pixels:a}}0!==e.deltaY&&(t.atTop(d)||t.atBottom(d))||0!==e.deltaX&&(t.atLeft(h)||t.atRight(h))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),a.grid.registerStyleComputation({priority:6,func:function(){var t="",i=c.canvasWidth,n=c.getViewportWidth(),r=u.getCanvasHeight(),o=u.getViewportHeight();c.needsHScrollbarPlaceholder()&&(o-=l.scrollbarHeight);var s,d;return s=d=c.getHeaderViewportWidth(),t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+r+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(i+l.scrollbarWidth)+"px; }",t+=p.explicitHeaderCanvasHeight?"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+p.explicitHeaderCanvasHeight+"px; }":"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+n+"px; height: "+o+"px; }",t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+s+"px; }",(t+="\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(i+l.scrollbarWidth)+"px; }")+"\n .grid"+a.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+d+"px; }"}})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,i,n){function r(){e.row.getRowTemplateFn.then(function(i){var n=e.$new();i(n,function(e,i){s&&(s.remove(),l.$destroy()),t.empty().append(e),s=e,l=n})}).catch(angular.noop)}var o=n[0],a=n[1];o.grid,e.grid=o.grid,e.colContainer=a.colContainer;var s,l;r(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&r()})},post:function(e,t,i,n){}}}}}]),angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,i,n,r){var o=t(i.text(),!0);o&&e.$watch(o,function(e){i.text(e)})}}}]),angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,i,n){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(i,n,r,o){function a(r){var o=n[0].scrollTop,a=e.normalizeScrollLeft(n,d),s=u.scrollVertical(o),l=c.scrollHorizontal(a),h=new t(d,u,c,t.Sources.ViewPortScroll);h.newScrollLeft=a,h.newScrollTop=o,l>-1&&(h.x={percentage:l}),s>-1&&(h.y={percentage:s}),d.scrollContainers(i.$parent.containerId,h)}var s=o[0],l=o[1];i.containerCtrl=l;var u=l.rowContainer,c=l.colContainer,d=s.grid;i.grid=s.grid,i.rowContainer=l.rowContainer,i.colContainer=l.colContainer,l.viewport=n,d&&d.options&&d.options.customScroller?d.options.customScroller(n,a):n.on("scroll",a),i.$parent.bindScrollVertical&&d.addVerticalScrollSync(i.$parent.containerId,function(e){l.prevScrollArgs=e;var t=e.getNewScrollTop(u,l.viewport);n[0].scrollTop=t}),i.$parent.bindScrollHorizontal&&(d.addHorizontalScrollSync(i.$parent.containerId,function(t){l.prevScrollArgs=t;var i=t.getNewScrollLeft(c,l.viewport);n[0].scrollLeft=e.denormalizeScrollLeft(l.viewport,i,d)}),d.addHorizontalScrollSync(i.$parent.containerId+"header",function(t){var i=t.getNewScrollLeft(c,l.viewport);l.headerViewport&&(l.headerViewport.scrollLeft=e.denormalizeScrollLeft(l.viewport,i,d))}),d.addHorizontalScrollSync(i.$parent.containerId+"footer",function(t){var i=t.getNewScrollLeft(c,l.viewport);l.footerViewport&&(l.footerViewport.scrollLeft=e.denormalizeScrollLeft(l.viewport,i,d))})),i.$on("$destroy",function(){n.off()})},controller:["$scope",function(e){this.rowStyle=function(t){var i=e.rowContainer,n=e.colContainer,r={};if(0!==i.currentTopRow){var o="translateY("+i.currentTopRow*i.grid.options.rowHeight+"px)";r.transform=o,r["-webkit-transform"]=o,r["-ms-transform"]=o}return 0!==n.currentFirstColumn&&(n.grid.isRTL()?r["margin-right"]=n.columnOffset+"px":r["margin-left"]=n.columnOffset+"px"),r}}]}}]),angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,i){e.$watch(i.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}}),function(){function e(e,t,i){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(n,r,o,a){function s(){u.gridWidth=n.gridWidth=t.elementWidth(r),u.canvasWidth=a.grid.gridWidth,u.gridHeight=n.gridHeight=t.elementHeight(r),u.gridHeight<=u.options.rowHeight&&u.options.enableMinHeightCheck&&function(){var e=u.options.minRowsToShow*u.options.rowHeight,o=u.options.showHeader?u.options.headerRowHeight:0,a=u.calcFooterHeight(),s=0;u.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(s=t.getScrollbarWidth());var l=0;if(angular.forEach(u.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>l&&(l=1):e.hasOwnProperty("filters")&&l<e.filters.length&&(l=e.filters.length)}),u.options.enableFiltering&&!l){var c=u.options.columnDefs.length&&u.options.columnDefs.every(function(e){return!1===e.enableFiltering});c||(l=1)}var d=o+e+a+s+l*o;r.css("height",d+"px"),u.gridHeight=n.gridHeight=t.elementHeight(r)}(),u.refreshCanvas(!0)}function l(){u.gridWidth=n.gridWidth=t.elementWidth(r),u.gridHeight=n.gridHeight=t.elementHeight(r),u.refreshCanvas(!0)}var u=a.grid;a.scrollbars=[],u.element=r;var c=100,d=20,h=0;(function(){var t,i;angular.element(e).on("resize",l),r.on("$destroy",function(){angular.element(e).off("resize",l),t(),i()}),t=n.$watch(function(){return u.hasLeftContainer()},function(e,t){e!==t&&u.refreshCanvas(!0)}),i=n.$watch(function(){return u.hasRightContainer()},function(e,t){e!==t&&u.refreshCanvas(!0)})})(),s(),u.renderingComplete(),function e(){r[0].offsetWidth<=0&&d>h?(setTimeout(e,c),h++):n.$applyAsync(s)}()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(e,t,i,n,r,o,a,s,l){function u(e){return e?e.length:0}function c(t,i){t&&t!==i&&(h.grid.options.columnDefs=e.uiGrid.columnDefs,h.grid.callDataChangeCallbacks(o.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}function d(t){var n=[];if(t=angular.isString(e.uiGrid.data)?h.grid.appScope[e.uiGrid.data]:e.uiGrid.data,f=t,t){var a=h.grid.columns.length>(h.grid.rowHeaderColumns?h.grid.rowHeaderColumns.length:0);!a&&!i.uiGridColumns&&0===h.grid.options.columnDefs.length&&t.length>0&&h.grid.buildColumnDefsFromData(t),!a&&(h.grid.options.columnDefs.length>0||t.length>0)&&n.push(h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates()}).catch(angular.noop)),r.all(n).then(function(){h.grid.modifyRows(f).then(function(){h.grid.redrawInPlace(!0),e.$evalAsync(function(){h.grid.refreshCanvas(!0),h.grid.callDataChangeCallbacks(o.dataChange.ROW)})}).catch(angular.noop)}).catch(angular.noop)}}var h=this,p=[];h.grid=a.createGrid(e.uiGrid),h.grid.appScope=h.grid.appScope||e.$parent,t.addClass("grid"+h.grid.id),h.grid.rtl="rtl"===n.getStyles(t[0]).direction,e.grid=h.grid,i.uiGridColumns&&p.push(i.$observe("uiGridColumns",function(e){h.grid.options.columnDefs=angular.isString(e)?angular.fromJson(e):e,h.grid.buildColumns().then(function(){h.grid.preCompileCellTemplates(),h.grid.refreshCanvas(!0)}).catch(angular.noop)})),h.grid.options.fastWatch?(h.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(p.push(e.$parent.$watch(e.uiGrid.data,d)),p.push(e.$parent.$watch(function(){return h.grid.appScope[e.uiGrid.data]?h.grid.appScope[e.uiGrid.data].length:void 0},d))):(p.push(e.$parent.$watch(function(){return e.uiGrid.data},d)),p.push(e.$parent.$watch(function(){return u(e.uiGrid.data)},function(){d(e.uiGrid.data)}))),p.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},c)),p.push(e.$parent.$watch(function(){return u(e.uiGrid.columnDefs)},function(){c(e.uiGrid.columnDefs)}))):(angular.isString(e.uiGrid.data)?p.push(e.$parent.$watchCollection(e.uiGrid.data,d)):p.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},d)),p.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},c)));var f,g=e.$watch(function(){return h.grid.styleComputations},function(){h.grid.refreshCanvas(!0)});e.$on("$destroy",function(){p.forEach(function(e){e()}),g()}),h.fireEvent=function(t,i){i=i||{},angular.isUndefined(i.grid)&&(i.grid=h.grid),e.$broadcast(t,i)},h.innerCompile=function(t){l(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$window","gridUtil","uiGridConstants"]}(),angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,i,n){function r(){if("left"===e.side||"right"===e.side){for(var t=o.renderContainers[e.side].visibleColumnCache,i=0,n=0;n<t.length;n++){var r=t[n];i+=r.drawnWidth||r.width||0}return i}}var o=n.grid,a=0;t.addClass("ui-grid-pinned-container-"+e.side),("left"===e.side||"right"===e.side)&&(o.renderContainers[e.side].getViewportWidth=function(){var e=0;this.visibleColumnCache.forEach(function(t){e+=t.drawnWidth});var t=this.getViewportAdjustment();return e+=t.width}),o.renderContainers.body.registerViewportAdjuster(function(t){return a=r(),t.width-=a,t.side=e.side,t}),o.registerStyleComputation({priority:15,func:function(){var i="";return("left"===e.side||"right"===e.side)&&(a=r(),t.attr("style",null),i+=".grid"+o.id+" .ui-grid-pinned-container-"+e.side+", .grid"+o.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+a+"px; } "),i}})}}}}}]),angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,i,n,r,o,a,s,l,u,c,d,h,p){function f(){}var g=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}function i(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}var a=this;if(void 0===e||void 0===e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=o.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new d("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=r.scrollDirection.NONE,a.disableScrolling=!1;var s=n.debounce(t,a.options.scrollDebounce),c=n.debounce(t,0),h=n.debounce(i,a.options.scrollDebounce),p=n.debounce(i,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?s(e):c(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?h(e):p(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarHeight=n.getScrollbarWidth()),a.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarWidth=n.getScrollbarWidth()),a.api=new l(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",u.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[r.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[r.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[r.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};g.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+this.calcColumnFooterHeight()},g.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},g.prototype.getFooterStyles=function(){return".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; } .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},g.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},g.prototype.isRTL=function(){return this.rtl},g.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},g.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=n.getColumnsFromData(e,this.options.excludeProperties)},g.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},g.prototype.registerDataChangeCallback=function(e,t,i){var o=n.nextUid();t||(t=[r.dataChange.ALL]),Array.isArray(t)||n.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:i};var a=this;return function(){delete a.dataChangeCallbacks[o]}},g.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(i,n){(-1!==i.types.indexOf(r.dataChange.ALL)||-1!==i.types.indexOf(e)||e===r.dataChange.ALL)&&(i._this?i.callback.apply(i._this,this,t):i.callback(this,t))},this)},g.prototype.notifyDataChange=function(e){var t=r.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):n.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},g.prototype.columnRefreshCallback=function(e,t){e.buildColumns(t),e.queueGridRefresh()},g.prototype.processRowsCallback=function(e){e.queueGridRefresh()},g.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},g.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},g.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},g.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,i){if(!t.type){var r=new a(t,i,e),o=e.rows.length>0?e.rows[0]:null;t.type=o?n.guessType(e.getCellValue(o,r)):"string"}})},g.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},g.prototype.addRowHeaderColumn=function(e,t,i){var r=this;void 0===t&&(t=0);var o=new a(e,n.nextUid(),r);o.isRowHeader=!0,r.isRTL()?(r.createRightContainer(),o.renderContainer="right"):(r.createLeftContainer(),o.renderContainer="left"),r.columnBuilders[0](e,o,r.options).then(function(){o.enableFiltering=!1,o.enableSorting=!1,o.enableHiding=!1,o.headerPriority=t,r.rowHeaderColumns.push(o),r.rowHeaderColumns=r.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),i||r.buildColumns().then(function(){r.preCompileCellTemplates(),r.queueGridRefresh()}).catch(angular.noop)}).catch(angular.noop)},g.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(i){-1===e.rowHeaderColumns.indexOf(i)&&t.push(i)}),t},g.prototype.buildColumns=function(t){var i={orderByColumnDefs:!1};angular.extend(i,t);var r,o=this,s=[],l=o.rowHeaderColumns.length;for(r=0;r<o.columns.length;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);for(var u=o.rowHeaderColumns.length-1;u>=0;u--)o.columns.unshift(o.rowHeaderColumns[u]);if(o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var i=o.getColumn(e.name);i?i.updateColumnDef(e,!1):(i=new a(e,n.nextUid(),o),o.columns.splice(t+l,0,i)),o.columnBuilders.forEach(function(t){s.push(t.call(o,e,i,o.options))})}),i.orderByColumnDefs){var c=o.columns.slice(0),d=Math.min(o.options.columnDefs.length,o.columns.length);for(r=0;d>r;r++)o.columns[r+l].name!==o.options.columnDefs[r].name?c[r+l]=o.getColumn(o.options.columnDefs[r].name):c[r+l]=o.columns[r+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(c))}return e.all(s).then(function(){o.rows.length>0&&o.assignTypes(),i.preCompileCellTemplates&&o.preCompileCellTemplates()}).catch(angular.noop)},g.prototype.preCompileCellTemplate=function(e){var i=e.cellTemplate.replace(r.MODEL_COL_FIELD,this.getQualifiedColField(e));i=i.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var n=t(i);e.compiledElementFn=n,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},g.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)}).catch(angular.noop)})},g.prototype.getQualifiedColField=function(e){return e.field===r.ENTITY_BINDING?"row.entity":n.preEval("row.entity."+e.field)},g.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},g.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},g.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},g.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},g.prototype.preprocessColDef=function(e){if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var t=e.field,i=2;this.getColumn(t);)t=e.field+i.toString(),i++;e.name=t}},g.prototype.newInN=function(e,t,i,n){for(var r=[],o=0;o<t.length;o++){for(var a=n?t[o][n]:t[o],s=!1,l=0;l<e.length;l++){var u=i?e[l][i]:e[l];if(this.options.rowEquality(a,u)){s=!0;break}}s||r.push(a)}return r},g.prototype.getRow=function(e,t){var i=this,n=(t=void 0===t?i.rows:t).filter(function(t){return i.options.rowEquality(t.entity,e)});return n.length>0?n[0]:null},g.prototype.modifyRows=function(t){var i=this,n=i.rows.slice(0),r=i.rowHashMap||i.createRowHashMap(),o=!0;i.rowHashMap=i.createRowHashMap(),i.rows.length=0,t.forEach(function(e,t){var a,l;(l=i.options.enableRowHashing?r.get(e):i.getRow(e,n))&&(a=l,a.entity=e),a||(a=i.processRowBuilders(new s(e,t,i))),i.rows.push(a),i.rowHashMap.put(e,a),a.isSelected||(o=!1)}),i.selection&&(i.selection.selectAll=o),i.assignTypes();var a=e.when(i.processRowsProcessors(i.rows)).then(function(e){return i.setVisibleRows(e)}).catch(angular.noop),l=e.when(i.processColumnsProcessors(i.columns)).then(function(e){return i.setVisibleColumns(e)}).catch(angular.noop);return e.all([a,l])},g.prototype.addRows=function(e){for(var t=this.rows.length,i=0;i<e.length;i++){var n=this.processRowBuilders(new s(e[i],i+t,this));if(this.options.enableRowHashing){var r=this.rowHashMap.get(n.entity);r&&(r.row=n)}this.rows.push(n)}},g.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(i){i.call(t,e,t.options)}),e},g.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},g.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},g.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(i,n){i.processor===e&&(t=n)}),-1!==t&&this.rowsProcessors.splice(t,1)},g.prototype.processRowsProcessors=function(t){var i=this,n=t.slice(0);if(0===i.rowsProcessors.length)return e.when(n);var r=e.defer();return function t(n,o){var a=i.rowsProcessors[n].processor;return e.when(a.call(i,o,i.columns)).then(function(e){if(!e)throw"Processor at index "+n+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+n+" did not return an array";return++n<=i.rowsProcessors.length-1?t(n,e):void r.resolve(e)}).catch(function(e){throw e})}(0,n),r.promise},g.prototype.setVisibleRows=function(e){for(var t in this.renderContainers){var i=this.renderContainers[t];i.canvasHeightShouldUpdate=!0,void 0===i.visibleRowCache?i.visibleRowCache=[]:i.visibleRowCache.length=0}for(var n=0;n<e.length;n++){var r=e[n],o=void 0!==r.renderContainer&&r.renderContainer?r.renderContainer:"body";r.visible&&this.renderContainers[o].visibleRowCache.push(r)}this.api.core.raise.rowsVisibleChanged(this.api),this.api.core.raise.rowsRendered(this.api)},g.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},g.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);void 0!==t&&void 0!==t&&this.columnsProcessors.splice(t,1)},g.prototype.processColumnsProcessors=function(t){var i=this,n=t.slice(0);if(0===i.columnsProcessors.length)return e.when(n);var r=e.defer();return function t(o,a){var s=i.columnsProcessors[o].processor;return e.when(s.call(i,a,i.rows)).then(function(e){if(!e)throw"Processor at index "+o+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+o+" did not return an array";return++o<=i.columnsProcessors.length-1?t(o,n):void r.resolve(n)}).catch(angular.noop)}(0,n),r.promise},g.prototype.setVisibleColumns=function(e){for(var t in this.renderContainers)this.renderContainers[t].visibleColumnCache.length=0;for(var i=0;i<e.length;i++){var n=e[i];n.visible&&(void 0!==n.renderContainer&&n.renderContainer?this.renderContainers[n.renderContainer].visibleColumnCache.push(n):this.renderContainers.body.visibleColumnCache.push(n))}},g.prototype.handleWindowResize=function(e){return this.gridWidth=n.elementWidth(this.element),this.gridHeight=n.elementHeight(this.element),this.queueRefresh()},g.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&h.cancel(e.refreshCanceller),e.refreshCanceller=h(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}).catch(angular.noop),e.refreshCanceller},g.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&h.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=h(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}).catch(angular.noop),e.gridRefreshCanceller},g.prototype.updateCanvasHeight=function(){for(var e in this.renderContainers)this.renderContainers.hasOwnProperty(e)&&(this.renderContainers[e].canvasHeightShouldUpdate=!0)},g.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var i=t.func.call(e);angular.isString(i)&&(e.customStyles+="\n"+i)})},g.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),i=0,n=0;return e.columns.forEach(function(r,o){if(t>n)n+=r.drawnWidth,i++;else{for(var a=0,s=o;s>=o-i;s--)a+=e.columns[s].drawnWidth;t>a&&i++}}),i},g.prototype.getBodyHeight=function(){return this.getViewportHeight()},g.prototype.getViewportHeight=function(){return this.gridHeight-this.headerHeight-this.footerHeight+this.getViewportAdjustment().height},g.prototype.getViewportWidth=function(){return this.gridWidth+this.getViewportAdjustment().width},g.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},g.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},g.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},g.prototype.scrollContainers=function(e,t){if(t.y){var i=["body","left","right"];this.flagScrollingVertically(t),"body"===e?i=["left","right"]:"left"===e?i=["body","right"]:"right"===e&&(i=["body","left"]);for(var n=0;n<i.length;n++){var r=i[n];this.verticalScrollSyncCallBackFns[r]&&this.verticalScrollSyncCallBackFns[r](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},g.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},g.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);void 0!==t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},g.prototype.getViewportAdjustment=function(){var e={height:0,width:0};return this.viewportAdjusters.forEach(function(t){e=t.call(this,e)}),e},g.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},g.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},g.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},g.prototype.searchRows=function(e){return c.search(this,e,this.columns)},g.prototype.sortByColumn=function(e){return u.sort(this,e,this.columns)},g.prototype.getCellValue=function(e,t){return void 0!==e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&void 0!==t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=i(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},g.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var n=t.cellFilter?" | "+t.cellFilter:"";if(void 0!==e.entity["$$"+t.uid])t.cellDisplayGetterCache=i(e.entity["$$"+t.uid].rendered+n);else if(this.options.flatEntityAccess&&void 0!==t.field){var r=t.field.replace(/(')|(\\)/g,"\\$&");t.cellDisplayGetterCache=i("entity['"+r+"']"+n)}else t.cellDisplayGetterCache=i(e.getEntityQualifiedColField(t)+n)}var o=angular.extend({},e,{col:t});return t.cellDisplayGetterCache(o)},g.prototype.getNextColumnSortPriority=function(){var e=0;return this.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>=e&&(e=t.sort.priority+1)}),e},g.prototype.resetColumnSorting=function(e){this.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},g.prototype.getColumnSorting=function(){var e=[];return this.columns.slice(0).sort(u.prioritySort).forEach(function(t){t.sort&&void 0!==t.sort.direction&&t.sort.direction&&(t.sort.direction===r.ASC||t.sort.direction===r.DESC)&&e.push(t)}),e},g.prototype.sortColumn=function(t,i,n){var r=null;if(void 0===t||!t)throw new Error("No column parameter provided");if("boolean"==typeof i?n=i:r=i,n?void 0===t.sort.priority&&(t.sort.priority=this.getNextColumnSortPriority()):(this.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=this.getNextColumnSortPriority()),r)t.sort.direction=r;else{var o=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);o=(o+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[o]&&(o=(o+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[o]?t.sort.direction=t.sortDirectionCycle[o]:m(t,this)}return this.api.core.raise.sortChanged(this,this.getColumnSorting()),e.when(t)};var m=function(e,t){t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e.sort.priority&&(t.sort.priority-=1)}),e.sort={}};return g.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},g.prototype.createRowHashMap=function(){var e=new f;return e.grid=this,e},g.prototype.refresh=function(t){var i=this,n=i.processRowsProcessors(i.rows).then(function(e){i.setVisibleRows(e)}).catch(angular.noop),r=i.processColumnsProcessors(i.columns).then(function(e){i.setVisibleColumns(e)}).catch(angular.noop);return e.all([n,r]).then(function(){i.refreshCanvas(!0),i.redrawInPlace(t)}).catch(angular.noop)},g.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)}).catch(angular.noop)},g.prototype.refreshCanvas=function(t){var i=this,r=e.defer(),o=[];for(var a in i.renderContainers)if(i.renderContainers.hasOwnProperty(a)){var s=i.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=null,s.explicitHeaderCanvasHeight=null,o.push(s))}return t&&i.buildStyles(),h(o.length>0?function(){var e,a,s=!1,l=0,u=0,c=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var d=a.headerHeight=c(a.headerHeight,n.outerElementHeight(a.header)),h=n.getBorderSize(a.header,"top"),p=n.getBorderSize(a.header,"bottom"),f=parseInt(d-h-p,10);f=0>f?0:f,a.innerHeaderHeight=f,!a.explicitHeaderHeight&&f>l&&(l=f)}if(a.headerCanvas){var g=a.headerCanvasHeight=c(a.headerCanvasHeight,parseInt(n.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&g>u&&(u=g)}}for(e=0;e<o.length;e++)a=o[e],l>0&&void 0!==a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=c(a.explicitHeaderHeight,l)),u>0&&void 0!==a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<u)&&(a.explicitHeaderCanvasHeight=c(a.explicitHeaderCanvasHeight,u));t&&s&&i.buildStyles(),r.resolve()}:function(){r.resolve()}),r.promise},g.prototype.redrawInPlace=function(e){for(var t in this.renderContainers){var i=this.renderContainers[t];e?(i.adjustRows(i.prevScrollTop,null),i.adjustColumns(i.prevScrollLeft,null)):(i.adjustRows(null,i.prevScrolltopPercentage),i.adjustColumns(null,i.prevScrollleftPercentage))}},g.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},g.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},g.prototype.scrollToIfNecessary=function(t,i){var n=new p(this,"uiGrid.scrollToIfNecessary"),r=this.renderContainers.body.visibleRowCache,o=this.renderContainers.body.visibleColumnCache,a=this.renderContainers.body.prevScrollTop+this.headerHeight;a=0>a?0:a;var s=this.renderContainers.body.prevScrollLeft,l=this.renderContainers.body.prevScrollTop+this.gridHeight-this.renderContainers.body.headerHeight-this.footerHeight-this.scrollbarWidth,u=this.renderContainers.body.prevScrollLeft+Math.ceil(this.renderContainers.body.getViewportWidth());if(null!==t){var c,d,h=r.indexOf(t),f=this.renderContainers.body.getCanvasHeight()-this.renderContainers.body.getViewportHeight(),g=h*this.options.rowHeight+this.headerHeight;a>(g=0>g?0:g)?1>=(d=(c=this.renderContainers.body.prevScrollTop-(a-g))/f)&&(n.y={percentage:d}):g>l&&(c=g-l+this.renderContainers.body.prevScrollTop,d=c/f,1>=d&&(n.y={percentage:d}))}if(null!==i){for(var m=o.indexOf(i),v=this.renderContainers.body.getCanvasWidth()-this.renderContainers.body.getViewportWidth(),y=0,b=0;m>b;b++)y+=o[b].drawnWidth;var w=(y=0>y?0:y)+i.drawnWidth;w=0>w?0:w;var x,_;s>y?(_=(_=(x=this.renderContainers.body.prevScrollLeft-(s-y))/v)>1?1:_,n.x={percentage:_}):w>u&&(x=w-u+this.renderContainers.body.prevScrollLeft,_=x/v,_=_>1?1:_,n.x={percentage:_})}var C=e.defer();if(n.y||n.x){n.withDelay=!1,this.scrollContainers("",n);var S=this.api.core.on.scrollEnd(null,function(){C.resolve(n),S()})}else C.resolve();return C.promise},g.prototype.scrollTo=function(e,t){var i=null,n=null;return null!==e&&void 0!==e&&(i=this.getRow(e)),null!==t&&void 0!==t&&(n=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(i,n)},g.prototype.clearAllFilters=function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===i&&(i=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),i&&(e.flags=void 0)})}),e?this.refreshRows():void 0},f.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},g}]),angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,i,n,r,o){function a(e,i,n,r){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),i.apply(r||n.api,t)})}var s=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return s.prototype.suppressEvents=function(e,t){var i=this,n=angular.isArray(e)?e:[e],r=i.listeners.filter(function(e){return n.some(function(t){return e.handler===t})});r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=a(e.eventId,e.handler,i.grid,e._this)})},s.prototype.registerEvent=function(e,n){var r=this;r[e]||(r[e]={});var o=r[e];o.on||(o.on={},o.raise={});var s=r.grid.id+e+n;o.raise[n]=function(){t.$emit.apply(t,[s].concat(Array.prototype.slice.call(arguments)))},o.on[n]=function(t,o,l){if(null===t||void 0!==t.$on){var u={handler:o,dereg:a(s,o,r.grid,l),eventId:s,scope:t,_this:l};r.listeners.push(u);var c=function(){u.dereg();var e=r.listeners.indexOf(u);r.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){c()}),c}i.logError("asked to listen on "+e+".on."+n+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering")}},s.prototype.registerEventsFromObject=function(e){var t=this,i=[];angular.forEach(e,function(e,t){var n={name:t,events:[]};angular.forEach(e,function(e,t){n.events.push(t)}),i.push(n)}),i.forEach(function(e){e.events.forEach(function(i){t.registerEvent(e.name,i)})})},s.prototype.registerMethod=function(e,t,n,r){this[e]||(this[e]={}),this[e][t]=i.createBoundedWrapper(r||this.grid,n)},s.prototype.registerMethodsFromObject=function(e,t){var i=this,n=[];angular.forEach(e,function(e,t){var i={name:t,methods:[]};angular.forEach(e,function(e,t){i.methods.push({name:t,fn:e})}),n.push(i)}),n.forEach(function(e){e.methods.forEach(function(n){i.registerMethod(e.name,n.name,n.fn,t)})})},s}]),angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,i){function n(e,i,n){var r=this;r.grid=n,r.uid=i,r.updateColumnDef(e,!0),r.aggregationValue=void 0,r.updateAggregationValue=function(){if(r.aggregationType){var e=0,i=r.grid.getVisibleRows(),n=function(){var e=[];return i.forEach(function(t){var i=r.grid.getCellValue(t,r),n=Number(i);isNaN(n)||e.push(n)}),e};angular.isFunction(r.aggregationType)?r.aggregationValue=r.aggregationType(i,r):r.aggregationType===t.aggregationTypes.count?r.aggregationValue=r.grid.getVisibleRowCount():r.aggregationType===t.aggregationTypes.sum?(n().forEach(function(t){e+=t}),r.aggregationValue=e):r.aggregationType===t.aggregationTypes.avg?(n().forEach(function(t){e+=t}),e/=n().length,r.aggregationValue=e):r.aggregationType===t.aggregationTypes.min?r.aggregationValue=Math.min.apply(null,n()):r.aggregationType===t.aggregationTypes.max?r.aggregationValue=Math.max.apply(null,n()):r.aggregationValue=""}else r.aggregationValue=void 0},this.getAggregationValue=function(){return r.aggregationValue}}return n.prototype.hideColumn=function(){this.colDef.visible=!1},n.prototype.setPropertyOrDefault=function(e,t,i){void 0!==e[t]&&e[t]?this[t]=e[t]:void 0!==this[t]?this[t]=this[t]:this[t]=i||{}},n.prototype.updateColumnDef=function(i,n){var r=this;if(r.colDef=i,void 0===i.name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(i));if(r.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName,!angular.isNumber(r.width)||!r.hasCustomWidth||i.allowCustomWidthOverride){var o=i.width,a="Cannot parse column width '"+o+"' for column named '"+i.name+"'";if(r.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var s=o.replace(/%/g,""),l=parseInt(s,10);if(isNaN(l))throw new Error(a);r.width=o}else if(o.match(/^(\d+)$/))r.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);r.width=o}else r.width=o;else r.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=i[e],n="Cannot parse column "+e+" '"+t+"' for column named '"+i.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(n);r[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else r[e]=t;else r[e]="minWidth"===e?30:9e3}),r.field=void 0===i.field?i.name:i.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=i.name,r.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName,r.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null,r.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null,void 0===i.cellTooltip||!1===i.cellTooltip?r.cellTooltip=!1:!0===i.cellTooltip?r.cellTooltip=function(e,t){return r.grid.getCellValue(e,t)}:"function"==typeof i.cellTooltip?r.cellTooltip=i.cellTooltip:r.cellTooltip=function(e,t){return t.colDef.cellTooltip},void 0===i.headerTooltip||!1===i.headerTooltip?r.headerTooltip=!1:!0===i.headerTooltip?r.headerTooltip=function(e){return e.displayName}:"function"==typeof i.headerTooltip?r.headerTooltip=i.headerTooltip:r.headerTooltip=function(e){return e.colDef.headerTooltip},r.footerCellClass=i.footerCellClass,r.cellClass=i.cellClass,r.headerCellClass=i.headerCellClass,r.cellFilter=i.cellFilter?i.cellFilter:"",r.sortCellFiltered=!!i.sortCellFiltered,r.filterCellFiltered=!!i.filterCellFiltered,r.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"",r.footerCellFilter=i.footerCellFilter?i.footerCellFilter:"",r.visible=e.isNullOrUndefined(i.visible)||i.visible,r.headerClass=i.headerClass,r.enableSorting=void 0!==i.enableSorting?i.enableSorting:r.grid.options.enableSorting,r.sortingAlgorithm=i.sortingAlgorithm,r.sortDirectionCycle=void 0!==i.sortDirectionCycle?i.sortDirectionCycle:[null,t.ASC,t.DESC],void 0===r.suppressRemoveSort&&(r.suppressRemoveSort=void 0!==i.suppressRemoveSort&&i.suppressRemoveSort),r.enableFiltering=void 0===i.enableFiltering||i.enableFiltering,r.setPropertyOrDefault(i,"menuItems",[]),n&&r.setPropertyOrDefault(i,"sort"),r.setPropertyOrDefault(i,"defaultSort");var u=[];i.filter?u.push(i.filter):i.filters?u=i.filters:u.push({}),n?(r.setPropertyOrDefault(i,"filter"),r.setPropertyOrDefault(i,"extraStyle"),r.setPropertyOrDefault(i,"filters",u)):r.filters.length===u.length&&r.filters.forEach(function(e,t){void 0!==u[t].placeholder&&(e.placeholder=u[t].placeholder),void 0!==u[t].ariaLabel&&(e.ariaLabel=u[t].ariaLabel),void 0!==u[t].flags&&(e.flags=u[t].flags),void 0!==u[t].type&&(e.type=u[t].type),void 0!==u[t].selectOptions&&(e.selectOptions=u[t].selectOptions)})},n.prototype.unsort=function(){var e=this.sort.priority;this.grid.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e&&(t.sort.priority-=1)}),this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},n.prototype.getColClass=function(e){var i=t.COL_CLASS_PREFIX+this.uid;return e?"."+i:i},n.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},n.prototype.isPinnedRight=function(){return"right"===this.renderContainer},n.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},n.prototype.getRenderContainer=function(){var e=this.renderContainer;return(null===e||""===e||void 0===e)&&(e="body"),this.grid.renderContainers[e]},n.prototype.showColumn=function(){this.colDef.visible=!0},n.prototype.getAggregationText=function(){if(this.colDef.aggregationHideLabel)return"";if(this.colDef.aggregationLabel)return this.colDef.aggregationLabel;switch(this.colDef.aggregationType){case t.aggregationTypes.count:return i.getSafeText("aggregation.count");case t.aggregationTypes.sum:return i.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return i.getSafeText("aggregation.avg");case t.aggregationTypes.min:return i.getSafeText("aggregation.min");case t.aggregationTypes.max:return i.getSafeText("aggregation.max");default:return""}},n.prototype.getCellTemplate=function(){return this.cellTemplatePromise},n.prototype.getCompiledElementFn=function(){return this.compiledElementFnDefer.promise},n}]),angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(i){return i.onRegisterApi=i.onRegisterApi||angular.noop(),i.data=i.data||[],i.columnDefs=i.columnDefs||[],i.excludeProperties=i.excludeProperties||["$$hashKey"],i.enableRowHashing=!1!==i.enableRowHashing,i.rowIdentity=i.rowIdentity||function(t){return e.hashKey(t)},i.getRowIdentity=i.getRowIdentity||function(e){return e.$$hashKey},i.flatEntityAccess=!0===i.flatEntityAccess,i.showHeader=void 0===i.showHeader||i.showHeader,i.showHeader?i.headerRowHeight=void 0!==i.headerRowHeight?i.headerRowHeight:30:i.headerRowHeight=0,"string"==typeof i.rowHeight?i.rowHeight=parseInt(i.rowHeight)||30:i.rowHeight=i.rowHeight||30,i.minRowsToShow=void 0!==i.minRowsToShow?i.minRowsToShow:10,i.showGridFooter=!0===i.showGridFooter,i.showColumnFooter=!0===i.showColumnFooter,i.columnFooterHeight=void 0!==i.columnFooterHeight?i.columnFooterHeight:30,i.gridFooterHeight=void 0!==i.gridFooterHeight?i.gridFooterHeight:30,i.columnWidth=void 0!==i.columnWidth?i.columnWidth:50,i.maxVisibleColumnCount=void 0!==i.maxVisibleColumnCount?i.maxVisibleColumnCount:200,i.virtualizationThreshold=void 0!==i.virtualizationThreshold?i.virtualizationThreshold:20,i.columnVirtualizationThreshold=void 0!==i.columnVirtualizationThreshold?i.columnVirtualizationThreshold:10,i.excessRows=void 0!==i.excessRows?i.excessRows:4,i.scrollThreshold=void 0!==i.scrollThreshold?i.scrollThreshold:4,i.excessColumns=void 0!==i.excessColumns?i.excessColumns:4,i.horizontalScrollThreshold=void 0!==i.horizontalScrollThreshold?i.horizontalScrollThreshold:2,i.aggregationCalcThrottle=void 0!==i.aggregationCalcThrottle?i.aggregationCalcThrottle:500,i.wheelScrollThrottle=void 0!==i.wheelScrollThrottle?i.wheelScrollThrottle:70,i.scrollDebounce=void 0!==i.scrollDebounce?i.scrollDebounce:300,i.enableSorting=!1!==i.enableSorting,i.enableFiltering=!0===i.enableFiltering,i.enableColumnMenus=!1!==i.enableColumnMenus,i.enableVerticalScrollbar=void 0!==i.enableVerticalScrollbar?i.enableVerticalScrollbar:t.scrollbars.ALWAYS,i.enableHorizontalScrollbar=void 0!==i.enableHorizontalScrollbar?i.enableHorizontalScrollbar:t.scrollbars.ALWAYS,i.enableMinHeightCheck=!1!==i.enableMinHeightCheck,i.minimumColumnSize=void 0!==i.minimumColumnSize?i.minimumColumnSize:10,i.rowEquality=i.rowEquality||function(e,t){return e===t},i.headerTemplate=i.headerTemplate||null,i.footerTemplate=i.footerTemplate||"ui-grid/ui-grid-footer",i.gridFooterTemplate=i.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",i.rowTemplate=i.rowTemplate||"ui-grid/ui-grid-row",i.gridMenuTemplate=i.gridMenuTemplate||"ui-grid/uiGridMenu",i.appScopeProvider=i.appScopeProvider||null,i}}}]),angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function i(e,t,i){var n=this;n.name=e,n.grid=t,n.visibleRowCache=[],n.visibleColumnCache=[],n.renderedRows=[],n.renderedColumns=[],n.prevScrollTop=0,n.prevScrolltopPercentage=0,n.prevRowScrollIndex=0,n.prevScrollLeft=0,n.prevScrollleftPercentage=0,n.prevColumnScrollIndex=0,n.columnStyles="",n.viewportAdjusters=[],n.hasHScrollbar=!1,n.hasVScrollbar=!1,n.canvasHeightShouldUpdate=!0,n.$$canvasHeight=0,i&&angular.isObject(i)&&angular.extend(n,i),t.registerStyleComputation({priority:5,func:function(){return n.updateColumnWidths(),n.columnStyles}})}return i.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},i.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},i.prototype.minRowsToRender=function(){for(var e=0,t=0,i=this.getViewportHeight(),n=this.visibleRowCache.length-1;i>t&&n>=0;n--)t+=this.visibleRowCache[n].height,e++;return e},i.prototype.minColumnsToRender=function(){for(var e=this.getViewportWidth(),t=0,i=0,n=0;n<this.visibleColumnCache.length;n++){var r=this.visibleColumnCache[n];if(e>i)i+=r.drawnWidth?r.drawnWidth:0,t++;else{for(var o=0,a=n;a>=n-t;a--)o+=this.visibleColumnCache[a].drawnWidth?this.visibleColumnCache[a].drawnWidth:0;e>o&&t++}}return t},i.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},i.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},i.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},i.prototype.getViewportAdjustment=function(){var e={height:0,width:0};return this.viewportAdjusters.forEach(function(t){e=t.call(this,e)}),e},i.prototype.getMargin=function(e){var t=0;return this.viewportAdjusters.forEach(function(i){var n=i.call(this,{height:0,width:0});n.side&&n.side===e&&(t+=-1*n.width)}),t},i.prototype.getViewportHeight=function(){var e=this.headerHeight?this.headerHeight:this.grid.headerHeight;return this.grid.gridHeight-e-this.grid.footerHeight+this.getViewportAdjustment().height},i.prototype.getViewportWidth=function(){return this.grid.gridWidth+this.getViewportAdjustment().width},i.prototype.getHeaderViewportWidth=function(){return this.getViewportWidth()},i.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},i.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},i.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},i.prototype.getCanvasWidth=function(){return this.canvasWidth},i.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},i.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},i.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},i.prototype.scrollVertical=function(e){var i=-1;if(e!==this.prevScrollTop){var n=e-this.prevScrollTop;return n>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>n&&(this.grid.scrollDirection=t.scrollDirection.UP),(i=e/this.getVerticalScrollLength())>1&&(i=1),0>i&&(i=0),this.adjustScrollVertical(e,i),i}},i.prototype.scrollHorizontal=function(e){var i=-1;if(e!==this.prevScrollLeft){var n=e-this.prevScrollLeft;n>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>n&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var r=this.getHorizontalScrollLength();return i=0!==r?e/r:0,this.adjustScrollHorizontal(e,i),i}},i.prototype.adjustScrollVertical=function(e,t,i){(this.prevScrollTop!==e||i)&&((void 0===e||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},i.prototype.adjustScrollHorizontal=function(e,t,i){(this.prevScrollLeft!==e||i)&&((void 0===e||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},i.prototype.adjustRows=function(e,t,i){var n=this.minRowsToRender(),r=this.visibleRowCache,o=r.length-n;void 0!==t&&null!==t||!e||(t=e/this.getVerticalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var s=[];if(r.length>this.grid.options.virtualizationThreshold){if(void 0!==e&&null!==e){if(!this.grid.suppressParentScrollDown&&this.prevScrollTop<e&&a<this.prevRowScrollIndex+this.grid.options.scrollThreshold&&o>a)return;if(!this.grid.suppressParentScrollUp&&this.prevScrollTop>e&&a>this.prevRowScrollIndex-this.grid.options.scrollThreshold&&o>a)return}s=[Math.max(0,a-this.grid.options.excessRows),Math.min(r.length,a+n+this.grid.options.excessRows)]}else{var l=this.visibleRowCache.length;s=[0,Math.max(l,n+this.grid.options.excessRows)]}this.updateViewableRowRange(s),this.prevRowScrollIndex=a},i.prototype.adjustColumns=function(e,t){var i=this.minColumnsToRender(),n=this.visibleColumnCache,r=n.length-i;void 0!==t&&null!==t||!e||(t=e/this.getHorizontalScrollLength());var o=Math.ceil(Math.min(r,r*t));o>r&&(o=r);var a=[];if(n.length>this.grid.options.columnVirtualizationThreshold&&this.getCanvasWidth()>this.getViewportWidth())a=[Math.max(0,o-this.grid.options.excessColumns),Math.min(n.length,o+i+this.grid.options.excessColumns)];else{var s=this.visibleColumnCache.length;a=[0,Math.max(s,i+this.grid.options.excessColumns)]}this.updateViewableColumnRange(a),this.prevColumnScrollIndex=o},i.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},i.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},i.prototype.headerCellWrapperStyle=function(){if(0!==this.currentFirstColumn){var e=this.columnOffset;return this.grid.isRTL()?{"margin-right":e+"px"}:{"margin-left":e+"px"}}return null},i.prototype.updateColumnWidths=function(){var t=this,i=[],n=0,r=0,o="",a=!1,s=[],l=[],u=0,c=t.grid.getViewportWidth()-t.grid.scrollbarWidth,d=[];angular.forEach(t.grid.renderContainers,function(e){d=d.concat(e.visibleColumnCache)}),d.forEach(function(o){var d=0;if(o.visible)if(a&&(c+=t.grid.scrollbarWidth),!a&&o.colDef.pinnedRight&&(a=!0),angular.isNumber(o.width))d=parseInt(o.width,10),r+=d,o.drawnWidth=d,s.push(o);else if(e.endsWith(o.width,"%")){var h=parseInt(o.width.replace(/%/g,""),10);(d=parseInt(h/100*c))>o.maxWidth&&(d=o.maxWidth),d<o.minWidth&&(d=o.minWidth),r+=d,o.drawnWidth=d,u+=h,l.push(o)}else angular.isString(o.width)&&-1!==o.width.indexOf("*")&&(n+=o.width.length,i.push(o))});var h=c-r;if(i.length>0){var p=h/n;i.forEach(function(e){var t=parseInt(e.width.length*p,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),r+=t,e.drawnWidth=t})}var f;if(i.length>0?f=i:l.length>0&&0===s.length&&100===u&&(f=l),!angular.isUndefined(f)){for(var g=function(e){e.drawnWidth<e.maxWidth&&m>0&&(e.drawnWidth++,r++,m--,v=!0)},m=c-r,v=!0;m>0&&v;)v=!1,f.forEach(g);var y=function(e){e.drawnWidth>e.minWidth&&b>0&&(e.drawnWidth--,r--,b--,v=!0)},b=r-c;for(v=!0;b>0&&v;)v=!1,f.forEach(y)}var w=0;t.visibleColumnCache.forEach(function(e){e.visible&&(w+=e.drawnWidth)}),d.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=w,this.columnStyles=o},i.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},i.prototype.getViewportStyle=function(){var e={};return this.hasHScrollbar=!1,this.hasVScrollbar=!1,this.grid.disableScrolling?(e["overflow-x"]="hidden",e["overflow-y"]="hidden",e):("body"===this.name?(this.hasHScrollbar=this.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,this.grid.isRTL()?this.grid.hasLeftContainerColumns()||(this.hasVScrollbar=this.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):this.grid.hasRightContainerColumns()||(this.hasVScrollbar=this.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):"left"===this.name?this.hasVScrollbar=!!this.grid.isRTL()&&this.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:this.hasVScrollbar=!this.grid.isRTL()&&this.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,e["overflow-x"]=this.hasHScrollbar?"scroll":"hidden",e["overflow-y"]=this.hasVScrollbar?"scroll":"hidden",e)},i}]),angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(e,t){function i(t,i,n){this.grid=n,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.isSelected=!1,this.$$height=n.options.rowHeight}return Object.defineProperty(i.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),i.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},i.prototype.getEntityQualifiedColField=function(i){return i.field===t.ENTITY_BINDING?"entity":e.preEval("entity."+i.field)},i.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},i.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},i.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},i.prototype.clearThisRowInvisible=function(e,t){void 0!==this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},i.prototype.evaluateRowVisibility=function(e){var t=!0;void 0!==this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,i){e&&(t=!1)}),(void 0===this.visible||this.visible!==t)&&(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},i}]),angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var i=function e(t,i){if(!(this instanceof e))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=t,this.col=i};return i.prototype.getIntersectionValueRaw=function(){return e(this.row.getEntityQualifiedColField(this.col))(this.row)},i}]),angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,i,n,r){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=r,o.withDelay=!0,o.sourceRowContainer=i,o.sourceColContainer=n,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,i){if(!this.newScrollLeft){var n,r=t.getCanvasWidth()-t.getViewportWidth(),o=e.normalizeScrollLeft(i,this.grid);if(void 0!==this.x.percentage&&void 0!==this.x.percentage)n=this.x.percentage;else{if(void 0===this.x.pixels||void 0===this.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");n=this.x.percentage=(o+this.x.pixels)/r}return Math.max(0,n*r)}return this.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){if(!this.newScrollTop){var i,n=e.getVerticalScrollLength(),r=t[0].scrollTop;if(void 0!==this.y.percentage&&void 0!==this.y.percentage)i=this.y.percentage;else{if(void 0===this.y.pixels||void 0===this.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");i=this.y.percentage=(r+this.y.pixels)/n}return Math.max(0,i*n)}return this.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}]),angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,i,n,r,o,a,s){var l={createGrid:function(n){(n=void 0!==n?n:{}).id=e.newId();var r=new o(n);if(r.options.rowTemplate){var a=t.defer();r.getRowTemplateFn=a.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=i(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")}).catch(angular.noop)}return r.registerColumnBuilder(l.defaultColumnBuilder),r.registerRowBuilder(l.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!angular.isDefined(e.colDef.visible)||e.colDef.visible}),e},50),r.registerRowsProcessor(r.searchRows,100),r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.registerRowsProcessor(r.options.externalSort,200):r.registerRowsProcessor(r.sortByColumn,200),r},defaultColumnBuilder:function(i,n,o){var a=[],s=function(t,o,s,l,u){i[t]?n[o]=i[t]:n[o]=s;var c=e.getTemplate(n[o]).then(function(e){angular.isFunction(e)&&(e=e());var i="cellTooltip"===u?"col.cellTooltip(row,col)":"col.headerTooltip(col)";u&&!1===n[u]?e=e.replace(r.TOOLTIP,""):u&&n[u]&&(e=e.replace(r.TOOLTIP,'title="{{'+i+' CUSTOM_FILTERS }}"')),n[t]=l?e.replace(r.CUSTOM_FILTERS,function(){return n[l]?"|"+n[l]:""}):e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+i[t]+"'")}).catch(angular.noop);return a.push(c),c};return n.cellTemplatePromise=s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),n.headerCellTemplatePromise=s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),n.footerCellTemplatePromise=s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),n.filterHeaderTemplatePromise=s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),n.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(n){if(n.rowTemplate){var r=t.defer();n.getRowTemplateFn=r.promise,e.getTemplate(n.rowTemplate).then(function(e){var t=i(e);r.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+n.rowTemplate+"'")})}else n.rowTemplate=this.options.rowTemplate,n.getRowTemplateFn=this.getRowTemplateFn;return n.getRowTemplateFn}};return l}]),function(){angular.module("ui.grid").service("rowSearcher",["gridUtil","uiGridConstants",function(e,t){var i=t.filter.CONTAINS,n={};return n.getTerm=function(e){if(void 0===e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},n.stripTerm=function(e){var t=n.getTerm(e);return"string"==typeof t?t.replace(/(^\*|\*$)/g,"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):t},n.guessCondition=function(e){if(void 0===e.term||!e.term)return i;var t=n.getTerm(e);if(/\*/.test(t)){var r="";e.flags&&e.flags.caseSensitive||(r+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",r)}return i},n.setupFilters=function(i){for(var r=[],o=i.length,a=0;o>a;a++){var s=i[a];if(s.noTerm||!e.isNullOrUndefined(s.term)){var l={},u="";s.flags&&s.flags.caseSensitive||(u+="i"),e.isNullOrUndefined(s.term)||(s.rawTerm?l.term=s.term:l.term=n.stripTerm(s)),l.noTerm=s.noTerm,s.condition?l.condition=s.condition:l.condition=n.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===t.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,u)),l.condition===t.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",u)),l.condition===t.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,u)),l.condition===t.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",u)),r.push(l)}}return r},n.runColumnFilter=function(e,i,n,r){var o,a=typeof r.condition,s=r.term;if(o=n.filterCellFiltered?e.getCellDisplayValue(i,n):e.getCellValue(i,n),r.condition instanceof RegExp)return r.condition.test(o);if("function"===a)return r.condition(s,o,i,n);if(r.startswithRE)return r.startswithRE.test(o);if(r.endswithRE)return r.endswithRE.test(o);if(r.containsRE)return r.containsRE.test(o);if(r.exactRE)return r.exactRE.test(o);if(r.condition===t.filter.NOT_EQUAL){return!new RegExp("^"+s+"$").exec(o)}if("number"==typeof o&&"string"==typeof s){var l=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(l)||(s=l)}return!0===r.flags.date&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),r.condition===t.filter.GREATER_THAN?o>s:r.condition===t.filter.GREATER_THAN_OR_EQUAL?o>=s:r.condition===t.filter.LESS_THAN?s>o:r.condition!==t.filter.LESS_THAN_OR_EQUAL||s>=o},n.searchColumn=function(t,i,r,o){if(t.options.useExternalFiltering)return!0;for(var a=o.length,s=0;a>s;s++){var l=o[s];if(!e.isNullOrUndefined(l.term)&&""!==l.term||l.noTerm){if(!n.runColumnFilter(t,i,r,l))return!1}}return!0},n.search=function(t,i,r){if(i){if(!t.options.enableFiltering)return i;for(var o=[],a=r.length,s=function(t){var i=!1;return t.forEach(function(t){(!e.isNullOrUndefined(t.term)&&""!==t.term||t.noTerm)&&(i=!0)}),i},l=0;a>l;l++){var u=r[l];void 0!==u.filters&&s(u.filters)&&o.push({col:u,filters:n.setupFilters(u.filters)})}if(o.length>0){for(var c=function(e,t){for(var r=i.length,o=0;r>o;o++)a=e,s=i[o],l=t.col,u=t.filters,s.visible&&!n.searchColumn(a,s,l,u)&&(s.visible=!1);var a,s,l,u},d=o.length,h=0;d>h;h++)c(t,o[h]);t.api.core.raise.rowsVisibleChanged&&t.api.core.raise.rowsVisibleChanged()}return i}},n}])}(),angular.module("ui.grid").service("rowSorter",["$parse","uiGridConstants",function(e,t){var i="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",n=(new RegExp("^[-+]?"+i+"[\\d,.]+"+i+"%?$"),{colSortFnCache:{}});return n.guessSortFn=function(e){switch(e){case"number":return n.sortNumber;case"numberStr":return n.sortNumberStr;case"boolean":return n.sortBool;case"string":return n.sortAlpha;case"date":return n.sortDate;case"object":return n.basicSort;default:throw new Error("No sorting function found for type:"+e)}},n.handleNulls=function(e,t){if(!e&&0!==e&&!1!==e||!t&&0!==t&&!1!==t){if(!e&&0!==e&&!1!==e&&!t&&0!==t&&!1!==t)return 0;if(!e&&0!==e&&!1!==e)return 1;if(!t&&0!==t&&!1!==t)return-1}return null},n.basicSort=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e===t?0:t>e?-1:1},n.sortNumber=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e-t},n.sortNumberStr=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;var r,o,a=!1,s=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:r-o},n.sortAlpha=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;var r=e.toString().toLowerCase(),o=t.toString().toLowerCase();return r===o?0:r.localeCompare(o)},n.sortDate=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var r=e.getTime(),o=t.getTime();return r===o?0:o>r?-1:1},n.sortBool=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e&&t?0:e||t?e?1:-1:0},n.getSortFn=function(e,t,i){var r;return n.colSortFnCache[t.colDef.name]?r=n.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(r=t.sortingAlgorithm,n.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(r=n.sortAlpha,n.colSortFnCache[t.colDef.name]=r):(r=n.guessSortFn(t.colDef.type))?n.colSortFnCache[t.colDef.name]=r:r=n.sortAlpha,r},n.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:void 0!==e.sort.priority?-1:void 0!==t.sort.priority?1:0},n.sort=function(e,i,r){if(i){if(e.options.useExternalSorting)return i;var o=[],a=[];if(r.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC?e.defaultSort&&e.defaultSort.direction&&(e.defaultSort.direction===t.ASC||e.defaultSort.direction===t.DESC)&&a.push({col:e,sort:e.defaultSort}):o.push({col:e,sort:e.sort})}),o=o.sort(n.prioritySort),a=a.sort(n.prioritySort),0===(o=o.concat(a)).length)return i;var s,l;i.forEach(function(e,t){e.entity.$$uiGridIndex=t});var u=i.slice(0),c=i.sort(function(i,r){for(var a,c=0,d=0;0===c&&d<o.length;){s=o[d].col,l=o[d].sort.direction,a=n.getSortFn(e,s,u);var h,p;s.sortCellFiltered?(h=e.getCellDisplayValue(i,s),p=e.getCellDisplayValue(r,s)):(h=e.getCellValue(i,s),p=e.getCellValue(r,s)),c=a(h,p,i,r,l,s),d++}return 0===c?i.entity.$$uiGridIndex-r.entity.$$uiGridIndex:l===t.ASC?c:0-c});return i.forEach(function(e,t){delete e.entity.$$uiGridIndex}),c}},n}]),function(){function e(e){var t=e;return void 0!==t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];4>o;o+=2){var l=s[o];if("margin"===i){var u=parseFloat(r[i+l]);isNaN(u)||(a+=u)}if(n){if("content"===i){var c=parseFloat(r["padding"+l]);isNaN(c)||(a-=c)}if("margin"!==i){var d=parseFloat(r["border"+l+"Width"]);isNaN(d)||(a-=d)}}else{var h=parseFloat(r["padding"+l]);if(isNaN(h)||(a+=h),"padding"!==i){var p=parseFloat(r["border"+l+"Width"]);isNaN(p)||(a+=p)}}}return a}function i(i,n,r){var a,s=!0,l=e(i),u="border-box"===l.boxSizing;if(0>=a||null==a){if((0>(a=l[n])||null==a)&&(a=i.style[n]),o.test(a))return a;s=u&&!0,a=parseFloat(a)||0}return a+t(0,n,r||(u?"border":"content"),s,l)}var n,r=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(n=function(){var e=Array.prototype.slice;return function(t){var i=this,n=e.call(arguments,1);return n.length?function(){return arguments.length?i.apply(t,n.concat(e.call(arguments))):i.apply(t,n)}:function(){return arguments.length?i.apply(t,arguments):i.call(t)}}});var o=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),a=/^(block|none|table(?!-c[ea]).+)/,s={position:"absolute",visibility:"hidden",display:"block"},l=["0","0","0","0"];r.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(r,o,u,c,d,h,p,f,g,m,v){function y(e,t){var i=angular.element(this),n=0,r=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*o,o=0),n=0===o?r:o,"deltaY"in t&&(o=-1*t.deltaY,n=o),"deltaX"in t&&(r=t.deltaX,0===o&&(n=-1*r)),0!==o||0!==r){if(1===t.deltaMode){var s=i.data("mousewheel-line-height");n*=s,o*=s,r*=s}else if(2===t.deltaMode){var l=i.data("mousewheel-page-height");n*=l,o*=l,r*=l}a=Math.max(Math.abs(o),Math.abs(r)),(!_||_>a)&&(_=a,c=t,d=a,"mousewheel"===c.type&&d%120==0&&(_/=40)),n=Math[n>=1?"floor":"ceil"](n/_),r=Math[r>=1?"floor":"ceil"](r/_),o=Math[o>=1?"floor":"ceil"](o/_);var u={originalEvent:t,deltaX:r,deltaY:o,deltaFactor:_,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};x&&clearTimeout(x),x=setTimeout(b,200),e.call(i[0],u)}var c,d}function b(){_=null}var w={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return void 0===e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var i=[];if(!e||void 0===e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var n=e[0];return angular.forEach(n,function(e,n){-1===t.indexOf(n)&&i.push({name:n})}),i},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(d.get(e))return w.postProcessTemplate(d.get(e));if(angular.isFunction(e.then))return e.then(w.postProcessTemplate).catch(angular.noop);try{if(angular.element(e).length>0)return g.when(e).then(w.postProcessTemplate).catch(angular.noop)}catch(e){}return w.logDebug("fetching url",e),c({method:"GET",url:e}).then(function(t){var i=t.data.trim();return d.put(e,i),i},function(t){throw new Error("Could not get template "+e+": "+t)}).then(w.postProcessTemplate).catch(angular.noop)},postProcessTemplate:function(e){var t=m.startSymbol(),i=m.endSymbol();return("{{"!==t||"}}"!==i)&&(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,i)),g.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var n=i.offsetWidth;return e.parentNode.removeChild(e),t-n},swap:function(e,t,i,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[]);for(o in t)e.style[o]=a[o];return r},fakeElement:function(e,t,i,n){var r,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),r=i.call(a,a),angular.element(a).remove(),r},normalizeWheelEvent:function(e){var t,i,n,r=e||window.event,o=([].slice.call(arguments,1),0),a=0,s=0,l=0,u=0;return r.originalEvent&&(r=r.originalEvent),r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=-1*r.detail),s=o,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(s=0,a=-1*o),r.deltaY&&(s=-1*r.deltaY,o=s),r.deltaX&&(a=r.deltaX,o=-1*a),void 0!==r.wheelDeltaY&&(s=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(a=r.wheelDeltaX),l=Math.abs(o),(!t||t>l)&&(t=l),u=Math.max(Math.abs(s),Math.abs(a)),(!i||i>u)&&(i=u),n=o>0?"floor":"ceil",{delta:o=Math[n](o/t),deltaX:a=Math[n](a/i),deltaY:s=Math[n](s/i)}},isTouchEnabled:function(){var e;return("ontouchstart"in o||o.DocumentTouch&&u instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},arrayContainsObjectWithProperty:function(e,t,i){var n=!1;return angular.forEach(e,function(e){e[t]===i&&(n=!0)}),n},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=f.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(e){}},enableAnimations:function(e){var t;try{return t=f.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(e){}},nextUid:function(){for(var e,t=l.length;t;){if(57===(e=l[--t].charCodeAt(0)))return l[t]="A","uiGrid-"+l.join("");if(90!==e)return l[t]=String.fromCharCode(e+1),"uiGrid-"+l.join("");l[t]="0"}return l.unshift("0"),"uiGrid-"+l.join("")},hashKey:function(e){var t,i=typeof e;return"object"===i&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():void 0!==e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=w.nextUid()):t=e,i+":"+t},resetUids:function(){l=["0","0","0"]},logError:function(e){v.LOG_ERROR_MESSAGES&&r.error(e)},logWarn:function(e){v.LOG_WARN_MESSAGES&&r.warn(e)},logDebug:function(){v.LOG_DEBUG_MESSAGES&&r.debug.apply(r,arguments)}};w.focus={queue:[],byId:function(e,t){this._purgeQueue();var i=h(function(){var i=(t&&t.id?t.id+"-":"")+e,n=o.document.getElementById(i);n?n.focus():w.logWarn("[focus.byId] Element id "+i+" was not found.")},0,!1);return this.queue.push(i),i},byElement:function(e){if(!angular.isElement(e))return w.logWarn("Trying to focus on an element that isn't an element."),g.reject("not-element");e=angular.element(e),this._purgeQueue();var t=h(function(){e&&e[0].focus()},0,!1);return this.queue.push(t),t},bySelector:function(e,t,i){var n=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var r=function(){var i=e[0].querySelector(t);return n.byElement(i)};if(this._purgeQueue(),i){var o=h(r,0,!1);return this.queue.push(o),o}return r()},_purgeQueue:function(){this.queue.forEach(function(e){h.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(t){var n=angular.uppercase(t.charAt(0))+t.substr(1);w["element"+n]=function(n,r){var o=n;if(o&&void 0!==o.length&&o.length&&(o=n[0]),o&&null!==o){var l=e(o);return 0===o.offsetWidth&&a.test(l.display)?w.swap(o,s,function(){return i(o,t,r)}):i(o,t,r)}return null},w["outerElement"+n]=function(e,t){return e?w["element"+n].call(this,e,t?"margin":"border"):null}}),w.closestElm=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var i;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(i=e,!0)});for(var n;null!==e;){if(null!==(n=e.parentElement)&&n[i](t))return n;e=n}return null},w.type=function(e){return Function.prototype.toString.call(e.constructor).match(/function (.*?)\(/)[1]},w.getBorderSize=function(t,i){void 0!==t.length&&t.length&&(t=t[0]);var n=e(t);i=i?"border"+i.charAt(0).toUpperCase()+i.slice(1):"border",i+="Width";var r=parseInt(n[i],10);return isNaN(r)?0:r},w.detectBrowser=function(){var e=o.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var i in t)if(t[i].test(e))return i;return"unknown"},w.rtlScrollType=function e(){if(e.type)return e.type;var t=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],i="reverse";return document.body.appendChild(t),t.scrollLeft>0?i="default":(t.scrollLeft=1,0===t.scrollLeft&&(i="negative")),angular.element(t).remove(),e.type=i,i},w.normalizeScrollLeft=function(e,t){void 0!==e.length&&e.length&&(e=e[0]);var i=e.scrollLeft;if(t.isRTL())switch(w.rtlScrollType()){case"default":return e.scrollWidth-i-e.clientWidth;case"negative":return Math.abs(i);case"reverse":return i}return i},w.denormalizeScrollLeft=function(e,t,i){if(void 0!==e.length&&e.length&&(e=e[0]),i.isRTL())switch(w.rtlScrollType()){case"default":return e.scrollWidth-e.clientWidth-t;case"negative":return-1*t;case"reverse":return t}return t},w.preEval=function(e){var t=v.BRACKET_REGEXP.exec(e);if(t)return(t[1]?w.preEval(t[1]):t[1])+t[2]+(t[3]?w.preEval(t[3]):t[3]);var i=(e=e.replace(v.APOS_REGEXP,"\\'")).split(v.DOT_REGEXP),n=[i.shift()];return angular.forEach(i,function(e){n.push(e.replace(v.FUNC_REGEXP,"']$1"))}),n.join("['")},w.debounce=function(e,t,i){function n(){a=this,o=arguments;var n=i&&!r;return r&&h.cancel(r),r=h(function(){r=null,i||(s=e.apply(a,o))},t,!1),n&&(s=e.apply(a,o)),s}var r,o,a,s;return n.cancel=function(){h.cancel(r),r=null},n},w.throttle=function(e,t,i){function n(t){a=+new Date,e.apply(r,o),p(function(){s=null},0,1,!1)}i=i||{};var r,o,a=0,s=null;return function(){if(r=this,o=arguments,null===s){var e=+new Date-a;e>t?n():i.trailing&&(s=p(n,t-e,1,!1))}}},w.on={},w.off={},w._events={},w.addOff=function(e){w.off[e]=function(t,i){var n=w._events[e].indexOf(i);n>0&&w._events[e].removeAt(n)}};var x,_,C="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return w.on.mousewheel=function(t,i){if(t&&i){var r=angular.element(t);r.data("mousewheel-line-height",function(t){var i=(t=angular.element(t)[0]).parentElement;return i||(i=document.getElementsByTagName("body")[0]),parseInt(e(i).fontSize)||parseInt(e(t).fontSize)||16}(r)),r.data("mousewheel-page-height",w.elementHeight(r)),r.data("mousewheel-callbacks")||r.data("mousewheel-callbacks",{});var o=r.data("mousewheel-callbacks");o[i]=(Function.prototype.bind||n).call(y,r[0],i);for(var a=C.length;a;)r.on(C[--a],o[i]);r.on("$destroy",function(){for(var e=C.length;e;)r.off(C[--e],o[i])})}},w.off.mousewheel=function(e,t){var i=angular.element(e),n=i.data("mousewheel-callbacks"),r=n[t];if(r)for(var o=C.length;o;)i.off(C[--o],r);delete n[t],0===Object.keys(n).length&&(i.removeData("mousewheel-line-height"),i.removeData("mousewheel-page-height"),i.removeData("mousewheel-callbacks"))},w}]),r.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ar",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:" : ",filterLabel:"  :"},aggregate:{label:""},groupPanel:{description:"      "},search:{placeholder:"  ...",showingItems:"  :",selectedItems:"  :",totalItems:"  :",size:"  :",first:" ",next:" ",previous:" ",last:" "},menu:{text:"  :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:" : ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:" "},columns:":",importerTitle:" ",exporterAllAsCsv:"   (csv)",exporterVisibleAsCsv:"     (csv)",exporterSelectedAsCsv:"     (csv)",exporterAllAsPdf:"   (pdf)",exporterVisibleAsPdf:"     (pdf)",exporterSelectedAsPdf:"     (pdf)",clearAllFilters:"  "},importer:{noHeaders:"        ",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"        (CSV) ",invalidJson:"        (JSON) ",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"   ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:" ",aggregate_count:" : ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "},validate:{error:" :",minLength:"      THRESHOLD .",maxLength:"      THRESHOLD .",required:" "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("bg",{headerCell:{aria:{defaultFilterLabel:"  ",removeFilter:" ",columnMenuButtonLabel:"  "},priority:":",filterLabel:"  : "},aggregate:{label:""},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:":",size:"  :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:"   ",descending:"   ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:"-: ",max:"-: "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:"  "},columns:":",importerTitle:"  ",exporterAllAsCsv:"    csv",exporterVisibleAsCsv:"     csv",exporterSelectedAsCsv:"     csv",exporterAllAsPdf:"    pdf",exporterVisibleAsPdf:"     pdf",exporterSelectedAsPdf:"     pdf",clearAllFilters:"  "},importer:{noHeaders:"       ,    ?",noObjects:"     ,    ,   ?",invalidCsv:"     ,  ,    CSV ",invalidJson:"     ,  ,    JSON ",jsonNotArray:" JSON     , ."},pagination:{aria:{pageToFirst:"  ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:"  "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"  ",aggregate_count:": ",aggregate_sum:": ",aggregate_max:": ",aggregate_min:": ",aggregate_avg:": ",aggregate_remove:": "},validate:{error:":",minLength:"     THRESHOLD .",maxLength:"       THRESHOLD .",required:"  ."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"poloky"},groupPanel:{description:"Pesute zhlav zde pro vytvoen skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji poloky:",selectedItems:"Vybran poloky:",totalItems:"Celkem poloek:",size:"Velikost strany:",first:"Prvn strana",next:"Dal strana",previous:"Pedchoz strana",last:"Posledn strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seadit od A-Z",descending:"Seadit od Z-A",remove:"Odebrat seazen"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem dk: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat vechna data do csv",exporterVisibleAsCsv:"Exportovat viditeln data do csv",exporterSelectedAsCsv:"Exportovat vybran data do csv",exporterAllAsPdf:"Exportovat vechna data do pdf",exporterVisibleAsPdf:"Exportovat viditeln data do pdf",exporterSelectedAsPdf:"Exportovat vybran data do pdf",exporterAllAsExcel:"Exportovat vechna data do excel",exporterVisibleAsExcel:"Exportovat viditeln data do excel",exporterSelectedAsExcel:"Exportovat vybran data do excel",clearAllFilters:"Odstranit vechny filtry"},importer:{noHeaders:"Nzvy sloupc se nepodailo zskat, obsahuje soubor zhlav?",noObjects:"Data se nepodailo zpracovat, obsahuje soubor dky mimo zhlav?",invalidCsv:"Soubor nelze zpracovat, jedn se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor mus obsahovat json. Ukonuji.."},pagination:{sizes:"poloek na strnku",totalItems:"poloek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupen",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupr rkker udfra en kolonne ved at trkke dens overskift hertil."},search:{placeholder:"Sg...",showingItems:"Viste rkker:",selectedItems:"Valgte rkker:",totalItems:"Rkker totalt:",size:"Side strrelse:",first:"Frste side",next:"Nste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vlg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rkker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter markerede data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"G til frste",pageBack:"G tilbage",pageSelected:"Valgte side",pageForward:"G frem",pageToLast:"G til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter fr Spalte",removeFilter:"Filter lschen",columnMenuButtonLabel:"Spaltenmen",column:"Spalte"},priority:"Prioritt:",filterLabel:"Filter fr Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{aria:{selected:"Zeile markiert",notSelected:"Zeile nicht markiert"},placeholder:"Suche...",showingItems:"Zeige Eintrge:",selectedItems:"Ausgewhlte Eintrge:",totalItems:"Eintrge gesamt:",size:"Eintrge pro Seite:",first:"Erste Seite",next:"Nchste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswhlen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurcksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lsen"},columnMenu:{close:"Schlieen"},gridMenu:{aria:{buttonLabel:"Tabellenmen"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",exporterAllAsExcel:"Alle Daten als Excel exportieren",exporterVisibleAsExcel:"sichtbare Daten als Excel exportiere",exporterSelectedAsExcel:"markierte Daten als Excel exportieren",clearAllFilters:"Alle Filter zurcksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei auer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gltige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthlt sie gltiges JSON?",jsonNotArray:"Die importierte JSON-Datei mu ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurck",pageSelected:"Ausgwhlte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Eintrge pro Seite",totalItems:"Eintrgen",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu",column:"Column"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{aria:{selected:"Row selected",notSelected:"Row not selected"},placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artculos"},groupPanel:{description:"Arrastre un encabezado de columna aqu y sultelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artculos Mostrados:",selectedItems:"Artculos Seleccionados:",totalItems:"Artculos Totales:",size:"Tamao de Pgina:",first:"Primera Pgina",next:"Pgina Siguiente",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijacin"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar seleccin como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar seleccin como pdf",exporterAllAsExcel:"Exportar todo como excel",exporterVisibleAsExcel:"Exportar vista como excel",exporterSelectedAsExcel:"Exportar seleccin como excel",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, es un CSV vlido?",invalidJson:"No fue posible procesar el archivo, es un Json vlido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por pgina",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Mx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:""},groupPanel:{description:"            ."},search:{placeholder:"...",showingItems:" :",selectedItems:"  :",totalItems:" :",size:" :",first:" ",next:"",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:"  "},column:{hide:" "},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"   ",pinRight:"   ",unpin:" "},gridMenu:{columns:":",importerTitle:"  ",exporterAllAsCsv:"     csv",exporterVisibleAsCsv:"      csv",exporterSelectedAsCsv:"     csv",exporterAllAsPdf:"     pdf",exporterVisibleAsPdf:"      pdf",exporterSelectedAsPdf:"     pdf",clearAllFilters:"   "},importer:{noHeaders:"    .    ",noObjects:"   .         ",invalidCsv:"   .    csv   ",invalidJson:"   .   json    ",jsonNotArray:" json      .   ."},pagination:{sizes:"   ",totalItems:"",of:""},grouping:{group:"",ungroup:" ",aggregate_count:"Agg: ",aggregate_sum:"Agg: ",aggregate_max:"Agg: ",aggregate_min:"Agg: ",aggregate_avg:"Agg: ",aggregate_remove:"Agg: "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko thn ryhmittksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Nytetn rivej:",selectedItems:"Valitut rivit:",totalItems:"Rivej yht.:",size:"Nyt:",first:"Ensimminen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Jrjest nouseva",descending:"Jrjest laskeva",remove:"Poista jrjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivej yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie nkyv tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie nkyv tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",exporterAllAsExcel:"Vie tiedot excel-muodossa",exporterVisibleAsExcel:"Vie nkyv tieto excel-muodossa",exporterSelectedAsExcel:"Vie valittu tieto excel-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimi ei voitu ptell, onko tiedostossa otsikkorivi?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu ksitell, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu ksitell, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisltnyt taulukkoa, lopetetaan."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorit:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"lments"},groupPanel:{description:"Faites glisser une en-tte de colonne ici pour crer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des lments :",selectedItems:"lments slectionns :",totalItems:"Nombre total d'lments:",size:"Taille de page:",first:"Premire page",next:"Page Suivante",previous:"Page prcdente",last:"Dernire page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre dcroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"pingler  gauche",pinRight:"pingler  droite",unpin:"Dtacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les donnes en CSV",exporterVisibleAsCsv:"Exporter les donnes visibles en CSV",exporterSelectedAsCsv:"Exporter les donnes slectionnes en CSV",exporterAllAsPdf:"Exporter toutes les donnes en PDF",exporterVisibleAsPdf:"Exporter les donnes visibles en PDF",exporterSelectedAsPdf:"Exporter les donnes slectionnes en PDF",exporterAllAsExcel:"Exporter toutes les donnes en Excel",exporterVisibleAsExcel:"Exporter les donnes visibles en Excel",exporterSelectedAsExcel:"Exporter les donnes slectionnes en Excel",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de dterminer le nom des colonnes, le fichier possde-t-il une en-tte ?",noObjects:"Aucun objet trouv, le fichier possde-t-il des donnes autres que l'en-tte ?",invalidCsv:"Le fichier n'a pas pu tre trait, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu tre trait, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON import doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller  la premire page",pageBack:"Page prcdente",pageSelected:"Page slectionne",pageForward:"Page suivante",pageToLast:"Aller  la dernire page"},sizes:"lments par page",totalItems:"lments",through:"",of:"sur"},grouping:{group:"Grouper",ungroup:"Dgrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit tre suprieure ou gale  THRESHOLD caractres.",maxLength:"La valeur doit tre infrieure ou gale  THRESHOLD caractres.",required:"Une valeur est ncssaire."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:":",selectedItems:'" :',totalItems:'" :',size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:""},column:{hide:" "},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:""},groupPanel:{description:"        "},search:{placeholder:"...",showingItems:" ",selectedItems:":",totalItems:"",size:"  ",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:"  ",sum:" ",avg:" ",min:" ",max:" "},pinning:{pinLeft:"  ",pinRight:"  ",unpin:""},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"  CSV",exporterVisibleAsCsv:"   CSV",exporterSelectedAsCsv:"   CSV",exporterAllAsPdf:" PDF",exporterVisibleAsPdf:"   PDF",exporterSelectedAsPdf:"   PDF",exporterAllAsExcel:" excel",exporterVisibleAsExcel:"   excel",exporterSelectedAsExcel:"   excel",clearAllFilters:"  "},importer:{noHeaders:"        ",noObjects:"       ",invalidCsv:"       CSV ",invalidJson:"       Json ",jsonNotArray:" json     ,  "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("is",{headerCell:{aria:{defaultFilterLabel:"Sa fyrir dlk",removeFilter:"Fjarlgja su",columnMenuButtonLabel:"Dlkavalmynd"},priority:"Forgangsrun:",filterLabel:"Sa fyrir dlka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Dragu dlkhaus hinga til a flokka saman eftir eim dlki."},search:{placeholder:"Leita...",showingItems:"Sni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"Str su:",first:"Fyrsta sa",next:"Nsta sa",previous:"Fyrri sa",last:"Sasta sa"},menu:{text:"Veldu dlka:"},sort:{ascending:"Raa hkkandi",descending:"Raa lkkandi",none:"Engin run",remove:"Fjarlgja run"},column:{hide:"Fela dlk"},aggregation:{count:"fjldi raa: ",sum:"summa: ",avg:"mealtal: ",min:"lgmark: ",max:"hmark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til hgri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"Tflu valmynd"},columns:"Dlkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja t ggn sem csv",exporterVisibleAsCsv:"Flytja t snileg ggn sem csv",exporterSelectedAsCsv:"Flytja t valin ggn sem csv",exporterAllAsPdf:"Flytja t ll ggn sem pdf",exporterVisibleAsPdf:"Flytja t snileg ggn sem pdf",exporterSelectedAsPdf:"Flytja t valin ggn sem pdf",clearAllFilters:"Hreinsa allar sur"},importer:{noHeaders:"Ekki hgt a vinna dlkanfn r skjalinu, er skjali rugglega me haus?",noObjects:"Ekki hgt a vinna hluti r skjalinu, voru rugglega ggn  skjalinu nnur en hausinn?",invalidCsv:"Tkst ekki a vinna skjal, er a rggulega gilt CSV?",invalidJson:"Tkst ekki a vinna skjal, er a rugglega gilt Json?",jsonNotArray:"Innflutt json skjal verur a innihalda fylki, htti vi."},pagination:{aria:{pageToFirst:"Fletta a fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin sa",pageForward:"Fletta fram",pageToLast:"Fletta a sustu"},sizes:"hlutir  su",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurlia",aggregate_count:"Fjldi: ",aggregate_sum:"Summa: ",aggregate_max:"Hmark: ",aggregate_min:"Lgmark: ",aggregate_avg:"Mealtal: ",aggregate_remove:"Fjarlgja: "},validate:{error:"Villa:",minLength:"Gildi tti a vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi tti a vera  mesta lagi THRESHOLD stafa langt.",required:"arf a hafa gildi."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",exporterAllAsExcel:"Esporta tutti i dati in excel",exporterVisibleAsExcel:"Esporta i dati visibili in excel",exporterSelectedAsExcel:"Esporta i dati selezionati in excel",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{headerCell:{aria:{defaultFilterLabel:"",removeFilter:"",columnMenuButtonLabel:""},priority:":",filterLabel:": "},aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"...",showingItems:":",selectedItems:":",totalItems:":",size:":",first:"",next:"",previous:"",last:""},menu:{text:":"},sort:{ascending:"",descending:"",none:"",remove:""},column:{hide:""},aggregation:{count:": ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"",pinRight:"",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:"/:",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{aria:{pageToFirst:"",pageBack:"",pageSelected:"",pageForward:"",pageToLast:""},sizes:"/",totalItems:"",through:"",of:"/"},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:": ",aggregate_max:": ",aggregate_min:": ",aggregate_avg:": ",aggregate_remove:": "},validate:{error:"Error:",minLength:"THRESHOLD ",maxLength:"THRESHOLD ",required:""}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:" "},gridMenu:{columns:":",importerTitle:" ",exporterAllAsCsv:"csv   ",exporterVisibleAsCsv:"csv   ",exporterSelectedAsCsv:"csv   ",exporterAllAsPdf:"pdf   ",exporterVisibleAsPdf:"pdf   ",exporterSelectedAsPdf:"pdf   ",clearAllFilters:"  "},importer:{noHeaders:"   .      .",noObjects:"   .     .",invalidCsv:"   .  csv  .",invalidJson:"   .  json  .",jsonNotArray:"json    ."},pagination:{sizes:" ",totalItems:" "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",exporterAllAsExcel:"Exporteer alle data als excel",exporterVisibleAsExcel:"Exporteer zichtbare data als excel",exporterSelectedAsExcel:"Exporteer alle data als excel",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for  gruppere etter den kolonnen."},search:{placeholder:"Sk...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidestrrelse:",first:"Frste side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til hyre",unpin:"Lsne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",exporterAllAsExcel:"Eksporter alle data som excel",exporterVisibleAsExcel:"Eksporter synlige data som excel",exporterSelectedAsExcel:"Eksporter utvalgte data som excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil m inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"G til frste side",pageBack:"G til forrige side",pageSelected:"Valgte side",pageForward:"G til neste side",pageToLast:"G til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usu filtr",columnMenuButtonLabel:"Opcje kolumny",column:"Kolumna"},priority:"Priorytet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przecignij nagwek kolumny tutaj, aby pogrupowa wedug niej."},search:{aria:{selected:"Wiersz zaznaczony",notSelected:"Wiersz niezaznaczony"},placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Nastpna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnco",descending:"Sortuj malejco",none:"Brak sortowania",remove:"Wycz sortowanie"},column:{hide:"Ukryj kolumn"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"rednia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",exporterAllAsExcel:"Eksportuj wszystkie dane do excel",exporterVisibleAsExcel:"Eksportuj widoczne dane do excel",exporterSelectedAsExcel:"Eksportuj zaznaczone dane do excel",clearAllFilters:"Wyczy filtry"},importer:{noHeaders:"Nie udao si wczyta nazw kolumn. Czy plik posiada nagwek?",noObjects:"Nie udalo si wczyta pozycji. Czy plik zawiera dane?",invalidCsv:"Nie udao si przetworzy pliku. Czy to prawidowy plik CSV?",invalidJson:"Nie udao si przetworzy pliku. Czy to prawidowy plik JSON?",jsonNotArray:"Importowany plik JSON musi zawiera tablic. Importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Nastpna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stron",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: rednia",aggregate_remove:"Zbiorczo: Usu"},validate:{error:"Bd:",minLength:"Warto powinna skada si z co najmniej THRESHOLD znakw.",maxLength:"Warto powinna skada si z przynajmniej THRESHOLD znakw.",required:"Warto jest wymagana."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O arquivo tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no arquivo, alm dos cabealhos?",invalidCsv:"Arquivo no pode ser processado.  um CSV vlido?",invalidJson:"Arquivo no pode ser processado.  um Json vlido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira pgina",pageBack:"Pgina anterior",pageSelected:"Pgina Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por pgina",totalItems:"itens",through:"atravs dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Pgina:",first:"Primeira Pgina",next:"Prxima Pgina",previous:"Pgina Anterior",last:"ltima Pgina"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenao"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas no puderam ser derivados. O ficheiro tem um cabealho?",noObjects:"Objetos no puderam ser derivados. Havia dados no ficheiro, alm dos cabealhos?",invalidCsv:"Ficheiro no pode ser processado.  um CSV vlido?",invalidJson:"Ficheiro no pode ser processado.  um Json vlido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira pgina",pageBack:"Pgina anterior",pageSelected:"Pgina Selecionada",pageForward:"Prxima",pageToLast:"Anterior"},sizes:"itens por pgina",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:":",filterLabel:" : "},aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:":",importerTitle:" ",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF",clearAllFilters:"  "},importer:{noHeaders:"    ,     ?",noObjects:"   ,       ?",invalidCsv:"   ,   CSV-?",invalidJson:"   ,   JSON?",jsonNotArray:" JSON-   ,  ."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": Count",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem nzov stpca pre zoskupenie poda toho stpca."},search:{placeholder:"Hadaj...",showingItems:"Zobrazujem poloky:",selectedItems:"Vybrat poloky:",totalItems:"Poet poloiek:",size:"Poet:",first:"Prv strana",next:"alia strana",previous:"Predchdzajca strana",last:"Posledn strana"},menu:{text:"Vyberte stpce:"},sort:{ascending:"Zotriedi vzostupne",descending:"Zotriedi zostupne",remove:"Vymaza triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",exporterAllAsExcel:"Export all data as excel",exporterVisibleAsExcel:"Export visible data as excel",exporterSelectedAsExcel:"Export selected data as excel",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och slpp den fr att gruppera efter den kolumnen."},search:{placeholder:"Sk...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Frsta sidan",next:"Nsta sida",previous:"Fregende sida",last:"Sista sidan"},menu:{text:"Vlj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Gm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fst vnster",pinRight:"Fst hger",unpin:"Lsgr"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengr alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte hrledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte hrledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, r den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, r den en giltig JSON?",jsonNotArray:"Importerad JSON-fil mste innehlla ett flt. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:""},groupPanel:{description:"          "},search:{placeholder:" ...",showingItems:" :",selectedItems:"  :",totalItems:" :",size:" : ",first:" ",next:" ",previous:"  ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",remove:" "},column:{hide:"   "},aggregation:{count:" :",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:"  ",pinRight:" ",unpin:""},gridMenu:{columns:":",importerTitle:" : ",exporterAllAsCsv:"  : csv",exporterVisibleAsCsv:"  : csv",exporterSelectedAsCsv:"  : csv",exporterAllAsPdf:"  : pdf",exporterVisibleAsPdf:"  : pdf",exporterSelectedAsPdf:"  : pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"   ,   ?",noObjects:"  ,      ? ",invalidCsv:"   ,  ? - csv",invalidJson:"   ,  ? - json",jsonNotArray:"   ,    : json"},pagination:{sizes:" / ",totalItems:" "},grouping:{group:"",ungroup:"",aggregate_count:" : ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Stun iin filtre",removeFilter:"Filtreyi Kaldr",columnMenuButtonLabel:"Stun Mens"},priority:"ncelik:",filterLabel:"Stun iin filtre: "},aggregate:{label:"kaytlar"},groupPanel:{description:"Stuna gre gruplamak iin stun baln buraya srkleyin ve brakn."},search:{placeholder:"Arama...",showingItems:"Gsterilen Kayt:",selectedItems:"Seili Kayt:",totalItems:"Toplam Kayt:",size:"Sayfa Boyutu:",first:"lk Sayfa",next:"Sonraki Sayfa",previous:"nceki Sayfa",last:"Son Sayfa"},menu:{text:"Stunlar Se:"},sort:{ascending:"Artan Srada Srala",descending:"Azalan Srada Srala",none:"Sralama Yapma",remove:"Sralamay Kaldr"},column:{hide:"Stunu Gizle"},aggregation:{count:"toplam satr: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Saa Sabitle",unpin:"Sabitlemeyi Kaldr"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Men"},columns:"Stunlar:",importerTitle:"Dosya ieri aktar",exporterAllAsCsv:"Btn veriyi CSV olarak dar aktar",exporterVisibleAsCsv:"Grnen veriyi CSV olarak dar aktar",exporterSelectedAsCsv:"Seili veriyi CSV olarak dar aktar",exporterAllAsPdf:"Btn veriyi PDF olarak dar aktar",exporterVisibleAsPdf:"Grnen veriyi PDF olarak dar aktar",exporterSelectedAsPdf:"Seili veriyi PDF olarak dar aktar",clearAllFilters:"Btn filtreleri kaldr"},importer:{noHeaders:"Stun isimleri retilemiyor, dosyann bir bal var m?",noObjects:"Nesneler retilemiyor, dosyada balktan baka bir veri var m?",invalidCsv:"Dosya ilenemedi, geerli bir CSV dosyas m?",invalidJson:"Dosya ilenemedi, geerli bir Json dosyas m?",jsonNotArray:"Alnan Json dosyasnda bir dizi bulunmaldr, ilem iptal ediliyor."},pagination:{aria:{pageToFirst:"lk sayfaya",pageBack:"Geri git",pageSelected:"Seili sayfa",pageForward:"leri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne says",totalItems:"kaytlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Say",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ua",{headerCell:{aria:{defaultFilterLabel:" ",removeFilter:" ",columnMenuButtonLabel:" "},priority:":",filterLabel:" : "},aggregate:{label:""},groupPanel:{description:"       ."},search:{placeholder:"...",showingItems:" :",selectedItems:" :",totalItems:" :",size:" :",first:" ",next:" ",previous:" ",last:" "},menu:{text:" :"},sort:{ascending:" ",descending:" ",none:" ",remove:" "},column:{hide:" "},aggregation:{count:" : ",sum:": ",avg:": ",min:": ",max:": "},pinning:{pinLeft:" ",pinRight:" ",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:":",importerTitle:" ",exporterAllAsCsv:"   CSV",exporterVisibleAsCsv:"    CSV",exporterSelectedAsCsv:"    CSV",exporterAllAsPdf:"   PDF",exporterVisibleAsPdf:"    PDF",exporterSelectedAsPdf:"    PDF",clearAllFilters:"  "},importer:{noHeaders:"    ,     ?",noObjects:"   ,       ?",invalidCsv:"   ,    CSV-?",invalidJson:"   ,    JSON?",jsonNotArray:"JSON-     ,  ."},pagination:{aria:{pageToFirst:" ",pageBack:" ",pageSelected:" ",pageForward:" ",pageToLast:" "},sizes:"  ",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:" : ",aggregate_max:" : ",aggregate_min:" : ",aggregate_avg:" : ",aggregate_remove:" : "}}),e}])}]),function(){var e=["uiT","uiTranslate"],t=angular.module("ui.grid.i18n");t.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),t.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,i){var n={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var i=e.toLowerCase();this._langs[i]||(this._langs[i]={}),angular.extend(this._langs[i],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&n.add(e,t)}):n.add(e,t)},getAllLangs:function(){return n.getAllLangs()},get:function(e){var t=e||r.getCurrentLang();return n.get(t)},getSafeText:function(e,i){var o=i||r.getCurrentLang(),a=n.get(o);if(!a)return t.MISSING;for(var s=e.split("."),l=a,u=0;u<s.length;++u){if(void 0===l[s[u]]||null===l[s[u]])return t.MISSING;l=l[s[u]]}return l},setCurrentLang:function(e){e&&(n.setCurrent(e),i.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=n.getCurrentLang();return e||(e=t.DEFAULT_LANG,n.setCurrent(e)),e}};return r}]);t.directive("uiI18n",["i18nService","i18nConstants",function(e,t){return{compile:function(){return{pre:function(i,n,r){var o=t.LOCALE_DIRECTIVE_ALIAS,a=i.$eval(r[o]);a?i.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}}]);var i=function(t,i,n){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var s,l=e[0],u=e[1],c=a[l]||a[u]||o.html(),d=n.MISSING+c;if(a.$$observers){var h=a[l]?l:u;s=a.$observe(h,function(e){e&&o.html(t(e)(i.getCurrentLang())||d)})}var p=t(c),f=r.$on(n.UPDATE_EVENT,function(e){s?s(a[l]||a[u]):o.html(p(i.get())||d)});r.$on("$destroy",f),o.html(p(i.get())||d)}}}}};angular.forEach(e,function(e){t.directive(e,["$parse","i18nService","i18nConstants",i])});var n=function(e,t,i){return function(n){return e(n)(t.get())||i.MISSING+n}};angular.forEach(["t","uiTranslate"],function(e){t.filter(e,["$parse","i18nService","i18nConstants",n])})}(),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"",removeFilter:"",columnMenuButtonLabel:""},priority:":",filterLabel:": "},aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",none:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},columnMenu:{close:""},gridMenu:{aria:{buttonLabel:""},columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{aria:{pageToFirst:"",pageBack:"",pageSelected:"",pageForward:"",pageToLast:""},sizes:"",totalItems:"",through:"",of:""},grouping:{group:"",ungroup:"",aggregate_count:": ",aggregate_sum:": ",aggregate_max:": ",aggregate_min:": ",aggregate_avg:": ",aggregate_remove:": "}}),e}])}]),angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:""},groupPanel:{description:""},search:{placeholder:"",showingItems:"",selectedItems:"",totalItems:"",size:"",first:"",next:"",previous:"",last:""},menu:{text:""},sort:{ascending:"",descending:"",remove:""},column:{hide:""},aggregation:{count:"",sum:"",avg:"",min:"",max:""},pinning:{pinLeft:"",pinRight:"",unpin:""},gridMenu:{columns:"",importerTitle:"",exporterAllAsCsv:"CSV",exporterVisibleAsCsv:"CSV",exporterSelectedAsCsv:"CSV",exporterAllAsPdf:"PDF",exporterVisibleAsPdf:"PDF",exporterSelectedAsPdf:"PDF",clearAllFilters:""},importer:{noHeaders:"",noObjects:"",invalidCsv:"CSV",invalidJson:"JSON",jsonNotArray:"JSON"},pagination:{sizes:"",totalItems:""}}),e}])}]),angular.module("ui.grid.autoResize",["ui.grid"]).directive("uiGridAutoResize",["gridUtil",function(e){return{require:"uiGrid",scope:!1,link:function(t,i,n,r){var o,a,s=e.throttle(function(){o=e.elementWidth(i)},200),l=e.throttle(function(){a=e.elementHeight(i)},200),u=e.throttle(function(e,t){r.grid.gridWidth=e,r.grid.gridHeight=t,r.grid.refresh()},300);t.$watchGroup([function(){return s(),o},function(){return l(),a}],function(e,t,i){angular.equals(e,t)||u(e[0],e[1])})}}}]),function(){var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,i,n,r){var o=function(e,t,i,n){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=i?i.visibleColumnCache:[],this.rightColumns=n?n.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){return this.leftColumns.concat(this.columns,this.rightColumns).filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return!1!==e.allowCellFocus})},o.prototype.getNextRowCol=function(e,t,n){switch(e){case i.direction.LEFT:return this.getRowColLeft(t,n);case i.direction.RIGHT:return this.getRowColRight(t,n);case i.direction.UP:return this.getRowColUp(t,n);case i.direction.DOWN:return this.getRowColDown(t,n);case i.direction.PG_UP:return this.getRowColPageUp(t,n);case i.direction.PG_DOWN:return this.getRowColPageDown(t,n)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();return 0===e.length||0===t.length?null:new n(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);-1===o&&(o=1);var s=0===o?i.length-1:o-1;return new n(s>=o?0===a?e:r[a-1]:e,i[s])},o.prototype.getRowColRight=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=o===i.length-1?0:o+1;return o>=s?a===r.length-1?new n(e,i[s]):new n(r[a+1],i[s]):new n(e,i[s])},o.prototype.getRowColDown=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),a===r.length-1?new n(e,i[o]):new n(r[a+1],i[o])},o.prototype.getRowColPageDown=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=r.length-s?new n(r[r.length-1],i[o]):new n(r[a+s],i[o])},o.prototype.getRowColUp=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),new n(0===a?e:r[a-1],i[o])},o.prototype.getRowColPageUp=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return new n(0>a-s?r[0]:r[a-s],i[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,i,n,r,o,a){var s={initializeGrid:function(e){e.registerColumnBuilder(s.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],s.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,i){return s.scrollToFocus(e,t,i)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var i=-1,n=0;n<e.cellNav.focusedCells.length;n++)if(e.cellNav.focusedCells[n].col.uid===t.col.uid&&e.cellNav.focusedCells[n].row.uid===t.row.uid){i=n;break}return i}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=!0===e.modifierKeysToMultiSelectCells,e.keyDownOverrides=e.keyDownOverrides||[]},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,i=e.hasLeftContainer()?e.renderContainers.left:null;null!==i&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,i,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,i)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,i,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?i.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?i.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?i.direction.UP:e.keyCode===t.keymap.PG_UP?i.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?i.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?i.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,i){return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,n.all([])},scrollToFocus:function(e,t,i){var n=null,r=null;return void 0!==t&&null!==t&&(n=e.getRow(t)),void 0!==i&&null!==i&&(r=e.getColumn(i.name?i.name:i.field)),e.api.core.scrollToIfNecessary(n,r).then(function(){var t={row:n,col:r};null!==n&&null!==r&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var i=0;if(!t)return i;var n=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){n>t&&(i+=e.drawnWidth)});var r=0===n?0:(n+1)/e.renderContainers.body.visibleColumnCache.length;return i+=t.drawnWidth*r}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile","i18nService",function(e,t,i,n,r,o,a,s){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,s){var l=e,u=s.grid;t.initializeGrid(u),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof r||(e=new r(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");return e.length>0?e[0]:void 0},s.cellNav.broadcastCellNav=u.cellNav.broadcastCellNav=function(e,t,n){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,n),l.$broadcast(i.CELL_NAV_EVENT,e,t,n)},s.cellNav.clearFocus=u.cellNav.clearFocus=function(){u.cellNav.focusedCells=[],l.$broadcast(i.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,i){t=!(void 0===t||!t);var n=(e=s.cellNav.makeRowCol(e)).row,o=e.col,a=s.grid.api.cellNav.rowColSelectIndex(e);if(null===u.cellNav.lastRowCol||-1===a||u.cellNav.lastRowCol.col===o&&u.cellNav.lastRowCol.row===n){var l=new r(n,o);(null===u.cellNav.lastRowCol||u.cellNav.lastRowCol.row!==l.row||u.cellNav.lastRowCol.col!==l.col||u.options.enableCellEditOnFocus)&&(u.api.cellNav.raise.navigate(l,u.cellNav.lastRowCol,i),u.cellNav.lastRowCol=l),s.grid.options.modifierKeysToMultiSelectCells&&t?u.cellNav.focusedCells.push(e):u.cellNav.focusedCells=[e]}else u.options.modifierKeysToMultiSelectCells&&t&&a>=0&&u.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(e){var r=t.getDirection(e);if(null===r)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[o].cellNav.getNextRowCol(r,a.row,a.col),c=s.grid.renderContainers[o].cellNav.getFocusableCols(),d=s.grid.api.cellNav.rowColSelectIndex(l);return r===i.direction.LEFT&&l.col===c[c.length-1]&&l.row===a.row&&e.keyCode===n.keymap.TAB&&e.shiftKey?(u.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0):r!==i.direction.RIGHT||l.col!==c[0]||l.row!==a.row||e.keyCode!==n.keymap.TAB||e.shiftKey?(u.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l,null,e)}),e.stopPropagation(),e.preventDefault(),!1):(u.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,n,r){var o=r.grid,l=!0;try{angular.module("ngAria")}catch(e){l=!1}l&&function(){var n='<div id="'+o.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="alert" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',r=a(n)(e);t.prepend(r),e.$on(i.CELL_NAV_EVENT,function(e,t,i,n){if(!n||"focus"!==n.type){for(var a=[],l=o.api.cellNav.getCurrentSelection(),u=0;u<l.length;u++){var c=(f=l[u],("selectionRowHeaderCol"===f.col.field?f.row.isSelected?s.getSafeText("search.aria.selected"):s.getSafeText("search.aria.notSelected"):o.getCellDisplayValue(f.row,f.col))+(p=l[u].col,", "+s.getSafeText("headerCell.aria.column")+" "+p.displayName));a.push(c)}var d=a.toString();(h=d)!==r.text().trim()&&(r[0].style.clip="rect(0px,0px,0px,0px)",r[0].innerHTML="",r[0].style.visibility="hidden",r[0].style.visibility="visible",""!==h&&(r[0].style.clip="auto",r[0].appendChild(document.createTextNode(h+" ")),r[0].style.visibility="hidden",r[0].style.visibility="visible"))}var h,p,f})}()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,i,n,r,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,n,s,l){var u=l[0],c=l[1],d=l[2];if(u.grid.api.cellNav){var h=c.containerId,p=u.grid;if(r.decorateRenderContainers(p),"body"===h){u.grid.options.modifierKeysToMultiSelectCells?n.attr("aria-multiselectable",!0):n.attr("aria-multiselectable",!1);var f=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+p.id+"-aria-speakable "+p.id+'-grid-container" aria-owns="'+p.id+'-grid-container"></div>')(t);n.append(f),f.on("focus",function(e){e.uiGridTargetRenderContainerId=h;var t=u.grid.api.cellNav.getFocusedCell();null===t&&(t=u.grid.renderContainers[h].cellNav.getNextRowCol(a.direction.DOWN,null,null),t.row&&t.col&&u.cellNav.broadcastCellNav(t))}),d.setAriaActivedescendant=function(e){n.attr("aria-activedescendant",e)},d.removeAriaActivedescendant=function(e){n.attr("aria-activedescendant")===e&&n.attr("aria-activedescendant","")},u.focus=function(){i.focus.byElement(f[0])};var g=null;f.on("keydown",function(e){e.uiGridTargetRenderContainerId=h;var t=u.grid.api.cellNav.getFocusedCell();null===(u.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(i){return t[i]===e[i]})})?null:u.cellNav.handleKeyDown(e))&&(u.grid.api.cellNav.raise.viewPortKeyDown(e,t,u.cellNav.handleKeyDown),g=t)}),f.on("keypress",function(t){g&&(e(function(){u.grid.api.cellNav.raise.viewPortKeyPress(t,g)},4),g=null)}),t.$on("$destroy",function(){f.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,i,n,r,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,i,n){},post:function(e,t,i,n){var r=n[0],o=n[1];if(r.grid.api.cellNav){if("body"===o.containerId){var a=r.grid;a.api.core.on.scrollBegin(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.clearFocus()}),a.api.core.on.scrollEnd(e,function(e){var t=r.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&r.cellNav.broadcastCellNav(t)}),a.api.cellNav.on.navigate(e,function(){r.focus()})}}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,i,n,r,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(e,t,i,n){function s(e){e.preventDefault()}function l(){h.cellNav.focusedCells.some(function(t,i){return t.row===e.row&&t.col===e.col})?function(){if(!e.focused){var i=t.find("div");i.addClass("ui-grid-cell-focus"),t.attr("aria-selected",!0),d.setAriaActivedescendant(t.attr("id")),e.focused=!0}}():u()}function u(){if(e.focused){t.find("div").removeClass("ui-grid-cell-focus"),t.attr("aria-selected",!1),d.removeAriaActivedescendant(t.attr("id")),e.focused=!1}}var c=n[0],d=n[1];if(c.grid.api.cellNav&&e.col.colDef.allowCellFocus){var h=c.grid;e.focused=!1,t.attr("tabindex",-1),t.find("div").on("click",function(t){c.cellNav.broadcastCellNav(new a(e.row,e.col),t.ctrlKey||t.metaKey,t),t.stopPropagation(),e.$apply()}),t.on("mousedown",s),c.grid.api.edit&&(c.grid.api.edit.on.beginCellEdit(e,function(){t.off("mousedown",s)}),c.grid.api.edit.on.afterCellEdit(e,function(){t.on("mousedown",s)}),c.grid.api.edit.on.cancelCellEdit(e,function(){t.on("mousedown",s)})),l(),t.on("focus",function(t){c.cellNav.broadcastCellNav(new a(e.row,e.col),!1,t),t.stopPropagation(),e.$apply()}),e.$on(r.CELL_NAV_EVENT,l);var p=c.grid.registerDataChangeCallback(function(t){u(),e.$applyAsync(l)},[o.dataChange.ROW]);e.$on("$destroy",function(){p(),t.find("div").off(),t.off()})}}}}])}(),function(){var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,i){var n={initializeGrid:function(e){n.defaultGridOptions(e.options),e.registerColumnBuilder(n.editColumnBuilder),e.edit={};e.api.registerEventsFromObject({edit:{afterCellEdit:function(e,t,i,n){},beginCellEdit:function(e,t,i){},cancelCellEdit:function(e,t){}}})},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(t,n,r){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===r.enableCellEdit?"object"!==t.type:r.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?r.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(i.getTemplate(t.editableCellTemplate).then(function(e){n.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?r.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return n}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.initializeGrid(r.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,i,n,r){var o=r[0];if(o.grid.api.edit&&o.grid.api.cellNav){"body"===r[1].containerId&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,i,n,r,o,a,s,l,u){var c=500;return t.has("uiGridCellNavService")&&t.get("uiGridCellNavService"),{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,d,h,p){function f(){d.on("dblclick",b),d.on("touchstart",g),p&&p.grid.api.cellNav&&(T=p.grid.api.cellNav.on.viewPortKeyDown(t,function(e,i){null!==i&&(i.row!==t.row||i.col!==t.col||t.col.colDef.enableCellEditOnFocus||y(e))}),E=p.grid.api.cellNav.on.navigate(t,function(e,n,r){t.col.colDef.enableCellEditOnFocus&&(e.row!==t.row||e.col!==t.col||r&&(!r||"click"!==r.type&&"keydown"!==r.type)||i(function(){b(r)}))})),t.beginEditEventsWired=!0}function g(e){void 0!==e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),d.on("touchend",m),(S=i(function(){},c)).then(function(){setTimeout(b,0),d.off("touchend",m)})}function m(e){i.cancel(S),d.off("touchend",m)}function v(){d.off("dblclick",b),d.off("keydown",y),d.off("touchstart",g),E(),T(),t.beginEditEventsWired=!1}function y(e){s.isStartEditKey(e)&&b(e)}function b(s){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){!function(s){if(!$&&(E=t.col,T=t.row,D=s,!T.isSaving&&(angular.isFunction(E.colDef.cellEditableCondition)?E.colDef.cellEditableCondition(t,D):E.colDef.cellEditableCondition))){var c=t.row.getQualifiedColField(t.col);t.col.colDef.editModelField&&(c=o.preEval("row.entity."+t.col.colDef.editModelField)),C=a(c),_=C(t),x=(x=(x=t.col.editableCellTemplate).replace(n.MODEL_COL_FIELD,c)).replace(n.COL_FIELD,"grid.getCellValue(row, col)");var h=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";x=x.replace(n.CUSTOM_FILTERS,h);var p="text";switch(t.col.colDef.type){case"boolean":p="checkbox";break;case"number":p="number";break;case"date":p="date"}x=x.replace("INPUT_TYPE",p);var f=t.col.colDef.editDropdownOptionsFunction;if(f)u.when(f(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var g=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=g?function(e,t){for(var i=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");i.length;){var n=i.shift();if(!(n in e))return;e=e[n]}return e}(t.row.entity,g):t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var m=function(){$=!0,v();var i=angular.element(x);d.append(i),k=t.$new(),e(i)(k);var n=angular.element(d.children()[0]);n.addClass("ui-grid-cell-contents-hidden")};l.$$phase?m():t.$apply(m);var y=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(w(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,C(t),_),y(),b(),S())}),b=t.$on(r.events.END_CELL_EDIT,function(){w(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,C(t),_),b(),y(),S()}),S=t.$on(r.events.CANCEL_CELL_EDIT,function(){t.grid.disableScrolling=!1,$&&(C.assign(t,_),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),w()),S(),y(),b()});t.$broadcast(r.events.BEGIN_CELL_EDIT,s),i(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,s)})}var E,T,D}(s)})}function w(){if(t.grid.disableScrolling=!1,$){p&&p.grid.api.cellNav&&p.focus();var e=angular.element(d.children()[0]);k.$destroy();for(var i=d.children(),r=1;r<i.length;r++)angular.element(i[r]).remove();e.removeClass("ui-grid-cell-contents-hidden"),$=!1,f(),t.grid.api.core.notifyDataChange(n.dataChange.EDIT)}}var x,_,C,S,k,$=!1;if(t.col.colDef.enableCellEdit){var E=function(){},T=function(){},D=function(){t.col.colDef.enableCellEdit&&!1!==t.row.enableCellEdit?t.beginEditEventsWired||f():t.beginEditEventsWired&&v()};D();var M=t.$watch("row",function(e,t){e!==t&&D()});t.$on("$destroy",function(){M(),d.off()})}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,i,n,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,i){},post:function(e,o,a,s){var l,u,c;s[0]&&(l=s[0]),s[1]&&(u=s[1]),s[2]&&(c=s[2]),e.$on(i.events.BEGIN_CELL_EDIT,function(t,i){if(n(function(){if(o[0].focus(),!o[0].select||!e.col.colDef.enableCellEditOnFocus&&l&&l.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(e){}else o[0].select()}),l&&l.grid.api.cellNav)var a=l.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){if(r.isStartEditKey(e)){var i="number"==typeof e.which?e.which:e.keyCode;i>0&&(c.$setViewValue(String.fromCharCode(i),e),c.$render())}a()});o.on("mousedown",function(t){"checkbox"===o[0].type&&(o.off("blur",e.stopEdit),n(function(){o[0].focus(),o.on("blur",e.stopEdit)}))}),o.on("blur",e.stopEdit)}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(i.events.CANCEL_CELL_EDIT)):e.$emit(i.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,e.$applyAsync(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(n){switch(n.keyCode){case t.keymap.ESC:n.stopPropagation(),e.$emit(i.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||n.keyCode!==t.keymap.LEFT&&n.keyCode!==t.keymap.RIGHT&&n.keyCode!==t.keymap.UP&&n.keyCode!==t.keymap.DOWN)if(l&&l.grid.api.cellNav)n.uiGridTargetRenderContainerId=u.containerId,null!==l.cellNav.handleKeyDown(n)&&e.stopEdit(n);else switch(n.keyCode){case t.keymap.ENTER:case t.keymap.TAB:n.stopPropagation(),n.preventDefault(),e.stopEdit(n)}else n.stopPropagation();return!0}),e.$on("$destroy",function(){o.off()})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){return{priority:-100,require:"?ngModel",link:function(t,i,n,r){2===angular.version.minor&&n.type&&"date"===n.type&&r&&(r.$formatters.push(function(t){return r.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),r.$parsers.push(function(e){if(e&&e.length>0){var t=function(e){if(void 0===e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var i=parseInt(t[0],10),n=parseInt(t[1],10),r=parseInt(t[2],10);return 1>n||1>i||1>r?null:new Date(i,n-1,r)}(e);return r.$setValidity(null,t&&!isNaN(t.getTime())),t}return r.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(e,t,i){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,i){},post:function(n,r,o,a){var s=a[0],l=a[1];n.$on(t.events.BEGIN_CELL_EDIT,function(){i(function(){r[0].focus()}),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){n.stopEdit(e)})}),n.stopEdit=function(e){n.$emit(t.events.END_CELL_EDIT)},r.on("keydown",function(i){switch(i.keyCode){case e.keymap.ESC:i.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT)}if(s&&s.grid.api.cellNav)i.uiGridTargetRenderContainerId=l.containerId,null!==s.cellNav.handleKeyDown(i)&&n.stopEdit(i);else switch(i.keyCode){case e.keymap.ENTER:case e.keymap.TAB:i.stopPropagation(),i.preventDefault(),n.stopEdit(i)}return!0}),n.$on("$destroy",function(){r.off()})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,i,n){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,i){},post:function(t,n,r,o){function a(n){var r=n.srcElement||n.target;r&&r.files&&r.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,r.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),r.form.reset(),t.$emit(i.events.END_CELL_EDIT)):t.$emit(i.events.CANCEL_CELL_EDIT)}n[0].addEventListener("change",a,!1),t.$on(i.events.BEGIN_CELL_EDIT,function(){n[0].focus(),n[0].select(),n.on("blur",function(e){t.$emit(i.events.END_CELL_EDIT)})}),t.$on("$destroy",function(){n.off(),n[0].removeEventListener("change",a,!1)})}}}}}])}(),function(){var e=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);e.service("uiGridBaseLayerService",["gridUtil","$compile",function(e,t){return{initializeGrid:function(e,t){e.baseLayer={emptyRows:[]},!1!==e.options.enableEmptyGridBaseLayer&&(e.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(e,t){var i=t.options.rowHeight,n=Math.ceil(e/i);if(n>0){t.baseLayer.emptyRows=[];for(var r=0;n>r;r++)t.baseLayer.emptyRows.push({})}}}}]),e.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(e,t,i){return{require:"^uiGrid",scope:!1,compile:function(e,n){return{pre:function(e,n,r,o){var a=!1===i(r.uiGridEmptyBaseLayer)(e);t.initializeGrid(o.grid,a)},post:function(e,i,n,r){if(r.grid.options.enableEmptyGridBaseLayer){var o=r.grid.renderContainers.body,a=o.getViewportHeight();r.grid.registerStyleComputation({func:function(){return function(){var e=o.getViewportHeight();return e!==a&&(a=e,!0)}()&&t.setNumberOfEmptyRows(a,r.grid),e=a,".grid"+r.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+e+"px; }";var e}})}}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e,t){var n=i.get("ui-grid/emptyBaseLayerContainer");return e.prepend(n),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}])}(),function(){var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var i={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=!1!==t.options.enableExpandable,t.options.showExpandAllButton=!1!==t.options.showExpandAllButton,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var n={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var n=t.getRow(e);null!==n&&i.toggleRowExpansion(t,n)},expandAllRows:function(){i.expandAllRows(t)},collapseAllRows:function(){i.collapseAllRows(t)},toggleAllRows:function(){i.toggleAllRows(t)},expandRow:function(e){var n=t.getRow(e);null===n||n.isExpanded||i.toggleRowExpansion(t,n)},collapseRow:function(e){var n=t.getRow(e);null!==n&&n.isExpanded&&i.toggleRowExpansion(t,n)},getExpandedRows:function(){return i.getExpandedRows(t).map(function(e){return e.entity})}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||t.entity.subGridOptions&&t.entity.subGridOptions.disableRowExpandable||i.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&i.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?i.collapseAllRows(e):i.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return i}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,n,r,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&!1!==o.grid.options.enableExpandableRowHeader){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(e,t,i,n){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,i,n){n.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(n.grid.parentRow=e.row)})},post:function(e,t,i,n){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,i,n,r,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,n,o){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(n){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var a=angular.element(n);t.append(a),a=i(a)(e),e.row.expandedRendered=!0})},post:function(e,t,i,n){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,i,n){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){return"body"===e.colContainer.name&&!1!==e.grid.options.enableExpandable&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered)},e.expandableRow.shouldRenderFiller=function(){return e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered)})},post:function(e,t,i,n){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=i.get("ui-grid/expandableScrollFiller"),o=i.get("ui-grid/expandableRow");return n.append(o),n.append(r),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}])}(),function(){var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,i,n,r,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,i){a.csvExport(e,t,i)},pdfExport:function(t,i){a.pdfExport(e,t,i)},excelExport:function(t,i){a.excelExport(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):r(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=!0===e.exporterSuppressMenu,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=!0===e.exporterOlderExcelCompatibility,e.exporterIsExcelCompatible=!0===e.exporterIsExcelCompatible,e.exporterMenuItemOrder=e.exporterMenuItemOrder?e.exporterMenuItemOrder:200,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0===e.exporterMenuAllData||e.exporterMenuAllData,e.exporterMenuVisibleData=void 0===e.exporterMenuVisibleData||e.exporterMenuVisibleData,e.exporterMenuSelectedData=void 0===e.exporterMenuSelectedData||e.exporterMenuSelectedData,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf,e.exporterMenuExcel=void 0===e.exporterMenuExcel||e.exporterMenuExcel,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=!0===e.exporterHeaderFilterUseName,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,i,n){return n},e.exporterFieldFormatCallback=e.exporterFieldFormatCallback?e.exporterFieldFormatCallback:function(e,t,i,n){return null},e.exporterFieldApplyFilters=!0===e.exporterFieldApplyFilters,e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null===e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(i){e.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(i){e.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+1},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(i){e.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+2},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(i){e.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+3},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(i){e.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+4},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(i){e.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+5},{title:o.getSafeText("gridMenu.exporterAllAsExcel"),action:function(i){e.api.exporter.excelExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+6},{title:o.getSafeText("gridMenu.exporterVisibleAsExcel"),action:function(i){e.api.exporter.excelExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+7},{title:o.getSafeText("gridMenu.exporterSelectedAsExcel"),action:function(i){e.api.exporter.excelExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuExcel&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+8}])},csvExport:function(e,t,i){var n=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var r=e.options.showHeader?n.getColumnHeaders(e,i):[],o=n.getData(e,t,i),a=n.formatAsCsv(r,o,e.options.exporterCsvColumnSeparator);n.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility,e.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(i,n,r){if(n===t.ALL&&i.rows.length!==i.options.totalItems&&i.options.exporterAllDataFn)return i.options.exporterAllDataFn().then(function(e){i.modifyRows(e)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,i){var n,r=[];if(i===t.ALL)n=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],s=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];n=o.concat(a,s)}return n.forEach(function(t,i){if(!0!==t.colDef.exporterSuppressExport&&"$$hashKey"!==t.field&&-1===e.options.exporterSuppressColumns.indexOf(t.name)){var n={name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:t.colDef.align?t.colDef.align:"number"===t.colDef.type?"right":"left"};r.push(n)}}),r},getRowsFromNode:function(e){for(var t=[],i=0;i<e.children.length;i++)if(e.children[i].children&&0===e.children[i].children.length)t.push(e.children[i]);else{var n=this.getRowsFromNode(e.children[i]);t=t.concat(n)}return t},getDataSorted:function(e,t,i,n){if(!e.treeBase||0===e.treeBase.numberLevels)return e.rows;for(var r=[],o=0;o<e.treeBase.tree.length;o++)for(var a=this.getRowsFromNode(e.treeBase.tree[o]),s=0;s<a.length;s++)r.push(a[s].row);return r},getData:function(e,n,r,o){var a,s,l=[];switch(n){case t.ALL:a=this.getDataSorted(e,n,r,o);break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():i.logError("selection feature must be enabled to allow selected rows to be exported")}if(r===t.ALL)s=e.columns;else{var u=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],c=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],d=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];s=u.concat(c,d)}return a.forEach(function(i,n){if(!1!==i.exporterEnableExporting){var a=[];s.forEach(function(n,s){if((n.visible||r===t.ALL)&&!0!==n.colDef.exporterSuppressExport&&"$$hashKey"!==n.field&&-1===e.options.exporterSuppressColumns.indexOf(n.name)){var l=o?e.getCellDisplayValue(i,n):e.getCellValue(i,n),u={value:e.options.exporterFieldCallback(e,i,n,l)},c=e.options.exporterFieldFormatCallback(e,i,n,l);c&&Object.assign(u,c),n.colDef.exporterPdfAlign&&(u.alignment=n.colDef.exporterPdfAlign),a.push(u)}}),l.push(a)}}),l},formatAsCsv:function(e,t,i){var n=e.map(function(e){return{value:e.displayName}});return(n.length>0?this.formatRowAsCsv(this,i)(n)+"\n":"")+t.map(this.formatRowAsCsv(this,i)).join("\n")},formatRowAsCsv:function(e,t){return function(i){return i.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=!1;return-1!==navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/)&&(e=!0),e},downloadFile:function(e,t,i,n,r){var o,a=document,s=a.createElement("a"),l="application/octet-stream;charset=utf-8",u=this.isIE();if(r&&(t="sep="+i+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([n?"\ufeff":"",t],{type:l}),e);if(u){var c=a.createElement("iframe");return document.body.appendChild(c),c.contentWindow.document.open("text/html","replace"),c.contentWindow.document.write(t),c.contentWindow.document.close(),c.contentWindow.focus(),c.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(c),!0}if("download"in s){var d=new Blob([n?"\ufeff":"",t],{type:l});o=URL.createObjectURL(d),s.setAttribute("download",e)}else o="data:"+l+","+encodeURIComponent(t),s.setAttribute("target","_blank");s.href=o,s.setAttribute("style","display:none;"),a.body.appendChild(s),setTimeout(function(){if(s.click)s.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),s.dispatchEvent(e)}a.body.removeChild(s)},this.delay)},pdfExport:function(e,t,i){var n=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var r=n.getColumnHeaders(e,i),o=n.getData(e,t,i),a=n.prepareAsPdf(e,r,o);n.isIE()||-1!==navigator.appVersion.indexOf("Edge")?n.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var i,n=document;n.createElement("a"),i=this.isIE();var r;pdfMake.createPdf(t).getBuffer(function(t){if(r=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(i){var o=n.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(r),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,i){var n=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=i.map(this.formatRowAsPdf(this)),a=[r].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:n,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var i=0;t.forEach(function(e){"number"==typeof e.width&&(i+=e.width)});var n=0;t.forEach(function(e){if("*"===e.width&&(n+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=i*t/100,n+=e.width}});var r=i+n;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):e.value instanceof Date?JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""):"object"==typeof e.value?e.value:JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t},formatAsExcel:function(e,t,i,n,r){for(var o=e.map(function(e){return{value:e.displayName}}),a=[],s=[],l=0;l<o.length;l++){var u="header";switch(e[l].align){case"center":u="headerCenter";break;case"right":u="headerRight"}var c=r.styles&&r.styles[u]?{style:r.styles[u].id}:null;s.push({value:o[l].value,metadata:c})}a.push(s);for(var d=t.map(this.formatRowAsExcel(this,i,n)),h=0;h<d.length;h++)a.push(d[h]);return a},formatRowAsExcel:function(e,t,i){return function(n){for(var r=[],o=0;o<n.length;o++){var a=e.formatFieldAsExcel(n[o],t,i);r.push({value:a,metadata:n[o].metadata})}return r}},formatFieldAsExcel:function(e,t,i,n){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value)},prepareAsExcel:function(e,t,i){var n={styles:{}};if(e.options.exporterExcelCustomFormatters&&(n=e.options.exporterExcelCustomFormatters(e,t,n)),e.options.exporterExcelHeader)if(angular.isFunction(e.options.exporterExcelHeader))e.options.exporterExcelHeader(e,t,i,n);else{var r=e.options.exporterExcelHeader.text,o=e.options.exporterExcelHeader.style;i.data.push([{value:r,metadata:{style:n.styles[o].id}}])}return n},excelExport:function(e,t,i){var n=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var r=e.options.showHeader?n.getColumnHeaders(e,i):[],o=new ExcelBuilder.Workbook,a=e.options.exporterExcelSheetName?e.options.exporterExcelSheetName:"Sheet1",s=new ExcelBuilder.Worksheet({name:a});o.addWorksheet(s);for(var l=n.prepareAsExcel(e,o,s),u=[],c=e.treeBase?e.treeBase.numberLevels:!1!==e.enableRowSelection?1:0;c<e.columns.length;c++)u.push({width:e.columns[c].drawnWidth/75*10});s.setColumns(u);var d=n.getData(e,t,i,e.options.exporterFieldApplyFilters),h=n.formatAsExcel(r,d,o,s,l);s.setData(s.data.concat(h)),ExcelBuilder.Builder.createFile(o,{type:"blob"}).then(function(t){n.downloadFile(e.options.exporterExcelFilename,t,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility)})})}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,r){t.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,i,n,r,o,a,s,l){var u={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},u.defaultGridOptions(e.options),e.registerRowsProcessor(u.groupRows,400),e.registerColumnBuilder(u.groupingColumnBuilder),e.registerColumnsProcessor(u.groupingColumnProcessor,400);var i={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var i=u.getGrouping(e);return i.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),i.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),i.aggregations=i.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(i.rowExpandedStates=u.getRowExpandedStates(e.grouping.groupingHeaderCache)),i},setGrouping:function(t){u.setGrouping(e,t)},groupColumn:function(t){var i=e.getColumn(t);u.groupColumn(e,i)},ungroupColumn:function(t){var i=e.getColumn(t);u.ungroupColumn(e,i)},clearGrouping:function(){u.clearGrouping(e)},aggregateColumn:function(t,i,n){var r=e.getColumn(t);u.aggregateColumn(e,r,i,n)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods),e.api.core.on.sortChanged(t,u.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=!1!==e.enableGrouping,e.groupingShowCounts=!1!==e.groupingShowCounts,e.groupingNullLabel=void 0===e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=!0===e.enableGroupHeaderSelection},groupingColumnBuilder:function(e,n,r){if(!1!==e.enableGrouping){void 0===n.grouping&&void 0!==e.grouping?(n.grouping=angular.copy(e.grouping),void 0!==n.grouping.groupPriority&&n.grouping.groupPriority>-1&&(n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=u.groupedFinalizerFn)):void 0===n.grouping&&(n.grouping={}),void 0!==n.grouping&&void 0!==n.grouping.groupPriority&&n.grouping.groupPriority>=0&&(n.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return void 0===this.context.col.grouping||void 0===this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){u.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return void 0!==this.context.col.grouping&&void 0!==this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){u.ungroupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return void 0!==this.context.col.treeAggregationFn},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,null)}},d=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var r={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return void 0===this.context.col.treeAggregation||void 0===this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,e)}};i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.aggregate"+e)||n.menuItems.push(r)};!1!==n.colDef.groupingShowGroupingMenu&&(i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.group")||n.menuItems.push(o),i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.ungroup")||n.menuItems.push(s)),!1!==n.colDef.groupingShowAggregationMenu&&(angular.forEach(l.nativeAggregations(),function(e,t){d(t)}),angular.forEach(r.treeCustomAggregations,function(e,t){d(t,e.menuTitle)}),i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.aggregateRemove")||n.menuItems.push(c))}},groupingColumnProcessor:function(e,t){return u.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){void 0!==e.groupVal?(e.rendered=e.groupVal,this.grid.options.groupingShowCounts&&"date"!==this.colDef.type&&"object"!==this.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,i){return!1===e.options.moveGroupColumns?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var i,n;return i=e.isRowHeader?e.headerPriority:void 0===e.grouping||void 0===e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,n=t.isRowHeader?t.headerPriority:void 0===t.grouping||void 0===t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==i&&null===n?-1:null!==n&&null===i?1:null!==i&&null!==n?i-n:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,i){void 0===i.grouping&&(i.grouping={});var n=u.getGrouping(e);i.grouping.groupPriority=n.grouping.length,i.previousSort=angular.copy(i.sort),i.sort?(void 0===i.sort.direction||null===i.sort.direction)&&(i.sort.direction=s.ASC):i.sort={direction:s.ASC},i.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},i.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=u.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(i),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){void 0!==t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),u.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh())},aggregateColumn:function(e,t,i){void 0!==t.grouping&&void 0!==t.grouping.groupPriority&&t.grouping.groupPriority>=0&&u.ungroupColumn(e,t);var n={};void 0!==e.options.treeCustomAggregations[i]?n=e.options.treeCustomAggregations[i]:void 0!==l.nativeAggregations()[i]&&(n=l.nativeAggregations()[i]),t.treeAggregation={type:i,label:a.get().aggregation[n.label]||n.label},t.treeAggregationFn=n.aggregationFn,t.treeAggregationFinalizerFn=n.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){void 0!==t&&(u.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var i=e.getColumn(t.colName);i&&u.groupColumn(e,i)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var i=e.getColumn(t.colName);i&&u.aggregateColumn(e,i,t.aggregation.type)}),t.rowExpandedStates&&u.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=u.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){void 0!==e&&void 0===e.grid||void 0===this.grid||(e=this.grid);var t=[],i=[];e.columns.forEach(function(e,n){void 0!==e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):void 0!==e.sort&&void 0!==e.sort.priority&&e.sort.priority>=0&&i.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,void 0===e.sort&&(e.sort={}),e.sort.priority=t});var n=t.length;i.sort(function(e,t){return e.sort.priority-t.sort.priority}),i.forEach(function(e,t){e.sort.priority=n,e.suppressRemoveSort=e.colDef.suppressRemoveSort,n++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var i=u.initialiseProcessingState(t),r=function(r,s){var l=t.getCellValue(a,r.col);r.initialised&&0===n.getSortFn(t,r.col,e)(l,r.currentValue)||(u.insertGroupHeader(t,e,o,i,s),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&i.forEach(r)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[];return u.getGrouping(e).grouping.forEach(function(e,i){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],i=[];return e.columns.forEach(function(e,n){e.grouping&&void 0!==e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&i.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:i}},insertGroupHeader:function(e,t,i,n,a){var s=(n[a].fieldName,n[a].col),l=e.getCellValue(t[i],s),c=l;(void 0===l||null===l)&&(c=e.options.groupingNullLabel);for(var d=function(e){return angular.isObject(e)?JSON.stringify(e):e},h=e.grouping.oldGroupingHeaderCache,p=0;a>p;p++)h&&h[d(n[p].currentValue)]&&(h=h[d(n[p].currentValue)].children);var f;for(h&&h[d(l)]?(f=h[d(l)].row).entity={}:(f=new r({},null,e),o.rowTemplateAssigner.call(e,f)),f.entity["$$"+n[a].col.uid]={groupVal:c},f.treeLevel=a,f.groupHeader=!0,f.internalRow=!0,f.enableCellEdit=!1,f.enableSelection=e.options.enableGroupHeaderSelection,n[a].initialised=!0,n[a].currentValue=l,n[a].currentRow=f,u.finaliseProcessingState(n,a+1),t.splice(i,0,f),h=e.grouping.groupingHeaderCache,p=0;a>p;p++)h=h[d(n[p].currentValue)].children;h[d(l)]={row:f,children:{}}},finaliseProcessingState:function(e,t){for(var i=t;i<e.length;i++)e[i].initialised=!1,e[i].currentRow=null,e[i].currentValue=null},getRowExpandedStates:function(e){if(void 0===e)return{};var t={};return angular.forEach(e,function(e,i){t[i]={state:e.row.treeNode.state},e.children?t[i].children=u.getRowExpandedStates(e.children):t[i].children={}}),t},applyRowExpandedStates:function(e,t){void 0!==t&&angular.forEach(t,function(t,i){e[i]&&(e[i].row.treeNode.state=t.state,t.children&&e[i].children&&u.applyRowExpandedStates(e[i].children,t.children))})}};return u}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){!1!==r.grid.options.enableGrouping&&t.initializeGrid(r.grid,e)},post:function(e,t,i,n){}}}}}])}(),function(){var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,i,n,r,o,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var i={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(n.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,!0!==e.enableImporter||e.importerDataAddCallback||(n.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=!1!==e.importerShowMenu,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(t){var i=new FileReader;switch(t.type){case"application/json":i.onload=l.importJsonClosure(e);break;default:i.onload=l.importCsvClosure(e)}i.readAsText(t)}else n.logError("No file object provided to importThisFile, should be impossible, aborting")},importJsonClosure:function(e){return function(t){var i,n=[],r=l.parseJson(e,t);null!==r&&(r.forEach(function(t,r){i=l.newObject(e),angular.extend(i,t),i=e.options.importerObjectCallback(e,i),n.push(i)}),l.addObjects(e,n))}},parseJson:function(e,t){var i;try{i=JSON.parse(t.target.result)}catch(i){return void l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(i)?i:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var i=l.parseCsv(t);{if(i&&!(i.length<1)){var n=l.createCsvObjects(e,i);return n&&0!==n.length?void l.addObjects(e,n):void l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result)}l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result)}}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var i=e.options.importerProcessHeaders(e,t.shift());if(!i||0===i.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var n,r=[];return t.forEach(function(t,o){n=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==i[t]&&(n[i[t]]=e)}),n=e.options.importerObjectCallback(e,n),r.push(n)}),r},processHeaders:function(e,t){var i=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var n=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){n[e]?i.push(n[e]):n[e.toLowerCase()]?i.push(n[e.toLowerCase()]):i.push(null)}),i}return t.forEach(function(e,t){i.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),i},flattenColumnDefs:function(e,t){var i={};return t.forEach(function(t,n){t.name&&(i[t.name]=t.field||t.name,i[t.name.toLowerCase()]=t.field||t.name),t.field&&(i[t.field]=t.field||t.name,i[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(i[t.displayName]=t.field||t.name,i[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(i[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,i[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),i},addObjects:function(e,i,n){if(e.api.rowEdit){var r=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(i),r()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",r)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,i))},newObject:function(e){return void 0!==e.options&&void 0!==e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,i,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,i,r):(s.alert(a.getSafeText(t)),n.logError(i+r))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,r){t.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,i,n){return{replace:!0,priority:0,require:"?^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,n,r,o){var a,s=n[0].querySelectorAll(".ui-grid-importer-file-chooser");1!==s.length?i.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var r=n.files[0];void 0!==o&&o?(a=o.grid,t.importThisFile(a,r),n.form.reset()):i.logError("Could not import file because UI Grid was not found.")}},!1)}}}])}(),function(){var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$rootScope","uiGridConstants","ScrollEvent","$q",function(e,t,i,n,r,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var i={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,i){a.setScrollDirections(e,t,i);return a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1})},resetScroll:function(t,i){a.setScrollDirections(e,t,i),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,i){a.dataRemovedTop(e,t,i)},dataRemovedBottom:function(t,i){a.dataRemovedBottom(e,t,i)},setScrollDirections:function(t,i){a.setScrollDirections(e,t,i)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=!1!==e.enableInfiniteScroll,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=!0===e.infiniteScrollUp,e.infiniteScrollDown=!1!==e.infiniteScrollDown},setScrollDirections:function(e,t,i){e.infiniteScroll.scrollUp=!0===t,e.suppressParentScrollUp=!0===t,e.infiniteScroll.scrollDown=!1!==i,e.suppressParentScrollDown=!1!==i},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=n.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=n.scrollDirection.DOWN,a.loadData(e.grid);else{var t,i=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===n.scrollDirection.UP?i>=(t=e.y.percentage)&&a.loadData(e.grid):e.grid.scrollDirection===n.scrollDirection.DOWN&&(t=1-e.y.percentage,i>=t&&a.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===n.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===n.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return i.$applyAsync(function(){var r,o,s,l,u;r=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0);var c=o*(s=e.getVisibleRowCount());e.infiniteScroll.scrollDown&&r>c&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===n.scrollDirection.UP&&(l=e.infiniteScroll.prevScrollTop||0,u=l+(s-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,u),i.$applyAsync(function(){t.resolve()})),e.infiniteScroll.direction===n.scrollDirection.DOWN&&(u=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-r,a.adjustInfiniteScrollPosition(e,u),i.$applyAsync(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var i=new r(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),n=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=n*e.options.rowHeight-o;0===t&&e.infiniteScroll.scrollUp?i.y={percentage:1/a}:i.y={percentage:t/a},e.scrollContainers("",i)},dataRemovedTop:function(e,t,i){var n,r,o,s;a.setScrollDirections(e,t,i),n=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrollTop,s=e.options.rowHeight,o=r-(e.infiniteScroll.previousVisibleRows-n)*s,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,i){var n;a.setScrollDirections(e,t,i),n=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,n)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,i,n){return{pre:function(t,i,n,r){e.initializeGrid(r.grid,t)},post:function(e,t,i){}}}}}])}(),function(){var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$rootScope","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,i,n,r,o){var a={initializeGrid:function(e){this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(this.movableColumnBuilder),e.registerDataChangeCallback(this.verifyColumnOrder,[r.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,i={events:{colMovable:{columnPositionChanged:function(e,t,i){}}},methods:{colMovable:{moveColumn:function(i,n){var r=e.columns;if(angular.isNumber(i)&&angular.isNumber(n)){for(var a=0,s=0;s<r.length;s++)(angular.isDefined(r[s].colDef.visible)&&!1===r[s].colDef.visible||!0===r[s].isRowHeader)&&a++;if(i>=r.length-a||n>=r.length-a)o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");else{var l=function(e){for(var t=e,i=0;t>=i;i++)angular.isDefined(r[i])&&(angular.isDefined(r[i].colDef.visible)&&!1===r[i].colDef.visible||!0===r[i].isRowHeader)&&t++;return t};t.redrawColumnAtPosition(e,l(i),l(n))}}else o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition")}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableColumnMoving=!1!==e.enableColumnMoving},movableColumnBuilder:function(t,i,n){return t.enableColumnMoving=void 0===t.enableColumnMoving?n.enableColumnMoving:t.enableColumnMoving,e.all([])},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,i=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(n,r){if(-1!==(t=e.columns.indexOf(n))&&t-i!==r){var o=e.columns.splice(t,1)[0];e.columns.splice(r+i,0,o)}})},redrawColumnAtPosition:function(e,i,n){var o=e.columns;if(i!==n){for(var s=n>i?i+1:i-1,l=Math.min(s,n);l<=Math.max(s,n)&&!o[l].visible;l++);if(!(l>Math.max(s,n))){var u=o[i];if(u.colDef.enableColumnMoving){if(i>n)for(var c=i;c>n;c--)o[c]=o[c-1];else if(n>i)for(var d=i;n>d;d++)o[d]=o[d+1];o[n]=u,a.updateColumnCache(e),e.queueGridRefresh(),t.$applyAsync(function(){e.api.core.notifyDataChange(r.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(u.colDef,i,n)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,i,n,r){e.initializeGrid(r.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,i,n,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,r,o){if(e.col.colDef.enableColumnMoving){var s,l,u,c,d,h,p=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),f=!1,g=!1,m=function(t){s=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(s+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=t.pageX||(t.originalEvent?t.originalEvent.pageX:0),u=0,c=s+e.grid.getViewportWidth(),"mousedown"===t.type?(n.on("mousemove",v),n.on("mouseup",y)):"touchstart"===t.type&&(n.on("touchmove",v),n.on("touchend",y))},v=function(e){var t=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),i=t-l;0!==i&&(document.onselectstart=function(){return!1},g=!0,f?f&&(_(i),l=t):x())},y=function(t){if(document.onselectstart=null,d&&(d.remove(),f=!1),w(),b(),g){for(var n=e.grid.columns,r=0,o=0;o<n.length&&n[o].colDef.name!==e.col.colDef.name;o++)r++;var a;if(0>u){var s,l=0;if(e.grid.isRTL()){for(s=r+1;s<n.length;s++)if((angular.isUndefined(n[s].colDef.visible)||!0===n[s].colDef.visible)&&(l+=n[s].drawnWidth||n[s].width||n[s].colDef.width,l>Math.abs(u))){i.redrawColumnAtPosition(e.grid,r,s-1);break}}else for(s=r-1;s>=0;s--)if((angular.isUndefined(n[s].colDef.visible)||!0===n[s].colDef.visible)&&(l+=n[s].drawnWidth||n[s].width||n[s].colDef.width,l>Math.abs(u))){i.redrawColumnAtPosition(e.grid,r,s+1);break}l<Math.abs(u)&&(a=0,e.grid.isRTL()&&(a=n.length-1),i.redrawColumnAtPosition(e.grid,r,a))}else if(u>0){var c,h=0;if(e.grid.isRTL()){for(c=r-1;c>0;c--)if((angular.isUndefined(n[c].colDef.visible)||!0===n[c].colDef.visible)&&(h+=n[c].drawnWidth||n[c].width||n[c].colDef.width,h>u)){i.redrawColumnAtPosition(e.grid,r,c);break}}else for(c=r+1;c<n.length;c++)if((angular.isUndefined(n[c].colDef.visible)||!0===n[c].colDef.visible)&&(h+=n[c].drawnWidth||n[c].width||n[c].colDef.width,h>u)){i.redrawColumnAtPosition(e.grid,r,c-1);break}u>h&&(a=n.length-1,e.grid.isRTL()&&(a=0),i.redrawColumnAtPosition(e.grid,r,a))}}},b=function(){p.on("touchstart",m),p.on("mousedown",m)},w=function(){p.off("touchstart",m),p.off("mousedown",m),n.off("mousemove",v),n.off("touchmove",v),n.off("mouseup",y),n.off("touchend",y)};b();var x=function(){f=!0,d=t.clone(),t.parent().append(d),d.addClass("movingColumn");var i={};i.left=t[0].offsetLeft+"px";var n=e.grid.element[0].getBoundingClientRect().right,r=t[0].getBoundingClientRect().right;r>n&&(h=e.col.drawnWidth+(n-r),i.width=h+"px"),d.css(i)},_=function(t){for(var i=e.grid.columns,n=0,r=0;r<i.length;r++)(angular.isUndefined(i[r].colDef.visible)||!0===i[r].colDef.visible)&&(n+=i[r].drawnWidth||i[r].width||i[r].colDef.width);var l,p=d[0].getBoundingClientRect().left-1,f=d[0].getBoundingClientRect().right;if(l=c>(l=p-s+t)?l:c,(p>=s||t>0)&&(c>=f||0>t))d.css({visibility:"visible",left:d[0].offsetLeft+(c>l?t:c-p)+"px"});else if(n>Math.ceil(o.grid.gridWidth)){t*=8;var g=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");g.x={pixels:t},g.grid.scrollContainers("",g)}for(var m=0,v=0;v<i.length;v++)if(angular.isUndefined(i[v].colDef.visible)||!0===i[v].colDef.visible){if(i[v].colDef.name===e.col.colDef.name)break;m+=i[v].drawnWidth||i[v].width||i[v].colDef.width}void 0===e.newScrollLeft?u+=t:u=e.newScrollLeft+l-m,h<e.col.drawnWidth&&(h+=Math.abs(t),d.css({width:h+"px"}))};e.$on("$destroy",w)}}}}}}])}(),function(){var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var i={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getFirstRowIndex:function(){return e.options.useCustomPagination?e.options.paginationPageSizes.reduce(function(t,i,n){return n<e.options.paginationCurrentPage-1?t+i:t},0):(e.options.paginationCurrentPage-1)*e.options.paginationPageSize},getLastRowIndex:function(){return e.options.useCustomPagination?i.methods.pagination.getFirstRowIndex()+e.options.paginationPageSizes[e.options.paginationCurrentPage-1]-1:Math.min(e.options.paginationCurrentPage*e.options.paginationPageSize,e.options.totalItems)-1},getTotalPages:function(){return e.options.enablePagination?e.options.useCustomPagination?e.options.paginationPageSizes.length:0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,i.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,i.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods);e.registerRowsProcessor(function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var n=parseInt(e.options.paginationPageSize,10),r=parseInt(e.options.paginationCurrentPage,10),o=t.filter(function(e){return e.visible});e.options.totalItems=o.length;var a=i.methods.pagination.getFirstRowIndex(),s=i.methods.pagination.getLastRowIndex();return a>o.length&&(r=e.options.paginationCurrentPage=1,a=(r-1)*n),o.slice(a,s+1)},900)},defaultGridOptions:function(t){t.enablePagination=!1!==t.enablePagination,t.enablePaginationControls=!1!==t.enablePaginationControls,t.useExternalPagination=!0===t.useExternalPagination,t.useCustomPagination=!0===t.useCustomPagination,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,i){e.api.pagination.raise.paginationChanged(t,i),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(i,n,r,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);n.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService","i18nConstants",function(e,t,i,n,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(o,a,s,l){o.aria=n.getSafeText("pagination.aria");var u=function(){o.paginationApi=l.grid.api.pagination,o.sizesLabel=n.getSafeText("pagination.sizes"),o.totalItemsLabel=n.getSafeText("pagination.totalItems"),o.paginationOf=n.getSafeText("pagination.of"),o.paginationThrough=n.getSafeText("pagination.through")};u(),o.$on(r.UPDATE_EVENT,u);var c=l.grid.options;l.grid.renderContainers.body.registerViewportAdjuster(function(e){return c.enablePaginationControls&&(e.height=e.height-i.elementHeight(a,"padding")),e});var d=l.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);o.$on("$destroy",d);var h=o.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,i){return t!==i&&void 0!==i?!angular.isNumber(c.paginationCurrentPage)||c.paginationCurrentPage<1?void(c.paginationCurrentPage=1):c.totalItems>0&&c.paginationCurrentPage>o.paginationApi.getTotalPages()?void(c.paginationCurrentPage=o.paginationApi.getTotalPages()):void e.onPaginationChanged(o.grid,c.paginationCurrentPage,c.paginationPageSize):void 0});o.$on("$destroy",function(){h()}),o.cantPageForward=function(){return o.paginationApi.getTotalPages()?o.cantPageToLast():c.data.length<1},o.cantPageToLast=function(){var e=o.paginationApi.getTotalPages();return!e||c.paginationCurrentPage>=e},o.cantPageBackward=function(){return c.paginationCurrentPage<=1};var p=function(e){e&&i.focus.bySelector(a,".ui-grid-pager-control-input")};o.pageFirstPageClick=function(){o.paginationApi.seek(1),p(o.cantPageBackward())},o.pagePreviousPageClick=function(){o.paginationApi.previousPage(),p(o.cantPageBackward())},o.pageNextPageClick=function(){o.paginationApi.nextPage(),p(o.cantPageForward())},o.pageLastPageClick=function(){o.paginationApi.seek(o.paginationApi.getTotalPages()),p(o.cantPageToLast())}}}}])}(),function(){var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,i,n){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,i){r.pinColumn(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=!1!==e.enablePinning,e.hidePinLeft=e.enablePinning&&e.hidePinLeft,e.hidePinRight=e.enablePinning&&e.hidePinRight},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.hidePinLeft=void 0===t.hidePinLeft?a.hidePinLeft:t.hidePinLeft,t.hidePinRight=void 0===t.hidePinRight?a.hidePinRight:t.hidePinRight,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:i.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,n.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:i.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return void 0===this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,n.container.RIGHT)}},u={name:"ui.grid.pinning.unpin",title:i.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return void 0!==this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,n.container.NONE)}};t.hidePinLeft||e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),t.hidePinRight||e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(u)}},pinColumn:function(e,t,i){i===n.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=i,i===n.container.LEFT?e.createLeftContainer():i===n.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,i)})}};return r}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.initializeGrid(r.grid)},post:function(e,t,i,n){}}}}}])}(),function(){var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$rootScope",function(e,t,i){return{defaultGridOptions:function(e){e.enableColumnResizing=!1!==e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,i,n){return e.enableColumnResizing=void 0===e.enableColumnResizing?n.enableColumnResizing:e.enableColumnResizing,!1===e.enableColumnResize&&(e.enableColumnResizing=!1),t.all([])},registerPublicApi:function(e){e.api.registerEventsFromObject({colResizable:{columnSizeChanged:function(e,t){}}})},fireColumnSizeChanged:function(t,n,r){i.$applyAsync(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(n,r):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,i){var n=e.getRenderContainer();if("left"===t){var r=n.visibleColumnCache.indexOf(e);return n.visibleColumnCache[r-1*i]}return e}}}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(r.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants",function(e,t,i,n,r,o){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,n,a,s){var l=s.grid;if(l.options.enableColumnResizing){var u=t.get("ui-grid/columnResizer"),c=1;l.isRTL()&&(e.position="left",c=-1);var d=function(){for(var t=n[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=r.findTargetCol(e.col,"left",c),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&!1!==a.colDef.enableColumnResizing){var l=angular.element(u).clone();l.attr("position","left"),n.prepend(l),i(l)(e)}if(!1!==e.col.colDef.enableColumnResizing){var d=angular.element(u).clone();d.attr("position","right"),n.append(d),i(d)(e)}};d();var h=l.registerDataChangeCallback(function(){e.$applyAsync(d)},[o.dataChange.COLUMN]);e.$on("$destroy",h)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,i,n){var r=angular.element('<div class="ui-grid-resize-overlay"></div>');return{priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,l){function u(e){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})}function c(e,t){var i=t;return e.minWidth&&i<e.minWidth?i=e.minWidth:e.maxWidth&&i>e.maxWidth&&(i=e.maxWidth),i}function d(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),0>(f=(e.targetTouches?e.targetTouches[0]:e).clientX-g)?f=0:f>l.grid.gridWidth&&(f=l.grid.gridWidth);var a=n.findTargetCol(o.col,o.position,m);if(!1!==a.colDef.enableColumnResizing){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=f-p,u=parseInt(a.drawnWidth+s*m,10);f+=(c(a,u)-u)*m,r.css({left:f+"px"}),l.fireEvent(i.events.ITEM_DRAGGING)}}function h(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),r.remove();var i=(f=(e.changedTouches?e.changedTouches[0]:e).clientX-g)-p;if(0===i)return b(),void y();var a=n.findTargetCol(o.col,o.position,m);if(!1!==a.colDef.enableColumnResizing){var s=parseInt(a.drawnWidth+i*m,10);a.width=c(a,s),a.hasCustomWidth=!0,u(),n.fireColumnSizeChanged(l.grid,a.colDef,i),b(),y()}}var p=0,f=0,g=0,m=1;l.grid.isRTL()&&(o.position="left",m=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var v=function(t,i){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),g=l.grid.element[0].getBoundingClientRect().left,p=(t.targetTouches?t.targetTouches[0]:t).clientX-g,l.grid.element.append(r),r.css({left:p}),"touchstart"===t.type?(e.on("touchend",h),e.on("touchmove",d),a.off("mousedown",v)):(e.on("mouseup",h),e.on("mousemove",d),a.off("touchstart",v))},y=function(){a.on("mousedown",v),a.on("touchstart",v)},b=function(){e.off("mouseup",h),e.off("touchend",h),e.off("mousemove",d),e.off("touchmove",d),a.off("mousedown",v),a.off("touchstart",v)};y();var w=function(e,r){e.stopPropagation();var s=n.findTargetCol(o.col,o.position,m);if(!1!==s.colDef.enableColumnResizing){var d=0,h=0,p=t.closestElm(a,".ui-grid-render-container").querySelectorAll("."+i.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(p,function(e){var i;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(i=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var n=angular.element(e);n.attr("style","float: left");var r=t.elementWidth(n);if(i){r+=t.elementWidth(i)}r>d&&(d=r)})});var f=c(s,d);h=f-s.drawnWidth,s.width=f,s.hasCustomWidth=!0,u(),n.fireColumnSizeChanged(l.grid,s.colDef,h)}};a.on("dblclick",w),a.on("$destroy",function(){a.off("dblclick",w),b()})}}}])}(),function(){var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,i,n,r){var o={initializeGrid:function(e,t){t.rowEdit={};var i={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,i){o.setSavePromise(t,e,i)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.api.core.on.renderingComplete(e,function(i){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var i=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var n=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(i.processSuccessPromise(e,t),i.processErrorPromise(e,t)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),n}},setSavePromise:function(e,t,i){e.getRow(t).rowEditSavePromise=i},processSuccessPromise:function(e,t){var i=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,i.removeRow(e.rowEdit.errorRows,t),i.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){void 0!==e&&null!==e&&e.forEach(function(i,n){i.uid===t.uid&&e.splice(n,1)})},isRowPresent:function(e,t){var i=!1;return e.forEach(function(e,n){e.uid===t.uid&&(i=!0)}),i},flushDirtyRows:function(e){var i=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.cancelTimer(e,t),o.saveRow(e,t)(),i.push(t.rowEditSavePromise)}),t.all(i)},endEditCell:function(e,t,i,n){var a=this.grid,s=a.getRow(e);return s?void((i!==n||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s))):void r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var i=this.grid,n=i.getRow(e);return n?void o.cancelTimer(i,n):void r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var i=this.grid,n=i.getRow(e);return n?void o.considerSetTimer(i,n):void r.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var i=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(i,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(i,t.row)},considerSetTimer:function(t,i){if(o.cancelTimer(t,i),i.isDirty&&!i.isSaving&&-1!==t.options.rowEditWaitInterval){var n=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;i.rowEditSaveTimer=e(o.saveRow(t,i),n,1)}},cancelTimer:function(t,i){i.rowEditSaveTimer&&!i.isSaving&&(e.cancel(i.rowEditSaveTimer),delete i.rowEditSaveTimer)},setRowsDirty:function(e,t){var i;t.forEach(function(t,n){(i=e.getRow(t))?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),i.isDirty||(i.isDirty=!0,e.rowEdit.dirtyRows.push(i)),delete i.isError,o.considerSetTimer(e,i)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var i;t.forEach(function(t,n){(i=e.getRow(t))?(delete i.isDirty,o.removeRow(e.rowEdit.dirtyRows,i),o.cancelTimer(e,i),delete i.isError,o.removeRow(e.rowEdit.errorRows,i)):r.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.initializeGrid(e,r.grid)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,i,n){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),n=i.attr("ng-class"),r="";return r=n?n.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",i.attr("ng-class",r),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}])}(),function(){var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,i,n,r,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,i){return a.restore(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=!1!==e.saveWidths,e.saveOrder=!1!==e.saveOrder,e.saveScroll=!0===e.saveScroll,e.saveFocus=!0!==e.saveScroll&&!1!==e.saveFocus,e.saveVisible=!1!==e.saveVisible,e.saveSort=!1!==e.saveSort,e.saveFilter=!1!==e.saveFilter,e.saveSelection=!1!==e.saveSelection,e.saveGrouping=!1!==e.saveGrouping,e.saveGroupingExpandedStates=!0===e.saveGroupingExpandedStates,e.savePinning=!1!==e.savePinning,e.saveTreeView=!1!==e.saveTreeView},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t.pagination=a.savePagination(e),t},restore:function(e,t,i){return i.columns&&a.restoreColumns(e,i.columns),i.scrollFocus&&a.restoreScrollFocus(e,t,i.scrollFocus),i.selection&&a.restoreSelection(e,i.selection),i.grouping&&a.restoreGrouping(e,i.grouping),i.treeView&&a.restoreTreeView(e,i.treeView),i.pagination&&a.restorePagination(e,i.pagination),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(i){var n={};n.name=i.name,e.options.saveVisible&&(n.visible=i.visible),e.options.saveWidths&&(n.width=i.width),e.options.saveSort&&(n.sort=angular.copy(i.sort)),e.options.saveFilter&&(n.filters=[],i.filters.forEach(function(e){var t={};angular.forEach(e,function(e,i){"condition"!==i&&"$$hashKey"!==i&&"placeholder"!==i&&(t[i]=e)}),n.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(n.pinned=i.renderContainer?i.renderContainer:""),t.push(n)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var i=e.api.cellNav.getFocusedCell();null!==i&&(null!==i.col&&(t.colName=i.col.colDef.name),null!==i.row&&(t.rowVal=a.getRowVal(e,i.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){if(!e.api.selection||!e.options.saveSelection)return[];return e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)})},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var i={};return e.options.saveRowIdentity?(i.identity=!0,i.row=e.options.saveRowIdentity(t.entity)):(i.identity=!1,i.row=e.renderContainers.body.visibleRowCache.indexOf(t)),i},restoreColumns:function(e,t){var i=!1;t.forEach(function(t,n){var r=e.getColumn(t.name);if(r&&!e.isRowHeaderColumn(r)){!e.options.saveVisible||r.visible===t.visible&&r.colDef.visible===t.visible||(r.visible=t.visible,r.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(r)),e.options.saveWidths&&r.width!==t.width&&(r.width=t.width,r.hasCustomWidth=!0),!e.options.saveSort||angular.equals(r.sort,t.sort)||void 0===r.sort&&angular.isEmpty(t.sort)||(r.sort=angular.copy(t.sort),i=!0),e.options.saveFilter&&!angular.equals(r.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(r.filters[t],e),(void 0===e.term||null===e.term)&&delete r.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&r.renderContainer!==t.pinned&&e.api.pinning.pinColumn(r,t.pinned);var o=e.getOnlyDataColumns().indexOf(r);if(-1!==o&&e.options.saveOrder&&o!==n){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(n+e.rowHeaderColumns.length,0,a)}}}),i&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,i){if(e.api.cellNav){var n,r;if(i.colName){var o=e.options.columnDefs.filter(function(e){return e.name===i.colName});o.length>0&&(n=o[0])}i.rowVal&&i.rowVal.row&&(r=i.rowVal.identity?a.findRowByIdentity(e,i.rowVal):e.renderContainers.body.visibleRowCache[i.rowVal.row]);var s=r&&r.entity?r.entity:null;(n||s)&&(i.focus?e.api.cellNav.scrollToFocus(s,n):e.scrollTo(s,n))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var i=a.findRowByIdentity(e,t);i&&e.api.selection.selectRow(i.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&void 0!==t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var i=e.rows.filter(function(i){return e.options.saveRowIdentity(i.entity)===t.row});return i.length>0?i[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,r){t.initializeGrid(r.grid)}}}])}(),function(){var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){e!==this.isSelected&&(this.isSelected=e,this.grid.selection.selectedCount+=e?1:-1)},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,i,n){function r(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];t.push(n.row),t=t.concat(r(n.children))}return t}var o={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,o.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,i){},rowSelectionChangedBatch:function(e,t,i){}}},methods:{selection:{toggleRowSelection:function(t,i){var n=e.getRow(t);null!==n&&o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,i){var n=e.getRow(t);null===n||n.isSelected||o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,i){var n=e.renderContainers.body.visibleRowCache[t];null===n||void 0===n||n.isSelected||o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,i){var n=e.getRow(t);null!==n&&n.isSelected&&o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},unSelectRowByVisibleIndex:function(t,i){var n=e.renderContainers.body.visibleRowCache[t];null!==n&&void 0!==n&&n.isSelected&&o.toggleRowSelection(e,n,i,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(!1!==e.options.multiSelect){var i=[];e.rows.forEach(function(n){n.isSelected||!1===n.enableSelection||(n.setSelected(!0),o.decideRaiseSelectionEvent(e,n,i,t))}),o.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(!1!==e.options.multiSelect){var i=[],n=[];n=e.treeBase&&e.treeBase.tree?r(e.treeBase.tree):e.rows;for(var a=0;a<n.length;a++){var s=n[a];s.visible?s.isSelected||!1===s.enableSelection||(s.setSelected(!0),o.decideRaiseSelectionEvent(e,s,i,t)):s.isSelected&&(s.setSelected(!1),o.decideRaiseSelectionEvent(e,s,i,t))}o.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){o.clearSelectedRows(e,t)},getSelectedRows:function(){return o.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return o.getSelectedRows(e)},getSelectedCount:function(){return e.selection.selectedCount},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=!1!==e.enableRowSelection,e.multiSelect=!1!==e.multiSelect,e.noUnselect=!0===e.noUnselect,e.modifierKeysToMultiSelect=!0===e.modifierKeysToMultiSelect,e.enableRowHeaderSelection=!1!==e.enableRowHeaderSelection,void 0===e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=!1!==e.enableSelectAll,e.enableSelectionBatchEvent=!1!==e.enableSelectionBatchEvent,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=!1!==e.enableFooterTotalSelected,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,i,n,r){var a=t.isSelected;if(!1!==t.enableSelection||a){var s;n||a?!n&&a&&(s=o.getSelectedRows(e),s.length>1&&(a=!1,o.clearSelectedRows(e,i))):o.clearSelectedRows(e,i),a&&r||(t.setSelected(!a),!0===t.isSelected&&(e.selection.lastSelectedRow=t),s=o.getSelectedRows(e),e.selection.selectAll=e.rows.length===s.length,e.api.selection.raise.rowSelectionChanged(t,i),function(e,t,i,n,r){if(t.treeNode&&t.treeNode.parentRow){for(var a=t.treeNode.parentRow,s=[],l=0;l<a.treeNode.children.length;l++)s.push(a.treeNode.children[l].row.isSelected);var u=-1===s.indexOf(!1);a.isSelected!==u&&o.toggleRowSelection(e,a,i,n,r)}}(e,t,i,n,r))}},shiftSelect:function(e,t,i,n){if(n){var r=o.getSelectedRows(e).length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,a=e.renderContainers.body.visibleRowCache.indexOf(t);if(r>a){var s=r;r=a,a=s}for(var l=[],u=r;a>=u;u++){var c=e.renderContainers.body.visibleRowCache[u];c&&(c.isSelected||!1===c.enableSelection||(c.setSelected(!0),e.selection.lastSelectedRow=c,o.decideRaiseSelectionEvent(e,c,l,i)))}o.decideRaiseSelectionBatchEvent(e,l,i)}},getSelectedRows:function(e){var t;t=e.treeBase&&e.treeBase.tree?r(e.treeBase.tree):e.rows;for(var i=[],n=0;n<t.length;n++)t[n].isSelected&&i.push(t[n]);return i},clearSelectedRows:function(e,t){var i=[];o.getSelectedRows(e).forEach(function(n){n.isSelected&&(n.setSelected(!1),o.decideRaiseSelectionEvent(e,n,i,t))}),o.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,i,n){e.options.enableSelectionBatchEvent?i.push(t):e.api.selection.raise.rowSelectionChanged(t,n)},decideRaiseSelectionBatchEvent:function(e,t,i){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,i)}};return o}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,r,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s,0)}var l=!1,u=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},c=function(){a.grid.options.isRowSelectable!==angular.noop&&!0!==l&&(a.grid.registerRowsProcessor(u,500),l=!0)};c();var d=a.grid.registerDataChangeCallback(c,[n.dataChange.OPTIONS]);i.$on("$destroy",d)},post:function(e,t,i,n){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,i){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,r,o){function a(e,t){if(t.stopPropagation(),e.groupHeader){s(e,t);for(var i=e.isSelected,n=0;n<e.treeNode.children.length;n++)e.treeNode.children[n].row.isSelected!==i&&a(e.treeNode.children[n].row,t)}else s(e,t)}function s(e,i){i.shiftKey?t.shiftSelect(l,e,i,l.options.multiSelect):i.ctrlKey||i.metaKey?t.toggleRowSelection(l,e,i,l.options.multiSelect,l.options.noUnselect):t.toggleRowSelection(l,e,i,l.options.multiSelect&&!l.options.modifierKeysToMultiSelect,l.options.noUnselect)}var l=o.grid;e.selectButtonClick=a,e.selectButtonKeyDown=function(e,t){32===t.keyCode&&(t.preventDefault(),a(e,t))},"ie"===i.detectBrowser()&&n.on("mousedown",function(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}),e.$on("$destroy",function(){n.off()})}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,i,n,r){var o=e.col.grid;e.headerButtonKeyDown=function(t){(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),e.headerButtonClick(t))},e.headerButtonClick=function(e){o.selection.selectAll?(t.clearSelectedRows(o,e),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,e),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(e),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,i,n,r,o){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e[0].querySelector(".ui-grid-canvas:not(.ui-grid-empty-base-layer-container)").children[0]),n=i.attr("ng-class"),r="";return r=n?n.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",i.attr("ng-class",r),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,i,n,r,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,i,n,r){function s(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(i.addClass("ui-grid-disable-selection"),i.on("touchstart",c),i.on("touchend",d),i.on("click",u),e.registered=!0)}var l=0;r.grid.api.cellNav&&r.grid.api.cellNav.on.viewPortKeyDown(e,function(t,i){null!==i&&i.row===e.row&&i.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(t.preventDefault(),o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var u=function(t){"ui-grid-icon-minus-squared"!==t.target.className&&"ui-grid-icon-plus-squared"!==t.target.className&&(i.off("touchend",d),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){i.on("touchend",d)},300))},c=function(e){l=(new Date).getTime(),i.off("click",u)},d=function(e){300>(new Date).getTime()-l&&u(e),a(function(){i.on("click",u)},300)};s();var h=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?s():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||e.registered&&(i.removeClass("ui-grid-disable-selection"),i.off("touchstart",c),i.off("touchend",d),i.off("click",u),e.registered=!1)},[t.dataChange.OPTIONS]);i.on("$destroy",h)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,i){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,n){return{pre:function(t,n,r,o){o.grid.options.showGridFooter&&i.getTemplate("ui-grid/gridFooterSelectedItems").then(function(i){var r=angular.element(i),o=e(r)(t);angular.element(n[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,i,n){}}}}}])}(),function(){var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,i,n,r,o,a,s){var l={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var i={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t,i){l.expandRow(e,t,i)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=!1!==e.showTreeRowHeader,e.showTreeExpandNoChildren=!1!==e.showTreeExpandNoChildren,e.treeRowHeaderAlwaysVisible=!1!==e.treeRowHeaderAlwaysVisible,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=!1!==e.enableExpandAll},treeBaseColumnBuilder:function(e,t,i){void 0!==e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),void 0!==e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},void 0!==i.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=i.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=i.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=i.treeCustomAggregations[e.treeAggregationType].label):void 0!==l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),void 0!==e.treeAggregationLabel&&(void 0===t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=!1!==e.treeAggregationUpdateEntity,void 0===t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var i={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};i.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(i,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(i){l.setAllNodes(e,i,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(i){l.setAllNodes(e,i,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,i,n){void 0!==i.state&&i.state!==n&&(i.state=n,n===t.EXPANDED?e.api.treeBase.raise.rowExpanded(i.row):e.api.treeBase.raise.rowCollapsed(i.row)),i.children&&i.children.forEach(function(t){l.setAllNodes(e,t,n)})},toggleRowTreeState:function(e,i){void 0===i.treeLevel||null===i.treeLevel||i.treeLevel<0||(i.treeNode.state===t.EXPANDED?l.collapseRow(e,i):l.expandRow(e,i,!1),e.queueGridRefresh())},expandRow:function(e,i,n){if(n){for(var r=[];i&&void 0!==i.treeLevel&&null!==i.treeLevel&&i.treeLevel>=0&&i.treeNode.state!==t.EXPANDED;)r.push(i),i=i.treeNode.parentRow;if(r.length>0){for(i=r.pop();i;)i.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(i),i=r.pop();e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh()}}else{if(void 0===i.treeLevel||null===i.treeLevel||i.treeLevel<0)return;i.treeNode.state!==t.EXPANDED&&(i.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(i),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())}},expandRowChildren:function(e,i){void 0===i.treeLevel||null===i.treeLevel||i.treeLevel<0||(l.setAllNodes(e,i.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,i){void 0===i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.COLLAPSED&&(i.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(i),e.queueGridRefresh())},collapseRowChildren:function(e,i){void 0===i.treeLevel||null===i.treeLevel||i.treeLevel<0||(l.setAllNodes(e,i.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var i=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(i=!1)}),i}return!0},treeRows:function(e){if(0===e.length)return e;return t.EXPANDED,this.treeBase.tree=l.createTree(this,e),l.updateRowHeaderWidth(this),l.sortTree(this),l.fixFilter(this),l.renderTree(this.treeBase.tree)},updateRowHeaderWidth:function(e){var i=e.getColumn(t.rowHeaderColName),n=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);i&&n!==i.width&&(i.width=n,e.queueRefresh());var r=!0;!1===e.options.showTreeRowHeader&&(r=!1),!1===e.options.treeRowHeaderAlwaysVisible&&e.treeBase.numberLevels<=0&&(r=!1),i&&i.visible!==r&&(i.visible=r,i.colDef.visible=r,e.queueGridRefresh())},renderTree:function(e){var i=[];return e.forEach(function(e){e.row.visible&&i.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(i=i.concat(l.renderTree(e.children)))}),i},createTree:function(e,i){var n=-1,r=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var o=l.getAggregations(e);for(i.forEach(function(i){if(void 0!==i.entity.$$treeLevel&&i.treeLevel!==i.entity.$$treeLevel&&(i.treeLevel=i.entity.$$treeLevel),i.treeLevel<=n){for(;i.treeLevel<=n;){var a=r.pop();l.finaliseAggregations(a),n--}r.length>0?l.setCurrentState(r):t.EXPANDED}(void 0===i.treeLevel||null===i.treeLevel||i.treeLevel<0)&&i.visible&&l.aggregate(e,i,r),l.addOrUseNode(e,i,r,o),void 0!==i.treeLevel&&null!==i.treeLevel&&i.treeLevel>=0&&(r.push(i),n++,l.setCurrentState(r)),e.treeBase.numberLevels<i.treeLevel+1&&(e.treeBase.numberLevels=i.treeLevel+1)});r.length>0;){var a=r.pop();l.finaliseAggregations(a)}return e.treeBase.tree},addOrUseNode:function(e,i,n,r){var o=[];r.forEach(function(e){o.push(l.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:i,parentRow:null,aggregations:o,children:[]};i.treeNode&&(a.state=i.treeNode.state),n.length>0&&(a.parentRow=n[n.length-1]),i.treeNode=a,0===n.length?e.treeBase.tree.push(a):n[n.length-1].treeNode.children.push(a)},setCurrentState:function(e){var i=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(i=t.COLLAPSED)}),i},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,i){var n=i.map(function(e){return e.row}),r=(n=s.sort(e,n,e.columns)).map(function(e){return e.treeNode});return r.forEach(function(i){i.state===t.EXPANDED&&i.children&&i.children.length>0&&(i.children=l.sortInternal(e,i.children))}),r},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(i){void 0!==i.treeAggregationFn&&(t.push(l.buildAggregationObject(i)),e.options.showColumnFooter&&void 0===i.colDef.aggregationType&&i.treeAggregation&&(i.treeFooterAggregation=l.buildAggregationObject(i),i.aggregationType=l.treeFooterAggregationType))}),t},aggregate:function(e,t,i){0===i.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(i){if(void 0!==i.col.treeFooterAggregation){var n=e.getCellValue(t,i.col),r=Number(n);i.col.treeAggregationFn(i.col.treeFooterAggregation,n,r,t)}}),i.forEach(function(i,n){i.treeNode.aggregations&&i.treeNode.aggregations.forEach(function(i){var r=e.getCellValue(t,i.col),o=Number(r);i.col.treeAggregationFn(i,r,o,t),0===n&&void 0!==i.col.treeFooterAggregation&&i.col.treeAggregationFn(i.col.treeFooterAggregation,r,o,t)})})},nativeAggregations:function(){return{count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,i){void 0===e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,i){isNaN(i)||(void 0===e.value?e.value=i:e.value+=i)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,i){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,i){void 0===e.value?e.value=t:void 0!==t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,i){void 0===e.count?e.count=1:e.count++,isNaN(i)||(void 0===e.value||void 0===e.sum?(e.value=i,e.sum=i):(e.sum+=i,e.value=e.sum/e.count))}}}},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&void 0!==e&&void 0!==e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),void 0===t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&void 0!==e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(l.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var i={};angular.forEach(t,function(e,n){t.hasOwnProperty(n)&&"col"!==n&&(i[n]=e)}),e.entity["$$"+t.col.uid]=i}})},treeFooterAggregationType:function(e,t){return l.finaliseAggregation(void 0,t.treeFooterAggregation),void 0===t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,n,r){var o=r.grid;e.treeButtonClick=function(e,i){t.toggleRowTreeState(o,e,i)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,i,n,r){var o=e.col.grid;e.headerButtonClick=function(e,i){o.treeBase.expandAll?t.collapseAllRows(o,i):t.expandAllRows(o,i)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,i,n){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),n=i.attr("ng-class"),r="";return r=n?n.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",i.attr("ng-class",r),{pre:function(e,t,i,n){},post:function(e,t,i,n){}}}}}])}(),function(){var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,i,n,r,o,a,s,l){var u={initializeGrid:function(e,t){n.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(u.adjustSorting,60);var i={treeView:{}},r={treeView:{}};e.api.registerEventsFromObject(i),e.api.registerMethodsFromObject(r)},defaultGridOptions:function(e){e.enableTreeView=!1!==e.enableTreeView},adjustSorting:function(e){return this.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return u}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){!1!==r.grid.options.enableTreeView&&t.initializeGrid(r.grid,e)},post:function(e,t,i,n){}}}}}])}(),function(){var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,i,n,r){var o={validatorFactories:{},setExternalFactoryFunction:function(e){o.externalFactoryFunction=e},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,i){o.validatorFactories[e]={validatorFactory:t,messageFunction:i}},getValidator:function(e,t){if(o.externalFactoryFunction){var i=o.getValidatorFromExternalFactory(e,t);if(i)return i}if(!o.validatorFactories[e])throw"Invalid validator name: "+e;return o.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(o.externalFactoryFunction){var i=o.getMessageFromExternalFactory(e,t);if(i)return i}return o.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,i){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][i]=!0},clearError:function(e,t,i){e["$$errors"+t.name]&&i in e["$$errors"+t.name]&&delete e["$$errors"+t.name][i]},getErrorMessages:function(e,t){var i=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){i.push(o.getMessage(e,t.validators[e]))}),i):i},getFormattedErrors:function(t,i){var r="",a=o.getErrorMessages(t,i);return a.length?(a.forEach(function(e){r+=e+"<br/>"}),e.trustAsHtml("<p><b>"+n.getSafeText("validate.error")+"</b></p>"+r)):void 0},getTitleFormattedErrors:function(t,i){var r="",a=o.getErrorMessages(t,i);return a.length?(a.forEach(function(e){r+=e+"\n"}),e.trustAsHtml(n.getSafeText("validate.error")+"\n"+r)):void 0},runValidators:function(e,i,n,r,a){if(n!==r){if(void 0===i.name||!i.name)throw new Error("colDef.name is required to perform validation");o.setValid(e,i);var s=function(e,t,i){return function(s){s||(o.setInvalid(e,t),o.setError(e,t,i),a&&a.api.validate.raise.validationFailed(e,t,n,r))}},l=[];for(var u in i.validators){o.clearError(e,i,u);var c=o.getValidator(u,i.validators[u]),d=t.when(c(r,n,e,i)).then(s(e,i,u));l.push(d)}return t.all(l)}},createDefaultValidators:function(){o.setValidator("minLength",function(e){return function(t,i,n,r){return void 0===i||null===i||""===i||i.length>=e}},function(e){return n.getSafeText("validate.minLength").replace("THRESHOLD",e)}),o.setValidator("maxLength",function(e){return function(t,i,n,r){return void 0===i||null===i||""===i||i.length<=e}},function(e){return n.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),o.setValidator("required",function(e){return function(t,i,n,r){return!e||!(void 0===i||null===i||""===i)}},function(e){return n.getSafeText("validate.required")})},initializeGrid:function(e,t){t.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var i={events:{validate:{validationFailed:function(e,t,i,n){}}},methods:{validate:{isInvalid:function(e,i){return t.validate.isInvalid(e,i)},getErrorMessages:function(e,i){return t.validate.getErrorMessages(e,i)},getFormattedErrors:function(e,i){return t.validate.getFormattedErrors(e,i)},getTitleFormattedErrors:function(e,i){return t.validate.getTitleFormattedErrors(e,i)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,i,n,r){t.validate.runValidators(e,i,n,r,t)}),o.createDefaultValidators()}};return o}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.initializeGrid(e,r.grid)},post:function(e,t,i,n){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row">\x3c!-- tfooter --\x3e<div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header">\x3c!-- theader --\x3e<div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid">\x3c!-- TODO (c0bra): add "scoped" attr here, eventually? --\x3e<style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ (((grid.getVisibleRowCount() * grid.options.rowHeight) < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper" role="grid"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems">\x3c!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --\x3e</div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable, \'ui-grid-header-cell-last-col\': isLastCol }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" ng-keydown="handleKeyDown($event)" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-keydown="headerCellArrowKeyDown($event)" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ label() }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"presentation\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\">\x3c!-- All of these dom elements are replaced in place --\x3e<div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()">\x3c!-- tbody --\x3e<div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!(row.groupHeader==true || row.entity.subGridOptions.disableRowExpandable)" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><span class="ui-grid-cell-empty" ng-if="!grid.options.showExpandAllButton"></span> <button type="button" class="ui-grid-icon-button" ng-if="grid.options.showExpandAllButton" ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></button></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div class="ui-grid-pager-control"><button type="button" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div>\x3c!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --\x3e<div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll" role="checkbox" ng-model="grid.selection.selectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)" ng-keydown="selectButtonKeyDown(row, $event)" role="checkbox" ng-model="row.isSelected">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div role="button" class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)" ng-keydown="headerButtonKeyDown($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}]),function(e,t,i){(function(){t.module("uiGmapgoogle-maps.providers",[]),t.module("uiGmapgoogle-maps.wrapped",[]),t.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),t.module("uiGmapgoogle-maps.directives.api.managers",[]),t.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),t.module("uiGmapgoogle-maps.directives.api.options.builders",[]),t.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),t.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),t.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),t.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){t.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(i,n){var r,o,a,s;return s=void 0,r=function(e){return e.china?"http://maps.google.cn/maps/api/js?":"auto"===e.transport?"//maps.googleapis.com/maps/api/js?":e.transport+"://maps.googleapis.com/maps/api/js?"},o=function(e){var t,i,o;return t=["transport","isGoogleMapsForWork","china"],e.isGoogleMapsForWork&&t.push("key"),i=_.map(_.omit(e,t),function(e,t){return t+"="+e}),s&&document.getElementById(s).remove(),i=i.join("&"),(o=document.createElement("script")).id=s="ui_gmap_map_load_"+n.generate(),o.type="text/javascript",o.src=r(e)+i,document.body.appendChild(o)},a=function(){return t.isDefined(e.google)&&t.isDefined(e.google.maps)},{load:function(t){var n,r;return n=i.defer(),a()?(n.resolve(e.google.maps),n.promise):(r=t.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),e[r]=function(){e[r]=null,n.resolve(e.google.maps)},e.navigator.connection&&e.Connection&&e.navigator.connection.type===e.Connection.NONE?document.addEventListener("online",function(){return a()?void 0:o(t)}):o(t),n.promise)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",sensor:"false"},this.configure=function(e){t.extend(this.options,e)},this.$get=["uiGmapMapScriptLoader",(e=this,function(t){return t.load(e.options)})],this;var e})}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){var t;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(e,t,i){null==i&&(this._isOpen=!0,this._open(e,t,!0))},google.maps.InfoWindow.prototype.close=function(e){null==e&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},e.InfoBox&&(e.InfoBox.prototype._open=e.InfoBox.prototype.open,e.InfoBox.prototype._close=e.InfoBox.prototype.close,e.InfoBox.prototype._isOpen=!1,e.InfoBox.prototype.open=function(e,t){this._isOpen=!0,this._open(e,t)},e.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},e.InfoBox.prototype.isOpen=function(e){return null==e&&(e=void 0),null==e?this._isOpen:this._isOpen=e},t=function(t){function r(t){this.getOrigCloseBoxImg_=i(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=i(this.getCloseBoxDiv_,this);var n;n=new e.InfoBox(t),_.extend(this,n),null!=t.closeBoxDiv&&(this.closeBoxDiv_=t.closeBoxDiv)}return function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(r,e.InfoBox),r.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},r.prototype.getCloseBoxImg_=function(){var e,t;return e=this.getCloseBoxDiv_(),t=this.getOrigCloseBoxImg_(),e||t},r.prototype.getOrigCloseBoxImg_=function(){var e;return e="",""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},r}(),e.uiGmapInfoBox=t),e.MarkerLabel_?e.MarkerLabel_.prototype.setContent=function(){var e;(e=this.marker_.get("labelContent"))&&!_.isEqual(this.oldContent,e)&&(void 0===(null!=e?e.nodeType:void 0)?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=e):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(e),this.oldContent=e))}:void 0})}})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){return this.intersectionObjects=function(e,t,i){var n;return null==i&&(i=void 0),n=_.map(e,function(e){return _.find(t,function(t){return null!=i?i(e,t):_.isEqual(e,t)})}),_.filter(n,function(e){return null!=e})},this.containsObject=_.includeObject=function(e,t,i){return null==i&&(i=void 0),null!==e&&_.any(e,function(e){return null!=i?i(e,t):_.isEqual(e,t)})},this.differenceObjects=function(e,t,i){return null==i&&(i=void 0),_.filter(e,(n=this,function(e){return!n.containsObject(t,e,i)}));var n},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(e,t,i,n){var r,o;if(null==e)return-1;if(r=0,o=e.length,n){if("number"!=typeof n)return r=_.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,o+n):n}for(;o>r;){if(null!=i){if(i(e[r],t))return r}else if(_.isEqual(e[r],t))return r;r++}return-1},this.isNullOrUndefined=function(e){return _.isNull(e||_.isUndefined(e))},this})}.call(this),function(){t.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(e){return this.contains=function(t,i){return-1!==e.indexOf(t,i)},this}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var e;return e=void 0,{then:function(t){return e=t},resolve:function(){return e.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(e,i,n,r,o,a){var s,l,u,c,d,h,p,f,g,m,v,y,b,w,x,C,S;return C=i.promiseTypes,m=i.isInProgress,x=i.promiseStatus,s=i.ExposedPromise,u=i.SniffedPromise,v=function(e,t){var i;return(i=e.promise()).promiseType=e.promiseType,i.$$state&&n.debug("promiseType: "+i.promiseType+", state: "+x(i.$$state.status)),i.cancelCb=t,i},p=function(e,t){return e.promiseType===C.create&&t.promiseType!==C.delete&&t.promiseType!==C.init&&(n.debug("lastPromise.promiseType "+t.promiseType+", newPromiseType: "+e.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0)},w=function(e,t,i){var r;return t.promiseType===C.delete&&i.promiseType!==C.delete&&null!=i.cancelCb&&_.isFunction(i.cancelCb)&&m(i)&&(n.debug("promiseType: "+t.promiseType+", CANCELING LAST PROMISE type: "+i.promiseType),i.cancelCb("cancel safe"),r=e.peek(),null!=r&&m(r))?r.hasOwnProperty("cancelCb")&&_.isFunction(r.cancelCb)?(n.debug("promiseType: "+r.promiseType+", CANCELING FIRST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe")):n.warn("first promise was not cancelable"):void 0},l=function(e,t,i){var n,r;if(e.existingPieces){if(n=_.last(e.existingPieces._content),p(t,n))return;return w(e.existingPieces,t,n),(r=s(n.finally(function(){return v(t,i)}))).cancelCb=i,r.promiseType=t.promiseType,e.existingPieces.enqueue(r),n.finally(function(){return e.existingPieces.dequeue()})}return e.existingPieces=new o.Queue,e.existingPieces.enqueue(v(t,i))},80,g={value:null},S=function(e,t,i){var n;try{return e.apply(t,i)}catch(e){return n=e,g.value=n,g}},y=function(e,t,i,r){var o,a;return(a=S(e,t,r))===g&&(o="error within chunking iterator: "+g.value,n.error(o),i.reject(o)),"cancel safe"!==a},d=function(e,t,i){var n,r;return n=e===t,r=t[i],n?r:e[r]},c=function(e,i,n,r){var o;return t.isArray(e)?o=e:i=o=i||Object.keys(_.omit(e,["length","forEach","map"])),null==r&&(r=n),t.isArray(o)&&(void 0===o||(null!=o?o.length:void 0)<=0)&&r!==n?n():r(o,i)},h=function(i,n,r,o,a,s,l,u){return c(i,u,function(u,c){var p,f,g,m;for(p=n&&n<u.length?n:u.length,f=l,g=!0;g&&p--&&f<(u?u.length:f+1);)m=d(i,u,f),g=!!t.isFunction(m)||y(o,void 0,s,[m,f]),++f;if(u){if(!(g&&f<u.length))return s.resolve();if(l=f,n)return null!=a&&_.isFunction(a)&&y(a,void 0,s,[]),e(function(){return h(i,n,r,o,a,s,l,c)},r,!1)}})},{each:f=function(e,t,r,o,a,s,l){var u,d,p;return null==r&&(r=80),null==a&&(a=0),null==s&&(s=1),p=void 0,d=i.defer(),p=d.promise,s?c(e,l,function(){return d.resolve(),p},function(i,n){return h(e,r,s,t,o,d,a,n),p}):(u="pause (delay) must be set from _async!",n.error(u),d.reject(u),p)},map:function(e,t,n,r,o,a,s){var l;return l=[],c(e,s,function(){return i.resolve(l)},function(i,s){return f(e,function(e){return l.push(t(e))},n,r,o,a,s).then(function(){return l})})},managePromiseQueue:b=function(e,t,i,r,o){var a;return null==i&&(i=""),a=function(e){return n.debug(e+": "+e),null!=r&&_.isFunction(r)?r(e):void 0},l(e,u(o,t),a)},promiseLock:b,defaultChunkSize:80,chunkSizeFrom:function(e,t){return null==t&&(t=void 0),_.isNumber(e)&&(t=e),(a.isFalse(e)||!1===e)&&(t=!1),t}}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var t;return t=["extended","included"],function(){function i(){}return i.extend=function(i){var n,r,o;for(n in i)o=i[n],e.call(t,n)<0&&(this[n]=o);return null!=(r=i.extended)&&r.apply(this),this},i.include=function(i){var n,r,o;for(n in i)o=i[n],e.call(t,n)<0&&(this.prototype[n]=o);return null!=(r=i.included)&&r.apply(this),this},i}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(e){}}})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(e){var t;return t={handle:function(i,n){return i.$on("$destroy",function(){return t.handle(i)}),i.deferred=e.defer(),{getScope:function(){return i}}},mapPromise:function(e,t){var i;return(i=t.getScope()).deferred.promise.then(function(t){return e.map=t}),i.deferred.promise}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(e){var i,n;return n=function(e){return t.isDefined(e.events)&&null!=e.events&&t.isObject(e.events)},i=function(e,t){return n(e)?e:n(t)?t:void 0},{setEvents:function(e,n,r,o){var a;return null!=(a=i(n,r))?_.compact(_.map(a.events,function(i,s){var l;return o&&(l=_(o).contains(s)),a.events.hasOwnProperty(s)&&t.isFunction(a.events[s])&&!l?google.maps.event.addListener(e,s,function(){return n.$evalAsync||(n.$evalAsync=function(){}),n.$evalAsync(i.apply(n,[e,s,r,arguments]))}):void 0})):void 0},removeEvents:function(e){return e?e.forEach(function(e){return e?google.maps.event.removeListener(e):void 0}):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger","uiGmap_async",function(e,t){return{fit:function(e,t){var i,n;return t&&e&&e.length>0&&(i=new google.maps.LatLngBounds,n=!1,e.forEach(function(e){return e?(n||(n=!0),i.extend(e.getPosition())):void 0}),n)?t.fitBounds(i):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(e,i){var n,r,o,a,s;return r=function(e,t,i){return e===t||-1!==i.indexOf(e)},a=function(e){return Array.isArray(e)&&2===e.length?e[1]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[1]:e.latitude},s=function(e){return Array.isArray(e)&&2===e.length?e[0]:t.isDefined(e.type)&&"Point"===e.type?e.coordinates[0]:e.longitude},{setCoordsFromEvent:function(e,i){return e?(Array.isArray(e)&&2===e.length?(e[1]=i.lat(),e[0]=i.lng()):t.isDefined(e.type)&&"Point"===e.type?(e.coordinates[1]=i.lat(),e.coordinates[0]=i.lng()):(e.latitude=i.lat(),e.longitude=i.lng()),e):void 0},getLabelPositionPoint:function(e){var t,i;return void 0===e?void 0:(e=/^([-\d\.]+)\s([-\d\.]+)$/.exec(e),t=parseFloat(e[1]),i=parseFloat(e[2]),null!=t&&null!=i?new google.maps.Point(t,i):void 0)},createWindowOptions:function(n,r,a,s){var l;return null!=a&&null!=s&&null!=i?(l=t.extend({},s,{content:this.buildContent(r,s,a),position:null!=s.position?s.position:t.isObject(n)?n.getPosition():o(r.coords)}),null!=n&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):s||(e.error("infoWindow defaults not defined"),a?void 0:e.error("infoWindow content not defined"))},buildContent:function(e,t,n){var r,o;return null!=t.content?o=t.content:null!=i?(r=""===(n=n.replace(/^\s+|\s+$/g,""))?"":i(n)(e)).length>0&&(o=r[0]):o=n,o},defaultDelay:50,isTrue:function(e){return r(e,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:n=function(e){return r(e,!1,["false","FALSE",0,"n","N","no","NO"])},isFalsy:function(e){return r(e,!1,[void 0,null])||n(e)},getCoords:o=function(e){return e?Array.isArray(e)&&2===e.length?new google.maps.LatLng(e[1],e[0]):t.isDefined(e.type)&&"Point"===e.type?new google.maps.LatLng(e.coordinates[1],e.coordinates[0]):new google.maps.LatLng(e.latitude,e.longitude):void 0},validateCoords:function(e){if(t.isUndefined(e))return!1;if(_.isArray(e)){if(2===e.length)return!0}else if(null!=e&&(null!=e?e.type:void 0)&&"Point"===e.type&&_.isArray(e.coordinates)&&2===e.coordinates.length)return!0;return!(!e||!t.isDefined((null!=e?e.latitude:void 0)&&t.isDefined(null!=e?e.longitude:void 0)))},equalCoords:function(e,t){return a(e)===a(t)&&s(e)===s(t)},validatePath:function(e){var i,n,r;if(n=0,t.isUndefined(e.type)){if(!Array.isArray(e)||e.length<2)return!1;for(;n<e.length;){if(!(t.isDefined(e[n].latitude)&&t.isDefined(e[n].longitude)||"function"==typeof e[n].lat&&"function"==typeof e[n].lng))return!1;n++}return!0}if(t.isUndefined(e.coordinates))return!1;if("Polygon"===e.type){if(e.coordinates[0].length<4)return!1;i=e.coordinates[0]}else if("MultiPolygon"===e.type){if(r={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},r),(i=e.coordinates[r.index][0]).length<4)return!1}else{if("LineString"!==e.type)return!1;if(e.coordinates.length<2)return!1;i=e.coordinates}for(;n<i.length;){if(2!==i[n].length)return!1;n++}return!0},convertPathPoints:function(e){var i,n,r,o,a;if(n=0,o=new google.maps.MVCArray,t.isUndefined(e.type))for(;n<e.length;)t.isDefined(e[n].latitude)&&t.isDefined(e[n].longitude)?r=new google.maps.LatLng(e[n].latitude,e[n].longitude):"function"==typeof e[n].lat&&"function"==typeof e[n].lng&&(r=e[n]),o.push(r),n++;else for("Polygon"===e.type?i=e.coordinates[0]:"MultiPolygon"===e.type?(a={max:0,index:0},_.forEach(e.coordinates,function(e,t){return e[0].length>this.max?(this.max=e[0].length,this.index=t):void 0},a),i=e.coordinates[a.index][0]):"LineString"===e.type&&(i=e.coordinates);n<i.length;)o.push(new google.maps.LatLng(i[n][1],i[n][0])),n++;return o},extendMapBounds:function(e,t){var i,n;for(i=new google.maps.LatLngBounds,n=0;n<t.length;)i.extend(t.getAt(n)),n++;return e.fitBounds(i)},getPath:function(e,t){var i;return null!=t&&_.isString(t)?(i=e,_.each(t.split("."),function(e){return i?i=i[e]:void 0}),i):t},validateBoundPoints:function(e){return!(t.isUndefined(e.sw.latitude)||t.isUndefined(e.sw.longitude)||t.isUndefined(e.ne.latitude)||t.isUndefined(e.ne.longitude))},convertBoundPoints:function(e){return new google.maps.LatLngBounds(new google.maps.LatLng(e.sw.latitude,e.sw.longitude),new google.maps.LatLng(e.ne.latitude,e.ne.longitude))},fitMapBounds:function(e,t){return e.fitBounds(t)}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(e,t){var i,n,r,o,a;return n=0,a=[],r=1,50,i=function(e,a){return t(function(){return r>=50&&e.reject("Your maps are not found we have checked the maximum amount of times. :)"),r+=1,n!==a?i(e,a):e.resolve(o())},100)},{spawn:function(){var t;return t=e.defer(),a.push(t.promise),{instance:n+=1,deferred:t}},promises:o=function(){return e.all(a)},instances:function(){return n},promise:function(t){var n;return null==t&&(t=1),n=e.defer(),i(n,t),n.promise},reset:function(){n=0,a.length=0},decrement:function(){n>0&&(n-=1),a.length&&(a.length-=1)}}}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(t){return function(i){function n(e,t,i,n){this.scope=e,this.element=t,this.attrs=i,this.ctrls=n}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(n,t),n}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["$log",function(e){var t,i,n;return t={log:1,info:2,debug:3,warn:4,error:5,none:6},n=function(e,t,i){return e>=t?i():void 0},i=function(t,i){return null!=e?e[t](i):console[t](i)},new(function(){function r(){var e;this.doLog=!0,e={},["log","info","debug","warn","error"].forEach((r=this,function(o){return e[o]=function(e){return r.doLog?n(t[o],r.currentLevel,function(){return i(o,e)}):void 0}})),this.LEVELS=t,this.currentLevel=t.error,this.log=e.log,this.info=e.info,this.debug=e.debug,this.warn=e.warn,this.error=e.error;var r}return r.prototype.spawn=function(){return new r},r.prototype.setLog=function(t){return e=t},r}())}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapPromise","$q","$timeout",function(n,r,o,a,s){return function(o){function a(t){this.scope=t,this.modelsLength=e(this.modelsLength,this),this.updateChild=e(this.updateChild,this),this.destroy=e(this.destroy,this),this.onDestroy=e(this.onDestroy,this),this.setChildScope=e(this.setChildScope,this),this.getChanges=e(this.getChanges,this),this.getProp=e(this.getProp,this),this.setIdKey=e(this.setIdKey,this),this.modelKeyComparison=e(this.modelKeyComparison,this),a.__super__.constructor.call(this),this.interface={},this.interface.scopeKeys=[],this.defaultIdKey="id",this.idKey=void 0}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),a.prototype.evalModelHandle=function(e,t){return null!=e&&null!=t?"self"===t?e:(_.isFunction(t)&&(t=t()),r.getPath(e,t)):void 0},a.prototype.modelKeyComparison=function(e,t){var i,n,o;if(((i=_.contains(this.interface.scopeKeys,"coords"))&&null!=this.scope.coords||!i)&&(o=this.scope),null==o)throw"No scope set!";return i&&(n=r.equalCoords(this.scopeOrModelVal("coords",o,e),this.scopeOrModelVal("coords",o,t)),!n)?n:n=_.every(_.without(this.interface.scopeKeys,"coords"),(a=this,function(i){return a.scopeOrModelVal(o[i],o,e)===a.scopeOrModelVal(o[i],o,t)}));var a},a.prototype.setIdKey=function(e){return this.idKey=null!=e.idKey?e.idKey:this.defaultIdKey},a.prototype.setVal=function(e,t,i){return this.modelOrKey(e,t),i,e},a.prototype.modelOrKey=function(e,t){return null!=t?"self"!==t?r.getPath(e,t):e:void 0},a.prototype.getProp=function(e,t,i){return this.scopeOrModelVal(e,t,i)},a.prototype.getChanges=function(e,t,i){var n,r,o;i&&(t=_.pick(t,i),e=_.pick(e,i)),r={},o={},n={};for(o in e)t&&t[o]===e[o]||(_.isArray(e[o])?r[o]=e[o]:_.isObject(e[o])?(n=this.getChanges(e[o],t?t[o]:null),_.isEmpty(n)||(r[o]=n)):r[o]=e[o]);return r},a.prototype.scopeOrModelVal=function(e,t,i,n){var r,o,a,s;return null==n&&(n=!1),r=function(e,t,i){return null==i&&(i=!1),i?{isScope:e,value:t}:t},s=t[e],_.isFunction(s)?r(!0,s(i),n):_.isObject(s)?r(!0,s,n):_.isString(s)?(a=(o=s)?"self"===o?i:i[o]:i[e],_.isFunction(a)?r(!1,a(),n):r(!1,a,n)):r(!0,s,n)},a.prototype.setChildScope=function(e,t,i){return _.each(e,(n=this,function(e){var r,o;return null!=(null!=(r=n.scopeOrModelVal(e,t,i,!0))?r.value:void 0)&&(o=r.value,o!==t[e])?t[e]=o:void 0})),t.model=i;var n},a.prototype.onDestroy=function(e){},a.prototype.destroy=function(e){var t;return null==e&&(e=!1),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?this.clean():this.scope.$destroy()},a.prototype.updateChild=function(e,t){return null==t[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):e.updateModel(t)},a.prototype.modelsLength=function(e){var i,n;return null==e&&(e=void 0),i=0,null==(n=e||this.scope.models)?i:i=t.isArray(n)||null!=n.length?n.length:Object.keys(n).length},a}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(e,t,i,n){return{didQueueInitPromise:function(e,i){return 0===i.models.length&&(t.promiseLock(e,n.promiseTypes.init,null,null,function(){return n.resolve()}),!0)},figureOutState:function(t,i,n,r,o){var a,s,l,u;return a=[],s={},l=[],u=[],i.models.forEach(function(o){var l;return null==o[t]?e.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(s[o[t]]={},null==n.get(o[t])?a.push(o):(l=n.get(o[t]),r(o,l.clonedModel,i)?void 0:u.push({model:o,child:l})))}),n.values().forEach(function(i){var n;return null==i?void e.error("child undefined in ModelsWatcher."):null==i.model?void e.error("child.model undefined in ModelsWatcher."):(n=i.model[t],null==s[n]?l.push(i):void 0)}),{adds:a,removals:l,updates:u}}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(e,t,i){var n,r,o;return r={create:"create",update:"update",delete:"delete",init:"init"},n={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},o=function(){var e;return(e={})[""+n.IN_PROGRESS]="in-progress",e[""+n.RESOLVED]="resolved",e[""+n.REJECTED]="rejected",e}(),{defer:function(){return e.defer()},promise:function(n){var r;return _.isFunction(n)?(r=e.defer(),t(function(){var e;return e=n(),r.resolve(e)}),r.promise):void i.error("uiGmapPromise.promise() only accepts functions")},resolve:function(){var t;return(t=e.defer()).resolve.apply(void 0,arguments),t.promise},promiseTypes:r,isInProgress:function(e){return e.$$state?e.$$state.status===n.IN_PROGRESS:!e.hasOwnProperty("$$v")||void 0},isResolved:function(e){return e.$$state?e.$$state.status===n.RESOLVED:!!e.hasOwnProperty("$$v")||void 0},promiseStatus:function(e){return o[e]||"done w error"},ExposedPromise:function(t){var i,n,r;return i=e.defer(),n=e.all([t,i.promise]),r=e.defer(),t.then(i.resolve,function(){},function(e){return i.notify(e),r.notify(e)}),n.then(function(e){return r.resolve(e[0]||e[1])},function(e){return r.reject(e)}),r.promise.cancel=function(e){return null==e&&(e="canceled"),i.reject(e)},r.promise.notify=function(e){return null==e&&(e="cancel safe"),r.notify(e),t.hasOwnProperty("notify")?t.notify(e):void 0},null!=t.promiseType&&(r.promise.promiseType=t.promiseType),r.promise},SniffedPromise:function(e,t){return{promise:e,promiseType:t}}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){return function(){function t(){this.removeAll=e(this.removeAll,this),this.slice=e(this.slice,this),this.push=e(this.push,this),this.keys=e(this.keys,this),this.values=e(this.values,this),this.remove=e(this.remove,this),this.put=e(this.put,this),this.stateChanged=e(this.stateChanged,this),this.get=e(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return t.prototype.get=function(e){return this.dict[e]},t.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},t.prototype.put=function(e,t){return null==this.get(e)&&this.length++,this.stateChanged(),this.dict[e]=t},t.prototype.remove=function(e,t){var i;return null==t&&(t=!1),t&&!this.get(e)?void 0:(i=this.dict[e],delete this.dict[e],this.length--,this.stateChanged(),i)},t.prototype.valuesOrKeys=function(e){var t,i;return null==e&&(e="Keys"),this["did"+e+"StateChange"]?(i=[],t=[],_.each(this.dict,function(e,n){return i.push(e),t.push(n)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=i,this.allKeys=t,this["all"+e]):this["all"+e]},t.prototype.values=function(){return this.valuesOrKeys("Vals")},t.prototype.keys=function(){return this.valuesOrKeys()},t.prototype.push=function(e,t){return null==t&&(t="key"),this.put(e[t],e)},t.prototype.slice=function(){return this.keys().map((e=this,function(t){return e.remove(t)}));var e},t.prototype.removeAll=function(){return this.slice()},t.prototype.each=function(e){return _.each(this.dict,function(t,i){return e(t)})},t.prototype.map=function(e){return _.map(this.dict,function(t,i){return e(t)})},t}()})}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(e){return function(e){return this.setIfChange=function(t,i){var n;return n=this.exp,_.isEqual(i,t)?void 0:e(n,t)},this.sic=this.setIfChange,this}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(i,n,r){return function(){function o(t,n,a,s){null==n&&(n={}),this.opt_options=null!=a?a:{},this.opt_events=s,this.checkSync=e(this.checkSync,this),this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.destroy=e(this.destroy,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=o.type,this.clusterer=new NgMapMarkerClusterer(t,n,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,i.info(this)}return o.type="ClustererMarkerManager",o.prototype.checkKey=function(e){var t;return null==e.key?(t="gMarker.key undefined and it is REQUIRED!!",i.error(t)):void 0},o.prototype.add=function(e){return this.checkKey(e),this.clusterer.addMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(e.key,e),this.checkSync()},o.prototype.update=function(e){return this.remove(e),this.add(e)},o.prototype.addMany=function(e){return e.forEach((t=this,function(e){return t.add(e)}));var t},o.prototype.remove=function(e){return this.checkKey(e),this.propMapGMarkers.get(e.key)&&(this.clusterer.removeMarker(e,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(e.key)),this.checkSync()},o.prototype.removeMany=function(e){return e.forEach((t=this,function(e){return t.remove(e)}));var t},o.prototype.draw=function(){return this.clusterer.repaint()},o.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},o.prototype.attachEvents=function(e,n){var r,o;if(t.isDefined(e)&&null!=e&&t.isObject(e)){o=[];for(r in e)e[r],e.hasOwnProperty(r)&&t.isFunction(e[r])?(i.info(n+": Attaching event: "+r+" to clusterer"),o.push(google.maps.event.addListener(this.clusterer,r,e[r]))):o.push(void 0);return o}},o.prototype.clearEvents=function(e,n){var r,o;if(t.isDefined(e)&&null!=e&&t.isObject(e)){o=[];for(r in e)e[r],e.hasOwnProperty(r)&&t.isFunction(e[r])?(i.info(n+": Clearing event: "+r+" to clusterer"),o.push(google.maps.event.clearListeners(this.clusterer,r))):o.push(void 0);return o}},o.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},o.prototype.fit=function(){return n.fit(this.getGMarkers(),this.clusterer.getMap())},o.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},o.prototype.checkSync=function(){},o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(t,i,n){return function(){function r(i,o,a){this.getGMarkers=e(this.getGMarkers,this),this.fit=e(this.fit,this),this.handleOptDraw=e(this.handleOptDraw,this),this.clear=e(this.clear,this),this.draw=e(this.draw,this),this.removeMany=e(this.removeMany,this),this.remove=e(this.remove,this),this.addMany=e(this.addMany,this),this.update=e(this.update,this),this.add=e(this.add,this),this.type=r.type,this.gMap=i,this.gMarkers=new n,this.$log=t,this.$log.info(this)}return r.type="MarkerManager",r.prototype.add=function(e,i){var n;if(null==i&&(i=!0),null==e.key)throw n="gMarker.key undefined and it is REQUIRED!!",t.error(n),n;return this.gMarkers.get(e.key)?void 0:(this.handleOptDraw(e,i,!0),this.gMarkers.put(e.key,e))},r.prototype.update=function(e,t){return null==t&&(t=!0),this.remove(e,t),this.add(e,t)},r.prototype.addMany=function(e){return e.forEach((t=this,function(e){return t.add(e)}));var t},r.prototype.remove=function(e,t){return null==t&&(t=!0),this.handleOptDraw(e,t,!1),this.gMarkers.get(e.key)?this.gMarkers.remove(e.key):void 0},r.prototype.removeMany=function(e){return e.forEach((t=this,function(e){return t.remove(e)}));var t},r.prototype.draw=function(){var e;return e=[],this.gMarkers.each((i=this,function(t){return t.isDrawn?void 0:t.doAdd?(t.setMap(i.gMap),t.isDrawn=!0):e.push(t)})),e.forEach((t=this,function(e){return e.isDrawn=!1,t.remove(e,!0)}));var t,i},r.prototype.clear=function(){return this.gMarkers.each(function(e){return e.setMap(null)}),delete this.gMarkers,this.gMarkers=new n},r.prototype.handleOptDraw=function(e,t,i){return!0===t?(i?e.setMap(this.gMap):e.setMap(null),e.isDrawn=!0):(e.isDrawn=!1,e.doAdd=i)},r.prototype.fit=function(){return i.fit(this.getGMarkers(),this.gMap)},r.prototype.getGMarkers=function(){return this.gMarkers.values()},r}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(e){var i;return i=function(t,i,n){return google.maps.event.addListener(t,i,function(){return n.apply(this,arguments),e(function(){},!0)})},function(e,n,r){var o;return r?i(e,n,r):(o=[],t.forEach(n,function(t,n){return o.push(i(e,n,t))}),function(){return t.forEach(o,function(e){return google.maps.event.removeListener(e)}),o=null})}}])}.call(this),function(){t.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(e){return function(i,n,r,o){var a,s,l,u,c,d,h,p,f;return u=!1,p=n.$eval(r),n.static||(c={set_at:function(e){var t;if(!u&&(t=i.getAt(e)))return t.lng&&t.lat?(p[e].latitude=t.lat(),p[e].longitude=t.lng()):p[e]=t},insert_at:function(e){var t;if(!u&&(t=i.getAt(e)))return t.lng&&t.lat?p.splice(e,0,{latitude:t.lat(),longitude:t.lng()}):p.splice(e,0,t)},remove_at:function(e){return u?void 0:p.splice(e,1)}},"Polygon"===p.type?a=p.coordinates[0]:"LineString"===p.type&&(a=p.coordinates),s={set_at:function(e){var t;if(!u&&(t=i.getAt(e),t&&t.lng&&t.lat))return a[e][1]=t.lat(),a[e][0]=t.lng()},insert_at:function(e){var t;if(!u&&(t=i.getAt(e),t&&t.lng&&t.lat))return a.splice(e,0,[t.lng(),t.lat()])},remove_at:function(e){return u?void 0:a.splice(e,1)}},h=e(i,t.isUndefined(p.type)?c:s)),d=function(e){var t,n,r,a,s,l,c,d;if(u=!0,l=i,t=!1,e){for(n=0,c=l.getLength(),a=e.length,r=Math.min(c,a),s=void 0;r>n;)d=l.getAt(n),s=e[n],"function"==typeof s.equals?s.equals(d)||(l.setAt(n,s),t=!0):(d.lat()!==s.latitude||d.lng()!==s.longitude)&&(l.setAt(n,new google.maps.LatLng(s.latitude,s.longitude)),t=!0),n++;for(;a>n;)s=e[n],"function"==typeof s.lat&&"function"==typeof s.lng?l.push(s):l.push(new google.maps.LatLng(s.latitude,s.longitude)),t=!0,n++;for(;c>n;)l.pop(),t=!0,n++}return u=!1,t?o(l):void 0},l=function(e){var t,n,r,a,s,l,c,d,h;if(u=!0,c=i,n=!1,e){for("Polygon"===p.type?t=e.coordinates[0]:"LineString"===p.type&&(t=e.coordinates),r=0,d=c.getLength(),s=t.length,a=Math.min(d,s),l=void 0;a>r;)h=c.getAt(r),l=t[r],(h.lat()!==l[1]||h.lng()!==l[0])&&(c.setAt(r,new google.maps.LatLng(l[1],l[0])),n=!0),r++;for(;s>r;)l=t[r],c.push(new google.maps.LatLng(l[1],l[0])),n=!0,r++;for(;d>r;)c.pop(),n=!0,r++}return u=!1,n?o(c):void 0},n.static||(f=t.isUndefined(p.type)?n.$watchCollection(r,d):n.$watch(r,l,!0)),function(){return h&&(h(),h=null),f?(f(),f=null):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(e){return{maybeRepaint:function(t){return t?(t.style.opacity=.9,e(function(){return t.style.opacity=1})):void 0}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var e,t,i,n;return e=["length","forEach","map"],(t=[]).push(i=function(t){return t.forEach=function(i){return _.each(_.omit(t,e),function(e){return _.isFunction(e)?void 0:i(e)})},t}),n=function(t){return t.map=function(i){return _.map(_.omit(t,e),function(e){return _.isFunction(e)?void 0:i(e)})},t},t.push(n),{slapMap:n,slapForEach:i,slapAll:function(e){return t.forEach(function(t){return t(e)}),e}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(n,r,o){return function(n){function a(){return this.watchProps=e(this.watchProps,this),this.buildOpts=e(this.buildOpts,this),a.__super__.constructor.apply(this,arguments)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,o),a.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],a.prototype.getCorrectModel=function(e){return t.isDefined(null!=e?e.model:void 0)?e.model:e},a.prototype.buildOpts=function(e,i,n){var o,a,s;return null==e&&(e={}),null==n&&(n={}),this.scope?this.map?(o=this.getCorrectModel(this.scope),s=this.scopeOrModelVal("stroke",this.scope,o),a=t.extend(e,this.DEFAULTS,{map:this.map,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),t.forEach(t.extend(n,{clickable:!0,draggable:!1,editable:!1,static:!1,fit:!1,visible:!0,zIndex:0,icons:[]}),(l=this,function(e,n){var r;return r=i?i[n]:l.scopeOrModelVal(n,l.scope,o),t.isUndefined(r)?a[n]=e:a[n]=o[n]})),a.static&&(a.editable=!1),a):void r.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void r.error("this.scope not defined in CommonOptionsBuilder can not buildOpts");var l},a.prototype.watchProps=function(e){return null==e&&(e=this.props),e.forEach((t=this,function(e){return null!=t.attrs[e]||null!=t.attrs[null!=e?e.prop:void 0]?(null!=e?e.isColl:void 0)?t.scope.$watchCollection(e.prop,t.setMyOptions):t.scope.$watch(e,t.setMyOptions):void 0}));var t},a}()}])}.call(this),function(){var e=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(t){return function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}()}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(i){return function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.buildOpts=function(e,i,n){var o,a;return a=this.getCorrectModel(this.scope),o=i?i.fill:this.scopeOrModelVal("fill",this.scope,a),e=t.extend(e,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),r.__super__.buildOpts.call(this,e,i,n)},r}()}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{path:e},t,{geodesic:!1})},n}()}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t){return n.__super__.buildOpts.call(this,{bounds:e},t)},n}()}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(t){return function(i){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.buildOpts=function(e,t,i){return n.__super__.buildOpts.call(this,{center:e,radius:t},i)},n}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(e,i){return _.extend(i,{createOptions:function(e,n,r,o){var a;return null==r&&(r={}),a=t.extend({},r,{position:null!=r.position?r.position:i.getCoords(e),visible:null!=r.visible?r.visible:i.validateCoords(e)}),(null!=r.icon||null!=n)&&(a=t.extend(a,{icon:null!=r.icon?r.icon:n})),null!=o&&(a.map=o),a},isLabel:function(e){return null!=e&&(null!=e.labelContent||null!=e.labelAnchor||null!=e.labelClass||null!=e.labelStyle||null!=e.labelVisible)}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(n,r,o,a,s){return function(n,r){return function(l){function u(i,n,a,l,u){var c;this.scope=i,this.attrs=n,this.map=a,this.defaults=l,this.model=u,this.clean=e(this.clean,this),this.clonedModel=_.clone(this.model,!0),this.isDragging=!1,this.internalEvents={dragend:(E=this,function(){return _.defer(function(){return E.isDragging=!1})}),dragstart:($=this,function(){return $.isDragging=!0})},k=this,(c=function(){var e,i;if(!k.isDragging)return i=k.convertPathPoints(k.scope.path),null!=k.gObject&&k.clean(),null!=k.scope.model&&(e=k.scope),i.length>0&&(k.gObject=r(k.buildOpts(i,e))),k.gObject?(k.scope.fit&&k.extendMapBounds(k.map,i),o(k.gObject.getPath(),k.scope,"path",function(e){return k.scope.fit?k.extendMapBounds(k.map,e):void 0}),t.isDefined(k.scope.events)&&t.isObject(k.scope.events)&&(k.listeners=k.model?s.setEvents(k.gObject,k.scope,k.model):s.setEvents(k.gObject,k.scope,k.scope)),k.internalListeners=k.model?s.setEvents(k.gObject,{events:k.internalEvents},k.model):s.setEvents(k.gObject,{events:k.internalEvents},k.scope)):void 0})(),this.scope.$watch("path",(S=this,function(e,t){return _.isEqual(e,t)&&S.gObject?void 0:c()}),!0),!this.scope.static&&t.isDefined(this.scope.editable)&&this.scope.$watch("editable",(C=this,function(e,t){var i;return e!==t?(e=!C.isFalse(e),null!=(i=C.gObject)?i.setEditable(e):void 0):void 0}),!0),t.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",(x=this,function(e,t){var i;return e!==t?(e=!x.isFalse(e),null!=(i=x.gObject)?i.setDraggable(e):void 0):void 0}),!0),t.isDefined(this.scope.visible)&&this.scope.$watch("visible",(w=this,function(e,t){var i;return e!==t&&(e=!w.isFalse(e)),null!=(i=w.gObject)?i.setVisible(e):void 0}),!0),t.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",(b=this,function(e,t){var i;return e!==t?(e=!b.isFalse(e),null!=(i=b.gObject)?i.setOptions(b.buildOpts(b.gObject.getPath())):void 0):void 0}),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",(y=this,function(e,t){var i;return e!==t&&null!=(i=y.gObject)?i.setOptions(y.buildOpts(y.gObject.getPath())):void 0}),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",(v=this,function(e,t){var i;return e!==t&&null!=(i=v.gObject)?i.setOptions(v.buildOpts(v.gObject.getPath())):void 0}),!0),t.isDefined(this.scope.stroke)&&t.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",(m=this,function(e,t){var i;return e!==t&&null!=(i=m.gObject)?i.setOptions(m.buildOpts(m.gObject.getPath())):void 0}),!0),t.isDefined(this.scope.icons)&&this.scope.$watch("icons",(g=this,function(e,t){var i;return e!==t&&null!=(i=g.gObject)?i.setOptions(g.buildOpts(g.gObject.getPath())):void 0}),!0),this.scope.$on("$destroy",(f=this,function(){return f.clean(),f.scope=null})),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",(p=this,function(e,t){return e!==t?p.gObject.setOptions(p.buildOpts(p.gObject.getPath())):void 0})),t.isDefined(this.scope.fill)&&t.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",(h=this,function(e,t){return e!==t?h.gObject.setOptions(h.buildOpts(h.gObject.getPath())):void 0})),t.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",(d=this,function(e,t){return e!==t?d.gObject.setOptions(d.buildOpts(d.gObject.getPath())):void 0}));var d,h,p,f,g,m,v,y,b,w,x,C,S,k,$,E}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(u,n),u.include(a),u.prototype.clean=function(){var e;return s.removeEvents(this.listeners),s.removeEvents(this.internalListeners),null!=(e=this.gObject)&&e.setMap(null),this.gObject=null},u}()}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(e,t){var i;return i=function(e,t,i){var n,r;return r=new google.maps.Polyline({map:e,clickable:!1}),n=google.maps.event.addListener(e,"mousemove",function(e){return r.getPath().push(e.latLng)}),void google.maps.event.addListenerOnce(e,"mouseup",function(o){var a;return google.maps.event.removeListener(n),a=r.getPath(),r.setMap(null),t.push(new google.maps.Polygon({map:e,path:a})),r=null,google.maps.event.clearListeners(e.getDiv(),"mousedown"),i()})},function(n,r){var o,a;return this.map=n,u=this,o=function(){var t;return t={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},e.info("disabling map move"),u.map.setOptions(t)},l=this,a=function(){var e,t;return e={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(t=l.deferred)&&t.resolve(),_.defer(function(){return l.map.setOptions(_.extend(e,r.options))})},this.engage=(s=this,function(n){return s.polys=n,s.deferred=t.defer(),o(),e.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(s.map.getDiv(),"mousedown",function(e){return i(s.map,s.polys,a)}),s.deferred.promise}),this;var s,l,u}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(t,n,r,o,a,s,l,u,c){return function(d){function h(t,i,n,o,s,l,u,d,f,g){var m;this.model=i,this.keys=n,this.gMap=o,this.defaults=s,this.doClick=l,this.gManager=u,this.doDrawSelf=null==d||d,this.trackModel=null==f||f,this.needRedraw=null!=g&&g,this.internalEvents=e(this.internalEvents,this),this.setLabelOptions=e(this.setLabelOptions,this),this.setOptions=e(this.setOptions,this),this.setIcon=e(this.setIcon,this),this.setCoords=e(this.setCoords,this),this.isNotValid=e(this.isNotValid,this),this.maybeSetScopeValue=e(this.maybeSetScopeValue,this),this.createMarker=e(this.createMarker,this),this.setMyScope=e(this.setMyScope,this),this.updateModel=e(this.updateModel,this),this.handleModelChanges=e(this.handleModelChanges,this),this.destroy=e(this.destroy,this),this.clonedModel=_.clone(this.model,!0),this.deferred=c.defer(),_.each(this.keys,(x=this,function(e,t){var i;return null!=(i=x.keys[t])&&!_.isFunction(i)&&_.isString(i)?x[t+"Key"]=i:void 0})),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),h.__super__.constructor.call(this,t),this.scope.getGMarker=(w=this,function(){return w.gObject}),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",(b=this,function(e,t){return e!==t?b.handleModelChanges(e,t):void 0}),!0)):(m=new a((y=this,function(e,i){return y.firstTime?void 0:y.setMyScope(e,t)}),!1),_.each(this.keys,function(e,i){return t.$watch(i,m.sic,!0)})),this.scope.$on("$destroy",(v=this,function(){return p(v)})),this.createMarker(this.model),r.info(this);var v,y,b,w,x}var p;return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(h,t),h.include(n),h.include(o),h.include(s),p=function(e){return null!=(null!=e?e.gObject:void 0)&&(e.removeEvents(e.externalListeners),e.removeEvents(e.internalListeners),null!=e?e.gObject:void 0)?(e.removeFromManager&&e.gManager.remove(e.gObject),e.gObject.setMap(null),e.gObject=null):void 0},h.prototype.destroy=function(e){return null==e&&(e=!0),this.removeFromManager=e,this.scope.$destroy()},h.prototype.handleModelChanges=function(e,t){var i,n,r;return i=this.getChanges(e,t,l.keys),this.firstTime?void 0:(n=0,r=_.keys(i).length,_.each(i,(o=this,function(i,a){var s;return s=r===(n+=1),o.setMyScope(a,e,t,!1,!0,s),o.needRedraw=!0})));var o},h.prototype.updateModel=function(e){return this.clonedModel=_.clone(e,!0),this.setMyScope("all",e,this.model)},h.prototype.renderGMarker=function(e,t){var i;if(null==e&&(e=!0),null!=(i=this.getProp("coords",this.scope,this.model))){if(!this.validateCoords(i))return void r.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=t&&t(),e&&this.gObject)return this.gManager.add(this.gObject)}else if(e&&this.gObject)return this.gManager.remove(this.gObject)},h.prototype.setMyScope=function(e,t,i,n,r){var o;switch(null==i&&(i=void 0),null==n&&(n=!1),null==r&&(r=!0),null==t?t=this.model:this.model=t,this.gObject||(this.setOptions(this.scope,r),o=!0),e){case"all":return _.each(this.keys,(a=this,function(e,o){return a.setMyScope(o,t,i,n,r)}));case"icon":return this.maybeSetScopeValue("icon",t,i,this.iconKey,this.evalModelHandle,n,this.setIcon,r);case"coords":return this.maybeSetScopeValue("coords",t,i,this.coordsKey,this.evalModelHandle,n,this.setCoords,r);case"options":if(!o)return this.createMarker(t,i,n,r)}var a},h.prototype.createMarker=function(e,t,i,n){return null==t&&(t=void 0),null==i&&(i=!1),null==n&&(n=!0),this.maybeSetScopeValue("options",e,t,this.optionsKey,this.evalModelHandle,i,this.setOptions,n),this.firstTime=!1},h.prototype.maybeSetScopeValue=function(e,t,i,n,r,o,a,s){return null==a&&(a=void 0),null==s&&(s=!0),null!=a?a(this.scope,s):void 0},h.doDrawSelf&&doDraw&&h.gManager.draw(),h.prototype.isNotValid=function(e,t){var i;return null==t&&(t=!0),i=!!t&&void 0===this.gObject,!this.trackModel&&e.$id!==this.scope.$id||i},h.prototype.setCoords=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,(i=this,function(){var t,n,r;return n=i.getProp("coords",e,i.model),t=i.getCoords(n),null==(r=i.gObject.getPosition())||null==t||t.lng()!==r.lng()||t.lat()!==r.lat()?(i.gObject.setPosition(t),i.gObject.setVisible(i.validateCoords(n))):void 0}));var i},h.prototype.setIcon=function(e,t){return null==t&&(t=!0),this.isNotValid(e)||null==this.gObject?void 0:this.renderGMarker(t,(i=this,function(){var t,n;return i.gObject.getIcon()!==(n=i.getProp("icon",e,i.model))?(i.gObject.setIcon(n),t=i.getProp("coords",e,i.model),i.gObject.setPosition(i.getCoords(t)),i.gObject.setVisible(i.validateCoords(t))):void 0}));var i},h.prototype.setOptions=function(e,t){var i;if(null==t&&(t=!0),!this.isNotValid(e,!1)){if(this.renderGMarker(t,(n=this,function(){var t,i,r;return i=n.getProp("coords",e,n.model),r=n.getProp("icon",e,n.model),t=n.getProp("options",e,n.model),n.opts=n.createOptions(i,r,t),n.isLabel(n.gObject)!==n.isLabel(n.opts)&&null!=n.gObject&&(n.gManager.remove(n.gObject),n.gObject=void 0),null!=n.gObject&&n.gObject.setOptions(n.setLabelOptions(n.opts)),n.gObject||(n.isLabel(n.opts)?n.gObject=new MarkerWithLabel(n.setLabelOptions(n.opts)):n.opts.content?(n.gObject=new RichMarker(n.opts),n.gObject.getIcon=n.gObject.getContent,n.gObject.setIcon=n.gObject.setContent):n.gObject=new google.maps.Marker(n.opts),_.extend(n.gObject,{model:n.model})),n.externalListeners&&n.removeEvents(n.externalListeners),n.internalListeners&&n.removeEvents(n.internalListeners),n.externalListeners=n.setEvents(n.gObject,n.scope,n.model,["dragend"]),n.internalListeners=n.setEvents(n.gObject,{events:n.internalEvents(),$evalAsync:function(){}},n.model),null!=n.id?n.gObject.key=n.id:void 0})),this.gObject&&(this.gObject.getMap()||this.gManager.type!==u.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");null!=(i=this.gObject)&&i.getMap()&&this.gManager.type===u.type||(r.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}var n},h.prototype.setLabelOptions=function(e){return e.labelAnchor&&(e.labelAnchor=this.getLabelPositionPoint(e.labelAnchor)),e},h.prototype.internalEvents=function(){return{dragend:(t=this,function(e,i,n,r){var o,a,s;return a=t.trackModel?t.scope.model:t.model,s=t.setCoordsFromEvent(t.modelOrKey(a,t.coordsKey),t.gObject.getPosition()),a=t.setVal(n,t.coordsKey,s),null!=(null!=(o=t.scope.events)?o.dragend:void 0)&&o.dragend(e,i,a,r),t.scope.$apply()}),click:(e=this,function(t,i,n,r){var o;return o=e.getProp("click",e.scope,e.model),e.doClick&&null!=o?e.scope.$evalAsync(o(t,i,e.model,r)):void 0})};var e,t},h}()}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(t,i){var n;return n=new t(i,function(e){return new google.maps.Polygon(e)}),function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(i,n),i}()}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(t,i){var n;return n=t(i,function(e){return new google.maps.Polyline(e)}),function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(i,n),i}()}])}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(r,o,a,s,l,u,c,d){return function(h){function p(e,t,n,r,o,s,l,u,c){var d;this.model=e,this.scope=t,this.opts=n,this.isIconVisibleOnClick=r,this.mapCtrl=o,this.markerScope=s,this.element=l,this.needToManualDestroy=null!=u&&u,this.markerIsVisibleAfterWindowClose=null==c||c,this.updateModel=i(this.updateModel,this),this.destroy=i(this.destroy,this),this.remove=i(this.remove,this),this.getLatestPosition=i(this.getLatestPosition,this),this.hideWindow=i(this.hideWindow,this),this.showWindow=i(this.showWindow,this),this.handleClick=i(this.handleClick,this),this.watchOptions=i(this.watchOptions,this),this.watchCoords=i(this.watchCoords,this),this.createGWin=i(this.createGWin,this),this.watchElement=i(this.watchElement,this),this.watchAndDoShow=i(this.watchAndDoShow,this),this.doShow=i(this.doShow,this),this.clonedModel=_.clone(this.model,!0),this.getGmarker=function(){var e,t;return null!=(null!=(e=this.markerScope)?e.getGMarker:void 0)&&null!=(t=this.markerScope)?t.getGMarker():void 0},this.listeners=[],this.createGWin(),null!=(d=this.getGmarker())&&d.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",(h=this,function(){return h.destroy()})),a.info(this);var h}return function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(p,r),p.include(o),p.include(d),p.prototype.doShow=function(e){return!0===this.scope.show||e?this.showWindow():this.hideWindow()},p.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},p.prototype.watchElement=function(){return this.scope.$watch((e=this,function(){var t,i;if(e.element||e.html)return e.html!==e.element.html()&&e.gObject?(null!=(t=e.opts)&&(t.content=void 0),i=e.gObject.isOpen(),e.remove(),e.createGWin(i)):void 0}));var e},p.prototype.createGWin=function(t){var i,n,r,o,a;return null==t&&(t=!1),r=this.getGmarker(),n={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),n=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),i=this.scope.options?this.scope.options:n,this.opts=this.createWindowOptions(r,this.markerScope||this.scope,this.html,i),null!=this.opts?(this.gObject||(this.opts.boxClass&&e.InfoBox&&"function"==typeof e.InfoBox?this.gObject=new e.InfoBox(this.opts):this.gObject=new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",(s=this,function(){return r&&(r.setAnimation(s.oldMarkerAnimation),s.markerIsVisibleAfterWindowClose&&_.delay(function(){return r.setVisible(!1),r.setVisible(s.markerIsVisibleAfterWindowClose)},250)),s.gObject.close(),s.model.show=!1,null!=s.scope.closeClick?s.scope.$evalAsync(s.scope.closeClick()):s.scope.$evalAsync()})))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)&&null!=(a=o.options)?a.forceClick:void 0)||t),this.doShow(this.gObject.isOpen())):void 0;var s},p.prototype.watchCoords=function(){return(null!=this.markerScope?this.markerScope:this.scope).$watch("coords",(e=this,function(t,i){var n;if(t!==i){if(null==t)e.hideWindow();else if(!e.validateCoords(t))return void a.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(e.model));if(n=e.getCoords(t),e.doShow(),e.gObject.setPosition(n),e.opts)return e.opts.position=n}}),!0);var e},p.prototype.watchOptions=function(){return this.scope.$watch("options",(e=this,function(t,i){if(t!==i&&(e.opts=t,null!=e.gObject)){if(e.gObject.setOptions(e.opts),null!=e.opts.visible&&e.opts.visible)return e.showWindow();if(null!=e.opts.visible)return e.hideWindow()}}),!0);var e},p.prototype.handleClick=function(e){var t,i;if(null!=this.gObject)return i=this.getGmarker(),n=this,t=function(){return null==n.gObject&&n.createGWin(),n.showWindow(),null!=i?(n.initialMarkerVisibility=i.getVisible(),n.oldMarkerAnimation=i.getAnimation(),i.setVisible(n.isIconVisibleOnClick)):void 0},e&&t(),i?this.listeners=this.listeners.concat(this.setEvents(i,{events:{click:t}},this.model)):void 0;var n},p.prototype.showWindow=function(){var e,i,n;return null!=this.gObject?(o=this,i=function(){var e,t,i;if(!o.gObject.isOpen()){if(t=o.getGmarker(),null!=o.gObject&&null!=o.gObject.getPosition&&(i=o.gObject.getPosition()),t&&(i=t.getPosition()),!i)return;if(o.gObject.open(o.mapCtrl,t),e=o.gObject.isOpen(),o.model.show!==e)return o.model.show=e}},this.scope.templateUrl?l.get(this.scope.templateUrl,{cache:u}).then((r=this,function(e){var n,o;return o=r.scope.$new(),t.isDefined(r.scope.templateParameter)&&(o.parameter=r.scope.templateParameter),n=s(e.data)(o),r.gObject.setContent(n[0]),i()})):this.scope.template?(n=this.scope.$new(),t.isDefined(this.scope.templateParameter)&&(n.parameter=this.scope.templateParameter),e=s(this.scope.template)(n),this.gObject.setContent(e[0]),i()):i()):void 0;var r,o},p.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},p.prototype.getLatestPosition=function(e){var t;return t=this.getGmarker(),null==this.gObject||null==t||e?e?this.gObject.setPosition(e):void 0:this.gObject.setPosition(t.getPosition())},p.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},p.prototype.destroy=function(e){var t;return null==e&&(e=!1),this.remove(),null==this.scope||(null!=(t=this.scope)?t.$$destroyed:void 0)||!this.needToManualDestroy&&!e?void 0:this.scope.$destroy()},p.prototype.updateModel=function(e){return this.clonedModel=_.clone(e,!0),_.extend(this.model,this.clonedModel)},p}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise",function(n,r,o,a,s,l,u){return function(n,c,d){return function(h){function p(t,i,o,a,l){this.element=i,this.attrs=o,this.gMap=a,this.defaults=l,this.createChild=e(this.createChild,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),p.__super__.constructor.call(this,t),this.interface=n,this.$log=r,this.plurals=new s,_.each(n.scopeKeys,(u=this,function(e){return u[e+"Key"]=void 0})),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes();var u}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(p,o),p.include(a),p.prototype.watchModels=function(e){return e.$watchCollection("models",(t=this,function(i,n){return i!==n?t.doINeedToWipe(i)||e.doRebuildAll?t.rebuildAll(e,!0,!0):t.createChildScopes(!1):void 0}));var t},p.prototype.doINeedToWipe=function(e){var t;return t=null==e||0===e.length,this.plurals.length>0&&t},p.prototype.rebuildAll=function(e,t,i){return this.onDestroy(i).then((n=this,function(){return t?n.createChildScopes():void 0}));var n},p.prototype.onDestroy=function(e){return p.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,u.promiseTypes.delete,void 0,void 0,(t=this,function(){return l.each(t.plurals.values(),function(e){return e.destroy(!0)},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}));var t},p.prototype.watchDestroy=function(e){return e.$on("$destroy",(t=this,function(){return t.rebuildAll(e,!1,!0)}));var t},p.prototype.createChildScopes=function(e){return null==e&&(e=!0),t.isUndefined(this.scope.models)?void this.$log.error("No models to create "+d+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},p.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",(t=this,function(i,n){return i!==n&&null==i?(t.idKey=i,t.rebuildAll(e,!0,!0)):void 0}));var t},p.prototype.createAllNew=function(e,t){var i;return null==t&&(t=!1),this.models=e.models,this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.didQueueInitPromise(this,e)?void 0:(i=null,l.promiseLock(this,u.promiseTypes.create,"createAllNew",function(e){return i=e},(n=this,function(){return l.each(e.models,function(e){var t;return t=n.createChild(e,n.gMap),i&&(r.debug("createNew should fall through safely"),t.isEnabled=!1),i},l.chunkSizeFrom(e.chunk)).then(function(){return n.firstTime=!1})})));var n},p.prototype.pieceMeal=function(e,t){var i,n;return null==t&&(t=!0),e.$$destroyed?void 0:(i=null,n=null,this.models=e.models,null!=e&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,u.promiseTypes.update,"pieceMeal",function(e){return i=e},(o=this,function(){return u.promise(function(){return o.figureOutState(o.idKey,e,o.plurals,o.modelKeyComparison)}).then(function(t){return(n=t).updates.length&&r.info("polygons updates: "+n.updates.length+" will be missed"),l.each(n.removals,function(e){return null!=e?(e.destroy(),o.plurals.remove(e.model[o.idKey]),i):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(n.adds,function(e){return i&&r.debug("pieceMeal should fall through safely"),o.createChild(e,o.gMap),i},l.chunkSizeFrom(e.chunk))})})):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)));var o},p.prototype.createChild=function(e,t){var i,r;return r=this.scope.$new(!1),this.setChildScope(n.scopeKeys,r,e),r.$watch("model",(o=this,function(e,t){return e!==t?o.setChildScope(r,e):void 0}),!0),r.static=this.scope.static,i=new c(r,this.attrs,t,this.defaults,e),null==e[this.idKey]?void this.$log.error(d+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(e[this.idKey],i),i);var o},p}()}}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(i,n,r,o,a){return function(n){function s(e,n,o,a,s){var l,u,c;this.attrs=o,this.map=a,this.DEFAULTS=s,this.scope=e,c=null,h=this,l=function(){return c=null,null!=h.listeners?(h.removeEvents(h.listeners),h.listeners=void 0):void 0},u=new google.maps.Circle(this.buildOpts(r.getCoords(e.center),e.radius)),this.setMyOptions=(d=this,function(t,i){return _.isEqual(t,i)?void 0:u.setOptions(d.buildOpts(r.getCoords(e.center),e.radius))}),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return u}),l(),this.listeners=this.setEvents(u,e,e,["radius_changed"]),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(u,"radius_changed",function(){var i,n;return(i=u.getRadius())!==c?(c=i,n=function(){var t,n;return i!==e.radius&&(e.radius=i),(null!=(t=e.events)?t.radius_changed:void 0)&&_.isFunction(null!=(n=e.events)?n.radius_changed:void 0)?e.events.radius_changed(u,"radius_changed",e,arguments):void 0},t.mock?n():e.$evalAsync(function(){return n()})):void 0})),null!=this.listeners&&this.listeners.push(google.maps.event.addListener(u,"center_changed",function(){return e.$evalAsync(function(){return t.isDefined(e.center.type)?(e.center.coordinates[1]=u.getCenter().lat(),e.center.coordinates[0]=u.getCenter().lng()):(e.center.latitude=u.getCenter().lat(),e.center.longitude=u.getCenter().lng())})})),e.$on("$destroy",function(){return l(),u.setMap(null)}),i.info(this);var d,h}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(s,a),s.include(r),s.include(o),s}()}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(t,i,n,r){return function(t){function i(e,t,i,n){var r,o;this.scope=e,this.attrs=i,this.map=n,(r=new google.maps.drawing.DrawingManager(this.scope.options)).setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return r}),!this.scope.static&&this.scope.options&&this.scope.$watch("options",function(e){return null!=r?r.setOptions(e):void 0},!0),null!=this.scope.events&&(o=this.setEvents(r,this.scope,this.scope),this.scope.$watch("events",(s=this,function(e,t){return _.isEqual(e,t)?void 0:(null!=o&&s.removeEvents(o),o=s.setEvents(r,s.scope,s.scope))}))),this.scope.$on("$destroy",(a=this,function(){return null!=o&&a.removeEvents(o),r.setMap(null),r=null}));var a,s}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(i,n),i.include(r),i}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(n,r){return function(o){function a(i,n,o,s){if(this.scope=i,this.element=n,this.attrs=o,this.map=s,this.onWatch=e(this.onWatch,this),this.watch=e(this.watch,this),this.validateScope=e(this.validateScope,this),a.__super__.constructor.call(this,this.scope),this.$log=r,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=t.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",(l=this,function(){return l.onDestroy(l.scope)}));var l}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),a.prototype.DEFAULTS={},a.prototype.validateScope=function(e){return null==e?(this.$log.error(this.constructor.name+": invalid scope used"),!1):null!=e.coords||(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1)},a.prototype.watch=function(e,t,i){return null==i&&(i=!0),t.$watch(e,(n=this,function(i,r){return _.isEqual(i,r)?void 0:n.onWatch(e,t,i,r)}),i);var n},a.prototype.onWatch=function(e,t,i,n){},a}()}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(t,i,n){return function(r){function o(e,t,i,r,a,s,l,u){o.__super__.constructor.call(this,e),this.$log=n,this.$timeout=a,this.$compile=s,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=e.options&&(this.DEFAULTS=e.options)}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(o,t),o.include(i),o.prototype.getItem=function(e,t,i){return"models"===t?e[t][i]:e[t].get(i)},o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(n,r,o){return function(o){function a(i,n,o,a,s,l){return this.scope=i,this.element=n,this.attrs=o,this.gMap=a,this.onLayerCreated=null!=s?s:void 0,this.$log=null!=l?l:r,this.createGoogleLayer=e(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",(d=this,function(e,t){return e!==t?(d.doShow=e,e?d.gObject.setMap(d.gMap):d.gObject.setMap(null)):void 0}),!0),this.scope.$watch("options",(c=this,function(e,t){return e!==t?(c.gObject.setMap(null),c.gObject=null,c.createGoogleLayer()):void 0}),!0),void this.scope.$on("$destroy",(u=this,function(){return u.gObject.setMap(null)})));var u,c,d}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),a.prototype.createGoogleLayer=function(){var e;return null==this.attrs.options?this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(e=this.onLayerCreated(this.scope,this.gObject))?e(this.gObject):void 0},a}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(n,r){return function(o){function a(i,n,o,a,s){return this.scope=i,this.element=n,this.attrs=o,this.gMap=a,this.$log=null!=s?s:r,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.refreshMapType=e(this.refreshMapType,this),this.createMapType=e(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),t.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",(d=this,function(e,t){return e!==t?(d.doShow=e,e?d.showOverlay():d.hideOverlay()):void 0}),!0),this.scope.$watch("options",(c=this,function(e,t){return _.isEqual(e,t)?void 0:c.refreshMapType()}),!0),t.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",(u=this,function(e,t){return _.isEqual(e,t)?void 0:u.refreshMapType()}),!0),void this.scope.$on("$destroy",(l=this,function(){return l.hideOverlay(),l.mapType=null})));var l,u,c,d}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(a,n),a.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),t.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},a.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},a.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},a.prototype.hideOverlay=function(){var e;return e=!1,this.gMap.overlayMapTypes.forEach((t=this,function(i,n){e||i.layerId!==t.id||(e=!0,t.gMap.overlayMapTypes.removeAt(n))}));var t},a}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger",function(n,r,o,a,s,l,u,c,d,h,p,f){var g;return g=function(e,t){return t.plurals=new o,t.scope.plurals=t.plurals,t},function(c){function f(t,i,n,r){this.onDestroy=e(this.onDestroy,this),this.newChildMarker=e(this.newChildMarker,this),this.pieceMeal=e(this.pieceMeal,this),this.rebuildAll=e(this.rebuildAll,this),this.createAllNew=e(this.createAllNew,this),this.createChildScopes=e(this.createChildScopes,this),this.validateScope=e(this.validateScope,this),this.onWatch=e(this.onWatch,this);f.__super__.constructor.call(this,t,i,n,r),this.interface=d,g(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll&&this.scope.doRebuildAll,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",(s=this,function(e,t){return e!==t?s.doRebuildAll=e:void 0})),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",(a=this,function(e,t){if(!_.isEqual(e,t)||!a.modelsRendered){if(0===e.length&&0===t.length)return;return a.modelsRendered=!0,a.onWatch("models",a.scope,e,t)}}),!this.isTrue(n.modelsbyref)),this.watch("doCluster",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope);var a,s}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(f,n),f.include(p),f.include(r),f.prototype.onWatch=function(e,t,i,n){return"idKey"===e&&i!==n&&(this.idKey=i),this.doRebuildAll||"doCluster"===e?this.rebuildAll(t):this.pieceMeal(t)},f.prototype.validateScope=function(e){var i;return(i=t.isUndefined(e.models)||void 0===e.models)&&this.$log.error(this.constructor.name+": no valid models attribute found"),f.__super__.validateScope.call(this,e)||i},f.prototype.createChildScopes=function(e){return null!=this.gMap&&null!=this.scope.models?e?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},f.prototype.createAllNew=function(e){var i,n,r,o,a;return null!=this.gManager&&(this.gManager.clear(),delete this.gManager),e.doCluster?(e.clusterEvents&&(a=this,this.origClusterEvents?t.extend(e.clusterEvents,this.origClusterEvents):this.origClusterEvents={click:null!=(n=e.clusterEvents)?n.click:void 0,mouseout:null!=(r=e.clusterEvents)?r.mouseout:void 0,mouseover:null!=(o=e.clusterEvents)?o.mouseover:void 0},t.extend(e.clusterEvents,{click:function(e){return a.maybeExecMappedEvent(e,"click")},mouseout:function(e){return a.maybeExecMappedEvent(e,"mouseout")},mouseover:function(e){return a.maybeExecMappedEvent(e,"mouseover")}})),this.gManager=new l(this.map,void 0,e.clusterOptions,e.clusterEvents)):this.gManager=new u(this.map),this.didQueueInitPromise(this,e)?void 0:(i=null,s.promiseLock(this,h.promiseTypes.create,"createAllNew",function(e){return i=e},(c=this,function(){return s.each(e.models,function(t){return c.newChildMarker(t,e),i},s.chunkSizeFrom(e.chunk)).then(function(){return c.modelsRendered=!0,e.fit&&c.gManager.fit(),c.gManager.draw(),c.scope.pluralsUpdate.updateCtr+=1},s.chunkSizeFrom(e.chunk))})));var c},f.prototype.rebuildAll=function(e){var t;if(e.doRebuild||void 0===e.doRebuild)return(null!=(t=this.scope.plurals)?t.length:void 0)?this.onDestroy(e).then((i=this,function(){return i.createAllNew(e)})):this.createAllNew(e);var i},f.prototype.pieceMeal=function(e){var t,i;if(!e.$$destroyed)return t=null,i=null,this.modelsLength()&&this.scope.plurals.length?s.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(e){return t=e},(n=this,function(){return h.promise(function(){return n.figureOutState(n.idKey,e,n.scope.plurals,n.modelKeyComparison)}).then(function(r){return i=r,s.each(i.removals,function(e){return null!=e?(null!=e.destroy&&e.destroy(),n.scope.plurals.remove(e.id),t):void 0},s.chunkSizeFrom(e.chunk))}).then(function(){return s.each(i.adds,function(i){return n.newChildMarker(i,e),t},s.chunkSizeFrom(e.chunk))}).then(function(){return s.each(i.updates,function(e){return n.updateChild(e.child,e.model),t},s.chunkSizeFrom(e.chunk))}).then(function(){return(i.adds.length>0||i.removals.length>0||i.updates.length>0)&&(e.plurals=n.scope.plurals,e.fit&&n.gManager.fit(),n.gManager.draw()),n.scope.pluralsUpdate.updateCtr+=1})})):(this.inProgress=!1,this.rebuildAll(e));var n},f.prototype.newChildMarker=function(e,t){var i,n,r;return null==e[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",i,"markers",this.scope.markerModels),(n=t.$new(!1)).events=t.events,r={},d.scopeKeys.forEach(function(e){return r[e]=t[e]}),i=new a(n,e,r,this.map,this.DEFAULTS,this.doClick,this.gManager,!1),this.scope.plurals.put(e[this.idKey],i),i)},f.prototype.onDestroy=function(e){return f.__super__.onDestroy.call(this,e),s.promiseLock(this,h.promiseTypes.delete,void 0,void 0,(t=this,function(){return s.each(t.scope.plurals.values(),function(e){return null!=e?e.destroy(!1):void 0},s.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){return null!=t.gManager&&t.gManager.clear(),t.plurals.removeAll(),t.plurals!==t.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),t.scope.pluralsUpdate.updateCtr+=1})}));var t},f.prototype.maybeExecMappedEvent=function(e,t){var i,n;return _.isFunction(null!=(n=this.scope.clusterEvents)?n[t]:void 0)&&(i=this.mapClusterToPlurals(e),this.origClusterEvents[t])?this.origClusterEvents[t](i.cluster,i.mapped):void 0},f.prototype.mapClusterToPlurals=function(e){return{cluster:e,mapped:e.getMarkers().map((t=this,function(e){return t.scope.plurals.get(e.key).model}))};var t},f.prototype.getItem=function(e,t,i){return"models"===t?e[t][i]:e[t].get(i)},f}()}])}.call(this),function(){["Polygon","Polyline"].forEach(function(e){return t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+e+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+e+"ChildModel","uiGmapI"+e,function(t,i,n){return t(n,i,e)}])})}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(t,i,n,r){return function(o){function a(e,i,n,r,o){var a,s,l,u,c,d,h,p,f,g,m;this.scope=e,this.attrs=n,this.map=r,this.DEFAULTS=o,a=void 0,u=!1,f=[],p=void 0,S=this,c=function(){return S.isTrue(S.attrs.fit)?S.fitMapBounds(S.map,a):void 0},C=this,(l=function(){var e,i,n;return null!=C.scope.bounds&&null!=(null!=(e=C.scope.bounds)?e.sw:void 0)&&null!=(null!=(i=C.scope.bounds)?i.ne:void 0)&&C.validateBoundPoints(C.scope.bounds)?(a=C.convertBoundPoints(C.scope.bounds),t.info("new new bounds created: "+JSON.stringify(a))):null!=C.scope.bounds.getNorthEast&&null!=C.scope.bounds.getSouthWest?a=C.scope.bounds:null!=C.scope.bounds?t.error("Invalid bounds for newValue: "+JSON.stringify(null!=(n=C.scope)?n.bounds:void 0)):void 0})(),d=new google.maps.Rectangle(this.buildOpts(a)),t.info("gObject (rectangle) created: "+d),g=!1,x=this,m=function(){var e,t,i;return e=d.getBounds(),t=e.getNorthEast(),i=e.getSouthWest(),g?void 0:x.scope.$evalAsync(function(n){return null!=n.bounds&&null!=n.bounds.sw&&null!=n.bounds.ne&&(n.bounds.ne={latitude:t.lat(),longitude:t.lng()},n.bounds.sw={latitude:i.lat(),longitude:i.lng()}),null!=n.bounds.getNorthEast&&null!=n.bounds.getSouthWest?n.bounds=e:void 0})},w=this,h=function(){return c(),w.removeEvents(f),f.push(google.maps.event.addListener(d,"dragstart",function(){return u=!0})),f.push(google.maps.event.addListener(d,"dragend",function(){return u=!1,m()})),f.push(google.maps.event.addListener(d,"bounds_changed",function(){return u?void 0:m()}))},b=this,s=function(){return b.removeEvents(f),null!=p&&b.removeEvents(p),d.setMap(null)},null!=a&&h(),this.scope.$watch("bounds",function(e,t){var i;if(!(_.isEqual(e,t)&&null!=a||u))return g=!0,null==e?void s():(null==a?i=!0:c(),l(),d.setBounds(a),g=!1,i&&null!=a?h():void 0)},!0),this.setMyOptions=(y=this,function(e,t){return _.isEqual(e,t)||null==a||null==e?void 0:d.setOptions(y.buildOpts(a))}),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(p=this.setEvents(d,this.scope,this.scope),this.scope.$watch("events",(v=this,function(e,t){return _.isEqual(e,t)?void 0:(null!=p&&v.removeEvents(p),p=v.setEvents(d,v.scope,v.scope))}))),this.scope.$on("$destroy",function(){return s()}),t.info(this);var v,y,b,w,x,C,S}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(a,r),a.include(i),a.include(n),a}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper","$timeout","$http","$templateCache",function(n,r,o,a,s,l){return function(a){function s(i,n,o,a,s,l,u){var c;return this.scope=i,this.element=n,this.attrs=o,this.gMap=a,this.ctrlPosition=s,this.template=l,this.$log=null!=u?u:r,this.setVisibility=e(this.setVisibility,this),this.getBounds=e(this.getBounds,this),this.setBounds=e(this.setBounds,this),this.createSearchBox=e(this.createSearchBox,this),this.addToParentDiv=e(this.addToParentDiv,this),this.addAsMapControl=e(this.addAsMapControl,this),this.init=e(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(t.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),t.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),t.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,(c=t.element("<div></div>")).append(this.template),this.input=c.find("input")[0],void this.init())}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,n),s.include(o),s.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",(r=this,function(e,i){return t.isObject(e)&&(null!=e.bounds&&r.setBounds(e.bounds),null!=e.visible&&r.visible!==e.visible)?r.setVisibility(e.visible):void 0}),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.autocomplete?this.listener=google.maps.event.addListener(this.gObject,"place_changed",(n=this,function(){return n.places=n.gObject.getPlace()})):this.listener=google.maps.event.addListener(this.gObject,"places_changed",(i=this,function(){return i.places=i.gObject.getPlaces()})),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$destroy",(e=this,function(){return e.gObject=null}));var e,i,n,r},s.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},s.prototype.addToParentDiv=function(){return this.parentDiv=t.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},s.prototype.createSearchBox=function(){return this.autocomplete?this.gObject=new google.maps.places.Autocomplete(this.input,this.scope.options):this.gObject=new google.maps.places.SearchBox(this.input,this.scope.options)},s.prototype.setBounds=function(e){if(t.isUndefined(e.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(!1===e.isEmpty()&&null!=this.gObject)return this.gObject.setBounds(e)},s.prototype.getBounds=function(){return this.gObject.getBounds()},s.prototype.setVisibility=function(e){return null!=this.attrs.parentdiv?!1===e?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):!1===e?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=e},s}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(n,r,o,a,s,l,u,c,d,h,p,f,g,m,v){return function(y){function b(t,i,n,r,a,l){this.gMap=a,this.markersScope=l,this.modelKeyComparison=e(this.modelKeyComparison,this),this.interpolateContent=e(this.interpolateContent,this),this.setChildScope=e(this.setChildScope,this),this.createWindow=e(this.createWindow,this),this.setContentKeys=e(this.setContentKeys,this),this.pieceMeal=e(this.pieceMeal,this),this.createAllNew=e(this.createAllNew,this),this.watchIdKey=e(this.watchIdKey,this),this.createChildScopes=e(this.createChildScopes,this),this.watchOurScope=e(this.watchOurScope,this),this.watchDestroy=e(this.watchDestroy,this),this.onDestroy=e(this.onDestroy,this),this.rebuildAll=e(this.rebuildAll,this),this.doINeedToWipe=e(this.doINeedToWipe,this),this.watchModels=e(this.watchModels,this),this.go=e(this.go,this),b.__super__.constructor.call(this,t,i,n,r,c,d,h,p),this.interface=m,this.plurals=new o,_.each(m.scopeKeys,(u=this,function(e){return u[e+"Key"]=void 0})),this.linked=new s(t,i,n,r),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(t);var u}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(b,n),b.include(r),b.prototype.go=function(e){return this.watchOurScope(e),this.doRebuildAll=null!=this.scope.doRebuildAll&&this.scope.doRebuildAll,e.$watch("doRebuildAll",(t=this,function(e,i){return e!==i?t.doRebuildAll=e:void 0})),this.createChildScopes();var t},b.prototype.watchModels=function(e){var t;return t=null!=this.markersScope?"pluralsUpdate":"models",e.$watch(t,(i=this,function(t,n){var r;return!_.isEqual(t,n)||i.firstWatchModels?(i.firstWatchModels=!1,i.doRebuildAll||i.doINeedToWipe(e.models)?i.rebuildAll(e,!0,!0):(r=0===i.plurals.length,null!=i.existingPieces?_.last(i.existingPieces._content).then(function(){return i.createChildScopes(r)}):i.createChildScopes(r))):void 0}),!0);var i},b.prototype.doINeedToWipe=function(e){var t;return t=null==e||0===e.length,this.plurals.length>0&&t},b.prototype.rebuildAll=function(e,t,i){return this.onDestroy(i).then((n=this,function(){return t?n.createChildScopes():void 0}));var n},b.prototype.onDestroy=function(e){return b.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,g.promiseTypes.delete,void 0,void 0,(t=this,function(){return l.each(t.plurals.values(),function(e){return e.destroy()},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}));var t},b.prototype.watchDestroy=function(e){return e.$on("$destroy",(t=this,function(){return t.firstWatchModels=!0,t.firstTime=!0,t.rebuildAll(e,!1,!0)}));var t},b.prototype.watchOurScope=function(e){return _.each(m.scopeKeys,(t=this,function(i){return t[i+"Key"]="function"==typeof e[i]?e[i]():e[i]}));var t},b.prototype.createChildScopes=function(e){var i,n;return null==e&&(e=!0),this.isIconVisibleOnClick=!0,t.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),!t.isUndefined(this.linked.scope.models)||void 0!==this.markersScope&&void 0!==(null!=(i=this.markersScope)?i.plurals:void 0)&&void 0!==(null!=(n=this.markersScope)?n.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),e?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),e?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},b.prototype.watchIdKey=function(e){return this.setIdKey(e),e.$watch("idKey",(t=this,function(i,n){return i!==n&&null==i?(t.idKey=i,t.rebuildAll(e,!0,!0)):void 0}));var t},b.prototype.createAllNew=function(e,t,i,n){var r;return null==i&&(i="models"),null==n&&(n=!1),this.firstTime&&(this.watchModels(e),this.watchDestroy(e)),this.setContentKeys(e.models),this.didQueueInitPromise(this,e)?void 0:(r=null,l.promiseLock(this,g.promiseTypes.create,"createAllNew",function(e){return r=e},(o=this,function(){return l.each(e.models,function(n){var a,s;return a=t&&null!=(s=o.getItem(e,i,n[o.idKey]))?s.gObject:void 0,r||(!a&&o.markersScope&&u.error("Unable to get gMarker from markersScope!"),o.createWindow(n,a,o.gMap)),r},l.chunkSizeFrom(e.chunk)).then(function(){return o.firstTime=!1})})));var o},b.prototype.pieceMeal=function(e,t,i,n){var r,o;return null==i&&(i="models"),null==n&&(n=!0),e.$$destroyed?void 0:(r=null,o=null,null!=e&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,g.promiseTypes.update,"pieceMeal",function(e){return r=e},(a=this,function(){return g.promise(function(){return a.figureOutState(a.idKey,e,a.plurals,a.modelKeyComparison)}).then(function(t){return o=t,l.each(o.removals,function(e){return null!=e?(a.plurals.remove(e.id),null!=e.destroy&&e.destroy(!0),r):void 0},l.chunkSizeFrom(e.chunk))}).then(function(){return l.each(o.adds,function(t){var n,o;if(!(n=null!=(o=a.getItem(e,i,t[a.idKey]))?o.gObject:void 0))throw"Gmarker undefined";return a.createWindow(t,n,a.gMap),r})}).then(function(){return l.each(o.updates,function(e){return a.updateChild(e.child,e.model),r},l.chunkSizeFrom(e.chunk))})})):(u.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)));var a},b.prototype.setContentKeys=function(e){return this.modelsLength(e)?this.contentKeys=Object.keys(e[0]):void 0},b.prototype.createWindow=function(e,t,i){var n,r,o,s,l,u;return r=this.linked.scope.$new(!1),this.setChildScope(r,e),r.$watch("model",(d=this,function(e,t){return e!==t?d.setChildScope(r,e):void 0}),!0),o={html:(c=this,function(){return c.interpolateContent(c.linked.element.html(),e)})},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,e)||{},s=this.createWindowOptions(t,r,o.html(),this.DEFAULTS),n=new a(e,r,s,this.isIconVisibleOnClick,i,null!=(l=this.markersScope)&&null!=(u=l.plurals.get(e[this.idKey]))?u.scope:void 0,o,!1,!0),null==e[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(e[this.idKey],n),n);var c,d},b.prototype.setChildScope=function(e,t){return _.each(m.scopeKeys,(i=this,function(n){var r,o;return(o="self"===i[r=n+"Key"]?t:t[i[r]])!==e[n]?e[n]=o:void 0})),e.model=t;var i},b.prototype.interpolateContent=function(e,t){var i,n,r,o,a,s;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(i=f(e),r={},n=0,a=(s=this.contentKeys).length;a>n;n++)o=s[n],r[o]=t[o];return i(r)}},b.prototype.modelKeyComparison=function(e,t){var i,n;if(null==(n=null!=this.scope.coords?this.scope:this.parentScope))throw"No scope or parentScope set!";return(i=v.equalCoords(this.evalModelHandle(e,n.coords),this.evalModelHandle(t,n.coords)))?i=_.every(_.without(this.interface.scopeKeys,"coords"),(r=this,function(i){return r.evalModelHandle(e,n[i])===r.evalModelHandle(t,n[i])})):i;var r},b}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(e,t){return _.extend(e,{link:function(e,i,n,r){return r.getScope().deferred.promise.then(function(r){return new t(e,i,n,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(n,r,o,a,s,l){return function(u){function c(){this.link=e(this.link,this),c.__super__.constructor.call(this)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(c,n),c.prototype.link=function(e,i,u,c){return l.then((d=this,function(i){var l,u;return t.isUndefined(e.template)?void d.$log.error("mapControl: could not find a valid template property"):(l=t.isDefined(e.index&&!isNaN(parseInt(e.index)))?parseInt(e.index):void 0,u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",i.ControlPosition[u]?n.mapPromise(e,c).then(function(i){var n,c;return n=void 0,c=t.element("<div></div>"),r.get(e.template,{cache:o}).success(function(i){var r,o;return o=e.$new(),c.append(i),t.isDefined(e.controller)&&(r=s(e.controller,{$scope:o}),c.children().data("$ngControllerController",r)),n=a(c.children())(o),l?n[0].index=l:void 0}).error(function(e){return d.$log.error("mapControl: template could not be found")}).then(function(){return i.controls[google.maps.ControlPosition[u]].push(n[0])})}):void d.$log.error("mapControl: invalid position property"))}));var d},c}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(e,t){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(t,i){return t.ctrlType="uiGmapDragZoom",_.extend(this,e.handle(t,i))}],link:function(i,n,r,o){return e.mapPromise(i,o).then(function(e){var n,r,o;return n=function(t){return e.enableKeyDragZoom(t),i.spec?i.spec.enableKeyDragZoom(t):void 0},r=new t(function(e,t){return t?n({key:t}):n()}),o=new t(function(e,t){return t?n(t):void 0}),i.$watch("keyboardkey",r.sic),r.sic(i.keyboardkey),i.$watch("options",o.sic),o.sic(i.options)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(e,t){return _.extend(e,{link:function(e,i,n,r){return r.getScope().deferred.promise.then(function(r){return new t(e,i,n,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(t,n,r,o,a){return function(s){function l(){return this.link=e(this.link,this),l.__super__.constructor.apply(this,arguments)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(l,n),l.include(r),l.prototype.restrict="EMA",l.prototype.replace=!0,l.prototype.require="^uiGmapGoogleMap",l.prototype.scope={polygons:"=",draw:"="},l.prototype.link=function(e,i,n,r){return this.mapPromise(e,r).then(function(i){var n,s;return e.polygons?_.isArray(e.polygons)?(n=new o(i,r.getScope()),s=void 0,e.draw=function(){return"function"==typeof s&&s(),n.engage(e.polygons).then(function(){var t;return t=!0,s=e.$watchCollection("polygons",function(e,i){return t||e===i?void(t=!1):a.differenceObjects(i,e).forEach(function(e){return e.setMap(null)})})})}):t.error("Free Draw Polygons must be of type Array!"):t.error("No polygons to bind to!")})},l}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){return{},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,i,n){return function(r){function o(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=i}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(o,t),o.extend(n),o.prototype.link=function(e,t,i,n){throw new Exception("Not implemented!!")},o}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{static:"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(t,i){return function(n){function r(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},r.scope)}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(r,t),r.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},r.scopeKeys=_.keys(r.scope),r.keys=r.scopeKeys,r.extend(i),r}()}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,i,n,r){return function(o){function a(){}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(a,i),a.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=",static:"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},a.scopeKeys=_.keys(a.scope),a.include(t),a.extend(r),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope=a.scope,a.prototype.DEFAULTS={},a.prototype.$log=n,a}()}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(t,i,n,r){return function(o){function a(){}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(a,i),a.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=",static:"=",fit:"=",events:"=",zIndex:"=zindex"},a.scopeKeys=_.keys(a.scope),a.include(t),a.extend(r),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope=a.scope,a.prototype.DEFAULTS={},a.prototype.$log=n,a}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){return{},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(t,i,n){return function(r){function o(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},o.scope)}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(o,t),o.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},o.scopeKeys=_.keys(o.scope),o.include(i),o.extend(n),o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper",function(r,o,a,s,l,u,c,d,h,p,f,g,m){var v,y;return v=void 0,y=[f,h,p],function(o){function h(){this.link=e(this.link,this);var t;t=function(e){var t;return void 0,e.$on("$destroy",function(){return c.decrement()}),t=u.handle(e),e.ctrlType="Map",e.deferred.promise.then(function(){return y.forEach(function(e){return e.init()})}),t.getMap=function(){return e.map},_.extend(this,t)},this.controller=["$scope",t]}return function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(h,l),h.include(s),h.prototype.restrict="EMA",h.prototype.transclude=!0,h.prototype.replace=!1,h.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container"></div><div ng-transclude style="display: none"></div></div>',h.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},h.prototype.link=function(e,n,o){var s,l;return s=[],e.$on("$destroy",function(){return m.removeEvents(s)}),e.idleAndZoomChanged=!1,null==e.center?void(l=e.$watch("center",(h=this,function(){return e.center?(l(),h.link(e,n,o)):void 0}))):g.then((u=this,function(l){var h,p,f,g,y,b,w,x,C,S,k,$,E,T,D,M,P;if(v={mapTypeId:l.MapTypeId.ROADMAP},T=c.spawn(),$=function(){return T.deferred.resolve({instance:T.instance,map:h})},u.validateCoords(e.center)){if(t.isDefined(e.zoom)){if((y=t.element(n)).addClass("angular-google-map"),S={options:{}},o.options&&(S.options=e.options),o.styles&&(S.styles=e.styles),o.type&&(D=o.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(D)?S.mapTypeId=google.maps.MapTypeId[o.type.toUpperCase()]:a.error("angular-google-maps: invalid map type '"+o.type+"'")),x=t.extend({},v,S,{center:u.getCoords(e.center),zoom:e.zoom,bounds:e.bounds}),(h=new google.maps.Map(y.find("div")[1],x)).uiGmap_id=d.generate(),g=!1,s.push(google.maps.event.addListenerOnce(h,"idle",function(){return e.deferred.resolve(h),$()})),f=o.events&&null!=(null!=(k=e.events)?k.blacklist:void 0)?e.events.blacklist:[],_.isString(f)&&(f=[f]),C=function(t,i,n){return _.contains(f,t)?void 0:(n&&n(),s.push(google.maps.event.addListener(h,t,function(){var t;return(null!=(t=e.update)?t.lazy:void 0)?void 0:i()})))},_.contains(f,"all")||(C("dragstart",function(){return g=!0,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=g:void 0})}),C("dragend",function(){return g=!1,e.$evalAsync(function(e){return null!=e.dragging?e.dragging=g:void 0})}),M=function(i,n){if(null==i&&(i=h.center),null==n&&(n=e),!_.contains(f,"center"))if(t.isDefined(n.center.type)){if(n.center.coordinates[1]!==i.lat()&&(n.center.coordinates[1]=i.lat()),n.center.coordinates[0]!==i.lng())return n.center.coordinates[0]=i.lng()}else if(n.center.latitude!==i.lat()&&(n.center.latitude=i.lat()),n.center.longitude!==i.lng())return n.center.longitude=i.lng()},E=!1,C("idle",function(){var t,n,r;return t=h.getBounds(),n=t.getNorthEast(),r=t.getSouthWest(),E=!0,e.$evalAsync(function(t){return M(),null===t.bounds||t.bounds===i||void 0===t.bounds||_.contains(f,"bounds")||(t.bounds.northeast={latitude:n.lat(),longitude:n.lng()},t.bounds.southwest={latitude:r.lat(),longitude:r.lng()}),_.contains(f,"zoom")||(t.zoom=h.zoom,e.idleAndZoomChanged=!e.idleAndZoomChanged),E=!1})})),t.isDefined(e.events)&&null!==e.events&&t.isObject(e.events)){w=function(t){return function(){return e.events[t].apply(e,[h,t,arguments])}},p=[];for(b in e.events)e.events.hasOwnProperty(b)&&t.isFunction(e.events[b])&&p.push(google.maps.event.addListener(h,b,w(b)));s.concat(p)}return h.getOptions=function(){return x},e.map=h,null!=o.control&&null!=e.control&&(e.control.refresh=function(e){var t,i,n;if(null!=h)return null!=("undefined"!=typeof google&&null!==google&&null!=(i=google.maps)&&null!=(n=i.event)?n.trigger:void 0)&&null!=h&&google.maps.event.trigger(h,"resize"),null!=(null!=e?e.latitude:void 0)&&null!=(null!=e?e.longitude:void 0)?(t=u.getCoords(e),u.isTrue(o.pan)?h.panTo(t):h.setCenter(t)):void 0},e.control.getGMap=function(){return h},e.control.getMapOptions=function(){return x},e.control.getCustomEventListeners=function(){return p},e.control.removeEvents=function(e){return m.removeEvents(e)}),e.$watch("center",function(t,i){var n;if(t!==i&&!E&&(n=u.getCoords(e.center),n.lat()!==h.center.lat()||n.lng()!==h.center.lng()))return g||(u.validateCoords(t)||a.error("Invalid center for newValue: "+JSON.stringify(t)),u.isTrue(o.pan)&&e.zoom===h.zoom?h.panTo(n):h.setCenter(n)),!1},!0),P=null,e.$watch("zoom",function(t,i){var n,o;if(null!=t&&!_.isEqual(t,i)&&(null!=h?h.getZoom():void 0)!==(null!=e?e.zoom:void 0)&&!E)return null!=P&&r.cancel(P),P=r(function(){return h.setZoom(t),!1},(null!=(n=e.eventOpts)&&null!=(o=n.debounce)?o.zoomMs:void 0)+20,!1)}),e.$watch("bounds",function(e,t){var i,n,r,o,s,l,u;if(e!==t)return null==(null!=e&&null!=(r=e.northeast)?r.latitude:void 0)||null==(null!=e&&null!=(o=e.northeast)?o.longitude:void 0)||null==(null!=e&&null!=(s=e.southwest)?s.latitude:void 0)||null==(null!=e&&null!=(l=e.southwest)?l.longitude:void 0)?void a.error("Invalid map bounds for new value: "+JSON.stringify(e)):(n=new google.maps.LatLng(e.northeast.latitude,e.northeast.longitude),u=new google.maps.LatLng(e.southwest.latitude,e.southwest.longitude),i=new google.maps.LatLngBounds(u,n),h.fitBounds(i))}),["options","styles"].forEach(function(t){return e.$watch(t,function(e,t){var i;return i=this.exp,_.isEqual(e,t)?void 0:("options"===i?S.options=e:S.options[i]=e,null!=h?h.setOptions(S):void 0)},!0)})}a.error("angular-google-maps: map zoom property not set")}else a.error("angular-google-maps: could not find a valid center property")}));var u,h},h}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(t,n,r,o){return function(a){function s(){this.link=e(this.link,this),s.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',o.info(this)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,t),s.prototype.controller=["$scope","$element",function(e,i){return e.ctrlType="Marker",_.extend(this,t.handle(e,i))}],s.prototype.link=function(e,i,o,a){return t.mapPromise(e,a).then(function(i){var o,a;return o=new r(i),a=_.object(t.keys,t.keys),new n(e,e,a,i,{},!0,o,!1,!1).deferred.promise.then(function(t){return e.deferred.resolve(t)}),null!=e.control?e.control.getGMarkers=o.getGMarkers:void 0}),e.$on("$destroy",function(){var e;return void 0!==e&&null!==e&&e.clear(),null})},s}()}])}.call(this),function(){var e={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(t,i,n,r,o){return function(r){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',i.extend(this,{doCluster:"=docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref"}),o.info(this)}return function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype}(a,t),a.prototype.controller=["$scope","$element",function(e,i){return e.ctrlType="Markers",_.extend(this,t.handle(e,i))}],a.prototype.link=function(e,r,o,a){var s,l;return s=void 0,l=function(){return e.deferred.resolve()},t.mapPromise(e,a).then(function(t){return a.getScope().$watch("idleAndZoomChanged",function(){return _.defer(s.gManager.draw)}),s=new n(e,r,o,t),i.link(e,s),null!=e.control&&(e.control.getGMarkers=function(){var e;return null!=(e=s.gManager)?e.getGMarkers():void 0},e.control.getChildMarkers=function(){return s.plurals}),_.last(s.existingPieces._content).then(function(){return l()})})},a}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var e;return e=function(e,t){return null!=e.control?(e.control.updateModels=function(i){return e.models=i,t.createChildScopes(!1)},e.control.newModels=function(i){return e.models=i,t.rebuildAll(e,!0,!0)},e.control.clean=function(){return t.rebuildAll(e,!1,!0)},e.control.getPlurals=function(){return t.plurals},e.control.getManager=function(){return t.gManager},e.control.hasManager=function(){return null!=t.gManager==1},e.control.managerDraw=function(){var t;return e.control.hasManager()&&null!=(t=e.control.getManager())?t.draw():void 0}):void 0},{extend:function(e,t){return _.extend(e.scope||{},t||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(t,i){return e(t,i)}}}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonChildModel",function(t,n,r,o){return function(n){function r(){return this.link=e(this.link,this),r.__super__.constructor.apply(this,arguments)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(r,t),r.prototype.link=function(e,i,n,r){var a,s;return a=[],s=t.mapPromise(e,r),null!=e.control&&(e.control.getInstance=this,e.control.polygons=a,e.control.promise=s),s.then((l=this,function(t){return a.push(new o(e,n,t,l.DEFAULTS))}));var l},r}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmaparray-sync","uiGmapPolygonsParentModel","uiGmapPlural",function(n,r,o,a,s){return function(r){function o(){this.link=e(this.link,this),o.__super__.constructor.call(this),s.extend(this),this.$log.info(this)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(o,n),o.prototype.link=function(e,i,n,r){return r.getScope().deferred.promise.then((o=this,function(r){return(t.isUndefined(e.path)||null===e.path)&&o.$log.warn("polygons: no valid path attribute found"),e.models||o.$log.warn("polygons: no models found to create from"),s.link(e,new a(e,i,n,r,o.DEFAULTS))}));var o},o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylineChildModel",function(n,r,o,a){return function(r){function o(){return this.link=e(this.link,this),o.__super__.constructor.apply(this,arguments)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(o,n),o.prototype.link=function(e,i,r,o){return n.mapPromise(e,o).then((s=this,function(i){return(t.isUndefined(e.path)||null===e.path||!s.validatePath(e.path))&&s.$log.warn("polyline: no valid path attribute found"),new a(e,r,i,s.DEFAULTS)}));var s},o}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmaparray-sync","uiGmapPolylinesParentModel","uiGmapPlural",function(n,r,o,a,s){return function(r){function o(){this.link=e(this.link,this),o.__super__.constructor.call(this),s.extend(this),this.$log.info(this)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(o,n),o.prototype.link=function(e,i,n,r){return r.getScope().deferred.promise.then((o=this,function(r){return(t.isUndefined(e.path)||null===e.path)&&o.$log.warn("polylines: no valid path attribute found"),e.models||o.$log.warn("polylines: no models found to create from"),s.link(e,new a(e,i,n,r,o.DEFAULTS))}));var o},o}()}])}.call(this),function(){t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(e,t,i,n){return _.extend(i,{link:function(e,t,i,r){return r.getScope().deferred.promise.then(function(r){return new n(e,t,i,r)})}})}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(n,r,o,a,s){return function(l){function u(){this.link=e(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',s.debug(this),this.childWindows=[]}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(u,n),u.include(r),u.prototype.link=function(e,i,r,o){var a,s;return a=o.length>1&&null!=o[1]?o[1]:void 0,s=null!=a?a.getScope():void 0,this.mapPromise=n.mapPromise(e,o[0]),this.mapPromise.then((l=this,function(n){var o;return o=!0,t.isDefined(r.isiconvisibleonclick)&&(o=e.isIconVisibleOnClick),a?s.deferred.promise.then(function(t){return l.init(e,i,o,n,s)}):void l.init(e,i,o,n)}));var l},u.prototype.init=function(e,t,i,n,r){var s,l,u,c,d;return l=null!=e.options?e.options:{},c=null!=e&&this.validateCoords(e.coords),null!=(null!=r?r.getGMarker:void 0)&&(u=r.getGMarker()),d=c?this.createWindowOptions(u,e,t.html(),l):l,null!=n&&(s=new o({},e,d,i,n,r,t),this.childWindows.push(s),e.$on("$destroy",(m=this,function(){return m.childWindows=a.withoutObjects(m.childWindows,[s],function(e,t){return e.scope.$id===t.scope.$id}),m.childWindows.length=0}))),null!=e.control&&(e.control.getGWindows=(g=this,function(){return g.childWindows.map(function(e){return e.gObject})}),e.control.getChildWindows=(f=this,function(){return f.childWindows}),e.control.getPlurals=e.control.getChildWindows,e.control.showWindow=(p=this,function(){return p.childWindows.map(function(e){return e.showWindow()})}),e.control.hideWindow=(h=this,function(){return h.childWindows.map(function(e){return e.hideWindow()})})),null!=this.onChildCreation&&null!=s?this.onChildCreation(s):void 0;var h,p,f,g,m},u}()}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty;t.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(t,n,r,o,a){return function(s){function l(){this.init=e(this.init,this),this.link=e(this.link,this),l.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',n.extend(this),a.debug(this)}return function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(l,t),l.prototype.link=function(e,t,i,n){var r,a,s;return r=n[0].getScope(),a=n.length>1&&null!=n[1]?n[1]:void 0,s=null!=a?a.getScope():void 0,r.deferred.promise.then((l=this,function(r){var a;return((null!=s&&null!=(a=s.deferred)?a.promise:void 0)||o.resolve()).then(function(){var o,a;return(o=null!=(a=l.parentModel)?a.existingPieces:void 0)?o.then(function(){return l.init(e,t,i,n,r,s)}):l.init(e,t,i,n,r,s)})}));var l},l.prototype.init=function(e,t,i,o,a,s){var l;return l=new r(e,t,i,o,a,s),n.link(e,l),null!=e.control?(e.control.getGWindows=function(){return l.plurals.map(function(e){return e.gObject})},e.control.getChildWindows=function(){return l.plurals}):void 0},l}()}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(e,t){return new t(e)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(e,t){return t}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(e,t,i,n,r){return new r(e,t,i,n)}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(e,t,i,n,r,o){return new o(e,t,i,n,r)}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(t,i,n){return new(function(){function t(){this.link=e(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return t.prototype.link=function(e,t,i,r){return r.getScope().deferred.promise.then(function(r){return null!=e.onCreated?new n(e,t,i,r,e.onCreated):new n(e,t,i,r)})},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(e){return new e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(e){return e}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(t,i,n){return new(function(){function t(){this.link=e(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return t.prototype.link=function(e,t,i,r){return r.getScope().deferred.promise.then(function(r){return new n(e,t,i,r)})},t}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(e){return new e}])}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(i,n,r,o,a,s){return new(function(){function l(){this.link=e(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(e,n,l,u){return i.then((c=this,function(i){return o.get(e.template,{cache:a}).success(function(o){return t.isUndefined(e.events)?void c.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(a){var u;return u=t.isDefined(e.position)?e.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",i.ControlPosition[u]?new r(e,n,l,a,u,s(o)(e)):void c.$log.error("searchBox: invalid position property")})})}));var c},l}())}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(e,i){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(n,r){var o,a,s;return o=function(t,i){return e[t](r,"ng-hide").then(function(){return i()})},a=function(t,i){return e[t](r,"ng-hide",i)},s=function(e,n){return t.version.major>1?i.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+t.version.major+'"'):1===t.version.major&&t.version.minor<3?a(e,n):o(e,n)},n.$watch("uiGmapShow",function(e){return e&&s("removeClass",n.uiGmapAfterShow),e?void 0:s("addClass",n.uiGmapAfterHide)})}}}])}.call(this),function(){t.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(e,i,n,r){var o;return o="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(a,s,l){return e.then(function(e){var l,u,c,d,h,p,f,g,m,v;return g=void 0,v=void 0,c=!1,p=void 0,f=null,m=null,l=function(){return r.removeEvents(p),null!=g&&(g.unbind("position"),g.setVisible(!1)),null!=v?(null!=(null!=v?v.setVisible:void 0)&&v.setVisible(!1),v=void 0):void 0},h=function(e,i){var n;return n=google.maps.geometry.spherical.computeHeading(e,i),c=!0,a.radius=a.radius||50,m=t.extend({heading:n,zoom:1,pitch:0},a.povoptions||{}),f=f=t.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:e,pov:m,visible:!0},a.options||{}),c=!1},u=function(){var e;return a.focalcoord?a.radius?(l(),null==v&&(v=new google.maps.StreetViewService),a.events&&(p=r.setEvents(v,a,a)),e=n.getCoords(a.focalcoord),v.getPanoramaByLocation(e,a.radius,function(t,i){var n,r,o;return null!=a.imagestatus&&(a.imagestatus=i),null!=(null!=(o=a.events)?o.image_status_changed:void 0)&&a.events.image_status_changed(v,"image_status_changed",a,i),"OK"===i?(r=t.location.latLng,h(r,e),n=s[0],g=new google.maps.StreetViewPanorama(n,f)):void 0})):void i.error(o+": needs a radius to set the camera view from its focal target."):void i.error(o+": focalCoord needs to be defined")},null!=a.control&&(a.control.getOptions=function(){return f},a.control.getPovOptions=function(){return m},a.control.getGObject=function(){return v},a.control.getGPano=function(){return g}),a.$watch("options",function(e,t){return e===t||e===f||c?void 0:u()}),d=!0,a.$watch("focalcoord",function(e,t){return e===t&&!d||null==e?void 0:(d=!1,u())}),a.$on("$destroy",function(){return l()})})}}}])}.call(this),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function e(){}return e.generate=function(){var t=e._gri,i=e._ha;return i(t(32),8)+"-"+i(t(16),4)+"-"+i(16384|t(12),4)+"-"+i(32768|t(14),4)+"-"+i(t(48),12)},e._gri=function(e){return 0>e?NaN:30>=e?0|Math.random()*(1<<e):53>=e?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<e-30)):NaN},e._ha=function(e,t){for(var i=e.toString(16),n=t-i.length,r="0";n>0;n>>>=1,r+=r)1&n&&(i=r+i);return i},e}),t.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){function t(e){e=e||{},google.maps.OverlayView.apply(this,arguments),this.content_=e.content||"",this.disableAutoPan_=e.disableAutoPan||!1,this.maxWidth_=e.maxWidth||0,this.pixelOffset_=e.pixelOffset||new google.maps.Size(0,0),this.position_=e.position||new google.maps.LatLng(0,0),this.zIndex_=e.zIndex||null,this.boxClass_=e.boxClass||"infoBox",this.boxStyle_=e.boxStyle||{},this.closeBoxMargin_=e.closeBoxMargin||"2px",this.closeBoxURL_=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===e.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=e.infoBoxClearance||new google.maps.Size(1,1),void 0===e.visible&&(void 0===e.isHidden?e.visible=!0:e.visible=!e.isHidden),this.isHidden_=!e.visible,this.alignBottom_=e.alignBottom||!1,this.pane_=e.pane||"floatPane",this.enableEventPropagation_=e.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function n(e,t){e.getMarkerClusterer().extend(n,google.maps.OverlayView),this.cluster_=e,this.className_=e.getMarkerClusterer().getClusterClass(),this.styles_=t,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(e.getMap())}function r(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinimumClusterSize(),this.averageCenter_=e.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new n(this,e.getStyles())}function o(e,t,n){this.extend(o,google.maps.OverlayView),t=t||[],n=n||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.title_=n.title||"",this.zoomOnClick_=!0,n.zoomOnClick!==i&&(this.zoomOnClick_=n.zoomOnClick),this.averageCenter_=!1,n.averageCenter!==i&&(this.averageCenter_=n.averageCenter),this.ignoreHidden_=!1,n.ignoreHidden!==i&&(this.ignoreHidden_=n.ignoreHidden),this.enableRetinaIcons_=!1,n.enableRetinaIcons!==i&&(this.enableRetinaIcons_=n.enableRetinaIcons),this.imagePath_=n.imagePath||o.IMAGE_PATH,this.imageExtension_=n.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=n.imageSizes||o.IMAGE_SIZES,this.calculator_=n.calculator||o.CALCULATOR,this.batchSize_=n.batchSize||o.BATCH_SIZE,this.batchSizeIE_=n.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=n.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(t,!0),this.setMap(e)}function a(e,t){function i(){}i.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new i,e.prototype.constructor=e}function s(e,t,i){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=s.getSharedCross(t)}function l(e){(e=e||{}).labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,void 0===e.labelVisible&&(e.labelVisible=!0),void 0===e.raiseOnDrag&&(e.raiseOnDrag=!0),void 0===e.clickable&&(e.clickable=!0),void 0===e.draggable&&(e.draggable=!1),void 0===e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new s(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}function u(e){var t=e||{};this.ready_=!1,this.dragging_=!1,e.visible==i&&(e.visible=!0),e.shadow==i&&(e.shadow="7px -3px 5px rgba(88,88,88,0.7)"),e.anchor==i&&(e.anchor=c.BOTTOM),this.setValues(t)}t.prototype=new google.maps.OverlayView,t.prototype.createInfoBoxDiv_=function(){var e,t,i,n=this,r=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),void 0===this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(i=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-i.left-i.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],t=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],e=0;e<t.length;e++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,t[e],r));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(e){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",function(e){e.returnValue=!1,e.preventDefault&&e.preventDefault(),n.enableEventPropagation_||r(e)}),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg_=function(){var e="";return""!==this.closeBoxURL_&&(e="<img",e+=" src='"+this.closeBoxURL_+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin_+";",e+="'>"),e},t.prototype.addClickHandler_=function(){var e;""!==this.closeBoxURL_?(e=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(e,"click",this.getCloseClickHandler_())):this.closeListener_=null},t.prototype.getCloseClickHandler_=function(){var e=this;return function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(e,"closeclick"),e.close()}},t.prototype.panBox_=function(e){var t,i=0,n=0;if(!e&&(t=this.getMap(),t instanceof google.maps.Map)){t.getBounds().contains(this.position_)||t.setCenter(this.position_),t.getBounds();var r=t.getDiv(),o=r.offsetWidth,a=r.offsetHeight,s=this.pixelOffset_.width,l=this.pixelOffset_.height,u=this.div_.offsetWidth,c=this.div_.offsetHeight,d=this.infoBoxClearance_.width,h=this.infoBoxClearance_.height,p=this.getProjection().fromLatLngToContainerPixel(this.position_);p.x<-s+d?i=p.x+s-d:p.x+u+s+d>o&&(i=p.x+u+s+d-o),this.alignBottom_?p.y<-l+h+c?n=p.y+l-h-c:p.y+l+h>a&&(n=p.y+l+h-a):p.y<-l+h?n=p.y+l-h:p.y+c+l+h>a&&(n=p.y+c+l+h-a),(0!==i||0!==n)&&(t.getCenter(),t.panBy(i,n))}},t.prototype.setBoxStyle_=function(){var e,t;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",t=this.boxStyle_;for(e in t)t.hasOwnProperty(e)&&(this.div_.style[e]=t[e]);this.div_.style.WebkitTransform="translateZ(0)",void 0!==this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},t.prototype.getBoxWidths_=function(){var e,t={top:0,bottom:0,left:0,right:0},i=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(e=i.ownerDocument.defaultView.getComputedStyle(i,""))&&(t.top=parseInt(e.borderTopWidth,10)||0,t.bottom=parseInt(e.borderBottomWidth,10)||0,t.left=parseInt(e.borderLeftWidth,10)||0,t.right=parseInt(e.borderRightWidth,10)||0):document.documentElement.currentStyle&&i.currentStyle&&(t.top=parseInt(i.currentStyle.borderTopWidth,10)||0,t.bottom=parseInt(i.currentStyle.borderBottomWidth,10)||0,t.left=parseInt(i.currentStyle.borderLeftWidth,10)||0,t.right=parseInt(i.currentStyle.borderRightWidth,10)||0),t},t.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},t.prototype.draw=function(){this.createInfoBoxDiv_();var e=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=e.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(e.y+this.pixelOffset_.height)+"px":this.div_.style.top=e.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},t.prototype.setOptions=function(e){void 0!==e.boxClass&&(this.boxClass_=e.boxClass,this.setBoxStyle_()),void 0!==e.boxStyle&&(this.boxStyle_=e.boxStyle,this.setBoxStyle_()),void 0!==e.content&&this.setContent(e.content),void 0!==e.disableAutoPan&&(this.disableAutoPan_=e.disableAutoPan),void 0!==e.maxWidth&&(this.maxWidth_=e.maxWidth),void 0!==e.pixelOffset&&(this.pixelOffset_=e.pixelOffset),void 0!==e.alignBottom&&(this.alignBottom_=e.alignBottom),void 0!==e.position&&this.setPosition(e.position),void 0!==e.zIndex&&this.setZIndex(e.zIndex),void 0!==e.closeBoxMargin&&(this.closeBoxMargin_=e.closeBoxMargin),void 0!==e.closeBoxURL&&(this.closeBoxURL_=e.closeBoxURL),void 0!==e.infoBoxClearance&&(this.infoBoxClearance_=e.infoBoxClearance),void 0!==e.isHidden&&(this.isHidden_=e.isHidden),void 0!==e.visible&&(this.isHidden_=!e.visible),void 0!==e.enableEventPropagation&&(this.enableEventPropagation_=e.enableEventPropagation),this.div_&&this.draw()},t.prototype.setContent=function(e){this.content_=e,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),void 0===e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px",void 0===e.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+e:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(e))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position_=e,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setZIndex=function(e){this.zIndex_=e,this.div_&&(this.div_.style.zIndex=e),google.maps.event.trigger(this,"zindex_changed")},t.prototype.setVisible=function(e){this.isHidden_=!e,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},t.prototype.getContent=function(){return this.content_},t.prototype.getPosition=function(){return this.position_},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.getVisible=function(){return void 0!==this.getMap()&&null!==this.getMap()&&!this.isHidden_},t.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},t.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},t.prototype.open=function(e,t){var i=this;t&&(this.position_=t.getPosition(),this.moveListener_=google.maps.event.addListener(t,"position_changed",function(){i.setPosition(this.getPosition())})),this.setMap(e),this.div_&&this.panBox_()},t.prototype.close=function(){var e;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(e=0;e<this.eventListeners_.length;e++)google.maps.event.removeListener(this.eventListeners_[e]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function t(e,t){var i=this,n=new google.maps.OverlayView;n.onAdd=function(){i.init_(e,t)},n.draw=function(){},n.onRemove=function(){},n.setMap(e),this.prjov_=n}var i=function(e){var t;switch(e){case"thin":t="2px";break;case"medium":t="4px";break;case"thick":t="6px";break;default:t=e}return t},n=function(e){var t,n={};if(document.defaultView&&document.defaultView.getComputedStyle){if(t=e.ownerDocument.defaultView.getComputedStyle(e,""))return n.top=parseInt(t.borderTopWidth,10)||0,n.bottom=parseInt(t.borderBottomWidth,10)||0,n.left=parseInt(t.borderLeftWidth,10)||0,n.right=parseInt(t.borderRightWidth,10)||0,n}else if(document.documentElement.currentStyle&&e.currentStyle)return n.top=parseInt(i(e.currentStyle.borderTopWidth),10)||0,n.bottom=parseInt(i(e.currentStyle.borderBottomWidth),10)||0,n.left=parseInt(i(e.currentStyle.borderLeftWidth),10)||0,n.right=parseInt(i(e.currentStyle.borderRightWidth),10)||0,n;return n.top=parseInt(e.style["border-top-width"],10)||0,n.bottom=parseInt(e.style["border-bottom-width"],10)||0,n.left=parseInt(e.style["border-left-width"],10)||0,n.right=parseInt(e.style["border-right-width"],10)||0,n},r={x:0,y:0},o=function(e){r.x=void 0!==document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,r.y=void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var a=function(t){var i=0,n=0;return void 0!==(t=t||e.event).pageX?(i=t.pageX,n=t.pageY):void 0!==t.clientX&&(i=t.clientX+r.x,n=t.clientY+r.y),{left:i,top:n}},s=function(t){for(var i=t.offsetLeft,n=t.offsetTop,r=t.offsetParent;null!==r;){r!==document.body&&r!==document.documentElement&&(i-=r.scrollLeft,n-=r.scrollTop);var o=r,a=o.offsetLeft,s=o.offsetTop;if(!a&&!s&&e.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");a+=parseInt(u[4],10)||0,s+=parseInt(u[5],10)||0}}i+=a,n+=s,r=r.offsetParent}return{left:i,top:n}},l=function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},u=function(e,t){void 0!==t&&(e.style.opacity=t),void 0!==e.style.opacity&&""!==e.style.opacity&&(e.style.filter="alpha(opacity="+100*e.style.opacity+")")};t.prototype.init_=function(t,i){var r,a=this;for(this.map_=t,i=i||{},this.key_=i.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=n(this.map_.getDiv()),this.veilDiv_=[],r=0;4>r;r++)this.veilDiv_[r]=document.createElement("div"),this.veilDiv_[r].onselectstart=function(){return!1},l(this.veilDiv_[r].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[r].style,i.paneStyle),l(this.veilDiv_[r].style,i.veilStyle),l(this.veilDiv_[r].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[r].style.MozUserSelect="none"),u(this.veilDiv_[r]),"transparent"===this.veilDiv_[r].style.backgroundColor&&(this.veilDiv_[r].style.backgroundColor="white",u(this.veilDiv_[r],0)),this.map_.getDiv().appendChild(this.veilDiv_[r]);this.noZoom_=i.noZoom||!1,this.visualEnabled_=i.visualEnabled||!1,this.visualClass_=i.visualClass||"",this.visualPosition_=i.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=i.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=i.visualPositionIndex||null,this.visualSprite_=i.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=i.visualSize||new google.maps.Size(20,20),this.visualTips_=i.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,i.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=n(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(e){a.onKeyDown_(e)}),google.maps.event.addDomListener(document,"keyup",function(e){a.onKeyUp_(e)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(e){a.onMouseDown_(e)}),google.maps.event.addDomListener(document,"mousedown",function(e){a.onMouseDownDocument_(e)}),google.maps.event.addDomListener(document,"mousemove",function(e){a.onMouseMove_(e)}),google.maps.event.addDomListener(document,"mouseup",function(e){a.onMouseUp_(e)}),google.maps.event.addDomListener(e,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},t.prototype.initControl_=function(e){var t,i,n=this;return(t=document.createElement("div")).className=this.visualClass_,t.style.position="relative",t.style.overflow="hidden",t.style.height=this.visualSize_.height+"px",t.style.width=this.visualSize_.width+"px",t.title=this.visualTips_.off,(i=document.createElement("img")).src=this.visualSprite_,i.style.position="absolute",i.style.left=-2*this.visualSize_.width+"px",i.style.top="0px",t.appendChild(i),t.onclick=function(e){n.hotKeyDown_=!n.hotKeyDown_,n.hotKeyDown_?(n.buttonDiv_.firstChild.style.left=-0*n.visualSize_.width+"px",n.buttonDiv_.title=n.visualTips_.on,n.activatedByControl_=!0,google.maps.event.trigger(n,"activate")):(n.buttonDiv_.firstChild.style.left=-2*n.visualSize_.width+"px",n.buttonDiv_.title=n.visualTips_.off,google.maps.event.trigger(n,"deactivate")),n.onMouseMove_(e)},t.onmouseover=function(){n.buttonDiv_.firstChild.style.left=-1*n.visualSize_.width+"px"},t.onmouseout=function(){n.hotKeyDown_?(n.buttonDiv_.firstChild.style.left=-0*n.visualSize_.width+"px",n.buttonDiv_.title=n.visualTips_.on):(n.buttonDiv_.firstChild.style.left=-2*n.visualSize_.width+"px",n.buttonDiv_.title=n.visualTips_.off)},t.ondragstart=function(){return!1},l(t.style,{cursor:"pointer",marginTop:e.height+"px",marginLeft:e.width+"px"}),t},t.prototype.isHotKeyDown_=function(t){var i;if(!(i=(t=t||e.event).shiftKey&&"shift"===this.key_||t.altKey&&"alt"===this.key_||t.ctrlKey&&"ctrl"===this.key_))switch(t.keyCode){case 16:"shift"===this.key_&&(i=!0);break;case 17:"ctrl"===this.key_&&(i=!0);break;case 18:"alt"===this.key_&&(i=!0)}return i},t.prototype.isMouseOnMap_=function(){var e=this.mousePosn_;if(e){var t=this.mapPosn_,i=this.map_.getDiv();return e.left>t.left&&e.left<t.left+i.offsetWidth&&e.top>t.top&&e.top<t.top+i.offsetHeight}return!1},t.prototype.setVeilVisibility_=function(){var e;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var t=this.map_.getDiv();if(this.mapWidth_=t.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=t.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var i=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,n=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,r=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=i+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=i+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(i+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=i+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+o+"px",this.veilDiv_[3].style.left=i+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+o)+"px",e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",e=1;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.width="0px",this.veilDiv_[e].style.height="0px";for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="block"}}else for(e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none"},t.prototype.onKeyDown_=function(e){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(e)&&(this.mapPosn_=s(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},t.prototype.getMousePoint_=function(e){var t=a(e),i=new google.maps.Point;return i.x=t.left-this.mapPosn_.left-this.borderWidths_.left,i.y=t.top-this.mapPosn_.top-this.borderWidths_.top,i.x=Math.min(i.x,this.mapWidth_),i.y=Math.min(i.y,this.mapHeight_),i.x=Math.max(i.x,0),i.y=Math.max(i.y,0),i},t.prototype.onMouseDown_=function(e){if(this.map_&&this.hotKeyDown_){this.mapPosn_=s(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(e),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var t=this.prjov_.getProjection().fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",t)}},t.prototype.onMouseDownDocument_=function(e){this.mouseDown_=!0},t.prototype.onMouseMove_=function(e){if(this.mousePosn_=a(e),this.dragging_){this.endPt_=this.getMousePoint_(e);var t=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),n=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,n-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,r-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=t+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=t+n+"px",this.veilDiv_[1].style.width=this.mapWidth_-(t+n)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=t+"px",this.veilDiv_[2].style.width=n+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+r+"px",this.veilDiv_[3].style.left=t+"px",this.veilDiv_[3].style.width=n+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+r)+"px",this.boxDiv_.style.top=i+"px",this.boxDiv_.style.left=t+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(t,i+r),new google.maps.Point(t+n,i),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=s(this.map_.getDiv()),this.setVeilVisibility_())},t.prototype.onMouseUp_=function(e){var t,i=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(e).x===this.startPt_.x&&this.getMousePoint_(e).y===this.startPt_.y)return void this.onKeyUp_(e);var n=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),a=Math.abs(this.startPt_.y-this.endPt_.y);n+=this.borderWidths_.left,r+=this.borderWidths_.top;var s=this.prjov_.getProjection(),l=s.fromContainerPixelToLatLng(new google.maps.Point(n,r+a)),u=s.fromContainerPixelToLatLng(new google.maps.Point(n+o,r)),c=new google.maps.LatLngBounds(l,u);if(this.noZoom_)this.boxDiv_.style.display="none";else{t=this.map_.getZoom(),this.map_.fitBounds(c),this.map_.getZoom()<t&&this.map_.setZoom(t);var d=s.fromLatLngToContainerPixel(l),h=s.fromLatLngToContainerPixel(u);d.x-=this.borderWidths_.left,d.y-=this.borderWidths_.top,h.x-=this.borderWidths_.left,h.y-=this.borderWidths_.top,this.boxDiv_.style.left=d.x+"px",this.boxDiv_.style.top=h.y+"px",this.boxDiv_.style.width=Math.abs(h.x-d.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(h.y-d.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){i.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(e),google.maps.event.trigger(this,"dragend",c),this.isHotKeyDown_(e)||this.onKeyUp_(e)}},t.prototype.onKeyUp_=function(e){var t,i,n,r,o,a,s,l,u=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,i=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),o=Math.abs(this.startPt_.y-this.endPt_.y),a=this.prjov_.getProjection(),s=a.fromContainerPixelToLatLng(new google.maps.Point(i,n+o)),l=a.fromContainerPixelToLatLng(new google.maps.Point(i+r,n)),u=new google.maps.LatLngBounds(s,l)),t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-2*this.visualSize_.width+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",u)}},google.maps.Map.prototype.enableKeyDragZoom=function(e){this.dragZoom_=new t(this,e)},google.maps.Map.prototype.disableKeyDragZoom=function(){var e,t=this.dragZoom_;if(t){for(e=0;e<t.listeners_.length;++e)google.maps.event.removeListener(t.listeners_[e]);for(this.getDiv().removeChild(t.boxDiv_),e=0;e<t.veilDiv_.length;e++)this.getDiv().removeChild(t.veilDiv_[e]);t.visualEnabled_&&this.controls[t.visualPosition_].removeAt(t.controlIndex_),t.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),n.prototype.onAdd=function(){var e,t,i=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){t=e}),google.maps.event.addDomListener(this.div_,"mousedown",function(){e=!0,t=!1}),google.maps.event.addDomListener(this.div_,"click",function(n){if(e=!1,!t){var r,o,a=i.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",i.cluster_),google.maps.event.trigger(a,"clusterclick",i.cluster_),a.getZoomOnClick()&&(o=a.getMaxZoom(),r=i.cluster_.getBounds(),a.getMap().fitBounds(r),setTimeout(function(){a.getMap().fitBounds(r),null!==o&&a.getMap().getZoom()>o&&a.getMap().setZoom(o+1)},100)),n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var e=i.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseover",i.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var e=i.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"mouseout",i.cluster_)})},n.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},n.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},n.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},n.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),i=parseInt(t[0].trim(),10),n=parseInt(t[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),e="<img src='"+this.url_+"' style='position: absolute; top: "+n+"px; left: "+i+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(e+="clip: rect("+-1*n+"px, "+(-1*i+this.width_)+"px, "+(-1*n+this.height_)+"px, "+-1*i+"px);"),e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",void 0===this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},n.prototype.useStyle=function(e){this.sums_=e;var t=Math.max(0,e.index-1);t=Math.min(this.styles_.length-1,t);var i=this.styles_[t];this.url_=i.url,this.height_=i.height,this.width_=i.width,this.anchorText_=i.anchorText||[0,0],this.anchorIcon_=i.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=i.textColor||"black",this.textSize_=i.textSize||11,this.textDecoration_=i.textDecoration||"none",this.fontWeight_=i.fontWeight||"bold",this.fontStyle_=i.fontStyle||"normal",this.fontFamily_=i.fontFamily||"Arial,sans-serif",this.backgroundPosition_=i.backgroundPosition||"0 0"},n.prototype.setCenter=function(e){this.center_=e},n.prototype.createCss=function(e){var t=[];return t.push("cursor: pointer;"),t.push("position: absolute; top: "+e.y+"px; left: "+e.x+"px;"),t.push("width: "+this.width_+"px; height: "+this.height_+"px;"),t.join("")},n.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon_[1],t.y-=this.anchorIcon_[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t},r.prototype.getSize=function(){return this.markers_.length},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getCenter=function(){return this.center_},r.prototype.getMap=function(){return this.map_},r.prototype.getMarkerClusterer=function(){return this.markerClusterer_},r.prototype.getBounds=function(){var e,t=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers();for(e=0;e<i.length;e++)t.extend(i[e].getPosition());return t},r.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},r.prototype.addMarker=function(e){var t,i,n;if(this.isMarkerAlreadyAdded_(e))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+e.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+e.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();if(e.isAdded=!0,this.markers_.push(e),i=this.markers_.length,null!==(n=this.markerClusterer_.getMaxZoom())&&this.map_.getZoom()>n)e.getMap()!==this.map_&&e.setMap(this.map_);else if(i<this.minClusterSize_)e.getMap()!==this.map_&&e.setMap(this.map_);else if(i===this.minClusterSize_)for(t=0;i>t;t++)this.markers_[t].setMap(null);else e.setMap(null);return this.updateIcon_(),!0},r.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},r.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},r.prototype.updateIcon_=function(){var e=this.markers_.length,t=this.markerClusterer_.getMaxZoom();if(null!==t&&this.map_.getZoom()>t)this.clusterIcon_.hide();else if(e<this.minClusterSize_)this.clusterIcon_.hide();else{var i=this.markerClusterer_.getStyles().length,n=this.markerClusterer_.getCalculator()(this.markers_,i);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(n),this.clusterIcon_.show()}},r.prototype.isMarkerAlreadyAdded_=function(e){var t;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(e);for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t])return!0;return!1},o.prototype.onAdd=function(){var e=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){e.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){e.redraw_()})]},o.prototype.onRemove=function(){var e;for(e=0;e<this.markers_.length;e++)this.markers_[e].getMap()!==this.activeMap_&&this.markers_[e].setMap(this.activeMap_);for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var e,t;if(!(this.styles_.length>0))for(e=0;e<this.imageSizes_.length;e++)t=this.imageSizes_[e],this.styles_.push({url:this.imagePath_+(e+1)+"."+this.imageExtension_,height:t,width:t})},o.prototype.fitMapToMarkers=function(){var e,t=this.getMarkers(),i=new google.maps.LatLngBounds;for(e=0;e<t.length;e++)i.extend(t[e].getPosition());this.getMap().fitBounds(i)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(e){this.gridSize_=e},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(e){this.minClusterSize_=e},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(e){this.maxZoom_=e},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(e){this.styles_=e},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(e){this.title_=e},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(e){this.zoomOnClick_=e},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(e){this.averageCenter_=e},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(e){this.ignoreHidden_=e},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons_=e},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(e){this.imageExtension_=e},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(e){this.imagePath_=e},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(e){this.imageSizes_=e},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(e){this.calculator_=e},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(e){this.batchSizeIE_=e},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(e){this.clusterClass_=e},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw_()},o.prototype.addMarkers=function(e,t){var i;for(i in e)e.hasOwnProperty(i)&&this.pushMarkerTo_(e[i]);t||this.redraw_()},o.prototype.pushMarkerTo_=function(e){if(e.getDraggable()){var t=this;google.maps.event.addListener(e,"dragend",function(){t.ready_&&(this.isAdded=!1,t.repaint())})}e.isAdded=!1,this.markers_.push(e)},o.prototype.removeMarker=function(e,t){var i=this.removeMarker_(e);return!t&&i&&this.repaint(),i},o.prototype.removeMarkers=function(e,t){var i,n,r=!1;for(i=0;i<e.length;i++)n=this.removeMarker_(e[i]),r=r||n;return!t&&r&&this.repaint(),r},o.prototype.removeMarker_=function(e){var t,i=-1;if(this.markers_.indexOf)i=this.markers_.indexOf(e);else for(t=0;t<this.markers_.length;t++)if(e===this.markers_[t]){i=t;break}return-1!==i&&(e.setMap(null),this.markers_.splice(i,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var t;for(t=0;t<e.length;t++)e[t].remove()},0)},o.prototype.getExtendedBounds=function(e){var t=this.getProjection(),i=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),n=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),r=t.fromLatLngToDivPixel(i);r.x+=this.gridSize_,r.y-=this.gridSize_;var o=t.fromLatLngToDivPixel(n);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=t.fromDivPixelToLatLng(r),s=t.fromDivPixelToLatLng(o);return e.extend(a),e.extend(s),e},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(e){var t,i;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.markers_.length;t++)i=this.markers_[t],i.isAdded=!1,e&&i.setMap(null)},o.prototype.distanceBetweenPoints_=function(e,t){var i=(t.lat()-e.lat())*Math.PI/180,n=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},o.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},o.prototype.addToClosestCluster_=function(e){var t,i,n,o,a=4e4,s=null;for(t=0;t<this.clusters_.length;t++)n=this.clusters_[t],o=n.getCenter(),o&&(i=this.distanceBetweenPoints_(o,e.getPosition()),a>i&&(a=i,s=n));s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):((n=new r(this)).addMarker(e),this.clusters_.push(n))},o.prototype.createClusters_=function(e){var t,i,n,r=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),n=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(n),a=Math.min(e+this.batchSize_,this.markers_.length);for(t=e;a>t;t++)i=this.markers_[t],!i.isAdded&&this.isMarkerInBounds_(i,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&i.getVisible())&&this.addToClosestCluster_(i);a<this.markers_.length?this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},o.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},o.CALCULATOR=function(e,t){for(var i=0,n=e.length.toString(),r=n;0!==r;)r=parseInt(r/10,10),i++;return{text:n,index:i=Math.min(i,t),title:""}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],a(s,google.maps.OverlayView),s.getSharedCross=function(e){var t;return void 0===s.getSharedCross.crossDiv&&(t=document.createElement("img"),t.style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,s.getSharedCross.crossDiv=t),s.getSharedCross.crossDiv},s.prototype.onAdd=function(){var e,t,i,n,r,o,a,l=this,u=!1,c=!1,d="url("+this.handCursorURL_+")",h=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},p=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),void 0===s.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),s.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",e))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",e))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=d),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",e),h(e))}),google.maps.event.addDomListener(document,"mouseup",function(t){var i;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",t)),c){if(r){(i=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition())).y+=20,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(i));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(p,1406)}catch(e){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(e),n=!0,c=!1,t.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",t)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(n){var s;u&&(c?(n.latLng=new google.maps.LatLng(n.latLng.lat()-t,n.latLng.lng()-i),s=l.getProjection().fromLatLngToDivPixel(n.latLng),r&&(l.crossDiv_.style.left=s.x+"px",l.crossDiv_.style.top=s.y+"px",l.crossDiv_.style.display="",s.y-=20),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(s)),r&&(l.eventDiv_.style.top=s.y+20+"px"),google.maps.event.trigger(l.marker_,"drag",n)):(t=n.latLng.lat()-l.marker_.getPosition().lat(),i=n.latLng.lng()-l.marker_.getPosition().lng(),e=l.marker_.getZIndex(),o=l.marker_.getPosition(),a=l.marker_.getMap().getCenter(),r=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),n.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",n)))}),google.maps.event.addDomListener(document,"keydown",function(e){c&&27===e.keyCode&&(r=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",e))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(n?n=!1:(google.maps.event.trigger(l.marker_,"click",e),h(e)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",e),h(e))}),google.maps.event.addListener(this.marker_,"dragstart",function(e){c||(r=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(e){c||r&&(l.setPosition(20),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(e){c||r&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},s.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},s.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},s.prototype.setContent=function(){var e=this.marker_.get("labelContent");void 0===e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},s.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},s.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},s.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden",void 0!==this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},s.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},s.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());void 0===e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},s.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;void 0===this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},s.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},a(l,google.maps.Marker),l.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},u.prototype=new google.maps.OverlayView,e.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(e){this.set("visible",e)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(e){this.set("flat",!!e)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(e){this.set("shadow",e),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(e){this.set("zIndex",e)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(e){this.set("draggable",!!e)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(e){this.set("position",e)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(e){this.set("anchor",e)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(e){var t=document.createElement("DIV");if(t.innerHTML=e,1==t.childNodes.length)return t.removeChild(t.firstChild);for(var i=document.createDocumentFragment();t.firstChild;)i.appendChild(t.firstChild);return i},u.prototype.removeChildren_=function(e){if(e)for(var t;t=e.firstChild;)e.removeChild(t)},u.prototype.setContent=function(e){this.set("content",e)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var e=this.getContent();if(e){"string"==typeof e&&(e=e.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),e=this.htmlToDocumentFragment_(e)),this.markerContent_.appendChild(e);for(var t,i=this,n=this.markerContent_.getElementsByTagName("IMG"),r=0;t=n[r];r++)google.maps.event.addDomListener(t,"mousedown",function(e){i.getDraggable()&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1)}),google.maps.event.addDomListener(t,"load",function(){i.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(e){if(this.ready_){var t="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==e&&(t="-moz-grabbing"),"dragready"==e&&(t="-moz-grab"),"draggable"==e&&(t="pointer")):(("dragging"==e||"dragready"==e)&&(t="move"),"draggable"==e&&(t="pointer")),this.markerWrapper_.style.cursor!=t&&(this.markerWrapper_.style.cursor=t)}},u.prototype.startDrag=function(e){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var t=this.getMap();this.mapDraggable_=t.get("draggable"),t.set("draggable",!1),this.mouseX_=e.clientX,this.mouseY_=e.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(e){if(this.getDraggable()&&this.dragging_){var t=this.mouseX_-e.clientX,i=this.mouseY_-e.clientY;this.mouseX_=e.clientX,this.mouseY_=e.clientY;var n=parseInt(this.markerWrapper_.style.left,10)-t,r=parseInt(this.markerWrapper_.style.top,10)-i;this.markerWrapper_.style.left=n+"px",this.markerWrapper_.style.top=r+"px";var o=this.getOffset_(),a=new google.maps.Point(n-o.width,r-o.height),s=this.getProjection();this.setPosition(s.fromDivPixelToLatLng(a)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")}else this.stopDrag()},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(e){if(e){var t=this;this.draggableListener_=google.maps.event.addDomListener(e,"mousedown",function(e){t.startDrag(e)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var t=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){t.stopDrag(),t.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(e,"mousemove",function(e){t.drag(e)},!0),google.maps.event.addDomListener(e,"mouseup",function(){t.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var e,t=0;e=this.draggingListeners_[t];t++)google.maps.event.removeListener(e);this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var e=this.getAnchor();if("object"==typeof e)return e;var t=new google.maps.Size(0,0);if(!this.markerContent_)return t;var i=this.markerContent_.offsetWidth,n=this.markerContent_.offsetHeight;switch(e){case c.TOP_LEFT:break;case c.TOP:t.width=-i/2;break;case c.TOP_RIGHT:t.width=-i;break;case c.LEFT:t.height=-n/2;break;case c.MIDDLE:t.width=-i/2,t.height=-n/2;break;case c.RIGHT:t.width=-i,t.height=-n/2;break;case c.BOTTOM_LEFT:t.height=-n;break;case c.BOTTOM:t.width=-i/2,t.height=-n;break;case c.BOTTOM_RIGHT:t.width=-i,t.height=-n}return t},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var e=this;google.maps.event.addDomListener(this.markerContent_,"click",function(t){google.maps.event.trigger(e,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(t){google.maps.event.trigger(e,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(t){google.maps.event.trigger(e,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var e=this.getProjection();if(e){var t=this.get("position"),i=e.fromLatLngToDivPixel(t),n=this.getOffset_();this.markerWrapper_.style.top=i.y+n.height+"px",this.markerWrapper_.style.left=i.x+n.width+"px";var r=this.markerContent_.offsetHeight,o=this.markerContent_.offsetWidth;o!=this.get("width")&&this.set("width",o),r!=this.get("height")&&this.set("height",r)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var c={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};e.RichMarkerPosition=c,e.InfoBox=t,e.Cluster=r,e.ClusterIcon=n,e.MarkerClusterer=o,e.MarkerLabel_=s,e.MarkerWithLabel=l,e.RichMarker=u})}}),function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};t.m=e,t.c=i,t.p="",t(0)}([function(e,i,n){t.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:n(1).Graph,Queue:n(1).Queue}})},function(e,t,i){(function(){e.exports={Graph:i(2),Heap:i(3),LinkedList:i(4),Map:i(5),Queue:i(6),RedBlackTree:i(7),Trie:i(8)}}).call(this)},function(e,t,i){(function(){var t,i={}.hasOwnProperty;t=function(){function e(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return e.prototype.addNode=function(e){return this._nodes[e]?void 0:(this.nodeSize++,this._nodes[e]={_outEdges:{},_inEdges:{}})},e.prototype.getNode=function(e){return this._nodes[e]},e.prototype.removeNode=function(e){var t,n,r,o,a;if(n=this._nodes[e]){o=n._outEdges;for(r in o)i.call(o,r)&&this.removeEdge(e,r);a=n._inEdges;for(t in a)i.call(a,t)&&this.removeEdge(t,e);return this.nodeSize--,delete this._nodes[e],n}},e.prototype.addEdge=function(e,t,i){var n,r,o;return null==i&&(i=1),!this.getEdge(e,t)&&(r=this._nodes[e],o=this._nodes[t],r&&o)?(n={weight:i},r._outEdges[t]=n,o._inEdges[e]=n,this.edgeSize++,n):void 0},e.prototype.getEdge=function(e,t){var i,n;return i=this._nodes[e],n=this._nodes[t],i&&n?i._outEdges[t]:void 0},e.prototype.removeEdge=function(e,t){var i,n,r;return n=this._nodes[e],r=this._nodes[t],(i=this.getEdge(e,t))?(delete n._outEdges[t],delete r._inEdges[e],this.edgeSize--,i):void 0},e.prototype.getInEdgesOf=function(e){var t,n,r,o;n=[],o=null!=(r=this._nodes[e])?r._inEdges:void 0;for(t in o)i.call(o,t)&&n.push(this.getEdge(t,e));return n},e.prototype.getOutEdgesOf=function(e){var t,n,r,o;n=[],o=null!=(t=this._nodes[e])?t._outEdges:void 0;for(r in o)i.call(o,r)&&n.push(this.getEdge(e,r));return n},e.prototype.getAllEdgesOf=function(e){var t,i,n,r,o,a,s;if(i=this.getInEdgesOf(e),n=this.getOutEdgesOf(e),0===i.length)return n;for(r=this.getEdge(e,e),t=o=0,a=i.length;a>=0?a>o:o>a;t=a>=0?++o:--o)if(i[t]===r){s=[i[i.length-1],i[t]],i[t]=s[0],i[i.length-1]=s[1],i.pop();break}return i.concat(n)},e.prototype.forEachNode=function(e){var t,n,r;r=this._nodes;for(t in r)i.call(r,t)&&(n=r[t],e(n,t))},e.prototype.forEachEdge=function(e){var t,n,r,o,a;o=this._nodes;for(n in o)if(i.call(o,n)){a=o[n]._outEdges;for(r in a)i.call(a,r)&&(t=a[r],e(t))}},e}(),e.exports=t}).call(this)},function(e,t,i){(function(){var t,i,n,r;t=function(){function e(e){var t,i,n,r,o,a;for(null==e&&(e=[]),this._data=[void 0],n=0,o=e.length;o>n;n++)i=e[n],null!=i&&this._data.push(i);if(this._data.length>1)for(t=r=2,a=this._data.length;a>=2?a>r:r>a;t=a>=2?++r:--r)this._upHeap(t);this.size=this._data.length-1}return e.prototype.add=function(e){return null!=e?(this._data.push(e),this._upHeap(this._data.length-1),this.size++,e):void 0},e.prototype.removeMin=function(){var e;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(e=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),e)},e.prototype.peekMin=function(){return this._data[1]},e.prototype._upHeap=function(e){var t;for(this._data[e];this._data[e]<this._data[n(e)]&&e>1;)t=[this._data[n(e)],this._data[e]],this._data[e]=t[0],this._data[n(e)]=t[1],e=n(e)},e.prototype._downHeap=function(){var e,t,n;for(e=1;i(e<this._data.length)&&(t=i(e),t<this._data.length-1&&this._data[r(e)]<this._data[t]&&(t=r(e)),this._data[t]<this._data[e]);)n=[this._data[e],this._data[t]],this._data[t]=n[0],this._data[e]=n[1],e=t},e}(),n=function(e){return e>>1},i=function(e){return e<<1},r=function(e){return 1+(e<<1)},e.exports=t}).call(this)},function(e,t,i){(function(){var t;t=function(){function e(e){var t,i,n;for(null==e&&(e=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,i=0,n=e.length;n>i;i++)t=e[i],this.add(t)}return e.prototype.at=function(e){var t,i,n,r;if(-this.size<=e&&e<this.size){if(2*(e=this._adjust(e))<this.size)for(t=this.head,i=1;e>=i;i+=1)t=t.next;else for(t=this.tail,n=1,r=this.size-e-1;r>=n;n+=1)t=t.prev;return t}},e.prototype.add=function(e,t){var i,n,r,o,a;return null==t&&(t=this.size),-this.size<=t&&t<=this.size?(n={value:e},t=this._adjust(t),0===this.size?this.head=n:0===t?(r=[n,this.head,n],this.head.prev=r[0],n.next=r[1],this.head=r[2]):(o=[(i=this.at(t-1)).next,n,n,i],n.next=o[0],null!=(a=i.next)&&(a.prev=o[1]),i.next=o[2],n.prev=o[3]),t===this.size&&(this.tail=n),this.size++,e):void 0},e.prototype.removeAt=function(e){var t,i,n;return null==e&&(e=this.size-1),-this.size<=e&&e<this.size&&0!==this.size?(e=this._adjust(e),1===this.size?(i=this.head.value,this.head.value=this.tail.value=void 0):0===e?(i=this.head.value,this.head=this.head.next,this.head.prev=void 0):(i=(t=this.at(e)).value,t.prev.next=t.next,null!=(n=t.next)&&(n.prev=t.prev),e===this.size-1&&(this.tail=t.prev)),this.size--,i):void 0},e.prototype.remove=function(e){var t;if(null!=e){for(t=this.head;t&&t.value!==e;)t=t.next;if(t)return 1===this.size?this.head.value=this.tail.value=void 0:t===this.head?(this.head=this.head.next,this.head.prev=void 0):t===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(t.prev.next=t.next,t.next.prev=t.prev),this.size--,e}},e.prototype.indexOf=function(e,t){var i,n;if(null==t&&(t=0),null==this.head.value&&!this.head.next||t>=this.size)return-1;for(t=Math.max(0,this._adjust(t)),i=this.at(t),n=t;i&&i.value!==e;)i=i.next,n++;return n===this.size?-1:n},e.prototype._adjust=function(e){return 0>e?this.size+e:e},e}(),e.exports=t}).call(this)},function(e,t,i){(function(){var t,i,n,r={}.hasOwnProperty;t=function(){function e(t){var i,n;this._content={},this._itemId=0,this._id=e._newMapId(),this.size=0;for(i in t)r.call(t,i)&&(n=t[i],this.set(i,n))}return e._mapIdTracker=0,e._newMapId=function(){return this._mapIdTracker++},e.prototype.hash=function(e,t){var r,o;return null==t&&(t=!1),o=i(e),n(e)?(r="_mapId_"+this._id,t&&!e[r]&&(e[r]=this._itemId++),r+"_"+e[r]):o+"_"+e},e.prototype.set=function(e,t){return this.has(e)||this.size++,this._content[this.hash(e,!0)]=[t,e],t},e.prototype.get=function(e){var t;return null!=(t=this._content[this.hash(e)])?t[0]:void 0},e.prototype.has=function(e){return this.hash(e)in this._content},e.prototype.delete=function(e){var t;return(t=this.hash(e))in this._content&&(delete this._content[t],n(e)&&delete e["_mapId_"+this._id],this.size--,!0)},e.prototype.forEach=function(e){var t,i,n;n=this._content;for(t in n)r.call(n,t)&&(i=n[t],e(i[1],i[0]))},e}(),n=function(e){var t,n,r,o,a;for(t=["Boolean","Number","String","Undefined","Null","RegExp","Function"],r=i(e),o=0,a=t.length;a>o;o++)if(n=t[o],r===n)return!1;return!0},i=function(e){return Object.prototype.toString.apply(e).match(/\[object (.+)\]/)[1]},e.exports=t}).call(this)},function(e,t,i){(function(){var t;t=function(){function e(e){null==e&&(e=[]),this._content=e,this._dequeueIndex=0,this.size=this._content.length}return e.prototype.enqueue=function(e){return this.size++,this._content.push(e),e},e.prototype.dequeue=function(){var e;if(0!==this.size)return this.size--,e=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),e},e.prototype.peek=function(){return this._content[this._dequeueIndex]},e}(),e.exports=t}).call(this)},function(e,t,i){(function(){var t,i,n,r,o,a,s,l,u;t=function(){function e(e){var t,i,n;for(null==e&&(e=[]),this._root,this.size=0,i=0,n=e.length;n>i;i++)t=e[i],null!=t&&this.add(t)}return e.prototype.add=function(e){var t,o,a;if(null!=e){if(this.size++,o={value:e,_color:1},this._root){if(null!=i(this._root,function(t){return e===t.value?0:e<t.value?t._left?1:(o._parent=t,t._left=o,3):t._right?2:(o._parent=t,t._right=o,3)}))return}else this._root=o;for(t=o;;){if(t===this._root){t._color=2;break}if(2===t._parent._color)break;if(1!==(null!=(a=u(t))?a._color:void 0)){!r(t)&&r(t._parent)?(this._rotateLeft(t._parent),t=t._left):r(t)&&!r(t._parent)&&(this._rotateRight(t._parent),t=t._right),t._parent._color=2,n(t)._color=1,r(t)?this._rotateRight(n(t)):this._rotateLeft(n(t));break}t._parent._color=2,u(t)._color=2,n(t)._color=1,t=n(t)}return e}},e.prototype.has=function(e){return!!i(this._root,function(t){return e===t.value?0:e<t.value?1:2})},e.prototype.peekMin=function(){var e;return null!=(e=s(this._root))?e.value:void 0},e.prototype.peekMax=function(){var e;return null!=(e=a(this._root))?e.value:void 0},e.prototype.remove=function(e){var t;return(t=i(this._root,function(t){return e===t.value?0:e<t.value?1:2}))?(this._removeNode(this._root,t),this.size--,e):void 0},e.prototype.removeMin=function(){var e,t;return(e=s(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype.removeMax=function(){var e,t;return(e=a(this._root))?(t=e.value,this._removeNode(this._root,e),t):void 0},e.prototype._removeNode=function(e,t){var i,n,a,u,c,d,h,p,f,g;if(t._left&&t._right&&(n=s(t._right),t.value=n.value,t=n),(n=t._left||t._right)||(n={color:2,_right:void 0,_left:void 0,isLeaf:!0}),n._parent=t._parent,null!=(a=t._parent)&&(a[o(t)]=n),2===t._color)if(1===n._color)n._color=2,n._parent||(this._root=n);else for(;;){if(!n._parent){n.isLeaf?this._root=void 0:this._root=n;break}if(1===(null!=(i=l(n))?i._color:void 0)&&(n._parent._color=1,i._color=2,r(n)?this._rotateLeft(n._parent):this._rotateRight(n._parent)),i=l(n),2!==n._parent._color||i&&(2!==i._color||i._left&&2!==i._left._color||i._right&&2!==i._right._color)){if(!(1!==n._parent._color||i&&(2!==i._color||i._left&&2!==(null!=(u=i._left)?u._color:void 0)||i._right&&2!==(null!=(c=i._right)?c._color:void 0)))){null!=i&&(i._color=1),n._parent._color=2;break}if(2===(null!=i?i._color:void 0)){!r(n)||i._right&&2!==i._right._color||1!==(null!=(d=i._left)?d._color:void 0)?r(n)||i._left&&2!==i._left._color||1!==(null!=(p=i._right)?p._color:void 0)||(i._color=1,null!=(f=i._right)&&(f._color=2),this._rotateLeft(i)):(i._color=1,null!=(h=i._left)&&(h._color=2),this._rotateRight(i));break}(i=l(n))._color=n._parent._color,r(n)?(i._right._color=2,this._rotateRight(n._parent)):(i._left._color=2,this._rotateLeft(n._parent))}else null!=i&&(i._color=1),n.isLeaf&&(n._parent[o(n)]=void 0),n=n._parent}return n.isLeaf&&null!=(g=n._parent)?g[o(n)]=void 0:void 0},e.prototype._rotateLeft=function(e){var t,i;return null!=(t=e._parent)&&(t[o(e)]=e._right),e._right._parent=e._parent,e._parent=e._right,e._right=e._right._left,e._parent._left=e,null!=(i=e._right)&&(i._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e.prototype._rotateRight=function(e){var t,i;return null!=(t=e._parent)&&(t[o(e)]=e._left),e._left._parent=e._parent,e._parent=e._left,e._left=e._left._right,e._parent._right=e,null!=(i=e._left)&&(i._parent=e),null==e._parent._parent?this._root=e._parent:void 0},e}(),r=function(e){return e===e._parent._left},o=function(e){return r(e)?"_left":"_right"},i=function(e,t){var i,n,r;for(n=e,r=void 0;n;){if(0===(i=t(n))){r=n;break}if(1===i)n=n._left;else if(2===i)n=n._right;else if(3===i)break}return r},s=function(e){return i(e,function(e){return e._left?1:0})},a=function(e){return i(e,function(e){return e._right?2:0})},n=function(e){var t;return null!=(t=e._parent)?t._parent:void 0},u=function(e){return n(e)?r(e._parent)?n(e)._right:n(e)._left:void 0},l=function(e){return r(e)?e._parent._right:e._parent._left},e.exports=t}).call(this)},function(e,t,i){(function(){var t,n,r,o={}.hasOwnProperty;t=i(6),n=function(){function e(e){var t,i,n;for(null==e&&(e=[]),this._root={},this.size=0,i=0,n=e.length;n>i;i++)t=e[i],this.add(t)}return e.prototype.add=function(e){var t,i,n,r;if(null!=e){for(this.size++,t=this._root,n=0,r=e.length;r>n;n++)i=e[n],null==t[i]&&(t[i]={}),t=t[i];return t.end=!0,e}},e.prototype.has=function(e){var t,i,n,r;if(null==e)return!1;for(t=this._root,n=0,r=e.length;r>n;n++){if(null==t[i=e[n]])return!1;t=t[i]}return!!t.end},e.prototype.longestPrefixOf=function(e){var t,i,n,r,o;if(null==e)return"";for(t=this._root,n="",r=0,o=e.length;o>r&&(i=e[r],null!=t[i]);r++)n+=i,t=t[i];return n},e.prototype.wordsWithPrefix=function(e){var i,n,r,a,s,l,u,c,d,h;if(null==e)return[];for(null!=e||(e=""),u=[],n=this._root,c=0,d=e.length;d>c;c++)if(r=e[c],n=n[r],null==n)return[];for((s=new t).enqueue([n,""]);0!==s.size;){a=(h=s.dequeue())[0],i=h[1],a.end&&u.push(e+i);for(r in a)o.call(a,r)&&(l=a[r],s.enqueue([l,i+r]))}return u},e.prototype.remove=function(e){var t,i,n,o,a,s,l,u;if(null!=e){for(t=this._root,o=[],a=0,l=e.length;l>a;a++){if(null==t[n=e[a]])return;t=t[n],o.push([n,t])}if(t.end){if(this.size--,delete t.end,r(t,1))return e;for(i=s=u=o.length-1;(1>=u?1>=s:s>=1)&&!r(o[i][1],1);i=1>=u?++s:--s)delete o[i-1][1][o[i][0]];return r(this._root[o[0][0]],1)||delete this._root[o[0][0]],e}}},e}(),r=function(e,t){var i,n;if(0===t)return!0;n=0;for(i in e)if(o.call(e,i)&&(n++,n>=t))return!0;return!1},e.exports=n}).call(this)}]),t.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(t,i){return{init:_.once(function(){(function(){var n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e.NgMapCluster=function(e){function n(e){n.__super__.constructor.call(this,e),this.markers_=new i}return r(n,e),n.prototype.addMarker=function(e){var t,i;if(this.isMarkerAlreadyAdded_(e)){var n=this.markers_.get(e.key);if(n.getPosition().lat()==e.getPosition().lat()&&n.getPosition().lon()==e.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+e.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+e.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();return e.isAdded=!0,this.markers_.push(e),t=this.markers_.length,null!==(i=this.markerClusterer_.getMaxZoom())&&this.map_.getZoom()>i?e.getMap()!==this.map_&&e.setMap(this.map_):t<this.minClusterSize_?e.getMap()!==this.map_&&e.setMap(this.map_):t===this.minClusterSize_?this.markers_.each(function(e){e.setMap(null)}):e.setMap(null),!0},n.prototype.isMarkerAlreadyAdded_=function(e){return t.isNullOrUndefined(this.markers_.get(e.key))},n.prototype.getBounds=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(t){e.extend(t.getPosition())}),e},n.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new i,delete this.markers_},n}(Cluster),e.NgMapMarkerClusterer=function(e){function t(e,n,r){t.__super__.constructor.call(this,e,n,r),this.markers_=new i}return r(t,e),t.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new i},t.prototype.removeMarker_=function(e){return!!this.markers_.get(e.key)&&(e.setMap(null),this.markers_.remove(e.key),!0)},t.prototype.createClusters_=function(e){var t,i,n,r=this;if(this.ready_){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),n=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(n),a=Math.min(e+this.batchSize_,this.markers_.length),s=this.markers_.values();for(t=e;a>t;t++)i=s[t],!i.isAdded&&this.isMarkerInBounds_(i,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&i.getVisible())&&this.addToClosestCluster_(i);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0);else{for(t=0;t<this.clusters_.length;t++)this.clusters_[t].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},t.prototype.addToClosestCluster_=function(e){var t,i,n,r,o=4e4,a=null;for(t=0;t<this.clusters_.length;t++)n=this.clusters_[t],r=n.getCenter(),r&&(i=this.distanceBetweenPoints_(r,e.getPosition()),o>i&&(o=i,a=n));a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):((n=new NgMapCluster(this)).addMarker(e),this.clusters_.push(n))},t.prototype.redraw_=function(){this.createClusters_(0)},t.prototype.resetViewport_=function(e){var t;for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();this.clusters_=[],this.markers_.each(function(t){t.isAdded=!1,e&&t.setMap(null)})},t.prototype.extend=function(e,t){return function(e){var t;for(t in e.prototype)"constructor"!==t&&(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},ClusterIcon.prototype.show=function(){if(this.div_){var e="",t=this.backgroundPosition_.split(" "),i=parseInt(t[0].trim(),10),n=parseInt(t[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),e="<img src='"+this.url_+"' style='position: absolute; top: "+n+"px; left: "+i+"px; ",e+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*n+"px, "+(-1*i+this.width_)+"px, "+(-1*n+this.height_)+"px, "+-1*i+"px);",e+="'>",this.div_.innerHTML=e+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",void 0===this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},t}(MarkerClusterer)}).call(this)})}}])}(window,angular),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=e()}}(function(){return function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return r(i||e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){},{}],2:[function(e,t,i){function n(e){if(e){var t=[0,0,0],i=1,n=e.match(/^#([a-fA-F0-9]{3})$/);if(n){n=n[1];for(var r=0;r<t.length;r++)t[r]=parseInt(n[r]+n[r],16)}else if(n=e.match(/^#([a-fA-F0-9]{6})$/)){n=n[1];for(r=0;r<t.length;r++)t[r]=parseInt(n.slice(2*r,2*r+2),16)}else if(n=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<t.length;r++)t[r]=parseInt(n[r+1]);i=parseFloat(n[4])}else if(n=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(r=0;r<t.length;r++)t[r]=Math.round(2.55*parseFloat(n[r+1]));i=parseFloat(n[4])}else if(n=e.match(/(\w+)/)){if("transparent"==n[1])return[0,0,0,0];if(!(t=d[n[1]]))return}for(r=0;r<t.length;r++)t[r]=u(t[r],0,255);return i=i||0==i?u(i,0,1):1,t[3]=i,t}}function r(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var i=parseFloat(t[4]);return[u(parseInt(t[1]),0,360),u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(i)?1:i,0,1)]}}}function o(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var i=parseFloat(t[4]);return[u(parseInt(t[1]),0,360),u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(i)?1:i,0,1)]}}}function a(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function s(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function l(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function u(e,t,i){return Math.min(Math.max(t,e),i)}function c(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var d=e(6);t.exports={getRgba:n,getHsla:r,getRgb:function(e){var t=n(e);return t&&t.slice(0,3)},getHsl:function(e){var t=r(e);return t&&t.slice(0,3)},getHwb:o,getAlpha:function(e){var t=n(e);return t?t[3]:(t=r(e))?t[3]:(t=o(e))?t[3]:void 0},hexString:function(e){return"#"+c(e[0])+c(e[1])+c(e[2])},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?a(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:a,percentString:function(e,t){return t<1||e[3]&&e[3]<1?s(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:s,hslString:function(e,t){return t<1||e[3]&&e[3]<1?l(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:l,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return h[e.slice(0,3)]}};var h={};for(var p in d)h[d[p]]=p},{6:6}],3:[function(e,t,i){var n=e(5),r=e(2),o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;"string"==typeof e?(t=r.getRgba(e))?this.setValues("rgb",t):(t=r.getHsla(e))?this.setValues("hsl",t):(t=r.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(t=e,void 0!==t.r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t))};o.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],i=0;i<e.length;i++){var n=e[i]/255;t[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),i=e.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,i=(t[0]+e)%360;return t[0]=i<0?360+i:i,this.setValues("hsl",t),this},mix:function(e,t){var i=e,n=void 0===t?.5:t,r=2*n-1,o=this.alpha()-i.alpha(),a=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,s=1-a;return this.rgb(a*this.red()+s*i.red(),a*this.green()+s*i.green(),a*this.blue()+s*i.blue()).alpha(this.alpha()*n+i.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var e,t,i=new o,n=this.values,r=i.values;for(var a in n)n.hasOwnProperty(a)&&(e=n[a],t={}.toString.call(e),"[object Array]"===t?r[a]=e.slice(0):"[object Number]"===t?r[a]=e:console.error("unexpected color value:",e));return i}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(e){for(var t=this.values,i={},n=0;n<e.length;n++)i[e.charAt(n)]=t[e][n];return 1!==t.alpha&&(i.a=t.alpha),i},o.prototype.setValues=function(e,t){var i,r=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)r[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(i=0;i<e.length;i++)r[e][i]=t[e.charAt(i)];s=t.a}else if(void 0!==t[o[e][0]]){var l=o[e];for(i=0;i<e.length;i++)r[e][i]=t[l[i]];s=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===e)return!1;var u;for(i=0;i<e.length;i++)u=Math.max(0,Math.min(a[e][i],r[e][i])),r[e][i]=Math.round(u);for(var c in o)c!==e&&(r[c]=n[e][c](r[e]));return!0},o.prototype.setSpace=function(e,t){var i=t[0];return void 0===i?this.getValues(e):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(e,i),this)},o.prototype.setChannel=function(e,t,i){var n=this.values[e];return void 0===i?n[t]:i===n[t]?this:(n[t]=i,this.setValues(e,n),this)},"undefined"!=typeof window&&(window.Color=o),t.exports=o},{2:2,5:5}],4:[function(e,t,i){function n(e){var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a;return s==a?t=0:n==s?t=(r-o)/l:r==s?t=2+(o-n)/l:o==s&&(t=4+(n-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),i=(a+s)/2,[t,100*(s==a?0:i<=.5?l/(s+a):l/(2-s-a)),100*i]}function o(e){var t,i,n=e[0],r=e[1],o=e[2],a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a;return i=0==s?0:l/s*1e3/10,s==a?t=0:n==s?t=(r-o)/l:r==s?t=2+(o-n)/l:o==s&&(t=4+(n-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,i,s/255*1e3/10]}function a(e){var t=e[0],i=e[1],r=e[2];return[n(e)[0],100*(1/255*Math.min(t,Math.min(i,r))),100*(r=1-1/255*Math.max(t,Math.max(i,r)))]}function s(e){var t,i=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*((1-i-(t=Math.min(1-i,1-n,1-r)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]}function l(e){return k[JSON.stringify(e)]}function u(e){var t=e[0]/255,i=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*i+.0722*n),100*(.0193*t+.1192*i+.9505*n)]}function c(e){var t=u(e),i=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(i-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function d(e){var t,i,n,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return o=255*l,[o,o,o];t=2*l-(i=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)n=a+1/3*-(u-1),n<0&&n++,n>1&&n--,o=6*n<1?t+6*(i-t)*n:2*n<1?i:3*n<2?t+(i-t)*(2/3-n)*6:t,r[u]=255*o;return r}function h(e){var t=e[0]/60,i=e[1]/100,n=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*n*(1-i),s=255*n*(1-i*o),l=255*n*(1-i*(1-o));n*=255;switch(r){case 0:return[n,l,a];case 1:return[s,n,a];case 2:return[a,n,l];case 3:return[a,s,n];case 4:return[l,a,n];case 5:return[n,a,s]}}function p(e){var t,i,n,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),i=1-l,n=6*a-(t=Math.floor(6*a)),0!=(1&t)&&(n=1-n),o=s+n*(i-s),t){default:case 6:case 0:r=i,g=o,b=s;break;case 1:r=o,g=i,b=s;break;case 2:r=s,g=i,b=o;break;case 3:r=s,g=o,b=i;break;case 4:r=o,g=s,b=i;break;case 5:r=i,g=s,b=o}return[255*r,255*g,255*b]}function f(e){var t=e[0]/100,i=e[1]/100,n=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]}function m(e){var t,i,n,r=e[0]/100,o=e[1]/100,a=e[2]/100;return i=-.9689*r+1.8758*o+.0415*a,n=.0557*r+-.204*o+1.057*a,t=(t=3.2406*r+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))]}function v(e){var t=e[0],i=e[1],n=e[2];return i/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(t-i),200*(i-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]}function y(e){var t,i,n,r,o=e[0],a=e[1],s=e[2];return o<=8?r=(i=100*o/903.3)/100*7.787+16/116:(i=100*Math.pow((o+16)/116,3),r=Math.pow(i/100,1/3)),[t=t/95.047<=.008856?t=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),i,n=n/108.883<=.008859?n=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function w(e){var t,i=e[0],n=e[1],r=e[2];return(t=360*Math.atan2(r,n)/2/Math.PI)<0&&(t+=360),[i,Math.sqrt(n*n+r*r),t]}function x(e){return m(y(e))}function _(e){var t,i=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[i,n*Math.cos(t),n*Math.sin(t)]}function C(e){return S[e]}t.exports={rgb2hsl:n,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:function(e){return w(c(e))},hsl2rgb:d,hsl2hsv:function(e){var t=e[0],i=e[1]/100,n=e[2]/100;return 0===n?[0,0,0]:[t,2*(i*=(n*=2)<=1?n:2-n)/(n+i)*100,(n+i)/2*100]},hsl2hwb:function(e){return a(d(e))},hsl2cmyk:function(e){return s(d(e))},hsl2keyword:function(e){return l(d(e))},hsv2rgb:h,hsv2hsl:function(e){var t,i,n=e[0],r=e[1]/100,o=e[2]/100;return t=r*o,[n,100*(t=(t/=(i=(2-r)*o)<=1?i:2-i)||0),100*(i/=2)]},hsv2hwb:function(e){return a(h(e))},hsv2cmyk:function(e){return s(h(e))},hsv2keyword:function(e){return l(h(e))},hwb2rgb:p,hwb2hsl:function(e){return n(p(e))},hwb2hsv:function(e){return o(p(e))},hwb2cmyk:function(e){return s(p(e))},hwb2keyword:function(e){return l(p(e))},cmyk2rgb:f,cmyk2hsl:function(e){return n(f(e))},cmyk2hsv:function(e){return o(f(e))},cmyk2hwb:function(e){return a(f(e))},cmyk2keyword:function(e){return l(f(e))},keyword2rgb:C,keyword2hsl:function(e){return n(C(e))},keyword2hsv:function(e){return o(C(e))},keyword2hwb:function(e){return a(C(e))},keyword2cmyk:function(e){return s(C(e))},keyword2lab:function(e){return c(C(e))},keyword2xyz:function(e){return u(C(e))},xyz2rgb:m,xyz2lab:v,xyz2lch:function(e){return w(v(e))},lab2xyz:y,lab2rgb:x,lab2lch:w,lch2lab:_,lch2xyz:function(e){return y(_(e))},lch2rgb:function(e){return x(_(e))}};var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},k={};for(var $ in S)k[JSON.stringify(S[$])]=$},{}],5:[function(e,t,i){var n=e(4),r=function(){return new u};for(var o in n){r[o+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),n[e](t)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];(r[s]=r[s]||{})[l]=r[o]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var i=n[e](t);if("string"==typeof i||void 0===i)return i;for(var r=0;r<i.length;r++)i[r]=Math.round(i[r]);return i}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(e,t){var i=t[0];return void 0===i?this.getValues(e):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(e,i))},u.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},u.prototype.getValues=function(e){var t=this.convs[e];if(!t){var i=this.space,n=this.convs[i];t=r[i][e](n),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=r},{4:4}],6:[function(e,t,i){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,i){var n=e(28)();e(26)(n),e(40)(n),e(22)(n),e(25)(n),e(30)(n),e(21)(n),e(23)(n),e(24)(n),e(29)(n),e(32)(n),e(33)(n),e(31)(n),e(27)(n),e(34)(n),e(35)(n),e(36)(n),e(37)(n),e(38)(n),e(46)(n),e(44)(n),e(45)(n),e(47)(n),e(48)(n),e(49)(n),e(15)(n),e(16)(n),e(17)(n),e(18)(n),e(19)(n),e(20)(n),e(8)(n),e(9)(n),e(10)(n),e(11)(n),e(12)(n),e(13)(n),e(14)(n);var r=[];r.push(e(41)(n),e(42)(n),e(43)(n)),n.plugins.register(r),t.exports=n,"undefined"!=typeof window&&(window.Chart=n)},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,8:8,9:9}],8:[function(e,t,i){t.exports=function(e){e.Bar=function(t,i){return i.type="bar",new e(t,i)}}},{}],9:[function(e,t,i){t.exports=function(e){e.Bubble=function(t,i){return i.type="bubble",new e(t,i)}}},{}],10:[function(e,t,i){t.exports=function(e){e.Doughnut=function(t,i){return i.type="doughnut",new e(t,i)}}},{}],11:[function(e,t,i){t.exports=function(e){e.Line=function(t,i){return i.type="line",new e(t,i)}}},{}],12:[function(e,t,i){t.exports=function(e){e.PolarArea=function(t,i){return i.type="polarArea",new e(t,i)}}},{}],13:[function(e,t,i){t.exports=function(e){e.Radar=function(t,i){return i.type="radar",new e(t,i)}}},{}],14:[function(e,t,i){t.exports=function(e){e.defaults.scatter={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}},e.controllers.scatter=e.controllers.line,e.Scatter=function(t,i){return i.type="scatter",new e(t,i)}}},{}],15:[function(e,t,i){t.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({dataElementType:e.elements.Rectangle,initialize:function(){var t;e.DatasetController.prototype.initialize.apply(this,arguments),(t=this.getMeta()).stack=this.getDataset().stack,t.bar=!0},update:function(e){var t,i,n=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,i=n.length;t<i;++t)this.updateElement(n[t],t,e)},updateElement:function(e,i,n){var r=this.chart,o=this.getMeta(),a=this.getDataset(),s=e.custom||{},l=r.options.elements.rectangle;e._xScale=this.getScaleForId(o.xAxisID),e._yScale=this.getScaleForId(o.yAxisID),e._datasetIndex=this.index,e._index=i,e._model={datasetLabel:a.label,label:r.data.labels[i],borderSkipped:s.borderSkipped?s.borderSkipped:l.borderSkipped,backgroundColor:s.backgroundColor?s.backgroundColor:t.getValueAtIndexOrDefault(a.backgroundColor,i,l.backgroundColor),borderColor:s.borderColor?s.borderColor:t.getValueAtIndexOrDefault(a.borderColor,i,l.borderColor),borderWidth:s.borderWidth?s.borderWidth:t.getValueAtIndexOrDefault(a.borderWidth,i,l.borderWidth)},this.updateElementGeometry(e,i,n),e.pivot()},updateElementGeometry:function(e,t,i){var n=e._model,r=this.getValueScale(),o=r.getBasePixel(),a=r.isHorizontal(),s=this._ruler||this.getRuler(),l=this.calculateBarValuePixels(this.index,t),u=this.calculateBarIndexPixels(this.index,t,s);n.horizontal=a,n.base=i?o:l.base,n.x=a?i?o:l.head:u.center,n.y=a?u.center:i?o:l.head,n.height=a?u.size:void 0,n.width=a?void 0:u.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(e){var t,i,n=this.chart,r=this.getIndexScale().options.stacked,o=void 0===e?n.data.datasets.length:e+1,a=[];for(t=0;t<o;++t)i=n.getDatasetMeta(t),i.bar&&n.isDatasetVisible(t)&&(!1===r||!0===r&&-1===a.indexOf(i.stack)||void 0===r&&(void 0===i.stack||-1===a.indexOf(i.stack)))&&a.push(i.stack);return a.length},getStackIndex:function(e){return this.getStackCount(e)-1},getRuler:function(){var e=this.getIndexScale(),i=e.options,n=this.getStackCount(),r=(e.isHorizontal()?e.width:e.height)/e.ticks.length,o=r*i.categoryPercentage,a=o/n,s=a*i.barPercentage;return{stackCount:n,tickSize:r,categorySize:o,categorySpacing:r-o,fullBarSize:a,barSize:s=Math.min(t.getValueOrDefault(i.barThickness,s),t.getValueOrDefault(i.maxBarThickness,1/0)),barSpacing:a-s,scale:e}},calculateBarValuePixels:function(e,t){var i,n,r,o,a,s,l=this.chart,u=this.getMeta(),c=this.getValueScale(),d=l.data.datasets,h=Number(d[e].data[t]),p=c.options.stacked,f=u.stack,g=0;if(p||void 0===p&&void 0!==f)for(i=0;i<e;++i)n=l.getDatasetMeta(i),n.bar&&n.stack===f&&n.controller.getValueScaleId()===c.id&&l.isDatasetVisible(i)&&(r=Number(d[i].data[t]),(h<0&&r<0||h>=0&&r>0)&&(g+=r));return o=c.getPixelForValue(g),{size:s=((a=c.getPixelForValue(g+h))-o)/2,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(e,t,i){var n=i.scale,r=this.chart.isCombo,o=this.getStackIndex(e),a=n.getPixelForValue(null,t,e,r),s=i.barSize;return a-=r?i.tickSize/2:0,a+=i.fullBarSize*o,a+=i.categorySpacing/2,{size:s,base:a+=i.barSpacing/2,head:a+s,center:a+s/2}},draw:function(){var e,i=this.chart,n=this.getMeta().data,r=this.getDataset(),o=n.length,a=0;for(t.canvas.clipArea(i.ctx,i.chartArea);a<o;++a)e=r.data[a],null===e||void 0===e||isNaN(e)||n[a].draw();t.canvas.unclipArea(i.ctx)},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model;o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.hoverBackgroundColor,n,t.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:t.getValueAtIndexOrDefault(i.hoverBorderColor,n,t.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:t.getValueAtIndexOrDefault(i.hoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model,a=this.chart.options.elements.rectangle;o.backgroundColor=r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(i.backgroundColor,n,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(i.borderColor,n,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(i.borderWidth,n,a.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var i="";return e.length>0&&(e[0].yLabel?i=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(i=t.labels[e[0].index])),i},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}}}},e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{}],16:[function(e,t,i){t.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var i=t.datasets[e.datasetIndex].label||"",n=t.datasets[e.datasetIndex].data[e.index];return i+": ("+e.xLabel+", "+e.yLabel+", "+n.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({dataElementType:e.elements.Point,update:function(e){var i=this,n=i.getMeta().data;t.each(n,function(t,n){i.updateElement(t,n,e)})},updateElement:function(i,n,r){var o=this.getMeta(),a=this.getScaleForId(o.xAxisID),s=this.getScaleForId(o.yAxisID),l=i.custom||{},u=this.getDataset(),c=u.data[n],d=this.chart.options.elements.point,h=this.index;t.extend(i,{_xScale:a,_yScale:s,_datasetIndex:h,_index:n,_model:{x:r?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof c?c:NaN,n,h,this.chart.isCombo),y:r?s.getBasePixel():s.getPixelForValue(c,n,h),radius:r?0:l.radius?l.radius:this.getRadius(c),hitRadius:l.hitRadius?l.hitRadius:t.getValueAtIndexOrDefault(u.hitRadius,n,d.hitRadius)}}),e.DatasetController.prototype.removeHoverStyle.call(this,i,d);var p=i._model;p.skip=l.skip?l.skip:isNaN(p.x)||isNaN(p.y),i.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(i){e.DatasetController.prototype.setHoverStyle.call(this,i);var n=this.chart.data.datasets[i._datasetIndex],r=i._index,o=i.custom||{};i._model.radius=o.hoverRadius?o.hoverRadius:t.getValueAtIndexOrDefault(n.hoverRadius,r,this.chart.options.elements.point.hoverRadius)+this.getRadius(n.data[r])},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.point);var i=this.chart.data.datasets[t._datasetIndex].data[t._index],n=t.custom||{};t._model.radius=n.radius?n.radius:this.getRadius(i)}})}},{}],17:[function(e,t,i){t.exports=function(e){var t=e.helpers,i=e.defaults;i.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var i=e.data,n=i.datasets,r=i.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)t.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),r[o]&&t.push(r[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var i=e.data;return i.labels.length&&i.datasets.length?i.labels.map(function(n,r){var o=e.getDatasetMeta(0),a=i.datasets[0],s=o.data[r],l=s&&s.custom||{},u=t.getValueAtIndexOrDefault,c=e.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:u(a.backgroundColor,r,c.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(a.borderColor,r,c.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(a.borderWidth,r,c.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var i,n,r,o=t.index,a=this.chart;for(i=0,n=(a.data.datasets||[]).length;i<n;++i)r=a.getDatasetMeta(i),r.data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,i){var n=i.labels[e.index],r=": "+i.datasets[e.datasetIndex].data[e.index];return t.isArray(n)?(n=n.slice())[0]+=r:n+=r,n}}}},i.pie=t.clone(i.doughnut),t.extend(i.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,getRingIndex:function(e){for(var t=0,i=0;i<e;++i)this.chart.isDatasetVisible(i)&&++t;return t},update:function(e){var i=this,n=i.chart,r=n.chartArea,o=n.options,a=o.elements.arc,s=r.right-r.left-a.borderWidth,l=r.bottom-r.top-a.borderWidth,u=Math.min(s,l),c={x:0,y:0},d=i.getMeta(),h=o.cutoutPercentage,p=o.circumference;if(p<2*Math.PI){var f=o.rotation%(2*Math.PI),g=(f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0))+p,m=Math.cos(f),v=Math.sin(f),y=Math.cos(g),b=Math.sin(g),w=f<=0&&0<=g||f<=2*Math.PI&&2*Math.PI<=g,x=f<=.5*Math.PI&&.5*Math.PI<=g||f<=2.5*Math.PI&&2.5*Math.PI<=g,_=f<=-Math.PI&&-Math.PI<=g||f<=Math.PI&&Math.PI<=g,C=f<=.5*-Math.PI&&.5*-Math.PI<=g||f<=1.5*Math.PI&&1.5*Math.PI<=g,S=h/100,k=_?-1:Math.min(m*(m<0?1:S),y*(y<0?1:S)),$=C?-1:Math.min(v*(v<0?1:S),b*(b<0?1:S)),E=w?1:Math.max(m*(m>0?1:S),y*(y>0?1:S)),T=x?1:Math.max(v*(v>0?1:S),b*(b>0?1:S)),D=.5*(E-k),M=.5*(T-$);u=Math.min(s/D,l/M),c={x:-.5*(E+k),y:-.5*(T+$)}}n.borderWidth=i.getMaxBorderWidth(d.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(h?n.outerRadius/100*h:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=c.x*n.outerRadius,n.offsetY=c.y*n.outerRadius,d.total=i.calculateTotal(),i.outerRadius=n.outerRadius-n.radiusLength*i.getRingIndex(i.index),i.innerRadius=Math.max(i.outerRadius-n.radiusLength,0),t.each(d.data,function(t,n){i.updateElement(t,n,e)})},updateElement:function(e,i,n){var r=this.chart,o=r.chartArea,a=r.options,s=a.animation,l=(o.left+o.right)/2,u=(o.top+o.bottom)/2,c=a.rotation,d=a.rotation,h=this.getDataset(),p=n&&s.animateRotate?0:e.hidden?0:this.calculateCircumference(h.data[i])*(a.circumference/(2*Math.PI)),f=n&&s.animateScale?0:this.innerRadius,g=n&&s.animateScale?0:this.outerRadius,m=t.getValueAtIndexOrDefault;t.extend(e,{_datasetIndex:this.index,_index:i,_model:{x:l+r.offsetX,y:u+r.offsetY,startAngle:c,endAngle:d,circumference:p,outerRadius:g,innerRadius:f,label:m(h.label,i,r.data.labels[i])}});var v=e._model;this.removeHoverStyle(e),n&&s.animateRotate||(v.startAngle=0===i?a.rotation:this.getMeta().data[i-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,i=this.getDataset(),n=this.getMeta(),r=0;return t.each(n.data,function(t,n){e=i.data[n],isNaN(e)||t.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,i,n=0,r=this.index,o=e.length,a=0;a<o;a++)t=e[a]._model?e[a]._model.borderWidth:0,i=e[a]._chart?e[a]._chart.config.data.datasets[r].hoverBorderWidth:0,n=t>n?t:n,n=i>n?i:n;return n}})}},{}],18:[function(e,t,i){t.exports=function(e){function t(e,t){return i.getValueOrDefault(e.showLine,t.showLines)}var i=e.helpers;e.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,update:function(e){var n,r,o,a=this.getMeta(),s=a.dataset,l=a.data||[],u=this.chart.options,c=u.elements.line,d=this.getScaleForId(a.yAxisID),h=this.getDataset(),p=t(h,u);for(p&&(o=s.custom||{},void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),s._scale=d,s._datasetIndex=this.index,s._children=l,s._model={spanGaps:h.spanGaps?h.spanGaps:u.spanGaps,tension:o.tension?o.tension:i.getValueOrDefault(h.lineTension,c.tension),backgroundColor:o.backgroundColor?o.backgroundColor:h.backgroundColor||c.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:h.borderWidth||c.borderWidth,borderColor:o.borderColor?o.borderColor:h.borderColor||c.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:h.borderCapStyle||c.borderCapStyle,borderDash:o.borderDash?o.borderDash:h.borderDash||c.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:h.borderDashOffset||c.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:h.borderJoinStyle||c.borderJoinStyle,fill:o.fill?o.fill:void 0!==h.fill?h.fill:c.fill,steppedLine:o.steppedLine?o.steppedLine:i.getValueOrDefault(h.steppedLine,c.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:i.getValueOrDefault(h.cubicInterpolationMode,c.cubicInterpolationMode)},s.pivot()),n=0,r=l.length;n<r;++n)this.updateElement(l[n],n,e);for(p&&0!==s._model.tension&&this.updateBezierControlPoints(),n=0,r=l.length;n<r;++n)l[n].pivot()},getPointBackgroundColor:function(e,t){var n=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),o=e.custom||{};return o.backgroundColor?n=o.backgroundColor:r.pointBackgroundColor?n=i.getValueAtIndexOrDefault(r.pointBackgroundColor,t,n):r.backgroundColor&&(n=r.backgroundColor),n},getPointBorderColor:function(e,t){var n=this.chart.options.elements.point.borderColor,r=this.getDataset(),o=e.custom||{};return o.borderColor?n=o.borderColor:r.pointBorderColor?n=i.getValueAtIndexOrDefault(r.pointBorderColor,t,n):r.borderColor&&(n=r.borderColor),n},getPointBorderWidth:function(e,t){var n=this.chart.options.elements.point.borderWidth,r=this.getDataset(),o=e.custom||{};return isNaN(o.borderWidth)?isNaN(r.pointBorderWidth)?isNaN(r.borderWidth)||(n=r.borderWidth):n=i.getValueAtIndexOrDefault(r.pointBorderWidth,t,n):n=o.borderWidth,n},updateElement:function(e,t,n){var r,o,a=this.getMeta(),s=e.custom||{},l=this.getDataset(),u=this.index,c=l.data[t],d=this.getScaleForId(a.yAxisID),h=this.getScaleForId(a.xAxisID),p=this.chart.options.elements.point,f=1===(this.chart.data.labels||[]).length||1===l.data.length||this.chart.isCombo;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),r=h.getPixelForValue("object"==typeof c?c:NaN,t,u,f),o=n?d.getBasePixel():this.calculatePointY(c,t,u),e._xScale=h,e._yScale=d,e._datasetIndex=u,e._index=t,e._model={x:r,y:o,skip:s.skip||isNaN(r)||isNaN(o),radius:s.radius||i.getValueAtIndexOrDefault(l.pointRadius,t,p.radius),pointStyle:s.pointStyle||i.getValueAtIndexOrDefault(l.pointStyle,t,p.pointStyle),backgroundColor:this.getPointBackgroundColor(e,t),borderColor:this.getPointBorderColor(e,t),borderWidth:this.getPointBorderWidth(e,t),tension:a.dataset._model?a.dataset._model.tension:0,steppedLine:!!a.dataset._model&&a.dataset._model.steppedLine,hitRadius:s.hitRadius||i.getValueAtIndexOrDefault(l.pointHitRadius,t,p.hitRadius)}},calculatePointY:function(e,t,i){var n,r,o,a=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),u=0,c=0;if(l.options.stacked){for(n=0;n<i;n++)if(r=a.data.datasets[n],o=a.getDatasetMeta(n),"line"===o.type&&o.yAxisID===l.id&&a.isDatasetVisible(n)){var d=Number(l.getRightValue(r.data[t]));d<0?c+=d||0:u+=d||0}var h=Number(l.getRightValue(e));return h<0?l.getPixelForValue(c+h):l.getPixelForValue(u+h)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,i){return Math.max(Math.min(e,i),t)}var t,n,r,o,a,s=this.getMeta(),l=this.chart.chartArea,u=s.data||[];if(s.dataset._model.spanGaps&&(u=u.filter(function(e){return!e._model.skip})),"monotone"===s.dataset._model.cubicInterpolationMode)i.splineCurveMonotone(u);else for(t=0,n=u.length;t<n;++t)r=u[t],o=r._model,a=i.splineCurve(i.previousItem(u,t)._model,o,i.nextItem(u,t)._model,s.dataset._model.tension),o.controlPointPreviousX=a.previous.x,o.controlPointPreviousY=a.previous.y,o.controlPointNextX=a.next.x,o.controlPointNextY=a.next.y;if(this.chart.options.elements.line.capBezierPoints)for(t=0,n=u.length;t<n;++t)o=u[t]._model,o.controlPointPreviousX=e(o.controlPointPreviousX,l.left,l.right),o.controlPointPreviousY=e(o.controlPointPreviousY,l.top,l.bottom),o.controlPointNextX=e(o.controlPointNextX,l.left,l.right),o.controlPointNextY=e(o.controlPointNextY,l.top,l.bottom)},draw:function(){var i=this.chart,n=this.getMeta(),r=n.data||[],o=i.chartArea,a=r.length,s=0;for(e.canvasHelpers.clipArea(i.ctx,o),t(this.getDataset(),i.options)&&n.dataset.draw(),e.canvasHelpers.unclipArea(i.ctx);s<a;++s)r[s].draw(o)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model;o.radius=r.hoverRadius||i.getValueAtIndexOrDefault(t.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor||i.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,n,i.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor||i.getValueAtIndexOrDefault(t.pointHoverBorderColor,n,i.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth||i.getValueAtIndexOrDefault(t.pointHoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model;void 0!==t.radius&&void 0===t.pointRadius&&(t.pointRadius=t.radius),o.radius=r.radius||i.getValueAtIndexOrDefault(t.pointRadius,n,this.chart.options.elements.point.radius),o.backgroundColor=this.getPointBackgroundColor(e,n),o.borderColor=this.getPointBorderColor(e,n),o.borderWidth=this.getPointBorderWidth(e,n)}})}},{}],19:[function(e,t,i){t.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var i=e.data,n=i.datasets,r=i.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)t.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),r[o]&&t.push(r[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var i=e.data;return i.labels.length&&i.datasets.length?i.labels.map(function(n,r){var o=e.getDatasetMeta(0),a=i.datasets[0],s=o.data[r].custom||{},l=t.getValueAtIndexOrDefault,u=e.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,r,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,r,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,r,u.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var i,n,r,o=t.index,a=this.chart;for(i=0,n=(a.data.datasets||[]).length;i<n;++i)r=a.getDatasetMeta(i),r.data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,update:function(e){var i=this,n=i.chart,r=n.chartArea,o=i.getMeta(),a=n.options,s=a.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);n.outerRadius=Math.max((l-s.borderWidth/2)/2,0),n.innerRadius=Math.max(a.cutoutPercentage?n.outerRadius/100*a.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),i.outerRadius=n.outerRadius-n.radiusLength*i.index,i.innerRadius=i.outerRadius-n.radiusLength,o.count=i.countVisibleElements(),t.each(o.data,function(t,n){i.updateElement(t,n,e)})},updateElement:function(e,i,n){for(var r=this.chart,o=this.getDataset(),a=r.options,s=a.animation,l=r.scale,u=t.getValueAtIndexOrDefault,c=r.data.labels,d=this.calculateCircumference(o.data[i]),h=l.xCenter,p=l.yCenter,f=0,g=this.getMeta(),m=0;m<i;++m)isNaN(o.data[m])||g.data[m].hidden||++f;var v=a.startAngle,y=e.hidden?0:l.getDistanceFromCenterForValue(o.data[i]),b=v+d*f,w=b+(e.hidden?0:d),x=s.animateScale?0:l.getDistanceFromCenterForValue(o.data[i]);t.extend(e,{_datasetIndex:this.index,_index:i,_scale:l,_model:{x:h,y:p,innerRadius:0,outerRadius:n?x:y,startAngle:n&&s.animateRotate?v:b,endAngle:n&&s.animateRotate?v:w,label:u(c,i,c[i])}}),this.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),i=this.getMeta(),n=0;return t.each(i.data,function(t,i){isNaN(e.data[i])||t.hidden||n++}),n},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t,i){t.exports=function(e){var t=e.helpers;e.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:t.noop,update:function(e){var i=this,n=i.getMeta(),r=n.dataset,o=n.data,a=r.custom||{},s=i.getDataset(),l=i.chart.options.elements.line,u=i.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),t.extend(n.dataset,{_datasetIndex:i.index,_scale:u,_children:o,_loop:!0,_model:{tension:a.tension?a.tension:t.getValueOrDefault(s.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:s.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:s.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:s.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle}}),n.dataset.pivot(),t.each(o,function(t,n){i.updateElement(t,n,e)},i),i.updateBezierControlPoints()},updateElement:function(e,i,n){var r=e.custom||{},o=this.getDataset(),a=this.chart.scale,s=this.chart.options.elements.point,l=a.getPointPositionForValue(i,o.data[i]);void 0!==o.radius&&void 0===o.pointRadius&&(o.pointRadius=o.radius),void 0!==o.hitRadius&&void 0===o.pointHitRadius&&(o.pointHitRadius=o.hitRadius),t.extend(e,{_datasetIndex:this.index,_index:i,_scale:a,_model:{x:n?a.xCenter:l.x,y:n?a.yCenter:l.y,tension:r.tension?r.tension:t.getValueOrDefault(o.lineTension,this.chart.options.elements.line.tension),radius:r.radius?r.radius:t.getValueAtIndexOrDefault(o.pointRadius,i,s.radius),backgroundColor:r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(o.pointBackgroundColor,i,s.backgroundColor),borderColor:r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(o.pointBorderColor,i,s.borderColor),borderWidth:r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(o.pointBorderWidth,i,s.borderWidth),pointStyle:r.pointStyle?r.pointStyle:t.getValueAtIndexOrDefault(o.pointStyle,i,s.pointStyle),hitRadius:r.hitRadius?r.hitRadius:t.getValueAtIndexOrDefault(o.pointHitRadius,i,s.hitRadius)}}),e._model.skip=r.skip?r.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,i=this.getMeta();t.each(i.data,function(n,r){var o=n._model,a=t.splineCurve(t.previousItem(i.data,r,!0)._model,o,t.nextItem(i.data,r,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),o.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),o.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),n.pivot()})},setHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,o=e._model;o.radius=n.hoverRadius?n.hoverRadius:t.getValueAtIndexOrDefault(i.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:t.getValueAtIndexOrDefault(i.pointHoverBackgroundColor,r,t.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:t.getValueAtIndexOrDefault(i.pointHoverBorderColor,r,t.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:t.getValueAtIndexOrDefault(i.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(e){var i=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,o=e._model,a=this.chart.options.elements.point;o.radius=n.radius?n.radius:t.getValueAtIndexOrDefault(i.pointRadius,r,a.radius),o.backgroundColor=n.backgroundColor?n.backgroundColor:t.getValueAtIndexOrDefault(i.pointBackgroundColor,r,a.backgroundColor),o.borderColor=n.borderColor?n.borderColor:t.getValueAtIndexOrDefault(i.pointBorderColor,r,a.borderColor),o.borderWidth=n.borderWidth?n.borderWidth:t.getValueAtIndexOrDefault(i.pointBorderWidth,r,a.borderWidth)}})}},{}],21:[function(e,t,i){t.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,i,n){var r,o,a=this.animations;for(t.chart=e,n||(e.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===e)return void(a[r]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var i=t.findIndex(this.animations,function(t){return t.chart===e});-1!==i&&(this.animations.splice(i,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1),this.advance(1+t);var i=Date.now();this.dropFrames+=(i-e)/this.frameDuration,this.animations.length>0&&this.requestAnimationFrame()},advance:function(e){for(var i,n,r=this.animations,o=0;o<r.length;)i=r[o],n=i.chart,i.currentStep=(i.currentStep||0)+e,i.currentStep=Math.min(i.currentStep,i.numSteps),t.callback(i.render,[n,i],n),t.callback(i.onAnimationProgress,[i],n),i.currentStep>=i.numSteps?(t.callback(i.onAnimationComplete,[i],n),n.animating=!1,r.splice(o,1)):++o}},Object.defineProperty(e.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}})}},{}],22:[function(e,t,i){t.exports=function(e){var t=e.canvasHelpers={};t.drawPoint=function(t,i,n,r,o){var a,s,l,u,c,d;if("object"!=typeof i||(a=i.toString(),"[object HTMLImageElement]"!==a&&"[object HTMLCanvasElement]"!==a)){if(!(isNaN(n)||n<=0)){switch(i){default:t.beginPath(),t.arc(r,o,n,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),c=(s=3*n/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(r-s/2,o+c/3),t.lineTo(r+s/2,o+c/3),t.lineTo(r,o-2*c/3),t.closePath(),t.fill();break;case"rect":d=1/Math.SQRT2*n,t.beginPath(),t.fillRect(r-d,o-d,2*d,2*d),t.strokeRect(r-d,o-d,2*d,2*d);break;case"rectRounded":var h=n/Math.SQRT2,p=r-h,f=o-h,g=Math.SQRT2*n;e.helpers.drawRoundedRectangle(t,p,f,g,g,n/2),t.fill();break;case"rectRot":d=1/Math.SQRT2*n,t.beginPath(),t.moveTo(r-d,o),t.lineTo(r,o+d),t.lineTo(r+d,o),t.lineTo(r,o-d),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(r,o+n),t.lineTo(r,o-n),t.moveTo(r-n,o),t.lineTo(r+n,o),t.closePath();break;case"crossRot":t.beginPath(),l=Math.cos(Math.PI/4)*n,u=Math.sin(Math.PI/4)*n,t.moveTo(r-l,o-u),t.lineTo(r+l,o+u),t.moveTo(r-l,o+u),t.lineTo(r+l,o-u),t.closePath();break;case"star":t.beginPath(),t.moveTo(r,o+n),t.lineTo(r,o-n),t.moveTo(r-n,o),t.lineTo(r+n,o),l=Math.cos(Math.PI/4)*n,u=Math.sin(Math.PI/4)*n,t.moveTo(r-l,o-u),t.lineTo(r+l,o+u),t.moveTo(r-l,o+u),t.lineTo(r+l,o-u),t.closePath();break;case"line":t.beginPath(),t.moveTo(r-n,o),t.lineTo(r+n,o),t.closePath();break;case"dash":t.beginPath(),t.moveTo(r,o),t.lineTo(r+n,o),t.closePath()}t.stroke()}}else t.drawImage(i,r-i.width/2,o-i.height/2,i.width,i.height)},t.clipArea=function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},t.unclipArea=function(e){e.restore()},t.lineTo=function(e,t,i,n){return i.steppedLine?("after"===i.steppedLine?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y),void e.lineTo(i.x,i.y)):i.tension?void e.bezierCurveTo(n?t.controlPointPreviousX:t.controlPointNextX,n?t.controlPointPreviousY:t.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):void e.lineTo(i.x,i.y)},e.helpers.canvas=t}},{}],23:[function(e,t,i){t.exports=function(e){function t(e){return"top"===e||"bottom"===e}var i=e.helpers,n=e.plugins,r=e.platform;e.types={},e.instances={},e.controllers={},i.extend(e.prototype,{construct:function(t,n){var o=this;n=function(t){var n=(t=t||{}).data=t.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],t.options=i.configMerge(e.defaults.global,e.defaults[t.type],t.options||{}),t}(n);var a=r.acquireContext(t,n),s=a&&a.canvas,l=s&&s.height,u=s&&s.width;return o.id=i.uid(),o.ctx=a,o.canvas=s,o.config=n,o.width=u,o.height=l,o.aspectRatio=l?u/l:null,o.options=n.options,o._bufferedRender=!1,o.chart=o,o.controller=o,e.instances[o.id]=o,Object.defineProperty(o,"data",{get:function(){return o.config.data},set:function(e){o.config.data=e}}),a&&s?(o.initialize(),void o.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){return n.notify(this,"beforeInit"),i.retinaScale(this),this.bindEvents(),this.options.responsive&&this.resize(!0),this.ensureScalesHaveIDs(),this.buildScales(),this.initToolTip(),n.notify(this,"afterInit"),this},clear:function(){return i.clear(this),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var t=this.options,r=this.canvas,o=t.maintainAspectRatio&&this.aspectRatio||null,a=Math.floor(i.getMaximumWidth(r)),s=Math.floor(o?a/o:i.getMaximumHeight(r));if((this.width!==a||this.height!==s)&&(r.width=this.width=a,r.height=this.height=s,r.style.width=a+"px",r.style.height=s+"px",i.retinaScale(this),!e)){var l={width:a,height:s};n.notify(this,"resize",[l]),this.options.onResize&&this.options.onResize(this,l),this.stop(),this.update(this.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;i.each(t.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),i.each(t.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),n&&(n.id=n.id||"scale")},buildScales:function(){var n=this,r=n.options,o=n.scales={},a=[];r.scales&&(a=a.concat((r.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(r.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),r.scale&&a.push({options:r.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),i.each(a,function(r){var a=r.options,s=i.getValueOrDefault(a.type,r.dtype),l=e.scaleService.getScaleConstructor(s);if(l){t(a.position)!==t(r.dposition)&&(a.position=r.dposition);var u=new l({id:a.id,options:a,ctx:n.ctx,chart:n});o[u.id]=u,r.isDefault&&(n.scale=u)}}),e.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[],r=[];if(i.each(t.data.datasets,function(i,o){var a=t.getDatasetMeta(o);if(a.type||(a.type=i.type||t.config.type),n.push(a.type),a.controller)a.controller.updateIndex(o);else{var s=e.controllers[a.type];if(void 0===s)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new s(t,o),r.push(a.controller)}},t),n.length>1)for(var o=1;o<n.length;o++)if(n[o]!==n[o-1]){t.isCombo=!0;break}return r},resetElements:function(){var e=this;i.each(e.data.datasets,function(t,i){e.getDatasetMeta(i).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e,t){var r=this;if(function(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach(function(t){e.scales[t.id].options=t}),e.tooltip._options=t.tooltips}(r),!1!==n.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var o=r.buildOrUpdateControllers();i.each(r.data.datasets,function(e,t){r.getDatasetMeta(t).controller.buildOrUpdateElements()},r),r.updateLayout(),i.each(o,function(e){e.reset()}),r.updateDatasets(),n.notify(r,"afterUpdate"),r._bufferedRender?r._bufferedRequest={lazy:t,duration:e}:r.render(e,t)}},updateLayout:function(){!1!==n.notify(this,"beforeLayout")&&(e.layoutService.update(this,this.width,this.height),n.notify(this,"afterScaleUpdate"),n.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==n.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);n.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),i={meta:t,index:e};!1!==n.notify(this,"beforeDatasetUpdate",[i])&&(t.controller.update(),n.notify(this,"afterDatasetUpdate",[i]))},render:function(t,r){var o=this;if(!1!==n.notify(o,"beforeRender")){var a=o.options.animation,s=function(e){n.notify(o,"afterRender"),i.callback(a&&a.onComplete,[e],o)};if(a&&(void 0!==t&&0!==t||void 0===t&&0!==a.duration)){var l=new e.Animation({numSteps:(t||a.duration)/16.66,easing:a.easing,render:function(e,t){var n=i.easingEffects[t.easing],r=t.currentStep,o=r/t.numSteps;e.draw(n(o),o,r)},onAnimationProgress:a.onProgress,onAnimationComplete:s});e.animationService.addAnimation(o,l,t,r)}else o.draw(),s(new e.Animation({numSteps:0,chart:o}));return o}},draw:function(e){var t=this;t.clear(),void 0!==e&&null!==e||(e=1),t.transition(e),!1!==n.notify(t,"beforeDraw",[e])&&(i.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.scale&&t.scale.draw(),t.drawDatasets(e),t.tooltip.draw(),n.notify(t,"afterDraw",[e]))},transition:function(e){for(var t=0,i=(this.data.datasets||[]).length;t<i;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},drawDatasets:function(e){if(!1!==n.notify(this,"beforeDatasetsDraw",[e])){for(var t=(this.data.datasets||[]).length-1;t>=0;--t)this.isDatasetVisible(t)&&this.drawDataset(t,e);n.notify(this,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var i=this.getDatasetMeta(e),r={meta:i,index:e,easingValue:t};!1!==n.notify(this,"beforeDatasetDraw",[r])&&(i.controller.draw(t),n.notify(this,"afterDatasetDraw",[r]))},getElementAtEvent:function(t){return e.Interaction.modes.single(this,t)},getElementsAtEvent:function(t){return e.Interaction.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return e.Interaction.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,i,n){var r=e.Interaction.modes[i];return"function"==typeof r?r(this,t,n):[]},getDatasetAtEvent:function(t){return e.Interaction.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var i=t._meta[this.id];return i||(i=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,i=this.data.datasets.length;t<i;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var t,o,a,s=this.canvas;for(this.stop(),o=0,a=this.data.datasets.length;o<a;++o)t=this.getDatasetMeta(o),t.controller&&(t.controller.destroy(),t.controller=null);s&&(this.unbindEvents(),i.clear(this),r.releaseContext(this.ctx),this.canvas=null,this.ctx=null),n.notify(this,"destroy"),delete e.instances[this.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){this.tooltip=new e.Tooltip({_chart:this,_chartInstance:this,_data:this.data,_options:this.options.tooltips},this),this.tooltip.initialize()},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};i.each(e.options.events,function(i){r.addEventListener(e,i,n),t[i]=n}),e.options.responsive&&(n=function(){e.resize()},r.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,i.each(t,function(t,i){r.removeEventListener(e,i,t)}))},updateHoverStyle:function(e,t,i){var n,r,o,a=i?"setHoverStyle":"removeHoverStyle";for(r=0,o=e.length;r<o;++r)n=e[r],n&&this.getDatasetMeta(n._datasetIndex).controller[a](n)},eventHandler:function(e){var t=this.tooltip;if(!1!==n.notify(this,"beforeEvent",[e])){this._bufferedRender=!0,this._bufferedRequest=null;var i=this.handleEvent(e);i|=t&&t.handleEvent(e),n.notify(this,"afterEvent",[e]);var r=this._bufferedRequest;return r?this.render(r.duration,r.lazy):i&&!this.animating&&(this.stop(),this.render(this.options.hover.animationDuration,!0)),this._bufferedRender=!1,this._bufferedRequest=null,this}},handleEvent:function(e){var t=this.options||{},n=t.hover,r=!1;return this.lastActive=this.lastActive||[],"mouseout"===e.type?this.active=[]:this.active=this.getElementsAtEventForMode(e,n.mode,n),n.onHover&&n.onHover.call(this,e.native,this.active),"mouseup"!==e.type&&"click"!==e.type||t.onClick&&t.onClick.call(this,e.native,this.active),this.lastActive.length&&this.updateHoverStyle(this.lastActive,n.mode,!1),this.active.length&&n.mode&&this.updateHoverStyle(this.active,n.mode,!0),r=!i.arrayEquals(this.active,this.lastActive),this.lastActive=this.active,r}}),e.Controller=e}},{}],24:[function(e,t,i){t.exports=function(e){function t(e,t){var i=e._chartjs;if(i){var r=i.listeners,o=r.indexOf(t);-1!==o&&r.splice(o,1),r.length>0||(n.forEach(function(t){delete e[t]}),delete e._chartjs)}}var i=e.helpers,n=["push","pop","shift","splice","unshift"];e.DatasetController=function(e,t){this.initialize(e,t)},i.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.getDataset();null===e.xAxisID&&(e.xAxisID=t.xAxisID||this.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=t.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&t(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,i=this.getMeta(),n=this.getDataset().data||[],r=i.data;for(e=0,t=n.length;e<t;++e)r[e]=r[e]||this.createMetaData(e);i.dataset=i.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e=this.getDataset(),r=e.data||(e.data=[]);this._data!==r&&(this._data&&t(this._data,this),o=r,a=this,o._chartjs?o._chartjs.listeners.push(a):(Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),n.forEach(function(e){var t="onData"+e.charAt(0).toUpperCase()+e.slice(1),n=o[e];Object.defineProperty(o,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=n.apply(this,e);return i.each(o._chartjs.listeners,function(i){"function"==typeof i[t]&&i[t].apply(i,e)}),r}})})),this._data=r),this.resyncElements();var o,a},update:i.noop,transition:function(e){for(var t=this.getMeta(),i=t.data||[],n=i.length,r=0;r<n;++r)i[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],i=t.length,n=0;for(e.dataset&&e.dataset.draw();n<i;++n)t[n].draw()},removeHoverStyle:function(e,t){var n=this.chart.data.datasets[e._datasetIndex],r=e._index,o=e.custom||{},a=i.getValueAtIndexOrDefault,s=e._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:a(n.backgroundColor,r,t.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(n.borderColor,r,t.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(n.borderWidth,r,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=i.getValueAtIndexOrDefault,a=i.getHoverColor,s=e._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:o(t.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:o(t.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:o(t.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,i=e.data.length,n=t.length;n<i?e.data.splice(n,i-n):n>i&&this.insertElements(i,n-i)},insertElements:function(e,t){for(var i=0;i<t;++i)this.addElementAndReset(e+i)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=i.inherits}},{}],25:[function(e,t,i){var n=e(3);t.exports=function(e){var t=e.helpers;e.elements={},e.Element=function(e){t.extend(this,e),this.initialize.apply(this,arguments)},t.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=t.clone(this._model)),this._start={},this},transition:function(e){var t=this._model,i=this._start,r=this._view;return t&&1!==e?(r||(r=this._view={}),i||(i=this._start={}),function(e,t,i,r){var o,a,s,l,u,c,d,h,p,f=Object.keys(i);for(o=0,a=f.length;o<a;++o)if(s=f[o],c=i[s],t.hasOwnProperty(s)||(t[s]=c),l=t[s],l!==c&&"_"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=l),(d=typeof c)==typeof(u=e[s]))if("string"===d){if((h=n(u)).valid&&(p=n(c),p.valid)){t[s]=p.mix(h,r).rgbString();continue}}else if("number"===d&&isFinite(u)&&isFinite(c)){t[s]=u+(c-u)*r;continue}t[s]=c}}(i,r,t,e),this):(this._view=t,this._start=null,this)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}}),e.Element.extend=t.inherits}},{3:3}],26:[function(e,t,i){var n=e(3);t.exports=function(e){function t(e,t,i){var n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[i])):n=e,n}function i(e){return void 0!==e&&null!==e&&"none"!==e}function r(e,n,r){var o=document.defaultView,a=e.parentNode,s=o.getComputedStyle(e)[n],l=o.getComputedStyle(a)[n],u=i(s),c=i(l),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?t(s,e,r):d,c?t(l,a,r):d):"none"}var o=e.helpers={};o.each=function(e,t,i,n){var r,a;if(o.isArray(e))if(a=e.length,n)for(r=a-1;r>=0;r--)t.call(i,e[r],r);else for(r=0;r<a;r++)t.call(i,e[r],r);else if("object"==typeof e){var s=Object.keys(e);for(a=s.length,r=0;r<a;r++)t.call(i,e[s[r]],s[r])}},o.clone=function(e){var t={};return o.each(e,function(e,i){o.isArray(e)?t[i]=e.slice(0):t[i]="object"==typeof e&&null!==e?o.clone(e):e}),t},o.extend=function(e){for(var t=function(t,i){e[i]=t},i=1,n=arguments.length;i<n;i++)o.each(arguments[i],t);return e},o.configMerge=function(t){var i=o.clone(t);return o.each(Array.prototype.slice.call(arguments,1),function(t){o.each(t,function(t,n){var r=i.hasOwnProperty(n),a=r?i[n]:{};"scales"===n?i[n]=o.scaleMerge(a,t):"scale"===n?i[n]=o.configMerge(a,e.scaleService.getScaleDefaults(t.type),t):!r||"object"!=typeof a||o.isArray(a)||null===a||"object"!=typeof t||o.isArray(t)?i[n]=t:i[n]=o.configMerge(a,t)})}),i},o.scaleMerge=function(t,i){var n=o.clone(t);return o.each(i,function(t,i){"xAxes"===i||"yAxes"===i?n.hasOwnProperty(i)?o.each(t,function(t,r){var a=o.getValueOrDefault(t.type,"xAxes"===i?"category":"linear"),s=e.scaleService.getScaleDefaults(a);r>=n[i].length||!n[i][r].type?n[i].push(o.configMerge(s,t)):t.type&&t.type!==n[i][r].type?n[i][r]=o.configMerge(n[i][r],s,t):n[i][r]=o.configMerge(n[i][r],t)}):(n[i]=[],o.each(t,function(t){var r=o.getValueOrDefault(t.type,"xAxes"===i?"category":"linear");n[i].push(o.configMerge(e.scaleService.getScaleDefaults(r),t))})):n.hasOwnProperty(i)&&"object"==typeof n[i]&&null!==n[i]&&"object"==typeof t?n[i]=o.configMerge(n[i],t):n[i]=t}),n},o.getValueAtIndexOrDefault=function(e,t,i){return void 0===e||null===e?i:o.isArray(e)?t<e.length?e[t]:i:e},o.getValueOrDefault=function(e,t){return void 0===e?t:e},o.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var i=0,n=e.length;i<n;++i)if(e[i]===t)return i;return-1},o.where=function(e,t){if(o.isArray(e)&&Array.prototype.filter)return e.filter(t);var i=[];return o.each(e,function(e){t(e)&&i.push(e)}),i},o.findIndex=Array.prototype.findIndex?function(e,t,i){return e.findIndex(t,i)}:function(e,t,i){i=void 0===i?e:i;for(var n=0,r=e.length;n<r;++n)if(t.call(i,e[n],n,e))return n;return-1},o.findNextWhere=function(e,t,i){void 0!==i&&null!==i||(i=-1);for(var n=i+1;n<e.length;n++){var r=e[n];if(t(r))return r}},o.findPreviousWhere=function(e,t,i){void 0!==i&&null!==i||(i=e.length);for(var n=i-1;n>=0;n--){var r=e[n];if(t(r))return r}},o.inherits=function(e){var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},n=function(){this.constructor=i};return n.prototype=t.prototype,i.prototype=new n,i.extend=o.inherits,e&&o.extend(i.prototype,e),i.__super__=t.prototype,i},o.noop=function(){},o.uid=function(){var e=0;return function(){return e++}}(),o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o.almostEquals=function(e,t,i){return Math.abs(e-t)<i},o.almostWhole=function(e,t){var i=Math.round(e);return i-t<e&&i+t>e},o.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},o.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},o.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},o.toRadians=function(e){return e*(Math.PI/180)},o.toDegrees=function(e){return e*(180/Math.PI)},o.getAngleFromPoint=function(e,t){var i=t.x-e.x,n=t.y-e.y,r=Math.sqrt(i*i+n*n),o=Math.atan2(n,i);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},o.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},o.aliasPixel=function(e){return e%2==0?0:.5},o.splineCurve=function(e,t,i,n){var r=e.skip?t:e,o=t,a=i.skip?t:i,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=n*(u=isNaN(u)?0:u),h=n*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(e){var t,i,n,r,a=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),s=a.length;for(t=0;t<s;++t)if(n=a[t],!n.model.skip){if(i=t>0?a[t-1]:null,(r=t<s-1?a[t+1]:null)&&!r.model.skip){var l=r.model.x-n.model.x;n.deltaK=0!==l?(r.model.y-n.model.y)/l:0}!i||i.model.skip?n.mK=n.deltaK:!r||r.model.skip?n.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(i.deltaK+n.deltaK)/2}var u,c,d,h;for(t=0;t<s-1;++t)n=a[t],r=a[t+1],n.model.skip||r.model.skip||(o.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=r.mK=0:(u=n.mK/n.deltaK,c=r.mK/n.deltaK,h=Math.pow(u,2)+Math.pow(c,2),h<=9||(d=3/Math.sqrt(h),n.mK=u*d*n.deltaK,r.mK=c*d*n.deltaK)));var p;for(t=0;t<s;++t)n=a[t],n.model.skip||(i=t>0?a[t-1]:null,r=t<s-1?a[t+1]:null,i&&!i.model.skip&&(p=(n.model.x-i.model.x)/3,n.model.controlPointPreviousX=n.model.x-p,n.model.controlPointPreviousY=n.model.y-p*n.mK),r&&!r.model.skip&&(p=(r.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+p,n.model.controlPointNextY=n.model.y+p*n.mK))},o.nextItem=function(e,t,i){return i?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},o.previousItem=function(e,t,i){return i?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},o.niceNum=function(e,t){var i=Math.floor(o.log10(e)),n=e/Math.pow(10,i);return(t?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)};var a=o.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i))},easeOutElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,n=1;return 0===e?0:2==(e/=.5)?1:(i||(i=.3*1.5*1),n<Math.abs(1)?(n=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/n),e<1?n*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*.5+1)},easeInBack:function(e){return 1*(e/=1)*e*(2.70158*e-1.70158)},easeOutBack:function(e){return 1*((e=e/1-1)*e*(2.70158*e+1.70158)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-a.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*a.easeInBounce(2*e):.5*a.easeOutBounce(2*e-1)+.5}};o.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},o.getRelativePosition=function(e,t){var i,n,r=e.originalEvent||e,a=e.currentTarget||e.srcElement,s=a.getBoundingClientRect(),l=r.touches;l&&l.length>0?(i=l[0].clientX,n=l[0].clientY):(i=r.clientX,n=r.clientY);var u=parseFloat(o.getStyle(a,"padding-left")),c=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),h=parseFloat(o.getStyle(a,"padding-bottom")),p=s.right-s.left-u-d,f=s.bottom-s.top-c-h;return{x:i=Math.round((i-s.left-u)/p*a.width/t.currentDevicePixelRatio),y:n=Math.round((n-s.top-c)/f*a.height/t.currentDevicePixelRatio)}},o.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i},o.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=o.noop},o.getConstraintWidth=function(e){return r(e,"max-width","clientWidth")},o.getConstraintHeight=function(e){return r(e,"max-height","clientHeight")},o.getMaximumWidth=function(e){var t=e.parentNode,i=parseInt(o.getStyle(t,"padding-left"),10),n=parseInt(o.getStyle(t,"padding-right"),10),r=t.clientWidth-i-n,a=o.getConstraintWidth(e);return isNaN(a)?r:Math.min(r,a)},o.getMaximumHeight=function(e){var t=e.parentNode,i=parseInt(o.getStyle(t,"padding-top"),10),n=parseInt(o.getStyle(t,"padding-bottom"),10),r=t.clientHeight-i-n,a=o.getConstraintHeight(e);return isNaN(a)?r:Math.min(r,a)},o.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},o.retinaScale=function(e){var t=e.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==t){var i=e.canvas,n=e.height,r=e.width;i.height=n*t,i.width=r*t,e.ctx.scale(t,t),i.style.height=n+"px",i.style.width=r+"px"}},o.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},o.fontString=function(e,t,i){return t+" "+e+"px "+i},o.longestText=function(e,t,i,n){var r=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},a=n.garbageCollect=[],n.font=t),e.font=t;var s=0;o.each(i,function(t){void 0!==t&&null!==t&&!0!==o.isArray(t)?s=o.measureText(e,r,a,s,t):o.isArray(t)&&o.each(t,function(t){void 0===t||null===t||o.isArray(t)||(s=o.measureText(e,r,a,s,t))})});var l=a.length/2;if(l>i.length){for(var u=0;u<l;u++)delete r[a[u]];a.splice(0,l)}return s},o.measureText=function(e,t,i,n,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,i.push(r)),o>n&&(n=o),n},o.numberOfLabelLines=function(e){var t=1;return o.each(e,function(e){o.isArray(e)&&e.length>t&&(t=e.length)}),t},o.drawRoundedRectangle=function(e,t,i,n,r,o){e.beginPath(),e.moveTo(t+o,i),e.lineTo(t+n-o,i),e.quadraticCurveTo(t+n,i,t+n,i+o),e.lineTo(t+n,i+r-o),e.quadraticCurveTo(t+n,i+r,t+n-o,i+r),e.lineTo(t+o,i+r),e.quadraticCurveTo(t,i+r,t,i+r-o),e.lineTo(t,i+o),e.quadraticCurveTo(t,i,t+o,i),e.closePath()},o.color=n?function(t){return t instanceof CanvasGradient&&(t=e.defaults.global.defaultColor),n(t)}:function(e){return console.error("Color.js not found!"),e},o.isArray=Array.isArray?function(e){return Array.isArray(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.arrayEquals=function(e,t){var i,n,r,a;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(r=e[i],a=t[i],r instanceof Array&&a instanceof Array){if(!o.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},o.callback=function(e,t,i){e&&"function"==typeof e.call&&e.apply(i,t)},o.getHoverColor=function(e){return e instanceof CanvasPattern?e:o.color(e).saturate(.5).darken(.1).rgbString()},o.callCallback=o.callback}},{3:3}],27:[function(e,t,i){t.exports=function(e){function t(e,t){return e.native?{x:e.x,y:e.y}:a.getRelativePosition(e,t)}function i(e,t){var i,n,r,o,a;for(n=0,o=e.data.datasets.length;n<o;++n)if(e.isDatasetVisible(n))for(i=e.getDatasetMeta(n),r=0,a=i.data.length;r<a;++r){var s=i.data[r];s._view.skip||t(s)}}function n(e,t){var n=[];return i(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function r(e,t,n,r){var o=Number.POSITIVE_INFINITY,s=[];return r||(r=a.distanceBetweenPoints),i(e,function(e){if(!n||e.inRange(t.x,t.y)){var i=e.getCenterPoint(),a=r(t,i);a<o?(s=[e],o=a):a===o&&s.push(e)}}),s}function o(e,i,o){var a=t(i,e),s=o.intersect?n(e,a):r(e,a,!1,function(e,t){return Math.abs(e.x-t.x)}),l=[];return s.length?(e.data.datasets.forEach(function(t,i){if(e.isDatasetVisible(i)){var n=e.getDatasetMeta(i).data[s[0]._index];n&&!n._view.skip&&l.push(n)}}),l):[]}var a=e.helpers;e.Interaction={modes:{single:function(e,n){var r=t(n,e),o=[];return i(e,function(e){if(e.inRange(r.x,r.y))return o.push(e),o}),o.slice(0,1)},label:o,index:o,dataset:function(e,i,o){var a=t(i,e),s=o.intersect?n(e,a):r(e,a,!1);return s.length>0&&(s=e.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(e,t){return o(e,t,!0)},point:function(e,i){return n(e,t(i,e))},nearest:function(e,i,n){var o=r(e,t(i,e),n.intersect);return o.length>1&&o.sort(function(e,t){var i=e.getArea()-t.getArea();return 0===i&&(i=e._datasetIndex-t._datasetIndex),i}),o.slice(0,1)},x:function(e,n,r){var o=t(n,e),a=[],s=!1;return i(e,function(e){e.inXRange(o.x)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),r.intersect&&!s&&(a=[]),a},y:function(e,n,r){var o=t(n,e),a=[],s=!1;return i(e,function(e){e.inYRange(o.y)&&a.push(e),e.inRange(o.x,o.y)&&(s=!0)}),r.intersect&&!s&&(a=[]),a}}}}},{}],28:[function(e,t,i){t.exports=function(){var e=function(e,t){return this.construct(e,t),this};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var i=0;i<e.data.datasets.length;i++)t.push('<li><span style="background-color:'+e.data.datasets[i].backgroundColor+'"></span>'),e.data.datasets[i].label&&t.push(e.data.datasets[i].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e.Chart=e,e}},{}],29:[function(e,t,i){t.exports=function(e){function t(e,t){return n.where(e,function(e){return e.position===t})}function i(e,t){e.forEach(function(e,t){return e._tmpIndex_=t,e}),e.sort(function(e,i){var n=t?i:e,r=t?e:i;return n.weight===r.weight?n._tmpIndex_-r._tmpIndex_:n.weight-r.weight}),e.forEach(function(e){delete e._tmpIndex_})}var n=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure:function(e,t,i){for(var n,r=["fullWidth","position","weight"],o=r.length,a=0;a<o;++a)n=r[a],i.hasOwnProperty(n)&&(t[n]=i[n])},update:function(e,r,o){function a(e){var t=n.findNextWhere($,function(t){return t.box===e});if(t)if(e.isHorizontal()){var i={left:Math.max(P,E),right:Math.max(A,T),top:0,bottom:0};e.update(e.fullWidth?b:S,w/2,i)}else e.update(t.minSize.width,k)}function s(e){e.isHorizontal()?(e.left=e.fullWidth?c:P,e.right=e.fullWidth?r-d:P+S,e.top=G,e.bottom=G+e.height,G=e.bottom):(e.left=H,e.right=H+e.width,e.top=I,e.bottom=I+k,H=e.right)}if(e){var l=e.options.layout,u=l?l.padding:null,c=0,d=0,h=0,p=0;isNaN(u)?(c=u.left||0,d=u.right||0,h=u.top||0,p=u.bottom||0):(c=u,d=u,h=u,p=u);var f=t(e.boxes,"left"),g=t(e.boxes,"right"),m=t(e.boxes,"top"),v=t(e.boxes,"bottom"),y=t(e.boxes,"chartArea");i(f,!0),i(g,!1),i(m,!0),i(v,!1);var b=r-c-d,w=o-h-p,x=w/2,_=(r-b/2)/(f.length+g.length),C=(o-x)/(m.length+v.length),S=b,k=w,$=[];n.each(f.concat(g,m,v),function(e){var t,i=e.isHorizontal();i?(t=e.update(e.fullWidth?b:S,C),k-=t.height):(t=e.update(_,x),S-=t.width),$.push({horizontal:i,minSize:t,box:e})});var E=0,T=0,D=0,M=0;n.each(m.concat(v),function(e){if(e.getPadding){var t=e.getPadding();E=Math.max(E,t.left),T=Math.max(T,t.right)}}),n.each(f.concat(g),function(e){if(e.getPadding){var t=e.getPadding();D=Math.max(D,t.top),M=Math.max(M,t.bottom)}});var P=c,A=d,I=h,O=p;n.each(f.concat(g),a),n.each(f,function(e){P+=e.width}),n.each(g,function(e){A+=e.width}),n.each(m.concat(v),a),n.each(m,function(e){I+=e.height}),n.each(v,function(e){O+=e.height}),n.each(f.concat(g),function(e){var t=n.findNextWhere($,function(t){return t.box===e}),i={left:0,right:0,top:I,bottom:O};t&&e.update(t.minSize.width,k,i)}),P=c,A=d,I=h,O=p,n.each(f,function(e){P+=e.width}),n.each(g,function(e){A+=e.width}),n.each(m,function(e){I+=e.height}),n.each(v,function(e){O+=e.height});var L=Math.max(E-P,0);P+=L,A+=Math.max(T-A,0);var R=Math.max(D-I,0);I+=R,O+=Math.max(M-O,0);var F=o-I-O,N=r-P-A;N===S&&F===k||(n.each(f,function(e){e.height=F}),n.each(g,function(e){e.height=F}),n.each(m,function(e){e.fullWidth||(e.width=N)}),n.each(v,function(e){e.fullWidth||(e.width=N)}),k=F,S=N);var H=c+L,G=h+R;n.each(f.concat(m),s),H+=S,G+=k,n.each(g,s),n.each(v,s),e.chartArea={left:P,top:I,right:P+S,bottom:I+k},n.each(y,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(S,k)})}}}}},{}],30:[function(e,t,i){t.exports=function(e){var t=e.helpers;e.defaults.global.plugins={},e.plugins={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var i=t.indexOf(e);-1!==i&&t.splice(i,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,i){var n,r,o,a,s,l=this.descriptors(e),u=l.length;for(n=0;n<u;++n)if(r=l[n],o=r.plugin,s=o[t],"function"==typeof s&&(a=[e].concat(i||[]),a.push(r.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(i){var n=i._plugins||(i._plugins={});if(n.id===this._cacheId)return n.descriptors;var r=[],o=[],a=i&&i.config||{},s=e.defaults.global.plugins,l=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(e){if(-1===r.indexOf(e)){var i=e.id,n=l[i];!1!==n&&(!0===n&&(n=t.clone(s[i])),r.push(e),o.push({plugin:e,options:n||{}}))}}),n.descriptors=o,n.id=this._cacheId,o}},e.pluginService=e.plugins,e.PluginBase=e.Element.extend({})}},{}],31:[function(e,t,i){t.exports=function(e){function t(e,t,i){return n.isArray(t)?n.longestText(e,i,t):e.measureText(t).width}function i(t){var i=n.getValueOrDefault,r=e.defaults.global,o=i(t.fontSize,r.defaultFontSize),a=i(t.fontStyle,r.defaultFontStyle),s=i(t.fontFamily,r.defaultFontFamily);return{size:o,style:a,family:s,font:n.fontString(o,a,s)}}var n=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:e.Ticks.formatters.values}},e.Scale=e.Element.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},beforeUpdate:function(){n.callback(this.options.beforeUpdate,[this])},update:function(e,t,i){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=n.extend({left:0,right:0,top:0,bottom:0},i),this.longestTextCache=this.longestTextCache||{},this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){n.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){n.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){n.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){n.callback(this.options.beforeDataLimits,[this])},determineDataLimits:n.noop,afterDataLimits:function(){n.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){n.callback(this.options.beforeBuildTicks,[this])},buildTicks:n.noop,afterBuildTicks:function(){n.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){n.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback)},afterTickToLabelConversion:function(){n.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){n.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this.ctx,t=this.options.ticks,r=i(t);e.font=r.font;var o=t.minRotation||0;if(this.options.display&&this.isHorizontal())for(var a,s=n.longestText(e,r.font,this.ticks,this.longestTextCache),l=s,u=this.getPixelForTick(1)-this.getPixelForTick(0)-6;l>u&&o<t.maxRotation;){var c=n.toRadians(o);if(a=Math.cos(c),Math.sin(c)*s>this.maxHeight){o--;break}o++,l=a*s}this.labelRotation=o},afterCalculateTickRotation:function(){n.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){n.callback(this.options.beforeFit,[this])},fit:function(){var e=this.minSize={width:0,height:0},r=this.options,o=r.ticks,a=r.scaleLabel,s=r.gridLines,l=r.display,u=this.isHorizontal(),c=i(o),d=1.5*i(a).size,h=r.gridLines.tickMarkLength;if(e.width=u?this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:l&&s.drawTicks?h:0,e.height=u?l&&s.drawTicks?h:0:this.maxHeight,a.display&&l&&(u?e.height+=d:e.width+=d),o.display&&l){var p=n.longestText(this.ctx,c.font,this.ticks,this.longestTextCache),f=n.numberOfLabelLines(this.ticks),g=.5*c.size;if(u){this.longestLabelWidth=p;var m=n.toRadians(this.labelRotation),v=Math.cos(m),y=Math.sin(m)*p+c.size*f+g*f;e.height=Math.min(this.maxHeight,e.height+y),this.ctx.font=c.font;var b=this.ticks[0],w=t(this.ctx,b,c.font),x=this.ticks[this.ticks.length-1],_=t(this.ctx,x,c.font);0!==this.labelRotation?(this.paddingLeft="bottom"===r.position?v*w+3:v*g+3,this.paddingRight="bottom"===r.position?v*g+3:v*_+3):(this.paddingLeft=w/2+3,this.paddingRight=_/2+3)}else o.mirror?p=0:p+=this.options.ticks.padding,e.width=Math.min(this.maxWidth,e.width+p),this.paddingTop=c.size/2,this.paddingBottom=c.size/2}this.handleMargins(),this.width=e.width,this.height=e.height},handleMargins:function(){this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0))},afterFit:function(){n.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){return null===e||void 0===e?NaN:"number"!=typeof e||isFinite(e)?"object"==typeof e?e instanceof Date||e.isValid?e:this.getRightValue(this.isHorizontal()?e.x:e.y):e:NaN},getLabelForIndex:n.noop,getPixelForValue:n.noop,getValueForPixel:n.noop,getPixelForTick:function(e,t){if(this.isHorizontal()){var i=(this.width-(this.paddingLeft+this.paddingRight))/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),n=i*e+this.paddingLeft;t&&(n+=i/2);return this.left+Math.round(n)+(this.isFullWidth()?this.margins.left:0)}var r=this.height-(this.paddingTop+this.paddingBottom);return this.top+e*(r/(this.ticks.length-1))},getPixelForDecimal:function(e){if(this.isHorizontal()){var t=(this.width-(this.paddingLeft+this.paddingRight))*e+this.paddingLeft;return this.left+Math.round(t)+(this.isFullWidth()?this.margins.left:0)}return this.top+e*this.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},draw:function(t){var r=this,o=r.options;if(o.display){var a,s,l=r.ctx,u=e.defaults.global,c=o.ticks,d=o.gridLines,h=o.scaleLabel,p=0!==r.labelRotation,f=c.autoSkip,g=r.isHorizontal();c.maxTicksLimit&&(s=c.maxTicksLimit);var m=n.getValueOrDefault(c.fontColor,u.defaultFontColor),v=i(c),y=d.drawTicks?d.tickMarkLength:0,b=n.getValueOrDefault(h.fontColor,u.defaultFontColor),w=i(h),x=n.toRadians(r.labelRotation),_=Math.cos(x),C=r.longestLabelWidth*_;l.fillStyle=m;var S=[];if(g){if(a=!1,(C+c.autoSkipPadding)*r.ticks.length>r.width-(r.paddingLeft+r.paddingRight)&&(a=1+Math.floor((C+c.autoSkipPadding)*r.ticks.length/(r.width-(r.paddingLeft+r.paddingRight)))),s&&r.ticks.length>s)for(;!a||r.ticks.length/(a||1)>s;)a||(a=1),a+=1;f||(a=!1)}var k="right"===o.position?r.left:r.right-y,$="right"===o.position?r.left+y:r.right,E="bottom"===o.position?r.top:r.bottom-y,T="bottom"===o.position?r.top+y:r.bottom;if(n.each(r.ticks,function(e,i){if(void 0!==e&&null!==e){var s=r.ticks.length===i+1;if((!(a>1&&i%a>0||i%a==0&&i+a>=r.ticks.length)||s)&&void 0!==e&&null!==e){var l,h,f,m;i===(void 0!==r.zeroLineIndex?r.zeroLineIndex:0)?(l=d.zeroLineWidth,h=d.zeroLineColor,f=d.zeroLineBorderDash,m=d.zeroLineBorderDashOffset):(l=n.getValueAtIndexOrDefault(d.lineWidth,i),h=n.getValueAtIndexOrDefault(d.color,i),f=n.getValueOrDefault(d.borderDash,u.borderDash),m=n.getValueOrDefault(d.borderDashOffset,u.borderDashOffset));var v,b,w,_,C,D,M,P,A,I,O="middle",L="middle";if(g){"bottom"===o.position?(L=p?"middle":"top",O=p?"right":"center",I=r.top+y):(L=p?"middle":"bottom",O=p?"left":"center",I=r.bottom-y);var R=r.getPixelForTick(i)+n.aliasPixel(l);A=r.getPixelForTick(i,d.offsetGridLines)+c.labelOffset,v=w=C=M=R,b=E,_=T,D=t.top,P=t.bottom}else{var F,N="left"===o.position,H=c.padding;c.mirror?(O=N?"left":"right",F=H):(O=N?"right":"left",F=y+H),A=N?r.right-F:r.left+F;var G=r.getPixelForTick(i);G+=n.aliasPixel(l),I=r.getPixelForTick(i,d.offsetGridLines),v=k,w=$,C=t.left,M=t.right,b=_=D=P=G}S.push({tx1:v,ty1:b,tx2:w,ty2:_,x1:C,y1:D,x2:M,y2:P,labelX:A,labelY:I,glWidth:l,glColor:h,glBorderDash:f,glBorderDashOffset:m,rotation:-1*x,label:e,textBaseline:L,textAlign:O})}}}),n.each(S,function(e){if(d.display&&(l.save(),l.lineWidth=e.glWidth,l.strokeStyle=e.glColor,l.setLineDash&&(l.setLineDash(e.glBorderDash),l.lineDashOffset=e.glBorderDashOffset),l.beginPath(),d.drawTicks&&(l.moveTo(e.tx1,e.ty1),l.lineTo(e.tx2,e.ty2)),d.drawOnChartArea&&(l.moveTo(e.x1,e.y1),l.lineTo(e.x2,e.y2)),l.stroke(),l.restore()),c.display){l.save(),l.translate(e.labelX,e.labelY),l.rotate(e.rotation),l.font=v.font,l.textBaseline=e.textBaseline,l.textAlign=e.textAlign;var t=e.label;if(n.isArray(t))for(var i=0,r=0;i<t.length;++i)l.fillText(""+t[i],0,r),r+=1.5*v.size;else l.fillText(t,0,0);l.restore()}}),h.display){var D,M,P=0;if(g)D=r.left+(r.right-r.left)/2,M="bottom"===o.position?r.bottom-w.size/2:r.top+w.size/2;else{var A="left"===o.position;D=A?r.left+w.size/2:r.right-w.size/2,M=r.top+(r.bottom-r.top)/2,P=A?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(D,M),l.rotate(P),l.textAlign="center",l.textBaseline="middle",l.fillStyle=b,l.font=w.font,l.fillText(h.labelString,0,0),l.restore()}if(d.drawBorder){l.lineWidth=n.getValueAtIndexOrDefault(d.lineWidth,0),l.strokeStyle=n.getValueAtIndexOrDefault(d.color,0);var I=r.left,O=r.right,L=r.top,R=r.bottom,F=n.aliasPixel(l.lineWidth);g?(L=R="top"===o.position?r.bottom:r.top,L+=F,R+=F):(I=O="left"===o.position?r.right:r.left,I+=F,O+=F),l.beginPath(),l.moveTo(I,L),l.lineTo(O,R),l.stroke()}}}})}},{}],32:[function(e,t,i){t.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,i,n){this.constructors[e]=i,this.defaults[e]=t.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(i){return this.defaults.hasOwnProperty(i)?t.scaleMerge(e.defaults.scale,this.defaults[i]):{}},updateScaleDefaults:function(e,i){var n=this.defaults;n.hasOwnProperty(e)&&(n[e]=t.extend(n[e],i))},addScalesToLayout:function(i){t.each(i.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,e.layoutService.addBox(i,t)})}}}},{}],33:[function(e,t,i){t.exports=function(e){var t=e.helpers;e.Ticks={generators:{linear:function(e,i){var n,r=[];if(e.stepSize&&e.stepSize>0)n=e.stepSize;else{var o=t.niceNum(i.max-i.min,!1);n=t.niceNum(o/(e.maxTicks-1),!0)}var a=Math.floor(i.min/n)*n,s=Math.ceil(i.max/n)*n;e.min&&e.max&&e.stepSize&&t.almostWhole((e.max-e.min)/e.stepSize,n/1e3)&&(a=e.min,s=e.max);var l=(s-a)/n;l=t.almostEquals(l,Math.round(l),n/1e3)?Math.round(l):Math.ceil(l),r.push(void 0!==e.min?e.min:a);for(var u=1;u<l;++u)r.push(a+u*n);return r.push(void 0!==e.max?e.max:s),r},logarithmic:function(e,i){var n,r,o=[],a=t.getValueOrDefault,s=a(e.min,Math.pow(10,Math.floor(t.log10(i.min)))),l=Math.floor(t.log10(i.max)),u=Math.ceil(i.max/Math.pow(10,l));0===s?(n=Math.floor(t.log10(i.minNotZero)),r=Math.floor(i.minNotZero/Math.pow(10,n)),o.push(s),s=r*Math.pow(10,n)):(n=Math.floor(t.log10(s)),r=Math.floor(s/Math.pow(10,n)));do{o.push(s),++r,10===r&&(r=1,++n),s=r*Math.pow(10,n)}while(n<l||n===l&&r<u);var c=a(e.max,s);return o.push(c),o}},formatters:{values:function(e){return t.isArray(e)?e:""+e},linear:function(e,i,n){var r=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var o=t.log10(Math.abs(r)),a="";if(0!==e){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a="0";return a},logarithmic:function(e,i,n){var r=e/Math.pow(10,Math.floor(t.log10(e)));return 0===e?"0":1===r||2===r||5===r||0===i||i===n.length-1?e.toExponential():""}}}}},{}],34:[function(e,t,i){t.exports=function(e){function t(e,t){var i=o.color(e);return i.alpha(t*i.alpha()).rgbaString()}function i(e,t){return t&&(o.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function n(e){var t=e._xScale,i=e._yScale||e._scale,n=e._index,r=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(n,r):"",yLabel:i?i.getLabelForIndex(n,r):"",index:n,datasetIndex:r,x:e._model.x,y:e._model.y}}function r(t){var i=e.defaults.global,n=o.getValueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,i.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,i.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,i.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,i.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,i.defaultFontStyle),titleFontSize:n(t.titleFontSize,i.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,i.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,i.defaultFontStyle),footerFontSize:n(t.footerFontSize,i.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}var o=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:o.noop,title:function(e,t){var i="",n=t.labels,r=n?n.length:0;if(e.length>0){var o=e[0];o.xLabel?i=o.xLabel:r>0&&o.index<r&&(i=n[o.index])}return i},afterTitle:o.noop,beforeBody:o.noop,beforeLabel:o.noop,label:function(e,t){var i=t.datasets[e.datasetIndex].label||"";return i&&(i+=": "),i+e.yLabel},labelColor:function(e,t){var i=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},afterLabel:o.noop,afterBody:o.noop,beforeFooter:o.noop,footer:o.noop,afterFooter:o.noop}},e.Tooltip=e.Element.extend({initialize:function(){this._model=r(this._options)},getTitle:function(){var e=this._options.callbacks,t=e.beforeTitle.apply(this,arguments),n=e.title.apply(this,arguments),r=e.afterTitle.apply(this,arguments),o=[];return i(o=i(o=i(o,t),n),r)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var n=this,r=n._options.callbacks,a=[];return o.each(e,function(e){var o={before:[],lines:[],after:[]};i(o.before,r.beforeLabel.call(n,e,t)),i(o.lines,r.label.call(n,e,t)),i(o.after,r.afterLabel.call(n,e,t)),a.push(o)}),a},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return o.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this._options.callbacks,t=e.beforeFooter.apply(this,arguments),n=e.footer.apply(this,arguments),r=e.afterFooter.apply(this,arguments),o=[];return i(o=i(o=i(o,t),n),r)},update:function(t){var i,a,s=this,l=s._options,u=s._model,c=s._model=r(l),d=s._active,h=s._data,p={xAlign:u.xAlign,yAlign:u.yAlign},f={x:u.x,y:u.y},g={width:u.width,height:u.height},m={x:u.caretX,y:u.caretY};if(d.length){c.opacity=1;var v=[];m=e.Tooltip.positioners[l.position](d,s._eventPosition);var y=[];for(i=0,a=d.length;i<a;++i)y.push(n(d[i]));l.filter&&(y=y.filter(function(e){return l.filter(e,h)})),l.itemSort&&(y=y.sort(function(e,t){return l.itemSort(e,t,h)})),o.each(y,function(e){v.push(l.callbacks.labelColor.call(s,e,s._chart))}),c.title=s.getTitle(y,h),c.beforeBody=s.getBeforeBody(y,h),c.body=s.getBody(y,h),c.afterBody=s.getAfterBody(y,h),c.footer=s.getFooter(y,h),c.x=Math.round(m.x),c.y=Math.round(m.y),c.caretPadding=l.caretPadding,c.labelColors=v,c.dataPoints=y,f=function(e,t,i){var n=e.x,r=e.y,o=e.caretSize,a=e.caretPadding,s=e.cornerRadius,l=i.xAlign,u=i.yAlign,c=o+a,d=s+a;return"right"===l?n-=t.width:"center"===l&&(n-=t.width/2),"top"===u?r+=c:r-="bottom"===u?t.height+c:t.height/2,"center"===u?"left"===l?n+=c:"right"===l&&(n-=c):"left"===l?n-=d:"right"===l&&(n+=d),{x:n,y:r}}(c,g=function(e,t){var i=e._chart.ctx,n=2*t.yPadding,r=0,a=t.body,s=a.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);s+=t.beforeBody.length+t.afterBody.length;var l=t.title.length,u=t.footer.length,c=t.titleFontSize,d=t.bodyFontSize,h=t.footerFontSize;n+=l*c,n+=l?(l-1)*t.titleSpacing:0,n+=l?t.titleMarginBottom:0,n+=s*d,n+=s?(s-1)*t.bodySpacing:0,n+=u?t.footerMarginTop:0,n+=u*h,n+=u?(u-1)*t.footerSpacing:0;var p=0,f=function(e){r=Math.max(r,i.measureText(e).width+p)};return i.font=o.fontString(c,t._titleFontStyle,t._titleFontFamily),o.each(t.title,f),i.font=o.fontString(d,t._bodyFontStyle,t._bodyFontFamily),o.each(t.beforeBody.concat(t.afterBody),f),p=t.displayColors?d+2:0,o.each(a,function(e){o.each(e.before,f),o.each(e.lines,f),o.each(e.after,f)}),p=0,i.font=o.fontString(h,t._footerFontStyle,t._footerFontFamily),o.each(t.footer,f),{width:r+=2*t.xPadding,height:n}}(this,c),p=function(e,t){var i=e._model,n=e._chart,r=e._chart.chartArea,o="center",a="center";i.y<t.height?a="top":i.y>n.height-t.height&&(a="bottom");var s,l,u,c,d,h=(r.left+r.right)/2,p=(r.top+r.bottom)/2;"center"===a?(s=function(e){return e<=h},l=function(e){return e>h}):(s=function(e){return e<=t.width/2},l=function(e){return e>=n.width-t.width/2}),u=function(e){return e+t.width>n.width},c=function(e){return e-t.width<0},d=function(e){return e<=p?"top":"bottom"},s(i.x)?(o="left",u(i.x)&&(o="center",a=d(i.y))):l(i.x)&&(o="right",c(i.x)&&(o="center",a=d(i.y)));var f=e._options;return{xAlign:f.xAlign?f.xAlign:o,yAlign:f.yAlign?f.yAlign:a}}(this,g))}else c.opacity=0;return c.xAlign=p.xAlign,c.yAlign=p.yAlign,c.x=f.x,c.y=f.y,c.width=g.width,c.height=g.height,c.caretX=m.x,c.caretY=m.y,s._model=c,t&&l.custom&&l.custom.call(s,c),s},drawCaret:function(e,t){var i=this._chart.ctx,n=this._view,r=this.getCaretPosition(e,t,n);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,i){var n,r,o,a,s,l,u=i.caretSize,c=i.cornerRadius,d=i.xAlign,h=i.yAlign,p=e.x,f=e.y,g=t.width,m=t.height;if("center"===h)s=f+m/2,"left"===d?(n=p,r=n-u,o=n,a=s+u,l=s-u):(n=p+g,r=n+u,o=n,a=s-u,l=s+u);else if("left"===d?(r=p+c+u,n=r-u,o=r+u):"right"===d?(r=p+g-c-u,n=r-u,o=r+u):(r=p+g/2,n=r-u,o=r+u),"top"===h)a=f,s=a-u,l=a;else{s=(a=f+m)+u,l=a;var v=o;o=n,n=v}return{x1:n,x2:r,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(e,i,n,r){var a=i.title;if(a.length){n.textAlign=i._titleAlign,n.textBaseline="top";var s=i.titleFontSize,l=i.titleSpacing;n.fillStyle=t(i.titleFontColor,r),n.font=o.fontString(s,i._titleFontStyle,i._titleFontFamily);var u,c;for(u=0,c=a.length;u<c;++u)n.fillText(a[u],e.x,e.y),e.y+=s+l,u+1===a.length&&(e.y+=i.titleMarginBottom-l)}},drawBody:function(e,i,n,r){var a=i.bodyFontSize,s=i.bodySpacing,l=i.body;n.textAlign=i._bodyAlign,n.textBaseline="top";var u=t(i.bodyFontColor,r);n.fillStyle=u,n.font=o.fontString(a,i._bodyFontStyle,i._bodyFontFamily);var c=0,d=function(t){n.fillText(t,e.x+c,e.y),e.y+=a+s};o.each(i.beforeBody,d);var h=i.displayColors;c=h?a+2:0,o.each(l,function(s,l){o.each(s.before,d),o.each(s.lines,function(o){h&&(n.fillStyle=t(i.legendColorBackground,r),n.fillRect(e.x,e.y,a,a),n.strokeStyle=t(i.labelColors[l].borderColor,r),n.strokeRect(e.x,e.y,a,a),n.fillStyle=t(i.labelColors[l].backgroundColor,r),n.fillRect(e.x+1,e.y+1,a-2,a-2),n.fillStyle=u),d(o)}),o.each(s.after,d)}),c=0,o.each(i.afterBody,d),e.y-=s},drawFooter:function(e,i,n,r){var a=i.footer;a.length&&(e.y+=i.footerMarginTop,n.textAlign=i._footerAlign,n.textBaseline="top",n.fillStyle=t(i.footerFontColor,r),n.font=o.fontString(i.footerFontSize,i._footerFontStyle,i._footerFontFamily),o.each(a,function(t){n.fillText(t,e.x,e.y),e.y+=i.footerFontSize+i.footerSpacing}))},drawBackground:function(e,i,n,r,o){n.fillStyle=t(i.backgroundColor,o),n.strokeStyle=t(i.borderColor,o),n.lineWidth=i.borderWidth;var a=i.xAlign,s=i.yAlign,l=e.x,u=e.y,c=r.width,d=r.height,h=i.cornerRadius;n.beginPath(),n.moveTo(l+h,u),"top"===s&&this.drawCaret(e,r),n.lineTo(l+c-h,u),n.quadraticCurveTo(l+c,u,l+c,u+h),"center"===s&&"right"===a&&this.drawCaret(e,r),n.lineTo(l+c,u+d-h),n.quadraticCurveTo(l+c,u+d,l+c-h,u+d),"bottom"===s&&this.drawCaret(e,r),n.lineTo(l+h,u+d),n.quadraticCurveTo(l,u+d,l,u+d-h),"center"===s&&"left"===a&&this.drawCaret(e,r),n.lineTo(l,u+h),n.quadraticCurveTo(l,u,l+h,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var i={width:t.width,height:t.height},n={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity,o=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&o&&(this.drawBackground(n,t,e,i,r),n.x+=t.xPadding,n.y+=t.yPadding,this.drawTitle(n,t,e,r),this.drawBody(n,t,e,r),this.drawFooter(n,t,e,r))}},handleEvent:function(e){var t=this._options,i=!1;if(this._lastActive=this._lastActive||[],"mouseout"===e.type?this._active=[]:this._active=this._chart.getElementsAtEventForMode(e,t.mode,t),!(i=!o.arrayEquals(this._active,this._lastActive)))return!1;if(this._lastActive=this._active,t.enabled||t.custom){this._eventPosition={x:e.x,y:e.y};var n=this._model;this.update(!0),this.pivot(),i|=n.x!==this._model.x||n.y!==this._model.y}return i}}),e.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,i,n=0,r=0,o=0;for(t=0,i=e.length;t<i;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();n+=s.x,r+=s.y,++o}}return{x:Math.round(n/o),y:Math.round(r/o)}},nearest:function(e,t){var i,n,r,a=t.x,s=t.y,l=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var u=e[n];if(u&&u.hasValue()){var c=u.getCenterPoint(),d=o.distanceBetweenPoints(t,c);d<l&&(l=d,i=u)}}if(i){var h=i.tooltipPosition();a=h.x,s=h.y}return{x:a,y:s}}}}},{}],35:[function(e,t,i){t.exports=function(e){var t=e.helpers,i=e.defaults.global;i.elements.arc={backgroundColor:i.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,i){var n=this._view;if(n){for(var r=t.getAngleFromPoint(n,{x:e,y:i}),o=r.angle,a=r.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;var u=o>=s&&o<=l,c=a>=n.innerRadius&&a<=n.outerRadius;return u&&c}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,i=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,i=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*i,y:e.y+Math.sin(t)*i}},draw:function(){var e=this._chart.ctx,t=this._view,i=t.startAngle,n=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,i,n),e.arc(t.x,t.y,t.innerRadius,n,i,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],36:[function(e,t,i){t.exports=function(e){var t=e.helpers,i=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:i.defaultColor,borderWidth:3,borderColor:i.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},e.elements.Line=e.Element.extend({draw:function(){var e,n,r,o,a=this._view,s=this._chart.ctx,l=a.spanGaps,u=this._children.slice(),c=i.elements.line,d=-1;for(this._loop&&u.length&&u.push(u[0]),s.save(),s.lineCap=a.borderCapStyle||c.borderCapStyle,s.setLineDash&&s.setLineDash(a.borderDash||c.borderDash),s.lineDashOffset=a.borderDashOffset||c.borderDashOffset,s.lineJoin=a.borderJoinStyle||c.borderJoinStyle,s.lineWidth=a.borderWidth||c.borderWidth,s.strokeStyle=a.borderColor||i.defaultColor,s.beginPath(),d=-1,e=0;e<u.length;++e)n=u[e],r=t.previousItem(u,e),o=n._view,0===e?o.skip||(s.moveTo(o.x,o.y),d=e):(r=-1===d?r:u[d],o.skip||(d!==e-1&&!l||-1===d?s.moveTo(o.x,o.y):t.canvas.lineTo(s,r._view,n._view),d=e));s.stroke(),s.restore()}})}},{}],37:[function(e,t,i){t.exports=function(e){function t(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}var i=e.helpers,n=e.defaults.global,r=n.defaultColor;n.elements.point={radius:3,pointStyle:"circle",backgroundColor:r,borderWidth:1,borderColor:r,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var i=this._view;return!!i&&Math.pow(e-i.x,2)+Math.pow(t-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:t,inXRange:t,inYRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(t){var o=this._view,a=this._model,s=this._chart.ctx,l=o.pointStyle,u=o.radius,c=o.x,d=o.y,h=e.helpers.color,p=0;o.skip||(s.strokeStyle=o.borderColor||r,s.lineWidth=i.getValueOrDefault(o.borderWidth,n.elements.point.borderWidth),s.fillStyle=o.backgroundColor||r,void 0!==t&&(a.x<t.left||1.01*t.right<a.x||a.y<t.top||1.01*t.bottom<a.y)&&(a.x<t.left?p=(c-a.x)/(t.left-a.x):1.01*t.right<a.x?p=(a.x-c)/(a.x-t.right):a.y<t.top?p=(d-a.y)/(t.top-a.y):1.01*t.bottom<a.y&&(p=(a.y-d)/(a.y-t.bottom)),p=Math.round(100*p)/100,s.strokeStyle=h(s.strokeStyle).alpha(p).rgbString(),s.fillStyle=h(s.fillStyle).alpha(p).rgbString()),e.canvasHelpers.drawPoint(s,l,u,c,d))}})}},{}],38:[function(e,t,i){t.exports=function(e){function t(e){return void 0!==e._view.width}function i(e){var i,n,r,o,a=e._view;if(t(e)){var s=a.width/2;i=a.x-s,n=a.x+s,r=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;i=Math.min(a.x,a.base),n=Math.max(a.x,a.base),r=a.y-l,o=a.y+l}return{left:i,top:r,right:n,bottom:o}}var n=e.defaults.global;n.elements.rectangle={backgroundColor:n.defaultColor,borderWidth:0,borderColor:n.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){function e(e){return v[(y+e)%4]}var t,i,n,r,o,a,s,l=this._chart.ctx,u=this._view,c=u.borderWidth;if(u.horizontal?(t=u.base,i=u.x,n=u.y-u.height/2,r=u.y+u.height/2,o=i>t?1:-1,a=1,s=u.borderSkipped||"left"):(t=u.x-u.width/2,i=u.x+u.width/2,n=u.y,o=1,a=(r=u.base)>n?1:-1,s=u.borderSkipped||"bottom"),c){var d=Math.min(Math.abs(t-i),Math.abs(n-r)),h=(c=c>d?d:c)/2,p=t+("left"!==s?h*o:0),f=i+("right"!==s?-h*o:0),g=n+("top"!==s?h*a:0),m=r+("bottom"!==s?-h*a:0);p!==f&&(n=g,r=m),g!==m&&(t=p,i=f)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=c;var v=[[t,r],[t,n],[i,n],[i,r]],y=["bottom","left","top","right"].indexOf(s,0);-1===y&&(y=0);var b=e(0);l.moveTo(b[0],b[1]);for(var w=1;w<4;w++)b=e(w),l.lineTo(b[0],b[1]);l.fill(),c&&l.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=!1;if(this._view){var r=i(this);n=e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}return n},inLabelRange:function(e,n){if(!this._view)return!1;var r=i(this);return t(this)?e>=r.left&&e<=r.right:n>=r.top&&n<=r.bottom},inXRange:function(e){var t=i(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=i(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,i,n=this._view;return t(this)?(e=n.x,i=(n.y+n.base)/2):(e=(n.x+n.base)/2,i=n.y),{x:e,y:i}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],39:[function(e,t,i){t.exports=function(e){function t(e,t){var i=r.getStyle(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}function i(e,t,i,n,r){return{type:e,chart:t,native:r||null,x:void 0!==i?i:null,y:void 0!==n?n:null}}function n(e,t,n){var o=e._chartjs={ticking:!1};o.resizer=function(e){var t=document.createElement("iframe");return t.className="chartjs-hidden-iframe",t.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",t.tabIndex=-1,r.addEvent(t,"load",function(){r.addEvent(t.contentWindow||t,"resize",e),e()}),t}(function(){o.ticking||(o.ticking=!0,r.requestAnimFrame.call(window,function(){if(o.resizer)return o.ticking=!1,t(i("resize",n))}))}),e.insertBefore(o.resizer,e.firstChild)}var r=e.helpers,o={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};return{acquireContext:function(e,i){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,i){var n=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e._chartjs={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===o||""===o){var a=t(e,"width");void 0!==a&&(e.width=a)}if(null===r||""===r)if(""===e.style.height)e.height=e.width/(i.options.aspectRatio||2);else{var s=t(e,"height");void 0!==a&&(e.height=s)}}(e,i),n):null},releaseContext:function(e){var t=e.canvas;if(t._chartjs){var i=t._chartjs.initial;["height","width"].forEach(function(e){var n=i[e];void 0===n||null===n?t.removeAttribute(e):t.setAttribute(e,n)}),r.each(i.style||{},function(e,i){t.style[i]=e}),t.width=t.width,delete t._chartjs}},addEventListener:function(e,t,a){var s=e.canvas;if("resize"!==t){var l=a._chartjs||(a._chartjs={}),u=(l.proxies||(l.proxies={}))[e.id+"_"+t]=function(t){a(function(e,t){var n=o[e.type]||e.type,a=r.getRelativePosition(e,t);return i(n,t,a.x,a.y,e)}(t,e))};r.addEvent(s,t,u)}else n(s.parentNode,a,e)},removeEventListener:function(e,t,i){var n=e.canvas;if("resize"!==t){var o=((i._chartjs||{}).proxies||{})[e.id+"_"+t];o&&r.removeEvent(n,t,o)}else!function(e){if(e&&e._chartjs){var t=e._chartjs.resizer;t&&(t.parentNode.removeChild(t),e._chartjs.resizer=null),delete e._chartjs}}(n.parentNode)}}}},{}],40:[function(e,t,i){var n=e(39);t.exports=function(e){e.platform={acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},e.helpers.extend(e.platform,n(e))}},{39:39}],41:[function(e,t,i){t.exports=function(e){function t(e,t,i){var n,r=e._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(n=parseFloat(o,10),isFinite(n)&&Math.floor(n)===n)return"-"!==o[0]&&"+"!==o[0]||(n=t+n),!(n===t||n<0||n>=i)&&n;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function i(e){var t,i=e.el._model||{},n=e.el._scale||{},r=e.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===i.scaleBottom?n.bottom:i.scaleBottom:"end"===r?o=void 0===i.scaleTop?n.top:i.scaleTop:void 0!==i.scaleZero?o=i.scaleZero:n.getBasePosition?o=n.getBasePosition():n.getBasePixel&&(o=n.getBasePixel()),void 0!==o&&null!==o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return t=n.isHorizontal(),{x:t?o:null,y:t?null:o}}return null}function n(e,t,i){var n,r=e[t].fill,o=[t];if(!i)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(n=e[r]))return!1;if(n.visible)return r;o.push(r),r=n.fill}return!1}function r(e){var t=e.fill,i="dataset";return!1===t?null:(isFinite(t)||(i="boundary"),u[i](e))}function o(e){return e&&!e.skip}function a(e,t,i,n,r){var o;if(n&&r){for(e.moveTo(t[0].x,t[0].y),o=1;o<n;++o)l.canvas.lineTo(e,t[o-1],t[o]);for(e.lineTo(i[r-1].x,i[r-1].y),o=r-1;o>0;--o)l.canvas.lineTo(e,i[o],i[o-1],!0)}}e.defaults.global.plugins.filler={propagate:!0};var s=e.defaults,l=e.helpers,u={dataset:function(e){var t=e.fill,i=e.chart,n=i.getDatasetMeta(t),r=n&&i.isDatasetVisible(t)&&n.dataset._children||[];return r.length?function(e,t){return r[t]._view||null}:null},boundary:function(e){var t=e.boundary,i=t?t.x:null,n=t?t.y:null;return function(e){return{x:null===i?e.x:i,y:null===n?e.y:n}}}};return{id:"filler",afterDatasetsUpdate:function(o,a){var s,l,u,c,d=(o.data.datasets||[]).length,h=a.propagate,p=[];for(l=0;l<d;++l)s=o.getDatasetMeta(l),u=s.dataset,c=null,u&&u._model&&u instanceof e.elements.Line&&(c={visible:o.isDatasetVisible(l),fill:t(u,l,d),chart:o,el:u}),s.$filler=c,p.push(c);for(l=0;l<d;++l)c=p[l],c&&(c.fill=n(p,l,h),c.boundary=i(c),c.mapper=r(c))},beforeDatasetDraw:function(e,t){var i=t.meta.$filler;if(i){var n=i.el,r=n._view,l=n._children||[],u=i.mapper,c=r.backgroundColor||s.global.defaultColor;u&&c&&l.length&&function(e,t,i,n,r,s){var l,u,c,d,h,p,f,g=t.length,m=n.spanGaps,v=[],y=[],b=0,w=0;for(e.beginPath(),l=0,u=g+!!s;l<u;++l)c=l%g,d=t[c]._view,h=i(d,c,n),p=o(d),f=o(h),p&&f?(b=v.push(d),w=y.push(h)):b&&w&&(m?(p&&v.push(d),f&&y.push(h)):(a(e,v,y,b,w),b=w=0,v=[],y=[]));a(e,v,y,b,w),e.closePath(),e.fillStyle=r,e.fill()}(e.ctx,l,u,r,c,n._loop)}}}}},{}],42:[function(e,t,i){t.exports=function(e){function t(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function i(t,i){var n=new e.Legend({ctx:t.ctx,options:i,chart:t});r.configure(t,n,i),r.addBox(t,n),t.legend=n}var n=e.helpers,r=e.layoutService,o=n.noop;return e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var i=t.datasetIndex,n=this.chart,r=n.getDatasetMeta(i);r.hidden=null===r.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return n.isArray(t.datasets)?t.datasets.map(function(t,i){return{text:t.label,fillStyle:n.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(i),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:i}},this):[]}}},e.Legend=e.Element.extend({initialize:function(e){n.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:o,update:function(e,t,i){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:function(){var e=this,t=e.options.labels,i=t.generateLabels.call(e,e.chart);t.filter&&(i=i.filter(function(i){return t.filter(i,e.chart.data)})),e.options.reverse&&i.reverse(),e.legendItems=i},afterBuildLabels:o,beforeFit:o,fit:function(){var i=this,r=i.options,o=r.labels,a=r.display,s=i.ctx,l=e.defaults.global,u=n.getValueOrDefault,c=u(o.fontSize,l.defaultFontSize),d=u(o.fontStyle,l.defaultFontStyle),h=u(o.fontFamily,l.defaultFontFamily),p=n.fontString(c,d,h),f=i.legendHitBoxes=[],g=i.minSize,m=i.isHorizontal();if(m?(g.width=i.maxWidth,g.height=a?10:0):(g.width=a?10:0,g.height=i.maxHeight),a)if(s.font=p,m){var v=i.lineWidths=[0],y=i.legendItems.length?c+o.padding:0;s.textAlign="left",s.textBaseline="top",n.each(i.legendItems,function(e,n){var r=t(o,c)+c/2+s.measureText(e.text).width;v[v.length-1]+r+o.padding>=i.width&&(y+=c+o.padding,v[v.length]=i.left),f[n]={left:0,top:0,width:r,height:c},v[v.length-1]+=r+o.padding}),g.height+=y}else{var b=o.padding,w=i.columnWidths=[],x=o.padding,_=0,C=0,S=c+b;n.each(i.legendItems,function(e,i){var n=t(o,c)+c/2+s.measureText(e.text).width;C+S>g.height&&(x+=_+o.padding,w.push(_),_=0,C=0),_=Math.max(_,n),C+=S,f[i]={left:0,top:0,width:n,height:c}}),x+=_,w.push(_),g.width+=x}i.width=g.width,i.height=g.height},afterFit:o,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var i=this,r=i.options,o=r.labels,a=e.defaults.global,s=a.elements.line,l=i.width,u=i.lineWidths;if(r.display){var c,d=i.ctx,h=n.getValueOrDefault,p=h(o.fontColor,a.defaultFontColor),f=h(o.fontSize,a.defaultFontSize),g=h(o.fontStyle,a.defaultFontStyle),m=h(o.fontFamily,a.defaultFontFamily),v=n.fontString(f,g,m);d.textAlign="left",d.textBaseline="top",d.lineWidth=.5,d.strokeStyle=p,d.fillStyle=p,d.font=v;var y=t(o,f),b=i.legendHitBoxes,w=i.isHorizontal();c=w?{x:i.left+(l-u[0])/2,y:i.top+o.padding,line:0}:{x:i.left+o.padding,y:i.top+o.padding,line:0};var x=f+o.padding;n.each(i.legendItems,function(t,n){var p=d.measureText(t.text).width,g=y+f/2+p,m=c.x,v=c.y;w?m+g>=l&&(v=c.y+=x,c.line++,m=c.x=i.left+(l-u[c.line])/2):v+x>i.bottom&&(m=c.x=m+i.columnWidths[c.line]+o.padding,v=c.y=i.top+o.padding,c.line++),function(t,i,n){if(!(isNaN(y)||y<=0)){d.save(),d.fillStyle=h(n.fillStyle,a.defaultColor),d.lineCap=h(n.lineCap,s.borderCapStyle),d.lineDashOffset=h(n.lineDashOffset,s.borderDashOffset),d.lineJoin=h(n.lineJoin,s.borderJoinStyle),d.lineWidth=h(n.lineWidth,s.borderWidth),d.strokeStyle=h(n.strokeStyle,a.defaultColor);var o=0===h(n.lineWidth,s.borderWidth);if(d.setLineDash&&d.setLineDash(h(n.lineDash,s.borderDash)),r.labels&&r.labels.usePointStyle){var l=f*Math.SQRT2/2,u=l/Math.SQRT2,c=t+u,p=i+u;e.canvasHelpers.drawPoint(d,n.pointStyle,l,c,p)}else o||d.strokeRect(t,i,y,f),d.fillRect(t,i,y,f);d.restore()}}(m,v,t),b[n].left=m,b[n].top=v,_=m,C=v,S=t,k=p,d.fillText(S.text,y+f/2+_,C),S.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(y+f/2+_,C+f/2),d.lineTo(y+f/2+_+k,C+f/2),d.stroke()),w?c.x+=g+o.padding:c.y+=x;var _,C,S,k})}},handleEvent:function(e){var t=this.options,i="mouseup"===e.type?"click":e.type,n=!1;if("mousemove"===i){if(!t.onHover)return}else{if("click"!==i)return;if(!t.onClick)return}var r=e.x,o=e.y;if(r>=this.left&&r<=this.right&&o>=this.top&&o<=this.bottom)for(var a=this.legendHitBoxes,s=0;s<a.length;++s){var l=a[s];if(r>=l.left&&r<=l.left+l.width&&o>=l.top&&o<=l.top+l.height){if("click"===i){t.onClick.call(this,e.native,this.legendItems[s]),n=!0;break}if("mousemove"===i){t.onHover.call(this,e.native,this.legendItems[s]),n=!0;break}}}return n}}),{id:"legend",beforeInit:function(e){var t=e.options.legend;t&&i(e,t)},beforeUpdate:function(t){var o=t.options.legend,a=t.legend;o?(o=n.configMerge(e.defaults.global.legend,o),a?(r.configure(t,a,o),a.options=o):i(t,o)):a&&(r.removeBox(t,a),delete t.legend)},afterEvent:function(e,t){var i=e.legend;i&&i.handleEvent(t)}}}},{}],43:[function(e,t,i){t.exports=function(e){function t(t,i){var r=new e.Title({ctx:t.ctx,options:i,chart:t});n.configure(t,r,i),n.addBox(t,r),t.titleBlock=r}var i=e.helpers,n=e.layoutService,r=i.noop;return e.defaults.global.title={display:!1,position:"top",fullWidth:!0,weight:2e3,fontStyle:"bold",padding:10,text:""},e.Title=e.Element.extend({initialize:function(e){i.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:r,update:function(e,t,i){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=i,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:r,beforeSetDimensions:r,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:r,beforeBuildLabels:r,buildLabels:r,afterBuildLabels:r,beforeFit:r,fit:function(){var t=i.getValueOrDefault,n=this.options,r=e.defaults.global,o=n.display,a=t(n.fontSize,r.defaultFontSize),s=this.minSize;this.isHorizontal()?(s.width=this.maxWidth,s.height=o?a+2*n.padding:0):(s.width=o?a+2*n.padding:0,s.height=this.maxHeight),this.width=s.width,this.height=s.height},afterFit:r,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var t=this.ctx,n=i.getValueOrDefault,r=this.options,o=e.defaults.global;if(r.display){var a,s,l,u=n(r.fontSize,o.defaultFontSize),c=n(r.fontStyle,o.defaultFontStyle),d=n(r.fontFamily,o.defaultFontFamily),h=i.fontString(u,c,d),p=0,f=this.top,g=this.left,m=this.bottom,v=this.right;t.fillStyle=n(r.fontColor,o.defaultFontColor),t.font=h,this.isHorizontal()?(a=g+(v-g)/2,s=f+(m-f)/2,l=v-g):(a="left"===r.position?g+u/2:v-u/2,s=f+(m-f)/2,l=m-f,p=Math.PI*("left"===r.position?-.5:.5)),t.save(),t.translate(a,s),t.rotate(p),t.textAlign="center",t.textBaseline="middle",t.fillText(r.text,0,0,l),t.restore()}}}),{id:"title",beforeInit:function(e){var i=e.options.title;i&&t(e,i)},beforeUpdate:function(r){var o=r.options.title,a=r.titleBlock;o?(o=i.configMerge(e.defaults.global.title,o),a?(n.configure(r,a,o),a.options=o):t(r,o)):a&&(e.layoutService.removeBox(r,a),delete r.titleBlock)}}}},{}],44:[function(e,t,i){t.exports=function(e){var t=e.helpers,i=e.Scale.extend({getLabels:function(){var e=this.chart.data;return(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e=this.getLabels();this.minIndex=0,this.maxIndex=e.length-1;var i;void 0!==this.options.ticks.min&&(i=t.indexOf(e,this.options.ticks.min),this.minIndex=-1!==i?i:this.minIndex),void 0!==this.options.ticks.max&&(i=t.indexOf(e,this.options.ticks.max),this.maxIndex=-1!==i?i:this.maxIndex),this.min=e[this.minIndex],this.max=e[this.maxIndex]},buildTicks:function(){var e=this.getLabels();this.ticks=0===this.minIndex&&this.maxIndex===e.length-1?e:e.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(e,t){var i=this.chart.data,n=this.isHorizontal();return i.yLabels&&!n?this.getRightValue(i.datasets[t].data[e]):this.ticks[e-this.minIndex]},getPixelForValue:function(e,t,i,n){var r,o=Math.max(this.maxIndex+1-this.minIndex-(this.options.gridLines.offsetGridLines?0:1),1);if(void 0!==e&&null!==e&&(r=this.isHorizontal()?e.x:e.y),void 0!==r||void 0!==e&&isNaN(t)){var a=this.getLabels();e=r||e;var s=a.indexOf(e);t=-1!==s?s:t}if(this.isHorizontal()){var l=this.width/o,u=l*(t-this.minIndex);return(this.options.gridLines.offsetGridLines&&n||this.maxIndex===this.minIndex&&n)&&(u+=l/2),this.left+Math.round(u)}var c=this.height/o,d=c*(t-this.minIndex);return this.options.gridLines.offsetGridLines&&n&&(d+=c/2),this.top+Math.round(d)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),i=this.isHorizontal(),n=(i?this.width:this.height)/t;return e-=i?this.left:this.top,this.options.gridLines.offsetGridLines&&(e-=n/2),e<=0?0:Math.round(e/n)},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",i,{position:"bottom"})}},{}],45:[function(e,t,i){t.exports=function(e){var t=e.helpers,i={position:"left",ticks:{callback:e.Ticks.formatters.linear}},n=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return a?e.xAxisID===i.id:e.yAxisID===i.id}var i=this,n=i.options,r=i.chart,o=r.data.datasets,a=i.isHorizontal();i.min=null,i.max=null;var s=n.stacked;if(void 0===s&&t.each(o,function(t,i){if(!s){var n=r.getDatasetMeta(i);r.isDatasetVisible(i)&&e(n)&&void 0!==n.stack&&(s=!0)}}),n.stacked||s){var l={};t.each(o,function(o,a){var s=r.getDatasetMeta(a),u=[s.type,void 0===n.stacked&&void 0===s.stack?a:"",s.stack].join(".");void 0===l[u]&&(l[u]={positiveValues:[],negativeValues:[]});var c=l[u].positiveValues,d=l[u].negativeValues;r.isDatasetVisible(a)&&e(s)&&t.each(o.data,function(e,t){var r=+i.getRightValue(e);isNaN(r)||s.data[t].hidden||(c[t]=c[t]||0,d[t]=d[t]||0,n.relativePoints?c[t]=100:r<0?d[t]+=r:c[t]+=r)})}),t.each(l,function(e){var n=e.positiveValues.concat(e.negativeValues),r=t.min(n),o=t.max(n);i.min=null===i.min?r:Math.min(i.min,r),i.max=null===i.max?o:Math.max(i.max,o)})}else t.each(o,function(n,o){var a=r.getDatasetMeta(o);r.isDatasetVisible(o)&&e(a)&&t.each(n.data,function(e,t){var n=+i.getRightValue(e);isNaN(n)||a.data[t].hidden||(null===i.min?i.min=n:n<i.min&&(i.min=n),null===i.max?i.max=n:n>i.max&&(i.max=n))})});i.min=isFinite(i.min)?i.min:0,i.max=isFinite(i.max)?i.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var i,n=this.options.ticks;if(this.isHorizontal())i=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(this.width/50));else{var r=t.getValueOrDefault(n.fontSize,e.defaults.global.defaultFontSize);i=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(this.height/(2*r)))}return i},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,i=this.start,n=+this.getRightValue(e),r=this.end-i;return this.isHorizontal()?(t=this.left+this.width/r*(n-i),Math.round(t)):(t=this.bottom-this.height/r*(n-i),Math.round(t))},getValueForPixel:function(e){var t=this.isHorizontal(),i=t?this.width:this.height,n=(t?e-this.left:this.bottom-e)/i;return this.start+(this.end-this.start)*n},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",n,i)}},{}],46:[function(e,t,i){t.exports=function(e){var t=e.helpers,i=t.noop;e.LinearScaleBase=e.Scale.extend({handleTickRangeOptions:function(){var e=this.options.ticks;if(e.beginAtZero){var i=t.sign(this.min),n=t.sign(this.max);i<0&&n<0?this.max=0:i>0&&n>0&&(this.min=0)}void 0!==e.min?this.min=e.min:void 0!==e.suggestedMin&&(null===this.min?this.min=e.suggestedMin:this.min=Math.min(this.min,e.suggestedMin)),void 0!==e.max?this.max=e.max:void 0!==e.suggestedMax&&(null===this.max?this.max=e.suggestedMax:this.max=Math.max(this.max,e.suggestedMax)),this.min===this.max&&(this.max++,e.beginAtZero||this.min--)},getTickLimit:i,handleDirectionalChanges:i,buildTicks:function(){var i=this.options.ticks,n=this.getTickLimit(),r={maxTicks:n=Math.max(2,n),min:i.min,max:i.max,stepSize:t.getValueOrDefault(i.fixedStepSize,i.stepSize)},o=this.ticks=e.Ticks.generators.linear(r,this);this.handleDirectionalChanges(),this.max=t.max(o),this.min=t.min(o),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(this)}})}},{}],47:[function(e,t,i){t.exports=function(e){var t=e.helpers,i={position:"left",ticks:{callback:e.Ticks.formatters.logarithmic}},n=e.Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===i.id:e.yAxisID===i.id}var i=this,n=i.options,r=n.ticks,o=i.chart,a=o.data.datasets,s=t.getValueOrDefault,l=i.isHorizontal();i.min=null,i.max=null,i.minNotZero=null;var u=n.stacked;if(void 0===u&&t.each(a,function(t,i){if(!u){var n=o.getDatasetMeta(i);o.isDatasetVisible(i)&&e(n)&&void 0!==n.stack&&(u=!0)}}),n.stacked||u){var c={};t.each(a,function(r,a){var s=o.getDatasetMeta(a),l=[s.type,void 0===n.stacked&&void 0===s.stack?a:"",s.stack].join(".");o.isDatasetVisible(a)&&e(s)&&(void 0===c[l]&&(c[l]=[]),t.each(r.data,function(e,t){var r=c[l],o=+i.getRightValue(e);isNaN(o)||s.data[t].hidden||(r[t]=r[t]||0,n.relativePoints?r[t]=100:r[t]+=o)}))}),t.each(c,function(e){var n=t.min(e),r=t.max(e);i.min=null===i.min?n:Math.min(i.min,n),i.max=null===i.max?r:Math.max(i.max,r)})}else t.each(a,function(n,r){var a=o.getDatasetMeta(r);o.isDatasetVisible(r)&&e(a)&&t.each(n.data,function(e,t){var n=+i.getRightValue(e);isNaN(n)||a.data[t].hidden||(null===i.min?i.min=n:n<i.min&&(i.min=n),null===i.max?i.max=n:n>i.max&&(i.max=n),0!==n&&(null===i.minNotZero||n<i.minNotZero)&&(i.minNotZero=n))})});i.min=s(r.min,i.min),i.max=s(r.max,i.max),i.min===i.max&&(0!==i.min&&null!==i.min?(i.min=Math.pow(10,Math.floor(t.log10(i.min))-1),i.max=Math.pow(10,Math.floor(t.log10(i.max))+1)):(i.min=1,i.max=10))},buildTicks:function(){var i=this.options.ticks,n={min:i.min,max:i.max},r=this.ticks=e.Ticks.generators.logarithmic(n,this);this.isHorizontal()||r.reverse(),this.max=t.max(r),this.min=t.min(r),i.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var i,n,r,o=this.start,a=+this.getRightValue(e),s=this.options.ticks;return this.isHorizontal()?(r=t.log10(this.end)-t.log10(o),0===a?n=this.left:(i=this.width,n=this.left+i/r*(t.log10(a)-t.log10(o)))):(i=this.height,0!==o||s.reverse?0===this.end&&s.reverse?(r=t.log10(this.start)-t.log10(this.minNotZero),n=a===this.end?this.top:a===this.minNotZero?this.top+.02*i:this.top+.02*i+.98*i/r*(t.log10(a)-t.log10(this.minNotZero))):0===a?n=s.reverse?this.top:this.bottom:(r=t.log10(this.end)-t.log10(o),i=this.height,n=this.bottom-i/r*(t.log10(a)-t.log10(o))):(r=t.log10(this.end)-t.log10(this.minNotZero),n=a===o?this.bottom:a===this.minNotZero?this.bottom-.02*i:this.bottom-.02*i-.98*i/r*(t.log10(a)-t.log10(this.minNotZero)))),n},getValueForPixel:function(e){var i,n,r=t.log10(this.end)-t.log10(this.start);return this.isHorizontal()?(n=this.width,i=this.start*Math.pow(10,(e-this.left)*r/n)):(n=this.height,i=Math.pow(10,(this.bottom-e)*r/n)/this.start),i}});e.scaleService.registerScaleType("logarithmic",n,i)}},{}],48:[function(e,t,i){t.exports=function(e){function t(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function i(e){var t=e.options.pointLabels,i=a.getValueOrDefault(t.fontSize,s.defaultFontSize),n=a.getValueOrDefault(t.fontStyle,s.defaultFontStyle),r=a.getValueOrDefault(t.fontFamily,s.defaultFontFamily);return{size:i,style:n,family:r,font:a.fontString(i,n,r)}}function n(e,t,i,n,r){return e===n||e===r?{start:t-i/2,end:t+i/2}:e<n||e>r?{start:t-i-5,end:t}:{start:t,end:t+i+5}}function r(e,t,i,n){if(a.isArray(t))for(var r=i.y,o=1.5*n,s=0;s<t.length;++s)e.fillText(t[s],i.x,r),r+=o;else e.fillText(t,i.x,i.y)}function o(e){return a.isNumber(e)?e:0}var a=e.helpers,s=e.defaults.global,l={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:e.Ticks.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},u=e.LinearScaleBase.extend({setDimensions:function(){var e=this.options,t=e.ticks;this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var i=a.min([this.height,this.width]),n=a.getValueOrDefault(t.fontSize,s.defaultFontSize);this.drawingArea=e.display?i/2-(n/2+t.backdropPaddingY):i/2},determineDataLimits:function(){var e=this,t=e.chart,i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;a.each(t.data.datasets,function(r,o){if(t.isDatasetVisible(o)){var s=t.getDatasetMeta(o);a.each(r.data,function(t,r){var o=+e.getRightValue(t);isNaN(o)||s.data[r].hidden||(i=Math.min(o,i),n=Math.max(o,n))})}}),e.min=i===Number.POSITIVE_INFINITY?0:i,e.max=n===Number.NEGATIVE_INFINITY?0:n,e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,t=a.getValueOrDefault(e.fontSize,s.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*t)))},convertTicksToLabels:function(){e.LinearScaleBase.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){this.options.pointLabels.display?function(e){var r,o,s,l=i(e),u=Math.min(e.height/2,e.width/2),c={r:e.width,l:0,t:e.height,b:0},d={};e.ctx.font=l.font,e._pointLabelSizes=[];var h=t(e);for(r=0;r<h;r++){s=e.getPointPosition(r,u),v=e.ctx,y=l.size,b=e.pointLabels[r]||"",o=a.isArray(b)?{w:a.longestText(v,v.font,b),h:b.length*y+1.5*(b.length-1)*y}:{w:v.measureText(b).width,h:y},e._pointLabelSizes[r]=o;var p=e.getIndexAngle(r),f=a.toDegrees(p)%360,g=n(f,s.x,o.w,0,180),m=n(f,s.y,o.h,90,270);g.start<c.l&&(c.l=g.start,d.l=p),g.end>c.r&&(c.r=g.end,d.r=p),m.start<c.t&&(c.t=m.start,d.t=p),m.end>c.b&&(c.b=m.end,d.b=p)}var v,y,b;e.setReductions(u,c,d)}(this):function(e){var t=Math.min(e.height/2,e.width/2);e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0)}(this)},setReductions:function(e,t,i){var n=t.l/Math.sin(i.l),r=Math.max(t.r-this.width,0)/Math.sin(i.r),a=-t.t/Math.cos(i.t),s=-Math.max(t.b-this.height,0)/Math.cos(i.b);n=o(n),r=o(r),a=o(a),s=o(s),this.drawingArea=Math.min(Math.round(e-(n+r)/2),Math.round(e-(a+s)/2)),this.setCenterPoint(n,r,a,s)},setCenterPoint:function(e,t,i,n){var r=this.width-t-this.drawingArea,o=e+this.drawingArea,a=i+this.drawingArea,s=this.height-n-this.drawingArea;this.xCenter=Math.round((o+r)/2+this.left),this.yCenter=Math.round((a+s)/2+this.top)},getIndexAngle:function(e){return e*(2*Math.PI/t(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){if(null===e)return 0;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t},getPointPosition:function(e,t){var i=this.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(i)*t)+this.xCenter,y:Math.round(Math.sin(i)*t)+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this.min,t=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0)},draw:function(){var e=this,n=e.options,o=n.gridLines,l=n.ticks,u=a.getValueOrDefault;if(n.display){var c=e.ctx,d=u(l.fontSize,s.defaultFontSize),h=u(l.fontStyle,s.defaultFontStyle),p=u(l.fontFamily,s.defaultFontFamily),f=a.fontString(d,h,p);a.each(e.ticks,function(i,r){if(r>0||n.reverse){var h=e.getDistanceFromCenterForValue(e.ticksAsNumbers[r]),p=e.yCenter-h;if(o.display&&0!==r&&function(e,i,n,r){var o=e.ctx;if(o.strokeStyle=a.getValueAtIndexOrDefault(i.color,r-1),o.lineWidth=a.getValueAtIndexOrDefault(i.lineWidth,r-1),e.options.gridLines.circular)o.beginPath(),o.arc(e.xCenter,e.yCenter,n,0,2*Math.PI),o.closePath(),o.stroke();else{var s=t(e);if(0===s)return;o.beginPath();var l=e.getPointPosition(0,n);o.moveTo(l.x,l.y);for(var u=1;u<s;u++)l=e.getPointPosition(u,n),o.lineTo(l.x,l.y);o.closePath(),o.stroke()}}(e,o,h,r),l.display){var g=u(l.fontColor,s.defaultFontColor);if(c.font=f,l.showLabelBackdrop){var m=c.measureText(i).width;c.fillStyle=l.backdropColor,c.fillRect(e.xCenter-m/2-l.backdropPaddingX,p-d/2-l.backdropPaddingY,m+2*l.backdropPaddingX,d+2*l.backdropPaddingY)}c.textAlign="center",c.textBaseline="middle",c.fillStyle=g,c.fillText(i,e.xCenter,p)}}}),(n.angleLines.display||n.pointLabels.display)&&function(e){var n=e.ctx,o=a.getValueOrDefault,l=e.options,u=l.angleLines,c=l.pointLabels;n.lineWidth=u.lineWidth,n.strokeStyle=u.color;var d=e.getDistanceFromCenterForValue(l.reverse?e.min:e.max),h=i(e);n.textBaseline="top";for(var p=t(e)-1;p>=0;p--){if(u.display){var f=e.getPointPosition(p,d);n.beginPath(),n.moveTo(e.xCenter,e.yCenter),n.lineTo(f.x,f.y),n.stroke(),n.closePath()}if(c.display){var g=e.getPointPosition(p,d+5),m=o(c.fontColor,s.defaultFontColor);n.font=h.font,n.fillStyle=m;var v=e.getIndexAngle(p),y=a.toDegrees(v);n.textAlign=(_=y,0===_||180===_?"center":_<180?"left":"right"),b=y,w=e._pointLabelSizes[p],x=g,90===b||270===b?x.y-=w.h/2:(b>270||b<90)&&(x.y-=w.h),r(n,e.pointLabels[p]||"",g,h.size)}}var b,w,x,_}(e)}}});e.scaleService.registerScaleType("radialLinear",u,l)}},{}],49:[function(e,t,i){var n=e(1);n="function"==typeof n?n:window.moment,t.exports=function(e){function t(e,t){var i=e.options.time;if("string"==typeof i.parser)return n(t,i.parser);if("function"==typeof i.parser)return i.parser(t);if("function"==typeof t.getMonth||"number"==typeof t)return n(t);if(t.isValid&&t.isValid())return t;var r=i.format;return"string"!=typeof r&&r.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser."),r(t)):n(t,r)}var i=e.helpers,r={millisecond:{size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{size:1e3,steps:[1,2,5,10,30]},minute:{size:6e4,steps:[1,2,5,10,30]},hour:{size:36e5,steps:[1,2,3,6,12]},day:{size:864e5,steps:[1,2,5]},week:{size:6048e5,maxStep:4},month:{size:2628e6,maxStep:3},quarter:{size:7884e6,maxStep:4},year:{size:3154e7,maxStep:!1}};e.Ticks.generators.time=function(e,t){var i,r,o=e.isoWeekday;return"week"===e.unit&&!1!==o?(i=n(t.min).startOf("isoWeek").isoWeekday(o).valueOf(),r=n(t.max).startOf("isoWeek").isoWeekday(o),t.max-r>0&&r.add(1,"week"),r=r.valueOf()):(i=n(t.min).startOf(e.unit).valueOf(),r=n(t.max).startOf(e.unit),t.max-r>0&&r.add(1,e.unit),r=r.valueOf()),function(e,t,i){var r=[];if(e.maxTicks){var o=e.stepSize;r.push(void 0!==e.min?e.min:i.min);for(var a=n(i.min);a.add(o,e.unit).valueOf()<i.max;)r.push(a.valueOf());var s=e.max||i.max;r[r.length-1]!==s&&r.push(s)}return r}(e,0,{min:i,max:r})};var o=e.Scale.extend({initialize:function(){if(!n)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},determineDataLimits:function(){var e,n=this,r=n.options.time,o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,s=n.chart.data,l={labels:[],datasets:[]};i.each(s.labels,function(i,s){var u=t(n,i);u.isValid()&&(r.round&&u.startOf(r.round),e=u.valueOf(),o=Math.min(e,o),a=Math.max(e,a),l.labels[s]=e)}),i.each(s.datasets,function(s,u){var c=[];"object"==typeof s.data[0]&&null!==s.data[0]&&n.chart.isDatasetVisible(u)?i.each(s.data,function(i,s){var l=t(n,n.getRightValue(i));l.isValid()&&(r.round&&l.startOf(r.round),e=l.valueOf(),o=Math.min(e,o),a=Math.max(e,a),c[s]=e)}):c=l.labels.slice(),l.datasets[u]=c}),n.dataMin=o,n.dataMax=a,n._parsedData=l},buildTicks:function(){var n,o,a=this.options.time,s=this.dataMin,l=this.dataMax;if(a.min){var u=t(this,a.min);a.round&&u.round(a.round),n=u.valueOf()}a.max&&(o=t(this,a.max).valueOf());var c=this.getLabelCapacity(n||s),d=a.unit||function(e,t,i,n){for(var o,a=Object.keys(r),s=a.length,l=a.indexOf(e);l<s;l++){o=a[l];var u=r[o],c=u.steps&&u.steps[u.steps.length-1]||u.maxStep;if(void 0===c||Math.ceil((i-t)/(c*u.size))<=n)break}return o}(a.minUnit,n||s,o||l,c);this.displayFormat=a.displayFormats[d];var h=a.stepSize||function(e,t,i,n){var o=r[i],a=o.size,s=Math.ceil((t-e)/a),l=1,u=t-e;if(o.steps)for(var c=o.steps.length,d=0;d<c&&s>n;d++)l=o.steps[d],s=Math.ceil(u/(a*l));else for(;s>n&&n>0;)++l,s=Math.ceil(u/(a*l));return l}(n||s,o||l,d,c);this.ticks=e.Ticks.generators.time({maxTicks:c,min:n,max:o,stepSize:h,unit:d,isoWeekday:a.isoWeekday},{min:s,max:l}),this.max=i.max(this.ticks),this.min=i.min(this.ticks)},getLabelForIndex:function(e,i){var n=this.chart.data.labels&&e<this.chart.data.labels.length?this.chart.data.labels[e]:"",r=this.chart.data.datasets[i].data[e];return null!==r&&"object"==typeof r&&(n=this.getRightValue(r)),this.options.time.tooltipFormat&&(n=t(this,n).format(this.options.time.tooltipFormat)),n},tickFormatFunction:function(e,t,n){var r=e.format(this.displayFormat),o=this.options.ticks,a=i.getValueOrDefault(o.callback,o.userCallback);return a?a(r,t,n):r},convertTicksToLabels:function(){this.ticksAsTimestamps=this.ticks,this.ticks=this.ticks.map(function(e){return n(e)}).map(this.tickFormatFunction,this)},getPixelForOffset:function(e){var t=this.max-this.min,i=t?(e-this.min)/t:0;if(this.isHorizontal()){var n=this.width*i;return this.left+Math.round(n)}var r=this.height*i;return this.top+Math.round(r)},getPixelForValue:function(e,i,n){var r=null;if(void 0!==i&&void 0!==n&&(r=this._parsedData.datasets[n][i]),null===r&&(e&&e.isValid||(e=t(this,this.getRightValue(e))),e&&e.isValid&&e.isValid()&&(r=e.valueOf())),null!==r)return this.getPixelForOffset(r)},getPixelForTick:function(e){return this.getPixelForOffset(this.ticksAsTimestamps[e])},getValueForPixel:function(e){var t=this.isHorizontal()?this.width:this.height,i=(e-(this.isHorizontal()?this.left:this.top))/t;return n(this.min+i*(this.max-this.min))},getLabelWidth:function(t){var n=this.options.ticks,r=this.ctx.measureText(t).width,o=Math.cos(i.toRadians(n.maxRotation)),a=Math.sin(i.toRadians(n.maxRotation));return r*o+i.getValueOrDefault(n.fontSize,e.defaults.global.defaultFontSize)*a},getLabelCapacity:function(e){this.displayFormat=this.options.time.displayFormats.millisecond;var t=this.tickFormatFunction(n(e),0,[]),i=this.getLabelWidth(t);return(this.isHorizontal()?this.width:this.height)/i}});e.scaleService.registerScaleType("time",o,{position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}})}},{1:1}]},{},[7])(7)}),
/*!
 * angular-chart.js - An angular.js wrapper for Chart.js
 * http://jtblin.github.io/angular-chart.js/
 * Version: 1.1.1
 *
 * Copyright 2016 Jerome Touffe-Blin
 * Released under the BSD-2-Clause license
 * https://github.com/jtblin/angular-chart.js/blob/master/LICENSE
 */
function(e){if("object"==typeof exports)module.exports=e("undefined"!=typeof angular?angular:require("angular"),"undefined"!=typeof Chart?Chart:require("chart.js"));else if("function"==typeof define&&define.amd)define(["angular","chart"],e);else{if("undefined"==typeof angular)throw new Error("AngularJS framework needs to be included, see https://angularjs.org/");if("undefined"==typeof Chart)throw new Error("Chart.js library needs to be included, see http://jtblin.github.io/angular-chart.js/");e(angular,Chart)}}(function(e,t){t.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",t.defaults.global.tooltips.mode="label",t.defaults.global.elements.line.borderWidth=2,t.defaults.global.elements.rectangle.borderWidth=2,t.defaults.global.legend.display=!1,t.defaults.global.colors=["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"];var i="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;return i&&(t.defaults.global.animation=!1),e.module("chart.js",[]).provider("ChartJs",function(){var i={responsive:!0},n={Chart:t,getOptions:function(t){var n=t&&i[t]||{};return e.extend({},i,n)}};this.setOptions=function(t,r){r?i[t]=e.merge(i[t]||{},r):(r=t,i=e.merge(i,r)),e.merge(n.Chart.defaults,i)},this.$get=function(){return n}}).factory("ChartJsFactory",["ChartJs","$timeout",function(n,r){return function(t){return{restrict:"CA",scope:{chartGetColor:"=?",chartType:"=",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColors:"=?",chartClick:"=?",chartHover:"=?",chartDatasetOverride:"=?"},link:function(n,r){i&&window.G_vmlCanvasManager.initElement(r[0]),n.$watch("chartData",function(e,i){if(!e||!e.length||Array.isArray(e[0])&&!e[0].length)return void f(n);var s=t||n.chartType;if(!s)return;if(n.chart&&function(e,t){if(e&&t&&e.length&&t.length)return Array.isArray(e[0])?e.length===t.length&&e.every(function(e,i){return e.length===t[i].length}):t.reduce(a,0)>0&&e.length===t.length;return!1}(e,i))return function(e,t){Array.isArray(t.chartData[0])?t.chart.data.datasets.forEach(function(t,i){t.data=e[i]}):t.chart.data.datasets[0].data=e;t.chart.update(),t.$emit("chart-update",t.chart)}(e,n);o(s,n,r)},!0),n.$watch("chartSeries",s,!0),n.$watch("chartLabels",s,!0),n.$watch("chartOptions",s,!0),n.$watch("chartColors",s,!0),n.$watch("chartDatasetOverride",s,!0),n.$watch("chartType",function(t,i){if(p(t))return;if(e.equals(t,i))return;o(t,n,r)},!1),n.$on("$destroy",function(){f(n)}),n.$on("$resize",function(){n.chart&&n.chart.resize()});function s(i,a){if(!p(i)&&!e.equals(i,a)){var s=t||n.chartType;s&&o(s,n,r)}}}}};function o(i,a,c){var d,h,p=(d=i,h=a,e.extend({},n.getOptions(d),h.chartOptions));if((g=a).chartData&&g.chartData.length&&function(e,t,i,n){if(n.responsive&&0===i[0].clientHeight)return r(function(){o(e,t,i)},50,!1),!1;return!0}(i,a,c,p)){var g,m=c[0],v=m.getContext("2d");a.chartGetColor=(y=a,"function"==typeof y.chartGetColor?y.chartGetColor:u);var y,b=function(i,r){var o=function(i,r){var o=e.copy(r.chartColors||n.getOptions(i).chartColors||t.defaults.global.colors),a=o.length<r.chartData.length;for(;o.length<r.chartData.length;)o.push(r.chartGetColor());a&&(r.chartColors=o);return o.map(l)}(i,r);return Array.isArray(r.chartData[0])?(a=r.chartLabels,s=r.chartData,u=r.chartSeries||[],c=o,d=r.chartDatasetOverride,{labels:a,datasets:s.map(function(t,i){var n=e.extend({},c[i],{label:u[i],data:t});return d&&d.length>=i&&e.merge(n,d[i]),n})}):function(t,i,n,r){var o={labels:t,datasets:[{data:i,backgroundColor:n.map(function(e){return e.pointBackgroundColor}),hoverBackgroundColor:n.map(function(e){return e.backgroundColor})}]};r&&e.merge(o.datasets[0],r);return o}(r.chartLabels,r.chartData,o,r.chartDatasetOverride);var a,s,u,c,d}(i,a);f(a),a.chart=new n.Chart(v,{type:i,data:b,options:p}),a.$emit("chart-create",a.chart),x=a,(w=m).onclick=x.chartClick?s(x,"chartClick",!1):e.noop,w.onmousemove=x.chartHover?s(x,"chartHover",!0):e.noop;var w,x}}function a(e,t){return e+t}function s(t,i,n){var r={point:void 0,points:void 0};return function(o){var a=t.chart.getElementAtEvent||t.chart.getPointAtEvent,s=t.chart.getElementsAtEvent||t.chart.getPointsAtEvent;if(s){var l=s.call(t.chart,o),u=a?a.call(t.chart,o)[0]:void 0;!1!==n&&(e.equals(r.points,l)||e.equals(r.point,u))||(r.point=u,r.points=l,t[i](l,o,u))}}}function l(e){return"string"==typeof e&&"r"===e[0]?c(function(e){var t=e.match(/^rgba?\(([\d,.]+)\)$/);if(!t)throw new Error("Cannot parse rgb value");return(e=t[1].split(",")).map(Number)}(e)):"string"==typeof e&&"#"===e[0]?c(function(e){var t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}(e.substr(1))):"object"==typeof e&&null!==e?e:u()}function u(){var e=[d(0,255),d(0,255),d(0,255)];return c(e)}function c(e){var t=e[3]||1;return{backgroundColor:h(e=e.slice(0,3),.2),pointBackgroundColor:h(e,t),pointHoverBackgroundColor:h(e,.8),borderColor:h(e,t),pointBorderColor:"#fff",pointHoverBorderColor:h(e,t)}}function d(e,t){return Math.floor(Math.random()*(t-e+1))+e}function h(e,t){return i?"rgb("+e.join(",")+")":"rgba("+e.concat(t).join(",")+")"}function p(e){return!e||Array.isArray(e)&&!e.length||"object"==typeof e&&!Object.keys(e).length}function f(e){e.chart&&(e.chart.destroy(),e.$emit("chart-destroy",e.chart))}}]).directive("chartBase",["ChartJsFactory",function(e){return new e}]).directive("chartLine",["ChartJsFactory",function(e){return new e("line")}]).directive("chartBar",["ChartJsFactory",function(e){return new e("bar")}]).directive("chartHorizontalBar",["ChartJsFactory",function(e){return new e("horizontalBar")}]).directive("chartRadar",["ChartJsFactory",function(e){return new e("radar")}]).directive("chartDoughnut",["ChartJsFactory",function(e){return new e("doughnut")}]).directive("chartPie",["ChartJsFactory",function(e){return new e("pie")}]).directive("chartPolarArea",["ChartJsFactory",function(e){return new e("polarArea")}]).directive("chartBubble",["ChartJsFactory",function(e){return new e("bubble")}]).name}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){var e,t;function i(){return e.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var i in t)u(t,i)&&(e[i]=t[i]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,i,n){return St(e,t,i,n,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var i=h(e),n=t.call(i.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&n);if(e._strict&&(r=r&&0===i.charsLeftOver&&0===i.unusedTokens.length&&void 0===i.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function f(e){var t=d(NaN);return null!=e?c(h(t),e):h(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var g=i.momentProperties=[];function m(e,t){var i,n,r;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=h(t)),o(t._locale)||(e._locale=t._locale),0<g.length)for(i=0;i<g.length;i++)o(r=t[n=g[i]])||(e[n]=r);return e}var v=!1;function y(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function b(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=w(t)),i}function _(e,t,i){var n,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&x(e[n])!==x(t[n]))&&a++;return a+o}function C(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return c(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var k,$={};function E(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),$[e]||(C(t),$[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var i,n=c({},e);for(i in t)u(t,i)&&(r(e[i])&&r(t[i])?(n[i]={},c(n[i],e[i]),c(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)u(e,i)&&!u(t,i)&&r(e[i])&&(n[i]=c({},n[i]));return n}function M(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)u(e,t)&&i.push(t);return i};var P={};function A(e,t){var i=e.toLowerCase();P[i]=P[i+"s"]=P[t]=e}function I(e){return"string"==typeof e?P[e]||P[e.toLowerCase()]:void 0}function O(e){var t,i,n={};for(i in e)u(e,i)&&(t=I(i))&&(n[t]=e[i]);return n}var L={};function R(e,t){L[e]=t}function F(e,t,i){var n=""+Math.abs(e),r=t-n.length;return(0<=e?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},z={};function B(e,t,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),e&&(z[e]=r),t&&(z[t[0]]=function(){return F(r.apply(this,arguments),t[1],t[2])}),i&&(z[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=V(t,e.localeData()),G[t]=G[t]||function(e){var t,i,n,r=e.match(N);for(t=0,i=r.length;t<i;t++)z[r[t]]?r[t]=z[r[t]]:r[t]=(n=r[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,o="";for(n=0;n<i;n++)o+=T(r[n])?r[n].call(t,e):r[n];return o}}(t),G[t](e)):e.localeData().invalidDate()}function V(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;0<=i&&H.test(e);)e=e.replace(H,n),H.lastIndex=0,i-=1;return e}var j=/\d/,U=/\d\d/,q=/\d{3}/,Y=/\d{4}/,K=/[+-]?\d{6}/,X=/\d\d?/,Z=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,Q=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ie=/\d+/,ne=/[+-]?\d+/,re=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function le(e,t,i){se[e]=T(t)?t:function(e,n){return e&&i?i:t}}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ce={};function de(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),a(t)&&(n=function(e,i){i[t]=x(e)}),i=0;i<e.length;i++)ce[e[i]]=n}function he(e,t){de(e,function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)})}var pe=0,fe=1,ge=2,me=3,ve=4,ye=5,be=6,we=7,xe=8;function _e(e){return Ce(e)?366:365}function Ce(e){return e%4==0&&e%100!=0||e%400==0}B("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),A("year","y"),R("year",1),le("Y",ne),le("YY",X,U),le("YYYY",ee,Y),le("YYYYY",te,K),le("YYYYYY",te,K),de(["YYYYY","YYYYYY"],pe),de("YYYY",function(e,t){t[pe]=2===e.length?i.parseTwoDigitYear(e):x(e)}),de("YY",function(e,t){t[pe]=i.parseTwoDigitYear(e)}),de("Y",function(e,t){t[pe]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return x(e)+(68<x(e)?1900:2e3)};var Se,ke=$e("FullYear",!0);function $e(e,t){return function(n){return null!=n?(Te(this,e,n),i.updateOffset(this,t),this):Ee(this,e)}}function Ee(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Te(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&Ce(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),De(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function De(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=(t%12+12)%12;return e+=(t-i)/12,1===i?Ce(e)?29:28:31-i%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),R("month",8),le("M",X),le("MM",X,U),le("MMM",function(e,t){return t.monthsShortRegex(e)}),le("MMMM",function(e,t){return t.monthsRegex(e)}),de(["M","MM"],function(e,t){t[fe]=x(e)-1}),de(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[fe]=r:h(i).invalidMonth=e});var Me=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ie(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),De(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function Oe(e){return null!=e?(Ie(this,e),i.updateOffset(this,!0),this):Ee(this,"Month")}var Le=ae,Re=ae;function Fe(){function e(e,t){return t.length-e.length}var t,i,n=[],r=[],o=[];for(t=0;t<12;t++)i=d([2e3,t]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)n[t]=ue(n[t]),r[t]=ue(r[t]);for(t=0;t<24;t++)o[t]=ue(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ne(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function He(e,t,i){var n=7+t-i;return-(7+Ne(e,0,n).getUTCDay()-t)%7+n-1}function Ge(e,t,i,n,r){var o,a,s=1+7*(t-1)+(7+i-n)%7+He(e,n,r);return s<=0?a=_e(o=e-1)+s:s>_e(e)?(o=e+1,a=s-_e(e)):(o=e,a=s),{year:o,dayOfYear:a}}function ze(e,t,i){var n,r,o=He(e.year(),t,i),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?n=a+Be(r=e.year()-1,t,i):a>Be(e.year(),t,i)?(n=a-Be(e.year(),t,i),r=e.year()+1):(r=e.year(),n=a),{week:n,year:r}}function Be(e,t,i){var n=He(e,t,i),r=He(e+1,t,i);return(_e(e)-n+r)/7}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),R("week",5),R("isoWeek",5),le("w",X),le("ww",X,U),le("W",X),le("WW",X,U),he(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=x(e)}),B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),le("d",X),le("e",X),le("E",X),le("dd",function(e,t){return t.weekdaysMinRegex(e)}),le("ddd",function(e,t){return t.weekdaysShortRegex(e)}),le("dddd",function(e,t){return t.weekdaysRegex(e)}),he(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:h(i).invalidWeekday=e}),he(["d","e","E"],function(e,t,i,n){t[n]=x(e)});var We="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),je="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ue=ae,qe=ae,Ye=ae;function Ke(){function e(e,t){return t.length-e.length}var t,i,n,r,o,a=[],s=[],l=[],u=[];for(t=0;t<7;t++)i=d([2e3,1]).day(t),n=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),o=this.weekdays(i,""),a.push(n),s.push(r),l.push(o),u.push(n),u.push(r),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;t<7;t++)s[t]=ue(s[t]),l[t]=ue(l[t]),u[t]=ue(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Ze(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Je(e,t){return t._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Xe),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+Xe.apply(this)+F(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Xe.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Ze("a",!0),Ze("A",!1),A("hour","h"),R("hour",13),le("a",Je),le("A",Je),le("H",X),le("h",X),le("k",X),le("HH",X,U),le("hh",X,U),le("kk",X,U),le("hmm",Z),le("hmmss",J),le("Hmm",Z),le("Hmmss",J),de(["H","HH"],me),de(["k","kk"],function(e,t,i){var n=x(e);t[me]=24===n?0:n}),de(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),de(["h","hh"],function(e,t,i){t[me]=x(e),h(i).bigHour=!0}),de("hmm",function(e,t,i){var n=e.length-2;t[me]=x(e.substr(0,n)),t[ve]=x(e.substr(n)),h(i).bigHour=!0}),de("hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[me]=x(e.substr(0,n)),t[ve]=x(e.substr(n,2)),t[ye]=x(e.substr(r)),h(i).bigHour=!0}),de("Hmm",function(e,t,i){var n=e.length-2;t[me]=x(e.substr(0,n)),t[ve]=x(e.substr(n))}),de("Hmmss",function(e,t,i){var n=e.length-4,r=e.length-2;t[me]=x(e.substr(0,n)),t[ve]=x(e.substr(n,2)),t[ye]=x(e.substr(r))});var Qe,et=$e("Hours",!0),tt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:Ae,week:{dow:0,doy:6},weekdays:We,weekdaysMin:je,weekdaysShort:Ve,meridiemParse:/[ap]\.?m?\.?/i},it={},nt={};function rt(e){return e?e.toLowerCase().replace("_","-"):e}function ot(e){var t=null;if(!it[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Qe._abbr,require("./locale/"+e),at(t)}catch(e){}return it[e]}function at(e,t){var i;return e&&((i=o(t)?lt(e):st(e,t))?Qe=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Qe._abbr}function st(e,t){if(null!==t){var i,n=tt;if(t.abbr=e,null!=it[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])n=it[t.parentLocale]._config;else{if(null==(i=ot(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;n=i._config}return it[e]=new M(D(n,t)),nt[e]&&nt[e].forEach(function(e){st(e.name,e.config)}),at(e),it[e]}return delete it[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Qe;if(!n(e)){if(t=ot(e))return t;e=[e]}return function(e){for(var t,i,n,r,o=0;o<e.length;){for(t=(r=rt(e[o]).split("-")).length,i=(i=rt(e[o+1]))?i.split("-"):null;0<t;){if(n=ot(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&_(r,i,!0)>=t-1)break;t--}o++}return Qe}(e)}function ut(e){var t,i=e._a;return i&&-2===h(e).overflow&&(t=i[fe]<0||11<i[fe]?fe:i[ge]<1||i[ge]>De(i[pe],i[fe])?ge:i[me]<0||24<i[me]||24===i[me]&&(0!==i[ve]||0!==i[ye]||0!==i[be])?me:i[ve]<0||59<i[ve]?ve:i[ye]<0||59<i[ye]?ye:i[be]<0||999<i[be]?be:-1,h(e)._overflowDayOfYear&&(t<pe||ge<t)&&(t=ge),h(e)._overflowWeeks&&-1===t&&(t=we),h(e)._overflowWeekday&&-1===t&&(t=xe),h(e).overflow=t),e}function ct(e,t,i){return null!=e?e:null!=t?t:i}function dt(e){var t,n,r,o,a,s=[];if(!e._d){var l,u;for(l=e,u=new Date(i.now()),r=l._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],e._w&&null==e._a[ge]&&null==e._a[fe]&&function(e){var t,i,n,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,i=ct(t.GG,e._a[pe],ze(kt(),1,4).year),n=ct(t.W,1),((r=ct(t.E,1))<1||7<r)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=ze(kt(),o,a);i=ct(t.gg,e._a[pe],u.year),n=ct(t.w,u.week),null!=t.d?((r=t.d)<0||6<r)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||6<t.e)&&(l=!0)):r=o}n<1||n>Be(i,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=Ge(i,n,r,o,a),e._a[pe]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=ct(e._a[pe],r[pe]),(e._dayOfYear>_e(a)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=Ne(a,0,e._dayOfYear),e._a[fe]=n.getUTCMonth(),e._a[ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[me]&&0===e._a[ve]&&0===e._a[ye]&&0===e._a[be]&&(e._nextDay=!0,e._a[me]=0),e._d=(e._useUTC?Ne:function(e,t,i,n,r,o,a){var s=new Date(e,t,i,n,r,o,a);return e<100&&0<=e&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[me]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}var ht=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/Z|[+-]\d\d(?::?\d\d)?/,gt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],mt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vt=/^\/?Date\((\-?\d+)/i;function yt(e){var t,i,n,r,o,a,s=e._i,l=ht.exec(s)||pt.exec(s);if(l){for(h(e).iso=!0,t=0,i=gt.length;t<i;t++)if(gt[t][1].exec(l[1])){r=gt[t][0],n=!1!==gt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,i=mt.length;t<i;t++)if(mt[t][1].exec(l[3])){o=(l[2]||" ")+mt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(l[4]){if(!ft.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),_t(e)}else e._isValid=!1}var bt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var wt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xt(e){var t,i,n,r=bt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(r){var o=function(e,t,i,n,r,o){var a=[function(t){var i=parseInt(e,10);return i<=49?2e3+i:i<=999?1900+i:i}(),Ae.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}(r[4],r[3],r[2],r[5],r[6],r[7]);if(i=o,n=e,(t=r[1])&&Ve.indexOf(t)!==new Date(i[0],i[1],i[2]).getDay()&&(h(n).weekdayMismatch=!0,!(n._isValid=!1)))return;e._a=o,e._tzm=function(e,t,i){if(e)return wt[e];if(t)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(r[8],r[9],r[10]),e._d=Ne.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function _t(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],h(e).empty=!0;var t,n,r,o,a,s,l,c,d=""+e._i,p=d.length,f=0;for(r=V(e._f,e._locale).match(N)||[],t=0;t<r.length;t++)o=r[t],(n=(d.match((g=o,m=e,u(se,g)?se[g](m._strict,m._locale):new RegExp(ue(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r})))))||[])[0])&&(0<(a=d.substr(0,d.indexOf(n))).length&&h(e).unusedInput.push(a),d=d.slice(d.indexOf(n)+n.length),f+=n.length),z[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),s=o,c=e,null!=(l=n)&&u(ce,s)&&ce[s](l,c._a,c,s)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=p-f,0<d.length&&h(e).unusedInput.push(d),e._a[me]<=12&&!0===h(e).bigHour&&0<e._a[me]&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[me]=function(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):(null!=e.isPM&&((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0)),t)}(e._locale,e._a[me],e._meridiem),dt(e),ut(e)}else xt(e);else yt(e);var g,m}function Ct(e){var t,u,d,g,v=e._i,w=e._f;return e._locale=e._locale||lt(e._l),null===v||void 0===w&&""===v?f({nullInput:!0}):("string"==typeof v&&(e._i=v=e._locale.preparse(v)),b(v)?new y(ut(v)):(s(v)?e._d=v:n(w)?function(e){var t,i,n,r,o;if(0===e._f.length)return h(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],_t(t),p(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==n||o<n)&&(n=o,i=t));c(e,i||t)}(e):w?_t(e):o(u=(t=e)._i)?t._d=new Date(i.now()):s(u)?t._d=new Date(u.valueOf()):"string"==typeof u?(d=t,null===(g=vt.exec(d._i))?(yt(d),!1===d._isValid&&(delete d._isValid,xt(d),!1===d._isValid&&(delete d._isValid,i.createFromInputFallback(d)))):d._d=new Date(+g[1])):n(u)?(t._a=l(u.slice(0),function(e){return parseInt(e,10)}),dt(t)):r(u)?function(e){if(!e._d){var t=O(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),dt(e)}}(t):a(u)?t._d=new Date(u):i.createFromInputFallback(t),p(e)||(e._d=null),e))}function St(e,t,i,o,a){var s,l={};return!0!==i&&!1!==i||(o=i,i=void 0),(r(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=i,l._i=e,l._f=t,l._strict=o,(s=new y(ut(Ct(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function kt(e,t,i,n){return St(e,t,i,n,!1)}i.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var $t=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),Et=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=kt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:f()});function Tt(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return kt();for(i=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](i)||(i=t[r]);return i}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=O(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Se.call(Dt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<Dt.length;++n)if(e[Dt[n]]){if(i)return!1;parseFloat(e[Dt[n]])!==x(e[Dt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=lt(),this._bubble()}function Pt(e){return e instanceof Mt}function At(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){B(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+F(~~(e/60),2)+t+F(~~e%60,2)})}It("Z",":"),It("ZZ",""),le("Z",oe),le("ZZ",oe),de(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Lt(oe,e)});var Ot=/([\+\-]|\d\d)/gi;function Lt(e,t){var i=(t||"").match(e);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Ot)||["-",0,0],r=60*n[1]+x(n[2]);return 0===r?0:"+"===n[0]?r:-r}function Rt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(b(e)||s(e)?e.valueOf():kt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):kt(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Nt(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ht=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Gt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zt(e,t){var i,n,r,o=e,s=null;return Pt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Ht.exec(e))?(i="-"===s[1]?-1:1,o={y:0,d:x(s[ge])*i,h:x(s[me])*i,m:x(s[ve])*i,s:x(s[ye])*i,ms:x(At(1e3*s[be]))*i}):(s=Gt.exec(e))?(i="-"===s[1]?-1:(s[1],1),o={y:Bt(s[2],i),M:Bt(s[3],i),w:Bt(s[4],i),d:Bt(s[5],i),h:Bt(s[6],i),m:Bt(s[7],i),s:Bt(s[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var i;return e.isValid()&&t.isValid()?(t=Rt(t,e),e.isBefore(t)?i=Wt(e,t):((i=Wt(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(kt(o.from),kt(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),n=new Mt(o),Pt(e)&&u(e,"_locale")&&(n._locale=e._locale),n}function Bt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Wt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Vt(e,t){return function(i,n){var r;return null===n||isNaN(+n)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),jt(this,zt(i="string"==typeof i?+i:i,n),e),this}}function jt(e,t,n,r){var o=t._milliseconds,a=At(t._days),s=At(t._months);e.isValid()&&(r=null==r||r,s&&Ie(e,Ee(e,"Month")+s*n),a&&Te(e,"Date",Ee(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,a||s))}zt.fn=Mt.prototype,zt.invalid=function(){return zt(NaN)};var Ut=Vt(1,"add"),qt=Vt(-1,"subtract");function Yt(e,t){var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function Kt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xt=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Zt(){return this._locale}function Jt(e,t){B(0,[e,e.length],0,t)}function Qt(e,t,i,n,r){var o;return null==e?ze(this,n,r).year:((o=Be(e,n,r))<t&&(t=o),function(e,t,i,n,r){var o=Ge(e,t,i,n,r),a=Ne(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,i,n,r))}B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Jt("gggg","weekYear"),Jt("ggggg","weekYear"),Jt("GGGG","isoWeekYear"),Jt("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),le("G",ne),le("g",ne),le("GG",X,U),le("gg",X,U),le("GGGG",ee,Y),le("gggg",ee,Y),le("GGGGG",te,K),le("ggggg",te,K),he(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=x(e)}),he(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),B("Q",0,"Qo","quarter"),A("quarter","Q"),R("quarter",7),le("Q",j),de("Q",function(e,t){t[fe]=3*(x(e)-1)}),B("D",["DD",2],"Do","date"),A("date","D"),R("date",9),le("D",X),le("DD",X,U),le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),de(["D","DD"],ge),de("Do",function(e,t){t[ge]=x(e.match(X)[0])});var ei=$e("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),R("dayOfYear",4),le("DDD",Q),le("DDDD",q),de(["DDD","DDDD"],function(e,t,i){i._dayOfYear=x(e)}),B("m",["mm",2],0,"minute"),A("minute","m"),R("minute",14),le("m",X),le("mm",X,U),de(["m","mm"],ve);var ti=$e("Minutes",!1);B("s",["ss",2],0,"second"),A("second","s"),R("second",15),le("s",X),le("ss",X,U),de(["s","ss"],ye);var ii,ni=$e("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),R("millisecond",16),le("S",Q,j),le("SS",Q,U),le("SSS",Q,q),ii="SSSS";ii.length<=9;ii+="S")le(ii,ie);function ri(e,t){t[be]=x(1e3*("0."+e))}for(ii="S";ii.length<=9;ii+="S")de(ii,ri);var oi=$e("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var ai=y.prototype;function si(e){return e}ai.add=Ut,ai.calendar=function(e,t){var n=e||kt(),r=Rt(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=t&&(T(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,kt(n)))},ai.clone=function(){return new y(this)},ai.diff=function(e,t,i){var n,r,o;if(!this.isValid())return NaN;if(!(n=Rt(e,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),t=I(t)){case"year":o=Yt(this,n)/12;break;case"month":o=Yt(this,n);break;case"quarter":o=Yt(this,n)/3;break;case"second":o=(this-n)/1e3;break;case"minute":o=(this-n)/6e4;break;case"hour":o=(this-n)/36e5;break;case"day":o=(this-n-r)/864e5;break;case"week":o=(this-n-r)/6048e5;break;default:o=this-n}return i?o:w(o)},ai.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},ai.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},ai.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||kt(e).isValid())?zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ai.fromNow=function(e){return this.from(kt(),e)},ai.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||kt(e).isValid())?zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ai.toNow=function(e){return this.to(kt(),e)},ai.get=function(e){return T(this[e=I(e)])?this[e]():this},ai.invalidAt=function(){return h(this).overflow},ai.isAfter=function(e,t){var i=b(e)?e:kt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=I(o(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},ai.isBefore=function(e,t){var i=b(e)?e:kt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=I(o(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},ai.isBetween=function(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))},ai.isSame=function(e,t){var i,n=b(e)?e:kt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},ai.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ai.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ai.isValid=function(){return p(this)},ai.lang=Xt,ai.locale=Kt,ai.localeData=Zt,ai.max=Et,ai.min=$t,ai.parsingFlags=function(){return c({},h(this))},ai.set=function(e,t){if("object"==typeof e)for(var i=function(e){var t=[];for(var i in e)t.push({unit:i,priority:L[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=O(e)),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit]);else if(T(this[e=I(e)]))return this[e](t);return this},ai.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},ai.subtract=qt,ai.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},ai.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},ai.toDate=function(){return new Date(this.valueOf())},ai.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||9999<i.year()?W(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(i,"Z")):W(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ai.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+r)},ai.toJSON=function(){return this.isValid()?this.toISOString():null},ai.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ai.unix=function(){return Math.floor(this.valueOf()/1e3)},ai.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ai.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ai.year=ke,ai.isLeapYear=function(){return Ce(this.year())},ai.weekYear=function(e){return Qt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ai.isoWeekYear=function(e){return Qt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ai.quarter=ai.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ai.month=Oe,ai.daysInMonth=function(){return De(this.year(),this.month())},ai.week=ai.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ai.isoWeek=ai.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ai.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},ai.isoWeeksInYear=function(){return Be(this.year(),1,4)},ai.date=ei,ai.day=ai.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,i=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-n,"d")):n},ai.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ai.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(i=e,n=this.localeData(),"string"==typeof i?n.weekdaysParse(i)%7||7:isNaN(i)?null:i);return this.day(this.day()%7?t:t-7)}return this.day()||7;var i,n},ai.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ai.hour=ai.hours=et,ai.minute=ai.minutes=ti,ai.second=ai.seconds=ni,ai.millisecond=ai.milliseconds=oi,ai.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Lt(oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ft(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?jt(this,zt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ft(this)},ai.utc=function(e){return this.utcOffset(0,e)},ai.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},ai.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(re,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},ai.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?kt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ai.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ai.isLocal=function(){return!!this.isValid()&&!this._isUTC},ai.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ai.isUtc=Nt,ai.isUTC=Nt,ai.zoneAbbr=function(){return this._isUTC?"UTC":""},ai.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ai.dates=S("dates accessor is deprecated. Use date instead.",ei),ai.months=S("months accessor is deprecated. Use month instead",Oe),ai.years=S("years accessor is deprecated. Use year instead",ke),ai.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),ai.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=Ct(e))._a){var t=e._isUTC?d(e._a):kt(e._a);this._isDSTShifted=this.isValid()&&0<_(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var li=M.prototype;function ui(e,t,i,n){var r=lt(),o=d().set(n,t);return r[i](o,e)}function ci(e,t,i){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return ui(e,t,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=ui(e,n,i,"month");return r}function di(e,t,i,n){"boolean"==typeof e?a(t)&&(i=t,t=void 0):(t=e,e=!1,a(i=t)&&(i=t,t=void 0)),t=t||"";var r,o=lt(),s=e?o._week.dow:0;if(null!=i)return ui(t,(i+s)%7,n,"day");var l=[];for(r=0;r<7;r++)l[r]=ui(t,(r+s)%7,n,"day");return l}li.calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return T(n)?n.call(t,i):n},li.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},li.invalidDate=function(){return this._invalidDate},li.ordinal=function(e){return this._ordinal.replace("%d",e)},li.preparse=si,li.postformat=si,li.relativeTime=function(e,t,i,n){var r=this._relativeTime[i];return T(r)?r(e,t,i,n):r.replace(/%d/i,e)},li.pastFuture=function(e,t){var i=this._relativeTime[0<e?"future":"past"];return T(i)?i(t):i.replace(/%s/i,t)},li.set=function(e){var t,i;for(i in e)T(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},li.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Me).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},li.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Me.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},li.monthsParse=function(e,t,i){var n,r,o;if(this._monthsParseExact)return function(e,t,i){var n,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=Se.call(this._shortMonthsParse,a))?r:null:-1!==(r=Se.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=Se.call(this._shortMonthsParse,a))?r:-1!==(r=Se.call(this._longMonthsParse,a))?r:null:-1!==(r=Se.call(this._longMonthsParse,a))?r:-1!==(r=Se.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},li.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Re),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},li.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Le),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},li.week=function(e){return ze(e,this._week.dow,this._week.doy).week},li.firstDayOfYear=function(){return this._week.doy},li.firstDayOfWeek=function(){return this._week.dow},li.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},li.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},li.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},li.weekdaysParse=function(e,t,i){var n,r,o;if(this._weekdaysParseExact)return function(e,t,i){var n,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=Se.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Se.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Se.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=Se.call(this._weekdaysParse,a))?r:-1!==(r=Se.call(this._shortWeekdaysParse,a))?r:-1!==(r=Se.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Se.call(this._shortWeekdaysParse,a))?r:-1!==(r=Se.call(this._weekdaysParse,a))?r:-1!==(r=Se.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Se.call(this._minWeekdaysParse,a))?r:-1!==(r=Se.call(this._weekdaysParse,a))?r:-1!==(r=Se.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},li.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ue),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},li.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},li.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},li.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},li.meridiem=function(e,t,i){return 11<e?i?"pm":"PM":i?"am":"AM"},at("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=S("moment.lang is deprecated. Use moment.locale instead.",at),i.langData=S("moment.langData is deprecated. Use moment.localeData instead.",lt);var hi=Math.abs;function pi(e,t,i,n){var r=zt(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function fi(e){return e<0?Math.floor(e):Math.ceil(e)}function gi(e){return 4800*e/146097}function mi(e){return 146097*e/4800}function vi(e){return function(){return this.as(e)}}var yi=vi("ms"),bi=vi("s"),wi=vi("m"),xi=vi("h"),_i=vi("d"),Ci=vi("w"),Si=vi("M"),ki=vi("y");function $i(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ei=$i("milliseconds"),Ti=$i("seconds"),Di=$i("minutes"),Mi=$i("hours"),Pi=$i("days"),Ai=$i("months"),Ii=$i("years"),Oi=Math.round,Li={ss:44,s:45,m:45,h:22,d:26,M:11},Ri=Math.abs;function Fi(e){return(0<e)-(e<0)||+e}function Ni(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i=Ri(this._milliseconds)/1e3,n=Ri(this._days),r=Ri(this._months);t=w((e=w(i/60))/60),i%=60,e%=60;var o=w(r/12),a=r%=12,s=n,l=t,u=e,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=Fi(this._months)!==Fi(d)?"-":"",f=Fi(this._days)!==Fi(d)?"-":"",g=Fi(this._milliseconds)!==Fi(d)?"-":"";return h+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?f+s+"D":"")+(l||u||c?"T":"")+(l?g+l+"H":"")+(u?g+u+"M":"")+(c?g+c+"S":"")}var Hi=Mt.prototype;return Hi.isValid=function(){return this._isValid},Hi.abs=function(){var e=this._data;return this._milliseconds=hi(this._milliseconds),this._days=hi(this._days),this._months=hi(this._months),e.milliseconds=hi(e.milliseconds),e.seconds=hi(e.seconds),e.minutes=hi(e.minutes),e.hours=hi(e.hours),e.months=hi(e.months),e.years=hi(e.years),this},Hi.add=function(e,t){return pi(this,e,t,1)},Hi.subtract=function(e,t){return pi(this,e,t,-1)},Hi.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+n/864e5,i=this._months+gi(t),"month"===e?i:i/12;switch(t=this._days+Math.round(mi(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Hi.asMilliseconds=yi,Hi.asSeconds=bi,Hi.asMinutes=wi,Hi.asHours=xi,Hi.asDays=_i,Hi.asWeeks=Ci,Hi.asMonths=Si,Hi.asYears=ki,Hi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Hi._bubble=function(){var e,t,i,n,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*fi(mi(s)+a),s=a=0),l.milliseconds=o%1e3,e=w(o/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,i=w(t/60),l.hours=i%24,s+=r=w(gi(a+=w(i/24))),a-=fi(mi(r)),n=w(s/12),s%=12,l.days=a,l.months=s,l.years=n,this},Hi.clone=function(){return zt(this)},Hi.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Hi.milliseconds=Ei,Hi.seconds=Ti,Hi.minutes=Di,Hi.hours=Mi,Hi.days=Pi,Hi.weeks=function(){return w(this.days()/7)},Hi.months=Ai,Hi.years=Ii,Hi.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,i,n,r,o,a,s,l,u,c,d=this.localeData(),h=(t=!e,i=d,n=zt(this).abs(),r=Oi(n.as("s")),o=Oi(n.as("m")),a=Oi(n.as("h")),s=Oi(n.as("d")),l=Oi(n.as("M")),u=Oi(n.as("y")),(c=r<=Li.ss&&["s",r]||r<Li.s&&["ss",r]||o<=1&&["m"]||o<Li.m&&["mm",o]||a<=1&&["h"]||a<Li.h&&["hh",a]||s<=1&&["d"]||s<Li.d&&["dd",s]||l<=1&&["M"]||l<Li.M&&["MM",l]||u<=1&&["y"]||["yy",u])[2]=t,c[3]=0<+this,c[4]=i,function(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}.apply(null,c));return e&&(h=d.pastFuture(+this,h)),d.postformat(h)},Hi.toISOString=Ni,Hi.toString=Ni,Hi.toJSON=Ni,Hi.locale=Kt,Hi.localeData=Zt,Hi.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ni),Hi.lang=Xt,B("X",0,0,"unix"),B("x",0,0,"valueOf"),le("x",ne),le("X",/[+-]?\d+(\.\d{1,3})?/),de("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),de("x",function(e,t,i){i._d=new Date(x(e))}),i.version="2.22.2",e=kt,i.fn=ai,i.min=function(){return Tt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Tt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=d,i.unix=function(e){return kt(1e3*e)},i.months=function(e,t){return ci(e,t,"months")},i.isDate=s,i.locale=at,i.invalid=f,i.duration=zt,i.isMoment=b,i.weekdays=function(e,t,i){return di(e,t,i,"weekdays")},i.parseZone=function(){return kt.apply(null,arguments).parseZone()},i.localeData=lt,i.isDuration=Pt,i.monthsShort=function(e,t){return ci(e,t,"monthsShort")},i.weekdaysMin=function(e,t,i){return di(e,t,i,"weekdaysMin")},i.defineLocale=st,i.updateLocale=function(e,t){if(null!=t){var i,n,r=tt;null!=(n=ot(e))&&(r=n._config),(i=new M(t=D(r,t))).parentLocale=it[e],it[e]=i,at(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},i.locales=function(){return k(it)},i.weekdaysShort=function(e,t,i){return di(e,t,i,"weekdaysShort")},i.normalizeUnits=I,i.relativeTimeRounding=function(e){return void 0===e?Oi:"function"==typeof e&&(Oi=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Li[e]&&(void 0===t?Li[e]:(Li[e]=t,"s"===e&&(Li.ss=t-1),!0))},i.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},i.prototype=ai,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i});var __extends=this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);i.prototype=t.prototype,e.prototype=new i};function JL(e){if(!e)return JL.__;var t="";return("."+e).split(".").reduce(function(e,i,n,r){return void 0===(i=e["__"+(t=t?t+"."+i:i)])&&(JL.Logger.prototype=e,i=new JL.Logger(t),e["__"+t]=i),i},JL.__)}!function(e){function t(e,t,i){void 0!==t[e]&&(null===t[e]?delete i[e]:i[e]=t[e])}function i(t){if(null!=e.enabled&&!e.enabled||null!=e.maxMessages&&1>e.maxMessages)return!1;try{if(t.userAgentRegex&&!RegExp(t.userAgentRegex).test(navigator.userAgent))return!1}catch(e){}try{if(t.ipRegex&&e.clientIP&&!RegExp(t.ipRegex).test(e.clientIP))return!1}catch(e){}return!0}function n(e,t){try{if(e.disallow&&RegExp(e.disallow).test(t))return!1}catch(e){}return!0}function r(e){switch(typeof e){case"string":return e;case"number":case"boolean":return e.toString();case"undefined":return"undefined";case"function":return e instanceof RegExp?e.toString():r(e());case"object":return e instanceof RegExp||e instanceof String||e instanceof Number||e instanceof Boolean?e.toString():JSON.stringify(e);default:return"unknown"}}e.enabled,e.maxMessages,e.defaultAjaxUrl,e.clientIP,e.requestId="",e.setOptions=function(e){return t("enabled",e,this),t("maxMessages",e,this),t("defaultAjaxUrl",e,this),t("clientIP",e,this),t("requestId",e,this),this},e.getAllLevel=function(){return-2147483648},e.getTraceLevel=function(){return 1e3},e.getDebugLevel=function(){return 2e3},e.getInfoLevel=function(){return 3e3},e.getWarnLevel=function(){return 4e3},e.getErrorLevel=function(){return 5e3},e.getFatalLevel=function(){return 6e3},e.getOffLevel=function(){return 2147483647};var o=function(e,t){this.inner=t,this.name="JL.Exception",this.message=r(e)};e.Exception=o,o.prototype=Error();var a=function(e,t,i,n){this.l=e,this.m=t,this.n=i,this.t=n};e.LogItem=a,o=function(){function r(t,i){this.appenderName=t,this.sendLogItems=i,this.level=e.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.buffer=[],this.batchBuffer=[]}return r.prototype.setOptions=function(e){return t("level",e,this),t("ipRegex",e,this),t("userAgentRegex",e,this),t("disallow",e,this),t("sendWithBufferLevel",e,this),t("storeInBufferLevel",e,this),t("bufferSize",e,this),t("batchSize",e,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this},r.prototype.log=function(e,t,r){!i(this)||!n(this,t)||e<this.storeInBufferLevel||(t=new a(e,t,r,(new Date).getTime()),e<this.level?0<this.bufferSize&&(this.buffer.push(t),this.buffer.length>this.bufferSize&&this.buffer.shift()):(e<this.sendWithBufferLevel||!this.buffer.length||(this.batchBuffer=this.batchBuffer.concat(this.buffer),this.buffer.length=0),this.batchBuffer.push(t),this.batchBuffer.length>=this.batchSize&&this.sendBatch()))},r.prototype.sendBatch=function(){0==this.batchBuffer.length||null!=e.maxMessages&&1>e.maxMessages||(null!=e.maxMessages&&(e.maxMessages-=this.batchBuffer.length),this.sendLogItems(this.batchBuffer),this.batchBuffer.length=0)},r}(),e.Appender=o;var s=function(i){function n(e){i.call(this,e,n.prototype.sendLogItemsAjax)}return __extends(n,i),n.prototype.setOptions=function(e){return t("url",e,this),i.prototype.setOptions.call(this,e),this},n.prototype.sendLogItemsAjax=function(t){try{var i="/jsnlog.logger";null!=e.defaultAjaxUrl&&(i=e.defaultAjaxUrl),this.url&&(i=this.url);var n=JSON.stringify({r:e.requestId,lg:t}),r=new XMLHttpRequest;r.open("POST",i),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("JSNLog-RequestId",e.requestId),r.send(n)}catch(e){}},n}(o);e.AjaxAppender=s;var l=function(t){function i(e){t.call(this,e,i.prototype.sendLogItemsConsole)}return __extends(i,t),i.prototype.clog=function(e){console.log(e)},i.prototype.cerror=function(e){console.error?console.error(e):this.clog(e)},i.prototype.cwarn=function(e){console.warn?console.warn(e):this.clog(e)},i.prototype.cinfo=function(e){console.info?console.info(e):this.clog(e)},i.prototype.cdebug=function(e){console.debug?console.debug(e):this.cinfo(e)},i.prototype.sendLogItemsConsole=function(t){try{if(console){var i;for(i=0;i<t.length;++i){var n=t[i],r=n.n+": "+n.m;n.l<=e.getDebugLevel()?this.cdebug(r):n.l<=e.getInfoLevel()?this.cinfo(r):n.l<=e.getWarnLevel()?this.cwarn(r):this.cerror(r)}}}catch(e){}},i}(o);e.ConsoleAppender=l,o=function(){function e(e){this.loggerName=e,this.seenRegexes=[]}return e.prototype.setOptions=function(e){return t("level",e,this),t("userAgentRegex",e,this),t("disallow",e,this),t("ipRegex",e,this),t("appenders",e,this),t("onceOnly",e,this),this.seenRegexes=[],this},e.prototype.buildExceptionObject=function(e){var t={};return e.stack?t.stack=e.stack:t.e=e,e.message&&(t.message=e.message),e.name&&(t.name=e.name),e.data&&(t.data=e.data),e.inner&&(t.inner=this.buildExceptionObject(e.inner)),t},e.prototype.log=function(e,t,o){var a=0;if(!this.appenders)return this;if(e>=this.level&&i(this)&&(t=r(t),o&&(o=this.buildExceptionObject(o),o.logData=t,t=JSON.stringify(o)),n(this,t))){if(this.onceOnly)for(a=this.onceOnly.length-1;0<=a;){if(RegExp(this.onceOnly[a]).test(t)){if(this.seenRegexes[a])return this;this.seenRegexes[a]=!0}a--}for(a=this.appenders.length-1;0<=a;)this.appenders[a].log(e,t,this.loggerName),a--}return this},e.prototype.trace=function(e){return this.log(1e3,e)},e.prototype.debug=function(e){return this.log(2e3,e)},e.prototype.info=function(e){return this.log(3e3,e)},e.prototype.warn=function(e){return this.log(4e3,e)},e.prototype.error=function(e){return this.log(5e3,e)},e.prototype.fatal=function(e){return this.log(6e3,e)},e.prototype.fatalException=function(e,t){return this.log(6e3,e,t)},e}(),e.Logger=o,e.createAjaxAppender=function(e){return new s(e)},e.createConsoleAppender=function(e){return new l(e)},o=new s(""),e.__=new e.Logger(""),e.__.setOptions({level:e.getDebugLevel(),appenders:[o]})}(JL||(JL={}));var exports;void 0!==exports&&(exports.JL=JL);var define;"function"==typeof define&&define.amd&&define(function(){return JL}),"function"==typeof __jsnlog_configure&&__jsnlog_configure(),function(){function e(e,t,i){i=(i||0)-1;for(var n=e?e.length:0;++i<n;)if(e[i]===t)return i;return-1}function t(t,i){var n=typeof i;if(t=t.l,"boolean"==n||null==i)return t[i]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?i:y+i;return t=(t=t[n])&&t[r],"object"==n?t&&-1<e(t,i)?0:-1:t?0:-1}function i(e){var t=this.l,i=typeof e;if("boolean"==i||null==e)t[e]=!0;else{"number"!=i&&"string"!=i&&(i="object");var n="number"==i?e:y+e;t=t[i]||(t[i]={});"object"==i?(t[n]||(t[n]=[])).push(e):t[n]=!0}}function n(e){return e.charCodeAt(0)}function r(e,t){for(var i=e.m,n=t.m,r=-1,o=i.length;++r<o;){var a=i[r],s=n[r];if(a!==s){if(a>s||void 0===a)return 1;if(a<s||void 0===s)return-1}}return e.n-t.n}function o(e){var t=-1,n=e.length,r=e[0],o=e[n/2|0],a=e[n-1];if(r&&"object"==typeof r&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;for((r=l()).false=r.null=r.true=r.undefined=!1,(o=l()).k=e,o.l=r,o.push=i;++t<n;)o.push(e[t]);return o}function a(e){return"\\"+Z[e]}function s(){return f.pop()||[]}function l(){return g.pop()||{k:null,l:null,m:null,false:!1,n:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,o:null}}function u(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function c(e){e.length=0,f.length<w&&f.push(e)}function d(e){var t=e.l;t&&d(t),e.k=e.l=e.m=e.object=e.number=e.string=e.o=null,g.length<w&&g.push(e)}function h(e,t,i){t||(t=0),void 0===i&&(i=e?e.length:0);var n=-1;i=i-t||0;for(var r=Array(0>i?0:i);++n<i;)r[n]=e[t+n];return r}var p,f=[],g=[],m=0,v={},y=+new Date+"",b=75,w=40,x=" \t\v\f\ufeff\n\r\u2028\u2029",_=/\b__p\+='';/g,C=/\b(__p\+=)''\+/g,S=/(__e\(.*?\)|\b__t\))\+'';/g,$=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,E=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,D=/<%=([\s\S]+?)%>/g,M=RegExp("^["+x+"]*0+(?=.$)"),P=/($^)/,A=/\bthis\b/,I=/['\n\r\t\u2028\u2029\\]/g,O="Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),R="[object Arguments]",F="[object Array]",N="[object Boolean]",H="[object Date]",G="[object Error]",z="[object Function]",B="[object Number]",W="[object Object]",V="[object RegExp]",j="[object String]",U={};U[z]=!1,U[R]=U[F]=U[N]=U[H]=U[B]=U[W]=U[V]=U[j]=!0;var q={leading:!1,maxWait:0,trailing:!1},Y={configurable:!1,enumerable:!1,value:null,writable:!1},K={a:"",b:null,c:"",d:"",e:"",v:null,g:"",h:null,support:null,i:"",j:!1},X={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},Z={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},J=X[typeof window]&&window||this,Q=X[typeof exports]&&exports&&!exports.nodeType&&exports,ee=X[typeof module]&&module&&!module.nodeType&&module,te=ee&&ee.exports===Q&&Q,ie=X[typeof global]&&global;!ie||ie.global!==ie&&ie.window!==ie||(J=ie);var ne=function i(f){function g(e){return e&&"object"==typeof e&&!Ht(e)&&bt.call(e,"__wrapped__")?e:new w(e)}function w(e,t){this.__chain__=!!t,this.__wrapped__=e}function Z(e,t,i,n,r){if(i){var o=i(e);if(void 0!==o)return o}if(!xe(e))return e;var a=ht.call(e);if(!U[a]||!Ft.nodeClass&&u(e))return e;var l=Lt[a];switch(a){case N:case H:return new l(+e);case B:case j:return new l(e);case V:return(o=l(e.source,E.exec(e))).lastIndex=e.lastIndex,o}if(a=Ht(e),t){var d=!n;n||(n=s()),r||(r=s());for(var p=n.length;p--;)if(n[p]==e)return r[p];o=a?l(e.length):{}}else o=a?h(e):Xt({},e);return a&&(bt.call(e,"index")&&(o.index=e.index),bt.call(e,"input")&&(o.input=e.input)),t?(n.push(e),r.push(o),(a?Kt:Qt)(e,function(e,a){o[a]=Z(e,t,i,n,r)}),d&&(c(n),c(r)),o):o}function Q(e){return xe(e)?$t(e):{}}function ee(e,t,i){if("function"!=typeof e)return Ue;if(void 0===t||!("prototype"in e))return e;var n=e.__bindData__;if(void 0===n&&(Ft.funcNames&&(n=!e.name),n=n||!Ft.funcDecomp,!n)){var r=vt.call(e);Ft.funcNames||(n=!T.test(r)),n||(n=A.test(r),Nt(e,n))}if(!1===n||!0!==n&&1&n[1])return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)};case 4:return function(i,n,r,o){return e.call(t,i,n,r,o)}}return Ve(e,t)}function te(i,n){var r=-1,a=he(),s=i?i.length:0,l=s>=b&&a===e,u=[];if(l){var c=o(n);c?(a=t,n=c):l=!1}for(;++r<s;)c=i[r],0>a(n,c)&&u.push(c);return l&&d(n),u}function ie(e,t,i,n){n=(n||0)-1;for(var r=e?e.length:0,o=[];++n<r;){var a=e[n];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Ht(a)||me(a))){t||(a=ie(a,t,i));var s=-1,l=a.length,u=o.length;for(o.length+=l;++s<l;)o[u++]=a[s]}else i||o.push(a)}return o}function re(e,t,i,n,r,o){if(i&&void 0!==(f=i(e,t)))return!!f;if(e===t)return 0!==e||1/e==1/t;if(e==e&&!(e&&X[typeof e]||t&&X[typeof t]))return!1;if(null==e||null==t)return e===t;var a=ht.call(e),l=ht.call(t);if(a==R&&(a=W),l==R&&(l=W),a!=l)return!1;switch(a){case N:case H:return+e==+t;case B:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case V:case j:return e==ot(t)}if(!(l=a==F)){var d=bt.call(e,"__wrapped__"),h=bt.call(t,"__wrapped__");if(d||h)return re(d?e.__wrapped__:e,h?t.__wrapped__:t,i,n,r,o);if(a!=W||!Ft.nodeClass&&(u(e)||u(t)))return!1;if((a=!Ft.argsObject&&me(e)?nt:e.constructor)!=(d=!Ft.argsObject&&me(t)?nt:t.constructor)&&!(we(a)&&a instanceof a&&we(d)&&d instanceof d)&&"constructor"in e&&"constructor"in t)return!1}for(a=!r,r||(r=s()),o||(o=s()),d=r.length;d--;)if(r[d]==e)return o[d]==t;var p=0,f=!0;if(r.push(e),o.push(t),l){if(d=e.length,p=t.length,(f=p==d)||n)for(;p--;)if(l=d,h=t[p],n)for(;l--&&!(f=re(e[l],h,i,n,r,o)););else if(!(f=re(e[p],h,i,n,r,o)))break}else Jt(t,function(t,a,s){return bt.call(s,a)?(p++,f=bt.call(e,a)&&re(e[a],t,i,n,r,o)):void 0}),f&&!n&&Jt(e,function(e,t,i){return bt.call(i,t)?f=-1<--p:void 0});return r.pop(),o.pop(),a&&(c(r),c(o)),f}function oe(e,t,i,n,r){(Ht(t)?De:Qt)(t,function(t,o){var a,s,l=t,u=e[o];if(t&&((s=Ht(t))||ei(t))){for(l=n.length;l--;)if(a=n[l]==t){u=r[l];break}if(!a){var c;i&&(l=i(u,t),c=void 0!==l)&&(u=l),c||(u=s?Ht(u)?u:[]:ei(u)?u:{}),n.push(t),r.push(u),c||oe(u,t,i,n,r)}}else i&&(l=i(u,t),void 0===l&&(l=t)),void 0!==l&&(u=l);e[o]=u})}function ae(e,t){return e+mt(Ot()*(t-e+1))}function se(i,n,r){var a=-1,l=he(),u=i?i.length:0,h=[],p=!n&&u>=b&&l===e,f=r||p?s():h;for(p&&(f=o(f),l=t);++a<u;){var g=i[a],m=r?r(g,a,i):g;(n?!a||f[f.length-1]!==m:0>l(f,m))&&((r||p)&&f.push(m),h.push(g))}return p?(c(f.k),d(f)):r&&c(f),h}function le(e){return function(t,i,n){var r={};if(i=g.createCallback(i,n,3),Ht(t)){n=-1;for(var o=t.length;++n<o;){var a=t[n];e(r,a,i(a,n,t),t)}}else Kt(t,function(t,n,o){e(r,t,i(t,n,o),o)});return r}}function ue(e,t,i,n,r,o){var a=1&t,s=4&t,l=16&t,u=32&t;if(!(2&t||we(e)))throw new at;l&&!i.length&&(t&=-17,l=i=!1),u&&!n.length&&(t&=-33,u=n=!1);var c=e&&e.__bindData__;return c&&!0!==c?((c=h(c))[2]&&(c[2]=h(c[2])),c[3]&&(c[3]=h(c[3])),!a||1&c[1]||(c[4]=r),!a&&1&c[1]&&(t|=8),!s||4&c[1]||(c[5]=o),l&&wt.apply(c[2]||(c[2]=[]),i),u&&St.apply(c[3]||(c[3]=[]),n),c[1]|=t,ue.apply(null,c)):(1==t||17===t?function(e){function t(){if(n){var e=h(n);wt.apply(e,arguments)}if(this instanceof t){var o=Q(i.prototype);return xe(e=i.apply(o,e||arguments))?e:o}return i.apply(r,e||arguments)}var i=e[0],n=e[2],r=e[4];return Nt(t,e),t}:function e(t){function i(){var t=u?s:this;if(o){var g=h(o);wt.apply(g,arguments)}return(a||d)&&(g||(g=h(arguments)),a&&wt.apply(g,a),d&&g.length<l)?(r|=16,e([n,p?r:-4&r,g,null,s,l])):(g||(g=arguments),c&&(n=t[f]),this instanceof i?(t=Q(n.prototype),xe(g=n.apply(t,g))?g:t):n.apply(t,g))}var n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=1&r,c=2&r,d=4&r,p=8&r,f=n;return Nt(i,t),i})([e,t,i,n,r,o])}function ce(){K.h=L,K.b=K.c=K.g=K.i="",K.e="t",K.j=!0;for(var e,t=0;e=arguments[t];t++)for(var i in e)K[i]=e[i];t=K.a,K.d=/^[^,]+/.exec(t)[0],e=et,t="return function("+t+"){";var n="var n,t="+(i=K).d+",E="+i.e+";if(!t)return E;"+i.i+";";i.b?(n+="var u=t.length;n=-1;if("+i.b+"){",Ft.unindexedChars&&(n+="if(s(t)){t=t.split('')}"),n+="while(++n<u){"+i.g+";}}else{"):Ft.nonEnumArgs&&(n+="var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';"+i.g+";}}else{"),Ft.enumPrototypes&&(n+="var G=typeof t=='function';"),Ft.enumErrorProps&&(n+="var F=t===k||t instanceof Error;");var r=[];if(Ft.enumPrototypes&&r.push('!(G&&n=="prototype")'),Ft.enumErrorProps&&r.push('!(F&&(n=="message"||n=="name"))'),i.j&&i.f)n+="var C=-1,D=B[typeof t]&&v(t),u=D?D.length:0;while(++C<u){n=D[C];",r.length&&(n+="if("+r.join("&&")+"){"),n+=i.g+";",r.length&&(n+="}"),n+="}";else if(n+="for(n in t){",i.j&&r.push("m.call(t, n)"),r.length&&(n+="if("+r.join("&&")+"){"),n+=i.g+";",r.length&&(n+="}"),n+="}",Ft.nonEnumShadows){for(n+="if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];",k=0;7>k;k++)n+="n='"+i.h[k]+"';if((!(r&&x[n])&&m.call(t,n))",i.j||(n+="||(!x[n]&&t[n]!==A[n])"),n+="){"+i.g+"}";n+="}"}return(i.b||Ft.nonEnumArgs)&&(n+="}"),e("d,j,k,m,o,p,q,s,v,A,B,y,I,J,L",t+(n+=i.c+";return E")+"}")(ee,G,lt,bt,v,me,Ht,Ce,K.f,ut,X,Rt,j,ct,ht)}function de(e){return jt[e]}function he(){var t=(t=g.indexOf)===Ne?e:t;return t}function pe(e){return"function"==typeof e&&pt.test(e)}function fe(e){var t,i;return!(!(e&&ht.call(e)==W&&(t=e.constructor,!we(t)||t instanceof t))||!Ft.argsClass&&me(e)||!Ft.nodeClass&&u(e))&&(Ft.ownLast?(Jt(e,function(e,t,n){return i=bt.call(n,t),!1}),!1!==i):(Jt(e,function(e,t){i=t}),void 0===i||bt.call(e,i)))}function ge(e){return Ut[e]}function me(e){return e&&"object"==typeof e&&"number"==typeof e.length&&ht.call(e)==R||!1}function ve(e,t,i){var n=zt(e),r=n.length;for(t=ee(t,i,3);r--&&(i=n[r],!1!==t(e[i],i,e)););return e}function ye(e){var t=[];return Jt(e,function(e,i){we(e)&&t.push(i)}),t.sort()}function be(e){for(var t=-1,i=zt(e),n=i.length,r={};++t<n;){var o=i[t];r[e[o]]=o}return r}function we(e){return"function"==typeof e}function xe(e){return!(!e||!X[typeof e])}function _e(e){return"number"==typeof e||e&&"object"==typeof e&&ht.call(e)==B||!1}function Ce(e){return"string"==typeof e||e&&"object"==typeof e&&ht.call(e)==j||!1}function Se(e){for(var t=-1,i=zt(e),n=i.length,r=Ze(n);++t<n;)r[t]=e[i[t]];return r}function ke(e,t,i){var n=-1,r=he(),o=e?e.length:0,a=!1;return i=(0>i?Pt(0,o+i):i)||0,Ht(e)?a=-1<r(e,t,i):"number"==typeof o?a=-1<(Ce(e)?e.indexOf(t,i):r(e,t,i)):Kt(e,function(e){return++n<i?void 0:!(a=e===t)}),a}function $e(e,t,i){var n=!0;if(t=g.createCallback(t,i,3),Ht(e)){i=-1;for(var r=e.length;++i<r&&(n=!!t(e[i],i,e)););}else Kt(e,function(e,i,r){return n=!!t(e,i,r)});return n}function Ee(e,t,i){var n=[];if(t=g.createCallback(t,i,3),Ht(e)){i=-1;for(var r=e.length;++i<r;){var o=e[i];t(o,i,e)&&n.push(o)}}else Kt(e,function(e,i,r){t(e,i,r)&&n.push(e)});return n}function Te(e,t,i){if(t=g.createCallback(t,i,3),!Ht(e)){var n;return Kt(e,function(e,i,r){return t(e,i,r)?(n=e,!1):void 0}),n}i=-1;for(var r=e.length;++i<r;){var o=e[i];if(t(o,i,e))return o}}function De(e,t,i){if(t&&void 0===i&&Ht(e)){i=-1;for(var n=e.length;++i<n&&!1!==t(e[i],i,e););}else Kt(e,t,i);return e}function Me(e,t,i){var n=e,r=e?e.length:0;if(t=t&&void 0===i?t:ee(t,i,3),Ht(e))for(;r--&&!1!==t(e[r],r,e););else{if("number"!=typeof r){var o=zt(e);r=o.length}else Ft.unindexedChars&&Ce(e)&&(n=e.split(""));Kt(e,function(e,i,a){return i=o?o[--r]:--r,t(n[i],i,a)})}return e}function Pe(e,t,i){var n=-1,r=e?e.length:0,o=Ze("number"==typeof r?r:0);if(t=g.createCallback(t,i,3),Ht(e))for(;++n<r;)o[n]=t(e[n],n,e);else Kt(e,function(e,i,r){o[++n]=t(e,i,r)});return o}function Ae(e,t,i){var r=-1/0,o=r;if("function"!=typeof t&&i&&i[t]===e&&(t=null),null==t&&Ht(e)){i=-1;for(var a=e.length;++i<a;){var s=e[i];s>o&&(o=s)}}else t=null==t&&Ce(e)?n:g.createCallback(t,i,3),Kt(e,function(e,i,n){(i=t(e,i,n))>r&&(r=i,o=e)});return o}function Ie(e,t,i,n){var r=3>arguments.length;if(t=g.createCallback(t,n,4),Ht(e)){var o=-1,a=e.length;for(r&&(i=e[++o]);++o<a;)i=t(i,e[o],o,e)}else Kt(e,function(e,n,o){i=r?(r=!1,e):t(i,e,n,o)});return i}function Oe(e,t,i,n){var r=3>arguments.length;return t=g.createCallback(t,n,4),Me(e,function(e,n,o){i=r?(r=!1,e):t(i,e,n,o)}),i}function Le(e){var t=-1,i=e?e.length:0,n=Ze("number"==typeof i?i:0);return De(e,function(e){var i=ae(0,++t);n[t]=n[i],n[i]=e}),n}function Re(e,t,i){var n;if(t=g.createCallback(t,i,3),Ht(e)){i=-1;for(var r=e.length;++i<r&&!(n=t(e[i],i,e)););}else Kt(e,function(e,i,r){return!(n=t(e,i,r))});return!!n}function Fe(e,t,i){var n=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=g.createCallback(t,i,3);++o<r&&t(e[o],o,e);)n++}else if(n=t,null==n||i)return e?e[0]:p;return h(e,0,At(Pt(0,n),r))}function Ne(t,i,n){if("number"==typeof n){var r=t?t.length:0;n=0>n?Pt(0,r+n):n||0}else if(n)return n=Ge(t,i),t[n]===i?n:-1;return e(t,i,n)}function He(e,t,i){if("number"!=typeof t&&null!=t){var n=0,r=-1,o=e?e.length:0;for(t=g.createCallback(t,i,3);++r<o&&t(e[r],r,e);)n++}else n=null==t||i?1:Pt(0,t);return h(e,n)}function Ge(e,t,i,n){var r=0,o=e?e.length:r;for(t=(i=i?g.createCallback(i,n,1):Ue)(t);r<o;)n=r+o>>>1,i(e[n])<t?r=n+1:o=n;return r}function ze(e,t,i,n){return"boolean"!=typeof t&&null!=t&&(n=i,i="function"!=typeof t&&n&&n[t]===e?null:t,t=!1),null!=i&&(i=g.createCallback(i,n,3)),se(e,t,i)}function Be(){for(var e=1<arguments.length?arguments:arguments[0],t=-1,i=e?Ae(ri(e,"length")):0,n=Ze(0>i?0:i);++t<i;)n[t]=ri(e,t);return n}function We(e,t){var i=-1,n=e?e.length:0,r={};for(t||!n||Ht(e[0])||(t=[]);++i<n;){var o=e[i];t?r[o]=t[i]:o&&(r[o[0]]=o[1])}return r}function Ve(e,t){return 2<arguments.length?ue(e,17,h(arguments,2),null,t):ue(e,1,null,null,t)}function je(e,t,i){var n,r,o,a,s,l,u,c=0,d=!1,h=!0;if(!we(e))throw new at;if(t=Pt(0,t)||0,!0===i){var f=!0;h=!1}else xe(i)&&(f=i.leading,d="maxWait"in i&&(Pt(t,i.maxWait)||0),h="trailing"in i?i.trailing:h);var g=function(){var i=t-(oi()-a);0<i?l=_t(g,i):(r&&gt(r),i=u,r=l=u=p,i&&(c=oi(),o=e.apply(s,n),l||r||(n=s=null)))},m=function(){l&&gt(l),r=l=u=p,(h||d!==t)&&(c=oi(),o=e.apply(s,n),l||r||(n=s=null))};return function(){if(n=arguments,a=oi(),s=this,u=h&&(l||!f),!1===d)var i=f&&!l;else{r||f||(c=a);var p=d-(a-c),v=0>=p;v?(r&&(r=gt(r)),c=a,o=e.apply(s,n)):r||(r=_t(m,p))}return v&&l?l=gt(l):l||t===d||(l=_t(g,t)),i&&(v=!0,o=e.apply(s,n)),!v||l||r||(n=s=null),o}}function Ue(e){return e}function qe(e,t,i){var n=!0,r=t&&ye(t);t&&(i||r.length)||(null==i&&(i=t),o=w,t=e,e=g,r=ye(t)),!1===i?n=!1:xe(i)&&"chain"in i&&(n=i.chain);var o=e,a=we(o);De(r,function(i){var r=e[i]=t[i];a&&(o.prototype[i]=function(){var t=this.__chain__,i=this.__wrapped__,a=[i];if(wt.apply(a,arguments),a=r.apply(e,a),n||t){if(i===a&&xe(a))return this;(a=new o(a)).__chain__=t}return a})})}function Ye(){}function Ke(e){return function(t){return t[e]}}function Xe(){return this.__wrapped__}var Ze=(f=f?ne.defaults(J.Object(),f,ne.pick(J,O)):J).Array,Je=f.Boolean,Qe=f.Date,et=f.Function,tt=f.Math,it=f.Number,nt=f.Object,rt=f.RegExp,ot=f.String,at=f.TypeError,st=[],lt=f.Error.prototype,ut=nt.prototype,ct=ot.prototype,dt=f._,ht=ut.toString,pt=rt("^"+ot(ht).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ft=tt.ceil,gt=f.clearTimeout,mt=tt.floor,vt=et.prototype.toString,yt=pe(yt=nt.getPrototypeOf)&&yt,bt=ut.hasOwnProperty,wt=st.push,xt=ut.propertyIsEnumerable,_t=f.setTimeout,Ct=st.splice,St=st.unshift,kt=function(){try{var e={},t=pe(t=nt.defineProperty)&&t,i=t(e,e,e)&&t}catch(e){}return i}(),$t=pe($t=nt.create)&&$t,Et=pe(Et=Ze.isArray)&&Et,Tt=f.isFinite,Dt=f.isNaN,Mt=pe(Mt=nt.keys)&&Mt,Pt=tt.max,At=tt.min,It=f.parseInt,Ot=tt.random,Lt={};Lt[F]=Ze,Lt[N]=Je,Lt[H]=Qe,Lt[z]=et,Lt[W]=nt,Lt[B]=it,Lt[V]=rt,Lt[j]=ot;var Rt={};Rt[F]=Rt[H]=Rt[B]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Rt[N]=Rt[j]={constructor:!0,toString:!0,valueOf:!0},Rt[G]=Rt[z]=Rt[V]={constructor:!0,toString:!0},Rt[W]={constructor:!0},function(){for(var e=L.length;e--;){var t,i=L[e];for(t in Rt)bt.call(Rt,t)&&!bt.call(Rt[t],i)&&(Rt[t][i]=!1)}}(),w.prototype=g.prototype;var Ft=g.support={};!function(){var e=function(){this.x=1},t={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var r in new e)n.push(r);for(r in arguments);Ft.argsClass=ht.call(arguments)==R,Ft.argsObject=arguments.constructor==nt&&!(arguments instanceof Ze),Ft.enumErrorProps=xt.call(lt,"message")||xt.call(lt,"name"),Ft.enumPrototypes=xt.call(e,"prototype"),Ft.funcDecomp=!pe(f.WinRTError)&&A.test(i),Ft.funcNames="string"==typeof et.name,Ft.nonEnumArgs=0!=r,Ft.nonEnumShadows=!/valueOf/.test(n),Ft.ownLast="x"!=n[0],Ft.spliceObjects=(st.splice.call(t,0,1),!t[0]),Ft.unindexedChars="xx"!="x"[0]+nt("x")[0];try{Ft.nodeClass=!(ht.call(document)==W&&!({toString:0}+""))}catch(e){Ft.nodeClass=!0}}(1),g.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:D,variable:"",imports:{_:g}},$t||(Q=function(){function e(){}return function(t){if(xe(t)){e.prototype=t;var i=new e;e.prototype=null}return i||f.Object()}}());var Nt=kt?function(e,t){Y.value=t,kt(e,"__bindData__",Y)}:Ye;Ft.argsClass||(me=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&bt.call(e,"callee")&&!xt.call(e,"callee")||!1});var Ht=Et||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&ht.call(e)==F||!1},Gt=ce({a:"z",e:"[]",i:"if(!(B[typeof z]))return E",g:"E.push(n)"}),zt=Mt?function(e){return xe(e)?Ft.enumPrototypes&&"function"==typeof e||Ft.nonEnumArgs&&e.length&&me(e)?Gt(e):Mt(e):[]}:Gt,Bt={a:"g,e,K",i:"e=e&&typeof K=='undefined'?e:d(e,K,3)",b:"typeof u=='number'",v:zt,g:"if(e(t[n],n,g)===false)return E"},Wt={a:"z,H,l",i:"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){",v:zt,g:"if(typeof E[n]=='undefined')E[n]=t[n]",c:"}}"},Vt={i:"if(!B[typeof t])return E;"+Bt.i,b:!1},jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ut=be(jt),qt=rt("("+zt(Ut).join("|")+")","g"),Yt=rt("["+zt(jt).join("")+"]","g"),Kt=ce(Bt),Xt=ce(Wt,{i:Wt.i.replace(";",";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}"),g:"E[n]=e?e(E[n],t[n]):t[n]"}),Zt=ce(Wt),Jt=ce(Bt,Vt,{j:!1}),Qt=ce(Bt,Vt);we(/x/)&&(we=function(e){return"function"==typeof e&&ht.call(e)==z});var ei=yt?function(e){if(!e||ht.call(e)!=W||!Ft.argsClass&&me(e))return!1;var t=e.valueOf,i=pe(t)&&(i=yt(t))&&yt(i);return i?e==i||yt(e)==i:fe(e)}:fe,ti=le(function(e,t,i){bt.call(e,i)?e[i]++:e[i]=1}),ii=le(function(e,t,i){(bt.call(e,i)?e[i]:e[i]=[]).push(t)}),ni=le(function(e,t,i){e[i]=t}),ri=Pe,oi=pe(oi=Qe.now)&&oi||function(){return(new Qe).getTime()},ai=8==It(x+"08")?It:function(e,t){return It(Ce(e)?e.replace(M,""):e,t||0)};return g.after=function(e,t){if(!we(t))throw new at;return function(){return 1>--e?t.apply(this,arguments):void 0}},g.assign=Xt,g.at=function(e){var t=-1,i=ie(n=arguments,!0,!1,1),n=n[2]&&n[2][n[1]]===e?1:i.length,r=Ze(n);for(Ft.unindexedChars&&Ce(e)&&(e=e.split(""));++t<n;)r[t]=e[i[t]];return r},g.bind=Ve,g.bindAll=function(e){for(var t=1<arguments.length?ie(arguments,!0,!1,1):ye(e),i=-1,n=t.length;++i<n;){var r=t[i];e[r]=ue(e[r],1,null,null,e)}return e},g.bindKey=function(e,t){return 2<arguments.length?ue(t,19,h(arguments,2),null,e):ue(t,3,null,null,e)},g.chain=function(e){return(e=new w(e)).__chain__=!0,e},g.compact=function(e){for(var t=-1,i=e?e.length:0,n=[];++t<i;){var r=e[t];r&&n.push(r)}return n},g.compose=function(){for(var e=arguments,t=e.length;t--;)if(!we(e[t]))throw new at;return function(){for(var t=arguments,i=e.length;i--;)t=[e[i].apply(this,t)];return t[0]}},g.constant=function(e){return function(){return e}},g.countBy=ti,g.create=function(e,t){var i=Q(e);return t?Xt(i,t):i},g.createCallback=function(e,t,i){var n=typeof e;if(null==e||"function"==n)return ee(e,t,i);if("object"!=n)return Ke(e);var r=zt(e),o=r[0],a=e[o];return 1!=r.length||a!=a||xe(a)?function(t){for(var i=r.length,n=!1;i--&&(n=re(t[r[i]],e[r[i]],null,!0)););return n}:function(e){return e=e[o],a===e&&(0!==a||1/a==1/e)}},g.curry=function(e,t){return ue(e,4,null,null,null,t="number"==typeof t?t:+t||e.length)},g.debounce=je,g.defaults=Zt,g.defer=function(e){if(!we(e))throw new at;var t=h(arguments,1);return _t(function(){e.apply(p,t)},1)},g.delay=function(e,t){if(!we(e))throw new at;var i=h(arguments,2);return _t(function(){e.apply(p,i)},t)},g.difference=function(e){return te(e,ie(arguments,!0,!0,1))},g.filter=Ee,g.flatten=function(e,t,i,n){return"boolean"!=typeof t&&null!=t&&(n=i,i="function"!=typeof t&&n&&n[t]===e?null:t,t=!1),null!=i&&(e=Pe(e,i,n)),ie(e,t)},g.forEach=De,g.forEachRight=Me,g.forIn=Jt,g.forInRight=function(e,t,i){var n=[];Jt(e,function(e,t){n.push(t,e)});var r=n.length;for(t=ee(t,i,3);r--&&!1!==t(n[r--],n[r],e););return e},g.forOwn=Qt,g.forOwnRight=ve,g.functions=ye,g.groupBy=ii,g.indexBy=ni,g.initial=function(e,t,i){var n=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=r;for(t=g.createCallback(t,i,3);o--&&t(e[o],o,e);)n++}else n=null==t||i?1:t||n;return h(e,0,At(Pt(0,r-n),r))},g.intersection=function(){for(var i=[],n=-1,r=arguments.length,a=s(),l=he(),u=l===e,h=s();++n<r;){var p=arguments[n];(Ht(p)||me(p))&&(i.push(p),a.push(u&&p.length>=b&&o(n?i[n]:h)))}var f=-1,g=(u=i[0])?u.length:0,m=[];e:for(;++f<g;){var v=a[0];if(p=u[f],0>(v?t(v,p):l(h,p))){for(n=r,(v||h).push(p);--n;)if(v=a[n],0>(v?t(v,p):l(i[n],p)))continue e;m.push(p)}}for(;r--;)(v=a[r])&&d(v);return c(a),c(h),m},g.invert=be,g.invoke=function(e,t){var i=h(arguments,2),n=-1,r="function"==typeof t,o=e?e.length:0,a=Ze("number"==typeof o?o:0);return De(e,function(e){a[++n]=(r?t:e[t]).apply(e,i)}),a},g.keys=zt,g.map=Pe,g.mapValues=function(e,t,i){var n={};return t=g.createCallback(t,i,3),Qt(e,function(e,i,r){n[i]=t(e,i,r)}),n},g.max=Ae,g.memoize=function(e,t){if(!we(e))throw new at;var i=function(){var n=i.cache,r=t?t.apply(this,arguments):y+arguments[0];return bt.call(n,r)?n[r]:n[r]=e.apply(this,arguments)};return i.cache={},i},g.merge=function(e){var t=arguments,i=2;if(!xe(e))return e;if("number"!=typeof t[2]&&(i=t.length),3<i&&"function"==typeof t[i-2])var n=ee(t[--i-1],t[i--],2);else 2<i&&"function"==typeof t[i-1]&&(n=t[--i]);t=h(arguments,1,i);for(var r=-1,o=s(),a=s();++r<i;)oe(e,t[r],n,o,a);return c(o),c(a),e},g.min=function(e,t,i){var r=1/0,o=r;if("function"!=typeof t&&i&&i[t]===e&&(t=null),null==t&&Ht(e)){i=-1;for(var a=e.length;++i<a;){var s=e[i];s<o&&(o=s)}}else t=null==t&&Ce(e)?n:g.createCallback(t,i,3),Kt(e,function(e,i,n){(i=t(e,i,n))<r&&(r=i,o=e)});return o},g.omit=function(e,t,i){var n={};if("function"!=typeof t){var r=[];Jt(e,function(e,t){r.push(t)});for(var o=-1,a=(r=te(r,ie(arguments,!0,!1,1))).length;++o<a;){var s=r[o];n[s]=e[s]}}else t=g.createCallback(t,i,3),Jt(e,function(e,i,r){t(e,i,r)||(n[i]=e)});return n},g.once=function(e){var t,i;if(!we(e))throw new at;return function(){return t?i:(t=!0,i=e.apply(this,arguments),e=null,i)}},g.pairs=function(e){for(var t=-1,i=zt(e),n=i.length,r=Ze(n);++t<n;){var o=i[t];r[t]=[o,e[o]]}return r},g.partial=function(e){return ue(e,16,h(arguments,1))},g.partialRight=function(e){return ue(e,32,null,h(arguments,1))},g.pick=function(e,t,i){var n={};if("function"!=typeof t)for(var r=-1,o=ie(arguments,!0,!1,1),a=xe(e)?o.length:0;++r<a;){var s=o[r];s in e&&(n[s]=e[s])}else t=g.createCallback(t,i,3),Jt(e,function(e,i,r){t(e,i,r)&&(n[i]=e)});return n},g.pluck=ri,g.property=Ke,g.pull=function(e){for(var t=arguments,i=0,n=t.length,r=e?e.length:0;++i<n;)for(var o=-1,a=t[i];++o<r;)e[o]===a&&(Ct.call(e,o--,1),r--);return e},g.range=function(e,t,i){e=+e||0,i="number"==typeof i?i:+i||1,null==t&&(t=e,e=0);var n=-1;t=Pt(0,ft((t-e)/(i||1)));for(var r=Ze(t);++n<t;)r[n]=e,e+=i;return r},g.reject=function(e,t,i){return t=g.createCallback(t,i,3),Ee(e,function(e,i,n){return!t(e,i,n)})},g.remove=function(e,t,i){var n=-1,r=e?e.length:0,o=[];for(t=g.createCallback(t,i,3);++n<r;)i=e[n],t(i,n,e)&&(o.push(i),Ct.call(e,n--,1),r--);return o},g.rest=He,g.shuffle=Le,g.sortBy=function(e,t,i){var n=-1,o=Ht(t),a=e?e.length:0,u=Ze("number"==typeof a?a:0);for(o||(t=g.createCallback(t,i,3)),De(e,function(e,i,r){var a=u[++n]=l();o?a.m=Pe(t,function(t){return e[t]}):(a.m=s())[0]=t(e,i,r),a.n=n,a.o=e}),a=u.length,u.sort(r);a--;)e=u[a],u[a]=e.o,o||c(e.m),d(e);return u},g.tap=function(e,t){return t(e),e},g.throttle=function(e,t,i){var n=!0,r=!0;if(!we(e))throw new at;return!1===i?n=!1:xe(i)&&(n="leading"in i?i.leading:n,r="trailing"in i?i.trailing:r),q.leading=n,q.maxWait=t,q.trailing=r,je(e,t,q)},g.times=function(e,t,i){e=-1<(e=+e)?e:0;var n=-1,r=Ze(e);for(t=ee(t,i,1);++n<e;)r[n]=t(n);return r},g.toArray=function(e){return e&&"number"==typeof e.length?Ft.unindexedChars&&Ce(e)?e.split(""):h(e):Se(e)},g.transform=function(e,t,i,n){var r=Ht(e);if(null==i)if(r)i=[];else{var o=e&&e.constructor;i=Q(o&&o.prototype)}return t&&(t=g.createCallback(t,n,4),(r?Kt:Qt)(e,function(e,n,r){return t(i,e,n,r)})),i},g.union=function(){return se(ie(arguments,!0,!0))},g.uniq=ze,g.values=Se,g.where=Ee,g.without=function(e){return te(e,h(arguments,1))},g.wrap=function(e,t){return ue(t,16,[e])},g.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var i=arguments[e];if(Ht(i)||me(i))var n=n?se(te(n,i).concat(te(i,n))):i}return n||[]},g.zip=Be,g.zipObject=We,g.collect=Pe,g.drop=He,g.each=De,g.eachRight=Me,g.extend=Xt,g.methods=ye,g.object=We,g.select=Ee,g.tail=He,g.unique=ze,g.unzip=Be,qe(g),g.clone=function(e,t,i,n){return"boolean"!=typeof t&&null!=t&&(n=i,i=t,t=!1),Z(e,t,"function"==typeof i&&ee(i,n,1))},g.cloneDeep=function(e,t,i){return Z(e,!0,"function"==typeof t&&ee(t,i,1))},g.contains=ke,g.escape=function(e){return null==e?"":ot(e).replace(Yt,de)},g.every=$e,g.find=Te,g.findIndex=function(e,t,i){var n=-1,r=e?e.length:0;for(t=g.createCallback(t,i,3);++n<r;)if(t(e[n],n,e))return n;return-1},g.findKey=function(e,t,i){var n;return t=g.createCallback(t,i,3),Qt(e,function(e,i,r){return t(e,i,r)?(n=i,!1):void 0}),n},g.findLast=function(e,t,i){var n;return t=g.createCallback(t,i,3),Me(e,function(e,i,r){return t(e,i,r)?(n=e,!1):void 0}),n},g.findLastIndex=function(e,t,i){var n=e?e.length:0;for(t=g.createCallback(t,i,3);n--;)if(t(e[n],n,e))return n;return-1},g.findLastKey=function(e,t,i){var n;return t=g.createCallback(t,i,3),ve(e,function(e,i,r){return t(e,i,r)?(n=i,!1):void 0}),n},g.has=function(e,t){return!!e&&bt.call(e,t)},g.identity=Ue,g.indexOf=Ne,g.isArguments=me,g.isArray=Ht,g.isBoolean=function(e){return!0===e||!1===e||e&&"object"==typeof e&&ht.call(e)==N||!1},g.isDate=function(e){return e&&"object"==typeof e&&ht.call(e)==H||!1},g.isElement=function(e){return e&&1===e.nodeType||!1},g.isEmpty=function(e){var t=!0;if(!e)return t;var i=ht.call(e),n=e.length;return i==F||i==j||(Ft.argsClass?i==R:me(e))||i==W&&"number"==typeof n&&we(e.splice)?!n:(Qt(e,function(){return t=!1}),t)},g.isEqual=function(e,t,i,n){return re(e,t,"function"==typeof i&&ee(i,n,2))},g.isFinite=function(e){return Tt(e)&&!Dt(parseFloat(e))},g.isFunction=we,g.isNaN=function(e){return _e(e)&&e!=+e},g.isNull=function(e){return null===e},g.isNumber=_e,g.isObject=xe,g.isPlainObject=ei,g.isRegExp=function(e){return e&&X[typeof e]&&ht.call(e)==V||!1},g.isString=Ce,g.isUndefined=function(e){return void 0===e},g.lastIndexOf=function(e,t,i){var n=e?e.length:0;for("number"==typeof i&&(n=(0>i?Pt(0,n+i):At(i,n-1))+1);n--;)if(e[n]===t)return n;return-1},g.mixin=qe,g.noConflict=function(){return f._=dt,this},g.noop=Ye,g.now=oi,g.parseInt=ai,g.random=function(e,t,i){var n=null==e,r=null==t;return null==i&&("boolean"==typeof e&&r?(i=e,e=1):r||"boolean"!=typeof t||(i=t,r=!0)),n&&r&&(t=1),e=+e||0,r?(t=e,e=0):t=+t||0,i||e%1||t%1?(i=Ot(),At(e+i*(t-e+parseFloat("1e-"+((i+"").length-1))),t)):ae(e,t)},g.reduce=Ie,g.reduceRight=Oe,g.result=function(e,t){if(e){var i=e[t];return we(i)?e[t]():i}},g.runInContext=i,g.size=function(e){var t=e?e.length:0;return"number"==typeof t?t:zt(e).length},g.some=Re,g.sortedIndex=Ge,g.template=function(e,t,i){var n=g.templateSettings;e=ot(e||""),i=Zt({},i,n);var r,o=Zt({},i.imports,n.imports),s=(n=zt(o),o=Se(o),0),l=i.interpolate||P,u="__p+='";l=rt((i.escape||P).source+"|"+l.source+"|"+(l===D?$:P).source+"|"+(i.evaluate||P).source+"|$","g"),e.replace(l,function(t,i,n,o,l,c){return n||(n=o),u+=e.slice(s,c).replace(I,a),i&&(u+="'+__e("+i+")+'"),l&&(r=!0,u+="';"+l+";\n__p+='"),n&&(u+="'+((__t=("+n+"))==null?'':__t)+'"),s=c+t.length,t}),u+="';",(l=i=i.variable)||(i="obj",u="with("+i+"){"+u+"}"),u=(r?u.replace(_,""):u).replace(C,"$1").replace(S,"$1;"),u="function("+i+"){"+(l?"":i+"||("+i+"={});")+"var __t,__p='',__e=_.escape"+(r?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+u+"return __p}";try{var c=et(n,"return "+u).apply(p,o)}catch(e){throw e.source=u,e}return t?c(t):(c.source=u,c)},g.unescape=function(e){return null==e?"":ot(e).replace(qt,ge)},g.uniqueId=function(e){var t=++m;return ot(null==e?"":e)+t},g.all=$e,g.any=Re,g.detect=Te,g.findWhere=Te,g.foldl=Ie,g.foldr=Oe,g.include=ke,g.inject=Ie,qe(function(){var e={};return Qt(g,function(t,i){g.prototype[i]||(e[i]=t)}),e}(),!1),g.first=Fe,g.last=function(e,t,i){var n=0,r=e?e.length:0;if("number"!=typeof t&&null!=t){var o=r;for(t=g.createCallback(t,i,3);o--&&t(e[o],o,e);)n++}else if(n=t,null==n||i)return e?e[r-1]:p;return h(e,Pt(0,r-n))},g.sample=function(e,t,i){return e&&"number"!=typeof e.length?e=Se(e):Ft.unindexedChars&&Ce(e)&&(e=e.split("")),null==t||i?e?e[ae(0,e.length-1)]:p:((e=Le(e)).length=At(Pt(0,t),e.length),e)},g.take=Fe,g.head=Fe,Qt(g,function(e,t){var i="sample"!==t;g.prototype[t]||(g.prototype[t]=function(t,n){var r=this.__chain__,o=e(this.__wrapped__,t,n);return r||null!=t&&(!n||i&&"function"==typeof t)?new w(o,r):o})}),g.VERSION="2.4.1",g.prototype.chain=function(){return this.__chain__=!0,this},g.prototype.toString=function(){return ot(this.__wrapped__)},g.prototype.value=Xe,g.prototype.valueOf=Xe,Kt(["join","pop","shift"],function(e){var t=st[e];g.prototype[e]=function(){var e=this.__chain__,i=t.apply(this.__wrapped__,arguments);return e?new w(i,e):i}}),Kt(["push","reverse","sort","unshift"],function(e){var t=st[e];g.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Kt(["concat","slice","splice"],function(e){var t=st[e];g.prototype[e]=function(){return new w(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Ft.spliceObjects||Kt(["pop","shift","splice"],function(e){var t=st[e],i="splice"==e;g.prototype[e]=function(){var e=this.__chain__,n=this.__wrapped__,r=t.apply(n,arguments);return 0===n.length&&delete n[0],e||i?new w(r,e):r}}),g}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(J._=ne,define(function(){return ne})):Q&&ee?te?(ee.exports=ne)._=ne:Q._=ne:J._=ne}.call(this);function GlobalRedirect(e){window.location=e}var HtmlUtil={GetQueryStringParameter:function(e){for(var t=window.location.search.substring(1).split("&"),i=!1,n=0;n<t.length;++n){t[n].substring(0,t[n].indexOf("="))===e&&(i=t[n].substring(t[n].indexOf("=")+1))}return i},createCookie:function(e,t,i,n){var r;if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),r="; expires="+o.toGMTString()}else r="";var a=escape(e)+"="+escape(t)+r+";path=/";HtmlUtil.isNullOrWhitespace(n)||(a+="; domain="+n),document.cookie=a},readCookie:function(e){for(var t=escape(e)+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var r=i[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return unescape(r.substring(t.length,r.length))}return null},eraseCookie:function(e,t){var i=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";t&&(i+=" domain="+t+";"),document.cookie=i},__localStorageAllowed:null,isLocalStorageAllowed:function(){if(null!==HtmlUtil.__localStorageAllowed)return HtmlUtil.__localStorageAllowed;try{localStorage.setItem("testLS",1),localStorage.removeItem("testLS"),HtmlUtil.__localStorageAllowed=!0}catch(e){HtmlUtil.__localStorageAllowed=!1}return HtmlUtil.__localStorageAllowed},getSubdomain:function(e){return e=e||window.location.host,HtmlUtil.startsWith(e,"http://")&&(e=e.substring("http://".length)),HtmlUtil.startsWith(e,"https://")&&(e=e.substring("https://".length)),"string"!=typeof e||0===e.length||-1===e.indexOf(".")||-1===e.indexOf(".",e.indexOf(".")+1)?null:e.split(".")[0]},isNullOrWhitespace:function(e){return!e||"string"!=typeof e||e.replace(/\s/g,"").length<1},isValidString:function(e){return!(!e||"string"!=typeof e)&&("null"!==e&&e.length>0)},getStringUpToFirst:function(e,t){var i=e.indexOf(t);return-1===i?"":e.substring(0,i)},containsString:function(e,t){return!HtmlUtil.isNullOrWhitespace(e)&&!HtmlUtil.isNullOrWhitespace(t)&&-1!==e.indexOf(t)},startsWith:function(e,t){return"string"==typeof e&&"string"==typeof t&&0===e.indexOf(t)},endsWith:function(e,t){return"string"==typeof e&&"string"==typeof t&&e.lastIndexOf(t)===e.length-t.length},isNumericString:function(e){return!HtmlUtil.isNullOrWhitespace(e)&&+e==+e},uiGridFixScroll:function(){setTimeout(function(){var e=jQuery.Event("$destroy");jQuery(".ui-grid-render-container")&&jQuery(".ui-grid-render-container").trigger(e)},100)},geocodeAddress:function(e,t){if(google&&google.maps&&google.maps.Geocoder){(new google.maps.Geocoder).geocode({address:e},t)}}};!function(e){e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};function t(t){if("string"==typeof t.data){var i=t.handler,n=t.data.toLowerCase().split(" "),r=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color"];t.handler=function(t){if(this===t.target||!(/textarea|select/i.test(t.target.nodeName)||e.inArray(t.target.type,r)>-1)){var o="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],a=String.fromCharCode(t.which).toLowerCase(),s="",l={};t.altKey&&"alt"!==o&&(s+="alt+"),t.ctrlKey&&"ctrl"!==o&&(s+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==o&&(s+="meta+"),t.shiftKey&&"shift"!==o&&(s+="shift+"),o?l[s+o]=!0:(l[s+a]=!0,l[s+e.hotkeys.shiftNums[a]]=!0,"shift+"===s&&(l[e.hotkeys.shiftNums[a]]=!0));for(var u=0,c=n.length;u<c;u++)if(l[n[u]])return i.apply(this,arguments)}}}}e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(jQuery),function(e,t){var i="selectbox",n=!0;function r(){this._state=[],this._defaults={classHolder:"sbHolder",classHolderDisabled:"sbHolderDisabled",classSelector:"sbSelector",classOptions:"sbOptions",classGroup:"sbGroup",classSub:"sbSub",classDisabled:"sbDisabled",classToggleOpen:"sbToggleOpen",classToggle:"sbToggle",classFocus:"sbFocus",speed:200,effect:"slide",onChange:null,onOpen:null,onClose:null}}e.extend(r.prototype,{_isOpenSelectbox:function(e){if(!e)return!1;return this._getInst(e).isOpen},_isDisabledSelectbox:function(e){if(!e)return!1;return this._getInst(e).isDisabled},_attachSelectbox:function(t,r){if(this._getInst(t))return!1;var o,a,s,l,u=e(t),c=this,d=c._newInst(u),h=!1,p=(u.find("optgroup"),u.find("option")),f=p.length;u.attr("sb",d.uid),e.extend(d.settings,c._defaults,r),c._state[d.uid]=!1,u.hide();function g(){var t,i,n=this.attr("id").split("_")[1];for(t in c._state)t!==n&&c._state.hasOwnProperty(t)&&(i=e("select[sb='"+t+"']")[0])&&c._closeSelectbox(i)}o=e("<div>",{id:"sbHolder_"+d.uid,class:d.settings.classHolder,tabindex:u.attr("tabindex")}),a=e("<a>",{id:"sbSelector_"+d.uid,href:"#",class:d.settings.classSelector,click:function(i){i.preventDefault(),g.apply(e(this),[]);var n=e(this).attr("id").split("_")[1];c._state[n]?c._closeSelectbox(t):c._openSelectbox(t)}}),(s=e("<a>",{id:"sbToggle_"+d.uid,href:"#",class:d.settings.classToggle,click:function(i){i.preventDefault(),g.apply(e(this),[]);var n=e(this).attr("id").split("_")[1];c._state[n]?c._closeSelectbox(t):c._openSelectbox(t)}})).appendTo(o),l=e("<ul>",{id:"sbOptions_"+d.uid,class:d.settings.classOptions,css:{display:"none"}}),u.children().each(function(t){var i,n=e(this),r={};n.is("option")?m(n):n.is("optgroup")&&(i=e("<li>"),e("<span>",{text:n.attr("label")}).addClass(d.settings.classGroup).appendTo(i),i.appendTo(l),n.is(":disabled")&&(r.disabled=!0),r.sub=!0,m(n.find("option"),r))});function m(){var i=!(!arguments[1]||!arguments[1].sub),r=!(!arguments[1]||!arguments[1].disabled);arguments[0].each(function(o){var u,p=e(this),g=e("<li>");p.is(":selected")&&(a.text(p.text()),h=n),o===f-1&&g.addClass("last"),p.is(":disabled")||r?(u=e("<span>",{text:p.text()}).addClass(d.settings.classDisabled),i&&u.addClass(d.settings.classSub),u.appendTo(g)):(u=e("<a>",{href:"#"+p.val(),rel:p.val()}).text(p.text()).bind("click.sb",function(i){i&&i.preventDefault&&i.preventDefault();var n=s,r=e(this);n.attr("id").split("_")[1];c._changeSelectbox(t,r.attr("rel"),r.text()),c._closeSelectbox(t)}).bind("mouseover.sb",function(){var t=e(this);t.parent().siblings().find("a").removeClass(d.settings.classFocus),t.addClass(d.settings.classFocus)}).bind("mouseout.sb",function(){e(this).removeClass(d.settings.classFocus)}),i&&u.addClass(d.settings.classSub),p.is(":selected")&&u.addClass(d.settings.classFocus),u.appendTo(g)),g.appendTo(l)})}h||a.text(p.first().text()),e.data(t,i,d),o.data("uid",d.uid).bind("keydown.sb",function(t){var n=t.charCode?t.charCode:t.keyCode?t.keyCode:0,r=e(this),o=r.data("uid"),a=r.siblings("select[sb='"+o+"']").data(i),s=r.siblings(["select[sb='",o,"']"].join("")).get(0),l=r.find("ul").find("a."+a.settings.classFocus);switch(n){case 37:case 38:if(l.length>0){e("a",r).removeClass(a.settings.classFocus),(u=l.parent().prevAll("li:has(a)").eq(0).find("a")).length>0&&(u.addClass(a.settings.classFocus).focus(),e("#sbSelector_"+o).text(u.text()))}break;case 39:case 40:var u;e("a",r).removeClass(a.settings.classFocus),(u=l.length>0?l.parent().nextAll("li:has(a)").eq(0).find("a"):r.find("ul").find("a").eq(0)).length>0&&(u.addClass(a.settings.classFocus).focus(),e("#sbSelector_"+o).text(u.text()));break;case 13:l.length>0&&c._changeSelectbox(s,l.attr("rel"),l.text()),c._closeSelectbox(s);break;case 9:if(s){(a=c._getInst(s))&&(l.length>0&&c._changeSelectbox(s,l.attr("rel"),l.text()),c._closeSelectbox(s))}var d=parseInt(r.attr("tabindex"),10);t.shiftKey?d--:d++,e("*[tabindex='"+d+"']").focus();break;case 27:c._closeSelectbox(s)}return t.stopPropagation(),!1}).delegate("a","mouseover",function(t){e(this).addClass(d.settings.classFocus)}).delegate("a","mouseout",function(t){e(this).removeClass(d.settings.classFocus)}),a.appendTo(o),l.appendTo(o),o.insertAfter(u),e("html").on("mousedown",function(t){t.stopPropagation(),e("select").selectbox("close")}),e([".",d.settings.classHolder,", .",d.settings.classSelector].join("")).mousedown(function(e){e.stopPropagation()})},_detachSelectbox:function(t){var n=this._getInst(t);if(!n)return!1;e("#sbHolder_"+n.uid).remove(),e.data(t,i,null),e(t).show()},_changeSelectbox:function(t,i,r){var o,a=this._getInst(t);a&&(o=this._get(a,"onChange"),e("#sbSelector_"+a.uid).text(r)),i=i.replace(/\'/g,"\\'"),e(t).find("option[value='"+i+"']").attr("selected",n),a&&o?o.apply(a.input?a.input[0]:null,[i,a]):a&&a.input&&a.input.trigger("change")},_enableSelectbox:function(t){var n=this._getInst(t);if(!n||!n.isDisabled)return!1;e("#sbHolder_"+n.uid).removeClass(n.settings.classHolderDisabled),n.isDisabled=!1,e.data(t,i,n)},_disableSelectbox:function(t){var r=this._getInst(t);if(!r||r.isDisabled)return!1;e("#sbHolder_"+r.uid).addClass(r.settings.classHolderDisabled),r.isDisabled=n,e.data(t,i,r)},_optionSelectbox:function(t,n,r){var o=this._getInst(t);if(!o)return!1;o[n]=r,e.data(t,i,o)},_openSelectbox:function(t){var r=this._getInst(t);if(r&&!r.isOpen&&!r.isDisabled){var o=e("#sbOptions_"+r.uid),a=parseInt(e(window).height(),10),s=e("#sbHolder_"+r.uid).offset(),l=e(window).scrollTop(),u=o.prev().height(),c=a-(s.top-l)-u/2,d=this._get(r,"onOpen");o.css({top:u+"px",maxHeight:c-u+"px"}),"fade"===r.settings.effect?o.fadeIn(r.settings.speed):o.slideDown(r.settings.speed),e("#sbToggle_"+r.uid).addClass(r.settings.classToggleOpen),this._state[r.uid]=n,r.isOpen=n,d&&d.apply(r.input?r.input[0]:null,[r]),e.data(t,i,r)}},_closeSelectbox:function(t){var n=this._getInst(t);if(n&&n.isOpen){var r=this._get(n,"onClose");"fade"===n.settings.effect?e("#sbOptions_"+n.uid).fadeOut(n.settings.speed):e("#sbOptions_"+n.uid).slideUp(n.settings.speed),e("#sbToggle_"+n.uid).removeClass(n.settings.classToggleOpen),this._state[n.uid]=!1,n.isOpen=!1,r&&r.apply(n.input?n.input[0]:null,[n]),e.data(t,i,n)}},_newInst:function(e){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,uid:Math.floor(99999999*Math.random()),isOpen:!1,isDisabled:!1,settings:{}}},_getInst:function(t){try{return e.data(t,i)}catch(e){throw"Missing instance data for this selectbox"}},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]}}),e.fn.selectbox=function(t){var i=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&"isDisabled"==t?e.selectbox["_"+t+"Selectbox"].apply(e.selectbox,[this[0]].concat(i)):"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?e.selectbox["_"+t+"Selectbox"].apply(e.selectbox,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.selectbox["_"+t+"Selectbox"].apply(e.selectbox,[this].concat(i)):e.selectbox._attachSelectbox(this,t)})},e.selectbox=new r,e.selectbox.version="0.2"}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),u=0,d=0,h=0,p=0,f=0,g=0;if((t=e.event.fix(a)).type="mousewheel","detail"in a&&(h=-1*a.detail),"wheelDelta"in a&&(h=a.wheelDelta),"wheelDeltaY"in a&&(h=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*h,h=0),u=0===h?d:h,"deltaY"in a&&(h=-1*a.deltaY,u=h),"deltaX"in a&&(d=a.deltaX,0===h&&(u=-1*d)),0!==h||0!==d){if(1===a.deltaMode){var m=e.data(this,"mousewheel-line-height");u*=m,h*=m,d*=m}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!o||o>p)&&(o=p,n(a,p)&&(o/=40)),n(a,p)&&(u/=40,d/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),h=Math[h>=1?"floor":"ceil"](h/o),c.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=t.clientX-y.left,g=t.clientY-y.top}return t.deltaX=d,t.deltaY=h,t.deltaFactor=o,t.offsetX=f,t.offsetY=g,t.deltaMode=0,s.unshift(t,u,d,h),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function i(){o=null}function n(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=a.length;u;)e.event.fixHooks[a[--u]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=s.length;i;)this.addEventListener(s[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=s.length;i;)this.removeEventListener(s[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e,t,i){!function(n){var r="function"==typeof define&&define.amd,o="https:"==i.location.protocol?"https:":"http:";r||e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+o+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js%3E%3C/script%3E")),function(){var n="mCustomScrollbar",r=".mCustomScrollbar",o={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},l=t.attachEvent&&!t.addEventListener?1:0,u=!1,c=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(t){var t=e.extend(!0,{},o,t),i=h.call(this);if(t.live){var n=t.liveSelector||this.selector||r,l=e(n);if("off"===t.live)return void f(n);s[n]=setTimeout(function(){l.mCustomScrollbar(t),"once"===t.live&&l.length&&f(n)},500)}else f(n);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":g(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=m(t.scrollButtons.scrollType),p(t),e(i).each(function(){var i=e(this);if(!i.data("mCS")){i.data("mCS",{idx:++a,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null});var n=i.data("mCS"),r=n.opt,o=i.data("mcs-axis"),s=i.data("mcs-scrollbar-position"),l=i.data("mcs-theme");o&&(r.axis=o),s&&(r.scrollbarPosition=s),l&&(r.theme=l,p(r)),v.call(this),e("#mCSB_"+n.idx+"_container img:not(."+c[2]+")").addClass(c[2]),d.update.call(null,i)}})},update:function(t,i){var n=t||h.call(this);return e(n).each(function(){var t=e(this);if(t.data("mCS")){var n=t.data("mCS"),r=n.opt,o=e("#mCSB_"+n.idx+"_container"),a=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!o.length)return;n.tweenRunning&&j(t),t.hasClass(c[3])&&t.removeClass(c[3]),t.hasClass(c[4])&&t.removeClass(c[4]),x.call(this),b.call(this),"y"===r.axis||r.advanced.autoExpandHorizontalScroll||o.css("width",y(o.children())),n.overflowed=k.call(this),D.call(this),r.autoDraggerLength&&_.call(this),C.call(this),E.call(this);var s=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)];"x"!==r.axis&&(n.overflowed[0]?a[0].height()>a[0].parent().height()?$.call(this):(U(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):($.call(this),"y"===r.axis?T.call(this):"yx"===r.axis&&n.overflowed[1]&&U(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==r.axis&&(n.overflowed[1]?a[1].width()>a[1].parent().width()?$.call(this):(U(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):($.call(this),"x"===r.axis?T.call(this):"yx"===r.axis&&n.overflowed[0]&&U(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&n&&(2===i&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===i&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this)),V.call(this)}})},scrollTo:function(t,i){if(void 0!==t&&null!=t){var n=h.call(this);return e(n).each(function(){var n=e(this);if(n.data("mCS")){var r=n.data("mCS"),o=r.opt,a={trigger:"external",scrollInertia:o.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},a,i),l=B.call(this,t),u=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;l[0]=W.call(this,l[0],"y"),l[1]=W.call(this,l[1],"x"),s.moveDragger&&(l[0]*=r.scrollRatio.y,l[1]*=r.scrollRatio.x),s.dur=u,setTimeout(function(){null!==l[0]&&void 0!==l[0]&&"x"!==o.axis&&r.overflowed[0]&&(s.dir="y",s.overwrite="all",U(n,l[0].toString(),s)),null!==l[1]&&void 0!==l[1]&&"y"!==o.axis&&r.overflowed[1]&&(s.dir="x",s.overwrite="none",U(n,l[1].toString(),s))},s.timeout)}})}},stop:function(){var t=h.call(this);return e(t).each(function(){var t=e(this);t.data("mCS")&&j(t)})},disable:function(t){var i=h.call(this);return e(i).each(function(){var i=e(this);i.data("mCS")&&(i.data("mCS"),V.call(this,"remove"),T.call(this),t&&$.call(this),D.call(this,!0),i.addClass(c[3]))})},destroy:function(){var t=h.call(this);return e(t).each(function(){var i=e(this);if(i.data("mCS")){var r=i.data("mCS"),o=r.opt,a=e("#mCSB_"+r.idx),s=e("#mCSB_"+r.idx+"_container"),l=e(".mCSB_"+r.idx+"_scrollbar");o.live&&f(o.liveSelector||e(t).selector),V.call(this,"remove"),T.call(this),$.call(this),i.removeData("mCS"),X(this,"mcs"),l.remove(),s.find("img."+c[2]).removeClass(c[2]),a.replaceWith(s.contents()),i.removeClass(n+" _mCS_"+r.idx+" "+c[6]+" "+c[7]+" "+c[5]+" "+c[3]).addClass(c[4])}})}},h=function(){return"object"!=typeof e(this)||e(this).length<1?r:this},p=function(t){t.autoDraggerLength=!(e.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,["minimal","minimal-dark"])>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,["minimal","minimal-dark"])>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},f=function(e){s[e]&&(clearTimeout(s[e]),X(s,e))},g=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},m=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),i=t.data("mCS"),r=i.opt,o=r.autoExpandScrollbar?" "+c[1]+"_expand":"",a=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+o+"'><div class='"+c[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+o+"'><div class='"+c[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",l="yx"===r.axis?a[0]+a[1]:"x"===r.axis?a[1]:a[0],u="yx"===r.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",d=r.autoHideScrollbar?" "+c[6]:"",h="x"!==r.axis&&"rtl"===i.langDir?" "+c[7]:"";r.setWidth&&t.css("width",r.setWidth),r.setHeight&&t.css("height",r.setHeight),r.setLeft="y"!==r.axis&&"rtl"===i.langDir?"989999px":r.setLeft,t.addClass(n+" _mCS_"+i.idx+d+h).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+s+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir="+i.langDir+" /></div>");var p=e("#mCSB_"+i.idx),f=e("#mCSB_"+i.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||f.css("width",y(f.children())),"outside"===r.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),p.addClass("mCSB_outside").after(l)):(p.addClass("mCSB_inside").append(l),f.wrap(u)),w.call(this);var g=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},y=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},b=function(){var t=e(this),i=t.data("mCS"),n=i.opt,r=e("#mCSB_"+i.idx+"_container");n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis&&r.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),position:"relative"}).unwrap()},w=function(){var t=e(this),i=t.data("mCS"),n=i.opt,r=e(".mCSB_"+i.idx+"_scrollbar:first"),o=Q(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+c[13]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+c[14]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+c[15]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+c[16]+"' oncontextmenu='return false;' "+o+" />"],s=["x"===n.axis?a[2]:a[0],"x"===n.axis?a[3]:a[1],a[2],a[3]];n.scrollButtons.enable&&r.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},x=function(){var t=e(this),i=t.data("mCS"),n=e("#mCSB_"+i.idx),r=t.css("max-height")||"none",o=-1!==r.indexOf("%"),a=t.css("box-sizing");if("none"!==r){var s=o?t.parent().height()*parseInt(r)/100:parseInt(r);"border-box"===a&&(s-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),n.css("max-height",Math.round(s))}},_=function(){var t=e(this),i=t.data("mCS"),n=e("#mCSB_"+i.idx),r=e("#mCSB_"+i.idx+"_container"),o=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],a=[n.height()/r.outerHeight(!1),n.width()/r.outerWidth(!1)],s=[parseInt(o[0].css("min-height")),Math.round(a[0]*o[0].parent().height()),parseInt(o[1].css("min-width")),Math.round(a[1]*o[1].parent().width())],u=l&&s[1]<s[0]?s[0]:s[1],c=l&&s[3]<s[2]?s[2]:s[3];o[0].css({height:u,"max-height":o[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),o[1].css({width:c,"max-width":o[1].parent().width()-10})},C=function(){var t=e(this),i=t.data("mCS"),n=e("#mCSB_"+i.idx),r=e("#mCSB_"+i.idx+"_container"),o=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],a=[r.outerHeight(!1)-n.height(),r.outerWidth(!1)-n.width()],s=[a[0]/(o[0].parent().height()-o[0].height()),a[1]/(o[1].parent().width()-o[1].width())];i.scrollRatio={y:s[0],x:s[1]}},S=function(e,t,i){var n=i?c[0]+"_expanded":"",r=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(c[0]+" "+n),r.toggleClass(c[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(c[0]),r.removeClass(c[1])):(e.addClass(c[0]),r.addClass(c[1])))},k=function(){var t=e(this),i=t.data("mCS"),n=e("#mCSB_"+i.idx),r=e("#mCSB_"+i.idx+"_container"),o=null==i.overflowed?r.height():r.outerHeight(!1),a=null==i.overflowed?r.width():r.outerWidth(!1);return[o>n.height(),a>n.width()]},$=function(){var t=e(this),i=t.data("mCS"),n=i.opt,r=e("#mCSB_"+i.idx),o=e("#mCSB_"+i.idx+"_container"),a=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(j(t),("x"!==n.axis&&!i.overflowed[0]||"y"===n.axis&&i.overflowed[0])&&(a[0].add(o).css("top",0),U(t,"_resetY")),"y"!==n.axis&&!i.overflowed[1]||"x"===n.axis&&i.overflowed[1]){var s=dx=0;"rtl"===i.langDir&&(s=r.width()-o.outerWidth(!1),dx=Math.abs(s/i.scrollRatio.x)),o.css("left",s),a[1].css("left",dx),U(t,"_resetX")}},E=function(){var t=e(this),i=t.data("mCS"),n=i.opt;if(!i.bindEvents){if(P.call(this),n.contentTouchScroll&&A.call(this),I.call(this),n.mouseWheel.enable){var r;!function i(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),O.call(t[0])):i()},100)}()}R.call(this),N.call(this),n.advanced.autoScrollOnFocus&&F.call(this),n.scrollButtons.enable&&H.call(this),n.keyboard.enable&&G.call(this),i.bindEvents=!0}},T=function(){var t=e(this),n=t.data("mCS"),r=n.opt,o="mCS_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",s=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+c[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),l=e("#mCSB_"+n.idx+"_container");r.advanced.releaseDraggableSelectors&&s.add(e(r.advanced.releaseDraggableSelectors)),n.bindEvents&&(e(i).unbind("."+o),s.each(function(){e(this).unbind("."+o)}),clearTimeout(t[0]._focusTimeout),X(t[0],"_focusTimeout"),clearTimeout(n.sequential.step),X(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),X(l[0],"onCompleteTimeout"),n.bindEvents=!1)},D=function(t){var i=e(this),n=i.data("mCS"),r=n.opt,o=e("#mCSB_"+n.idx+"_container_wrapper"),a=o.length?o:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],l=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==r.axis&&(n.overflowed[0]&&!t?(s[0].add(l[0]).add(s[0].children("a")).css("display","block"),a.removeClass(c[8]+" "+c[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&l[0].add(s[0].children("a")).css("display","none"),a.removeClass(c[10])):(s[0].css("display","none"),a.addClass(c[10])),a.addClass(c[8]))),"y"!==r.axis&&(n.overflowed[1]&&!t?(s[1].add(l[1]).add(s[1].children("a")).css("display","block"),a.removeClass(c[9]+" "+c[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&l[1].add(s[1].children("a")).css("display","none"),a.removeClass(c[11])):(s[1].css("display","none"),a.addClass(c[11])),a.addClass(c[9]))),n.overflowed[0]||n.overflowed[1]?i.removeClass(c[5]):i.addClass(c[5])},M=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return[i.pageY,i.pageX,n>1];default:return[e.pageY,e.pageX,!1]}},P=function(){function t(e){var t=f.find("iframe");if(t.length){var i=e?"auto":"none";t.css("pointer-events",i)}}function n(e,t,i,n){if(f[0].idleTimer=d.scrollInertia<233?250:0,r.attr("id")===p[1])var o="x",a=(r[0].offsetLeft-t+n)*c.scrollRatio.x;else var o="y",a=(r[0].offsetTop-e+i)*c.scrollRatio.y;U(s,a.toString(),{dir:o,drag:!0})}var r,o,a,s=e(this),c=s.data("mCS"),d=c.opt,h="mCS_"+c.idx,p=["mCSB_"+c.idx+"_dragger_vertical","mCSB_"+c.idx+"_dragger_horizontal"],f=e("#mCSB_"+c.idx+"_container"),g=e("#"+p[0]+",#"+p[1]),m=d.advanced.releaseDraggableSelectors?g.add(e(d.advanced.releaseDraggableSelectors)):g;g.bind("mousedown."+h+" touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(n){if(n.stopImmediatePropagation(),n.preventDefault(),Z(n)){u=!0,l&&(i.onselectstart=function(){return!1}),t(!1),j(s);var c=(r=e(this)).offset(),h=M(n)[0]-c.top,p=M(n)[1]-c.left,f=r.height()+c.top,g=r.width()+c.left;f>h&&h>0&&g>p&&p>0&&(o=h,a=p),S(r,"active",d.autoExpandScrollbar)}}).bind("touchmove."+h,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=r.offset(),i=M(e)[0]-t.top,s=M(e)[1]-t.left;n(o,a,i,s)}),e(i).bind("mousemove."+h+" pointermove."+h+" MSPointerMove."+h,function(e){if(r){var t=r.offset(),i=M(e)[0]-t.top,s=M(e)[1]-t.left;if(o===i)return;n(o,a,i,s)}}).add(m).bind("mouseup."+h+" touchend."+h+" pointerup."+h+" MSPointerUp."+h,function(){r&&(S(r,"active",d.autoExpandScrollbar),r=null),u=!1,l&&(i.onselectstart=null),t(!0)})},A=function(){function t(e,t){var i=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?i[0]:i[3]:e>60?t>3?i[3]:i[2]:e>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function i(e,t,i,n,r,o){e&&U(g,e.toString(),{dur:t,scrollEasing:i,dir:n,overwrite:r,drag:o})}var n,r,o,a,s,l,c,d,h,p,f,g=e(this),m=g.data("mCS"),v=m.opt,y="mCS_"+m.idx,b=e("#mCSB_"+m.idx),w=e("#mCSB_"+m.idx+"_container"),x=[e("#mCSB_"+m.idx+"_dragger_vertical"),e("#mCSB_"+m.idx+"_dragger_horizontal")],_=[],C=[],S="yx"===v.axis?"none":"all",k=[];w.bind("touchstart."+y+" pointerdown."+y+" MSPointerDown."+y,function(e){if(J(e)&&!u&&!M(e)[2]){var t=w.offset();n=M(e)[0]-t.top,r=M(e)[1]-t.left,k=[M(e)[0],M(e)[1]]}}).bind("touchmove."+y+" pointermove."+y+" MSPointerMove."+y,function(e){if(J(e)&&!u&&!M(e)[2]){e.stopImmediatePropagation(),l=Y();var t=b.offset(),o=M(e)[0]-t.top,a=M(e)[1]-t.left;if(_.push(o),C.push(a),k[2]=Math.abs(M(e)[0]-k[0]),k[3]=Math.abs(M(e)[1]-k[1]),m.overflowed[0])var s=x[0].parent().height()-x[0].height(),c=n-o>0&&o-n>-s*m.scrollRatio.y&&(2*k[3]<k[2]||"yx"===v.axis);if(m.overflowed[1])var d=x[1].parent().width()-x[1].width(),h=r-a>0&&a-r>-d*m.scrollRatio.x&&(2*k[2]<k[3]||"yx"===v.axis);(c||h)&&e.preventDefault(),p="yx"===v.axis?[n-o,r-a]:"x"===v.axis?[null,r-a]:[n-o,null],w[0].idleTimer=250,m.overflowed[0]&&i(p[0],0,"mcsLinearOut","y","all",!0),m.overflowed[1]&&i(p[1],0,"mcsLinearOut","x",S,!0)}}),b.bind("touchstart."+y+" pointerdown."+y+" MSPointerDown."+y,function(e){if(J(e)&&!u&&!M(e)[2]){e.stopImmediatePropagation(),j(g),s=Y();var t=b.offset();o=M(e)[0]-t.top,a=M(e)[1]-t.left,_=[],C=[]}}).bind("touchend."+y+" pointerup."+y+" MSPointerUp."+y,function(e){if(J(e)&&!u&&!M(e)[2]){e.stopImmediatePropagation(),c=Y();var n=b.offset(),r=M(e)[0]-n.top,g=M(e)[1]-n.left;if(!(c-l>30)){var y=2.5>(h=1e3/(c-s)),x=y?[_[_.length-2],C[C.length-2]]:[0,0];d=y?[r-x[0],g-x[1]]:[r-o,g-a];var k=[Math.abs(d[0]),Math.abs(d[1])];h=y?[Math.abs(d[0]/4),Math.abs(d[1]/4)]:[h,h];var $=[Math.abs(w[0].offsetTop)-d[0]*t(k[0]/h[0],h[0]),Math.abs(w[0].offsetLeft)-d[1]*t(k[1]/h[1],h[1])];p="yx"===v.axis?[$[0],$[1]]:"x"===v.axis?[null,$[1]]:[$[0],null],f=[4*k[0]+v.scrollInertia,4*k[1]+v.scrollInertia];var E=parseInt(v.contentTouchScroll)||0;p[0]=k[0]>E?p[0]:0,p[1]=k[1]>E?p[1]:0,m.overflowed[0]&&i(p[0],f[0],"mcsEaseOut","y",S,!1),m.overflowed[1]&&i(p[1],f[1],"mcsEaseOut","x",S,!1)}}})},I=function(){function n(e,t,i){l.type=i&&r?"stepped":"stepless",l.scrollAmount=10,z(o,e,t,"mcsLinearOut",i?60:null)}var r,o=e(this),a=o.data("mCS"),s=a.opt,l=a.sequential,c="mCS_"+a.idx,d=e("#mCSB_"+a.idx+"_container"),h=d.parent();d.bind("mousedown."+c,function(){r||(r=1,u=!0)}).add(i).bind("mousemove."+c,function(e){if(r&&(t.getSelection?t.getSelection().toString():i.selection&&"Control"!=i.selection.type&&i.selection.createRange().text)){var o=d.offset(),u=M(e)[0]-o.top+d[0].offsetTop,c=M(e)[1]-o.left+d[0].offsetLeft;u>0&&u<h.height()&&c>0&&c<h.width()?l.step&&n("off",null,"stepped"):("x"!==s.axis&&a.overflowed[0]&&(0>u?n("on",38):u>h.height()&&n("on",40)),"y"!==s.axis&&a.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+c,function(){r&&(r=0,n("off",null)),u=!1})},O=function(){var t=e(this),i=t.data("mCS");if(i){var n=i.opt,r="mCS_"+i.idx,o=e("#mCSB_"+i.idx),a=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],s=e("#mCSB_"+i.idx+"_container").find("iframe"),u=o;s.length&&s.each(function(){(function(e){var t=null;try{var i=e.contentDocument||e.contentWindow.document;t=i.body.innerHTML}catch(e){}return null!==t})(this)&&(u=u.add(e(this).contents().find("body")))}),u.bind("mousewheel."+r,function(r,s){if(j(t),!L(t,r.target)){var u="auto"!==n.mouseWheel.deltaFactor?parseInt(n.mouseWheel.deltaFactor):l&&r.deltaFactor<100?100:r.deltaFactor||100;if("x"===n.axis||"x"===n.mouseWheel.axis)var c="x",d=[Math.round(u*i.scrollRatio.x),parseInt(n.mouseWheel.scrollAmount)],h="auto"!==n.mouseWheel.scrollAmount?d[1]:d[0]>=o.width()?.9*o.width():d[0],p=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetLeft),f=a[1][0].offsetLeft,g=a[1].parent().width()-a[1].width(),m=r.deltaX||r.deltaY||s;else var c="y",d=[Math.round(u*i.scrollRatio.y),parseInt(n.mouseWheel.scrollAmount)],h="auto"!==n.mouseWheel.scrollAmount?d[1]:d[0]>=o.height()?.9*o.height():d[0],p=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetTop),f=a[0][0].offsetTop,g=a[0].parent().height()-a[0].height(),m=r.deltaY||s;"y"===c&&!i.overflowed[0]||"x"===c&&!i.overflowed[1]||(n.mouseWheel.invert&&(m=-m),n.mouseWheel.normalizeDelta&&(m=0>m?-1:1),(m>0&&0!==f||0>m&&f!==g||n.mouseWheel.preventDefault)&&(r.stopImmediatePropagation(),r.preventDefault()),U(t,(p-m*h).toString(),{dir:c}))}})}},L=function(t,i){var n=i.nodeName.toLowerCase(),r=t.data("mCS").opt.mouseWheel.disableOver;return e.inArray(n,r)>-1&&!(e.inArray(n,["select","textarea"])>-1&&!e(i).is(":focus"))},R=function(){var t=e(this),i=t.data("mCS"),n="mCS_"+i.idx,r=e("#mCSB_"+i.idx+"_container"),o=r.parent(),a=e(".mCSB_"+i.idx+"_scrollbar ."+c[12]);a.bind("touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(){u=!0}).bind("touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(){u=!1}).bind("click."+n,function(n){if(e(n.target).hasClass(c[12])||e(n.target).hasClass("mCSB_draggerRail")){j(t);var a=e(this),s=a.find(".mCSB_dragger");if(a.parent(".mCSB_scrollTools_horizontal").length>0){if(!i.overflowed[1])return;var l="x",u=n.pageX>s.offset().left?-1:1,d=Math.abs(r[0].offsetLeft)-.9*u*o.width()}else{if(!i.overflowed[0])return;var l="y",u=n.pageY>s.offset().top?-1:1,d=Math.abs(r[0].offsetTop)-.9*u*o.height()}U(t,d.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})}})},F=function(){var t=e(this),n=t.data("mCS"),r=n.opt,o="mCS_"+n.idx,a=e("#mCSB_"+n.idx+"_container"),s=a.parent();a.bind("focusin."+o,function(){var n=e(i.activeElement),o=a.find(".mCustomScrollBox").length;n.is(r.advanced.autoScrollOnFocus)&&(j(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=o?17*o:0,t[0]._focusTimeout=setTimeout(function(){var e=[ee(n)[0],ee(n)[1]],i=[a[0].offsetTop,a[0].offsetLeft],o=[i[0]+e[0]>=0&&i[0]+e[0]<s.height()-n.outerHeight(!1),i[1]+e[1]>=0&&i[0]+e[1]<s.width()-n.outerWidth(!1)],l="yx"!==r.axis||o[0]||o[1]?"all":"none";"x"===r.axis||o[0]||U(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0}),"y"===r.axis||o[1]||U(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:0})},t[0]._focusTimer))})},N=function(){var t=e(this),i=t.data("mCS"),n="mCS_"+i.idx,r=e("#mCSB_"+i.idx+"_container").parent();r.bind("scroll."+n,function(){(0!==r.scrollTop()||0!==r.scrollLeft())&&e(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},H=function(){var t=e(this),i=t.data("mCS"),n=i.opt,r=i.sequential,o="mCS_"+i.idx,a=".mCSB_"+i.idx+"_scrollbar",s=e(a+">a");s.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o+" mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o+" mouseout."+o+" pointerout."+o+" MSPointerOut."+o+" click."+o,function(o){function a(e,i){r.scrollAmount=n.snapAmount||n.scrollButtons.scrollAmount,z(t,e,i)}if(o.preventDefault(),Z(o)){var s=e(this).attr("class");switch(r.type=n.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;u=!0,i.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;u=!1,r.dir&&a("off",s);break;case"click":if("stepped"!==r.type||i.tweenRunning)return;a("on",s)}}})},G=function(){var t=e(this),n=t.data("mCS"),r=n.opt,o=n.sequential,a="mCS_"+n.idx,s=e("#mCSB_"+n.idx),l=e("#mCSB_"+n.idx+"_container"),u=l.parent(),c="input,textarea,select,datalist,keygen,[contenteditable='true']";s.attr("tabindex","0").bind("blur."+a+" keydown."+a+" keyup."+a,function(a){function s(e,i){o.type=r.keyboard.scrollType,o.scrollAmount=r.snapAmount||r.keyboard.scrollAmount,"stepped"===o.type&&n.tweenRunning||z(t,e,i)}switch(a.type){case"blur":n.tweenRunning&&o.dir&&s("off",null);break;case"keydown":case"keyup":var d=a.keyCode?a.keyCode:a.which,h="on";if("x"!==r.axis&&(38===d||40===d)||"y"!==r.axis&&(37===d||39===d)){if((38===d||40===d)&&!n.overflowed[0]||(37===d||39===d)&&!n.overflowed[1])return;"keyup"===a.type&&(h="off"),e(i.activeElement).is(c)||(a.preventDefault(),a.stopImmediatePropagation(),s(h,d))}else if(33===d||34===d){if((n.overflowed[0]||n.overflowed[1])&&(a.preventDefault(),a.stopImmediatePropagation()),"keyup"===a.type){j(t);var p=34===d?-1:1;if("x"===r.axis||"yx"===r.axis&&n.overflowed[1]&&!n.overflowed[0])var f="x",g=Math.abs(l[0].offsetLeft)-.9*p*u.width();else var f="y",g=Math.abs(l[0].offsetTop)-.9*p*u.height();U(t,g.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===d||36===d)&&!e(i.activeElement).is(c)&&((n.overflowed[0]||n.overflowed[1])&&(a.preventDefault(),a.stopImmediatePropagation()),"keyup"===a.type)){if("x"===r.axis||"yx"===r.axis&&n.overflowed[1]&&!n.overflowed[0])var f="x",g=35===d?Math.abs(u.width()-l.outerWidth(!1)):0;else var f="y",g=35===d?Math.abs(u.height()-l.outerHeight(!1)):0;U(t,g.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}})},z=function(t,i,n,r,o){function a(e){var i="stepped"!==u.type,n=o||(e?i?l.scrollInertia/1.5:l.scrollInertia:1e3/60),c=e?i?7.5:40:2.5,h=[Math.abs(d[0].offsetTop),Math.abs(d[0].offsetLeft)],p=[s.scrollRatio.y>10?10:s.scrollRatio.y,s.scrollRatio.x>10?10:s.scrollRatio.x],f="x"===u.dir[0]?h[1]+u.dir[1]*p[1]*c:h[0]+u.dir[1]*p[0]*c,g="x"===u.dir[0]?h[1]+u.dir[1]*parseInt(u.scrollAmount):h[0]+u.dir[1]*parseInt(u.scrollAmount),m="auto"!==u.scrollAmount?g:f,v=r||(e?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),y=!!e;return e&&17>n&&(m="x"===u.dir[0]?h[1]:h[0]),U(t,m.toString(),{dir:u.dir[0],scrollEasing:v,dur:n,onComplete:y}),e?void(u.dir=!1):(clearTimeout(u.step),void(u.step=setTimeout(function(){a()},n)))}var s=t.data("mCS"),l=s.opt,u=s.sequential,d=e("#mCSB_"+s.idx+"_container"),h="stepped"===u.type;switch(i){case"on":if(u.dir=[n===c[16]||n===c[15]||39===n||37===n?"x":"y",n===c[13]||n===c[15]||38===n||37===n?-1:1],j(t),Q(n)&&"stepped"===u.type)return;a(h);break;case"off":clearTimeout(u.step),X(u,"step"),j(t),(h||s.tweenRunning&&u.dir)&&a(!0)}},B=function(t){var i=e(this).data("mCS").opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===i.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===i.axis?null:t,n[1]=t.x?t.x:t.y||"y"===i.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},W=function(t,i){if(null!=t&&void 0!==t){var n=e(this),r=n.data("mCS"),o=r.opt,a=e("#mCSB_"+r.idx+"_container"),s=a.parent(),l=typeof t;i||(i="x"===o.axis?"x":"y");var u="x"===i?a.outerWidth(!1):a.outerHeight(!1),c="x"===i?a[0].offsetLeft:a[0].offsetTop,h="x"===i?"left":"top";switch(l){case"function":return t();case"object":var p=t.jquery?t:e(t);if(!p.length)return;return"x"===i?ee(p)[1]:ee(p)[0];case"string":case"number":if(Q(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(u*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(c-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var f=c+parseInt(t.split("+=")[1]);return f>=0?0:Math.abs(f)}if(-1!==t.indexOf("px")&&Q(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-a.outerHeight(!1));if("right"===t)return Math.abs(s.width()-a.outerWidth(!1));if("first"===t||"last"===t){var p=a.find(":"+t);return"x"===i?ee(p)[1]:ee(p)[0]}return e(t).length?"x"===i?ee(e(t))[1]:ee(e(t))[0]:(a.css(h,t),void d.update.call(null,n[0]))}}},V=function(t){function i(){var e=0;return s.advanced.updateOnImageLoad&&(e=l.find("img").length),e}function n(){!0===s.advanced.updateOnSelectorChange&&(s.advanced.updateOnSelectorChange="*");var t=0,i=l.find(s.advanced.updateOnSelectorChange);return s.advanced.updateOnSelectorChange&&i.length>0&&i.each(function(){t+=e(this).height()+e(this).width()}),t}function r(e){clearTimeout(l[0].autoUpdate),d.update.call(null,o[0],e)}var o=e(this),a=o.data("mCS"),s=a.opt,l=e("#mCSB_"+a.idx+"_container");if(t)return clearTimeout(l[0].autoUpdate),void X(l[0],"autoUpdate");var u,h,p,f=l.parent(),g=[e("#mCSB_"+a.idx+"_scrollbar_vertical"),e("#mCSB_"+a.idx+"_scrollbar_horizontal")],m=function(){return[g[0].is(":visible")?g[0].outerHeight(!0):0,g[1].is(":visible")?g[1].outerWidth(!0):0]},v=n(),y=[l.outerHeight(!1),l.outerWidth(!1),f.height(),f.width(),m()[0],m()[1]],b=i();!function t(){clearTimeout(l[0].autoUpdate),l[0].autoUpdate=setTimeout(function(){return s.advanced.updateOnSelectorChange&&(u=n(),u!==v)?(r(3),void(v=u)):(s.advanced.updateOnContentResize&&(h=[l.outerHeight(!1),l.outerWidth(!1),f.height(),f.width(),m()[0],m()[1]],(h[0]!==y[0]||h[1]!==y[1]||h[2]!==y[2]||h[3]!==y[3]||h[4]!==y[4]||h[5]!==y[5])&&(r(h[0]!==y[0]||h[1]!==y[1]),y=h)),s.advanced.updateOnImageLoad&&(p=i(),p!==b&&(l.find("img").each(function(){!function(t){if(e(t).hasClass(c[2]))return void r();var i=new Image;i.onload=function(e,t){return function(){return t.apply(e,arguments)}}(i,function(){this.onload=null,e(t).addClass(c[2]),r(2)}),i.src=t.src}(this)}),b=p)),void((s.advanced.updateOnSelectorChange||s.advanced.updateOnContentResize||s.advanced.updateOnImageLoad)&&t()))},60)}()},j=function(t){var i=t.data("mCS"),n=e("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal");n.each(function(){K.call(this)})},U=function(t,i,n){function r(e){return a&&s.callbacks[e]&&"function"==typeof s.callbacks[e]}function o(){var e=[d[0].offsetTop,d[0].offsetLeft],i=[g[0].offsetTop,g[0].offsetLeft],r=[d.outerHeight(!1),d.outerWidth(!1)],o=[c.height(),c.width()];t[0].mcs={content:d,top:e[0],left:e[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(r[0])-o[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(r[1])-o[1])),direction:n.dir}}var a=t.data("mCS"),s=a.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:s.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(l,n),u=[n.dur,n.drag?0:n.dur],c=e("#mCSB_"+a.idx),d=e("#mCSB_"+a.idx+"_container"),h=d.parent(),p=s.callbacks.onTotalScrollOffset?B.call(t,s.callbacks.onTotalScrollOffset):[0,0],f=s.callbacks.onTotalScrollBackOffset?B.call(t,s.callbacks.onTotalScrollBackOffset):[0,0];if(a.trigger=n.trigger,(0!==h.scrollTop()||0!==h.scrollLeft())&&(e(".mCSB_"+a.idx+"_scrollbar").css("visibility","visible"),h.scrollTop(0).scrollLeft(0)),"_resetY"!==i||a.contentReset.y||(r("onOverflowYNone")&&s.callbacks.onOverflowYNone.call(t[0]),a.contentReset.y=1),"_resetX"!==i||a.contentReset.x||(r("onOverflowXNone")&&s.callbacks.onOverflowXNone.call(t[0]),a.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){switch(!a.contentReset.y&&t[0].mcs||!a.overflowed[0]||(r("onOverflowY")&&s.callbacks.onOverflowY.call(t[0]),a.contentReset.x=null),!a.contentReset.x&&t[0].mcs||!a.overflowed[1]||(r("onOverflowX")&&s.callbacks.onOverflowX.call(t[0]),a.contentReset.x=null),s.snapAmount&&(k=i,$=s.snapAmount,E=s.snapOffset,i=Math.round(k/$)*$-E),n.dir){case"x":var g=e("#mCSB_"+a.idx+"_dragger_horizontal"),m="left",v=d[0].offsetLeft,y=[c.width()-d.outerWidth(!1),g.parent().width()-g.width()],b=[i,0===i?0:i/a.scrollRatio.x],w=p[1],x=f[1],_=w>0?w/a.scrollRatio.x:0,C=x>0?x/a.scrollRatio.x:0;break;case"y":var g=e("#mCSB_"+a.idx+"_dragger_vertical"),m="top",v=d[0].offsetTop,y=[c.height()-d.outerHeight(!1),g.parent().height()-g.height()],b=[i,0===i?0:i/a.scrollRatio.y],w=p[0],x=f[0],_=w>0?w/a.scrollRatio.y:0,C=x>0?x/a.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=y[1]?b=[y[0],y[1]]:b[0]=-b[0],t[0].mcs||(o(),r("onInit")&&s.callbacks.onInit.call(t[0])),clearTimeout(d[0].onCompleteTimeout),(a.tweenRunning||!(0===v&&b[0]>=0||v===y[0]&&b[0]<=y[0]))&&(q(g[0],m,Math.round(b[1]),u[1],n.scrollEasing),q(d[0],m,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!a.tweenRunning&&(r("onScrollStart")&&(o(),s.callbacks.onScrollStart.call(t[0])),a.tweenRunning=!0,S(g),a.cbOffsets=[s.callbacks.alwaysTriggerOffsets||v>=y[0]+w,s.callbacks.alwaysTriggerOffsets||-x>=v])},onUpdate:function(){n.callbacks&&n.onUpdate&&r("whileScrolling")&&(o(),s.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===s.axis&&clearTimeout(d[0].onCompleteTimeout);var e=d[0].idleTimer||0;d[0].onCompleteTimeout=setTimeout(function(){r("onScroll")&&(o(),s.callbacks.onScroll.call(t[0])),r("onTotalScroll")&&b[1]>=y[1]-_&&a.cbOffsets[0]&&(o(),s.callbacks.onTotalScroll.call(t[0])),r("onTotalScrollBack")&&b[1]<=C&&a.cbOffsets[1]&&(o(),s.callbacks.onTotalScrollBack.call(t[0])),a.tweenRunning=!1,d[0].idleTimer=0,S(g,"hide")},e)}}}))}var k,$,E},q=function(e,i,n,r,o,a,s){function l(){b.stop||(m||h.call(),m=Y()-g,u(),m>=b.time&&(b.time=m>b.time?m+c-(m-b.time):m+c-1,b.time<m+1&&(b.time=m+1)),b.time<r?b.id=d(l):f.call())}function u(){r>0?(b.currVal=function(e,t,i,n,r){switch(r){case"linear":case"mcsLinear":return i*e/n+t;case"mcsLinearOut":return e/=n,e--,i*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return 1>(e/=n/2)?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return 1>(e/=n/2)?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return 1>(e/=n/2)?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=n,-i*(--e*e*e*e-1)+t;case"easeOutStrong":return i*(1-Math.pow(2,-10*e/n))+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=n)*e,a=o*e;return t+i*(.499999999999997*a*o+-2.5*o*o+5.5*a+-6.5*o+4*e)}}(b.time,v,w,r,o),y[i]=Math.round(b.currVal)+"px"):y[i]=n+"px",p.call()}e._mTween||(e._mTween={top:{},left:{}});var c,d,s=s||{},h=s.onStart||function(){},p=s.onUpdate||function(){},f=s.onComplete||function(){},g=Y(),m=0,v=e.offsetTop,y=e.style,b=e._mTween[i];"left"===i&&(v=e.offsetLeft);var w=n-v;b.stop=0,"none"!==a&&null!=b.id&&(t.requestAnimationFrame?t.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null),c=1e3/60,b.time=m+c,d=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return u(),setTimeout(e,.01)},b.id=d(l)},Y=function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){this._mTween||(this._mTween={top:{},left:{}});for(var e=["top","left"],i=0;i<e.length;i++){var n=e[i];this._mTween[n].id&&(t.requestAnimationFrame?t.cancelAnimationFrame(this._mTween[n].id):clearTimeout(this._mTween[n].id),this._mTween[n].id=null,this._mTween[n].stop=1)}},X=function(e,t){try{delete e[t]}catch(i){e[t]=null}},Z=function(e){return!(e.which&&1!==e.which)},J=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},Q=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ee=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[n]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[n]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[n].defaults=o,t[n]=!0,e(t).load(function(){e(r)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var i,n,r=e(t),o=r.parents(".mCSB_container");if(o.length)return i=o.parent(),n=[o[0].offsetTop,o[0].offsetLeft],n[0]+ee(r)[0]>=0&&n[0]+ee(r)[0]<i.height()-r.outerHeight(!1)&&n[1]+ee(r)[1]>=0&&n[1]+ee(r)[1]<i.width()-r.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var i=e(t).data("mCS");if(i)return i.overflowed[0]||i.overflowed[1]}})})}()}()}(jQuery,window,document),function(e,t){function i(i,n){this.selectedRange=null,this.editor=t(i);var r=t(i),o={hotKeys:{"Ctrl+b meta+b":"bold","Ctrl+i meta+i":"italic","Ctrl+u meta+u":"underline","Ctrl+z":"undo","Ctrl+y meta+y meta+shift+z":"redo","Ctrl+l meta+l":"justifyleft","Ctrl+r meta+r":"justifyright","Ctrl+e meta+e":"justifycenter","Ctrl+j meta+j":"justifyfull","Shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,keypressTimeout:200,fileUploadError:function(e,t){console.log("File upload error",e,t)}},a=t.extend(!0,{},o,n),s="a[data-"+a.commandRole+"],button[data-"+a.commandRole+"],input[type=button][data-"+a.commandRole+"]";this.bindHotkeys(r,a,s),a.dragAndDropImages&&this.initFileDrops(r,a,s),this.bindToolbar(r,t(a.toolbarSelector),a,s),r.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){this.saveSelection(),this.updateToolbar(r,s,a)}.bind(this)),t(e).bind("touchend",function(e){var t=r.is(e.target)||r.has(e.target).length>0,i=this.getCurrentRange();i&&i.startContainer===i.endContainer&&i.startOffset===i.endOffset&&!t||(this.saveSelection(),this.updateToolbar(r,s,a))})}i.prototype.readFileIntoDataUrl=function(e){var i=t.Deferred(),n=new FileReader;return n.onload=function(e){i.resolve(e.target.result)},n.onerror=i.reject,n.onprogress=i.notify,n.readAsDataURL(e),i.promise()},i.prototype.cleanHtml=function(e){if(!0===t(this).data("wysiwyg-html-mode")&&(t(this).html(t(this).text()),t(this).attr("contenteditable",!0),t(this).data("wysiwyg-html-mode",!1)),!0===e&&t(this).parent().is("form")){var i=t(this).html;if(t(i).has("img").length){var n=t("img",t(i)),r=[],o=t(this).parent();t.each(n,function(e,i){t(i).attr("src").match(/^data:image\/.*$/)&&(r.push(n[e]),t(o).prepend("<input value='"+t(i).attr("src")+"' type='hidden' name='postedimage/"+e+"' />"),t(i).attr("src","postedimage/"+e))})}}var a=t(this).html();return a&&a.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},i.prototype.updateToolbar=function(e,i,n){n.activeToolbarClass&&t(n.toolbarSelector).find(i).each(function(){var e=t(this),i=e.data(n.commandRole).split(" "),r=i[0];i.length>1&&document.queryCommandEnabled(r)&&document.queryCommandValue(r)===i[1]?e.addClass(n.activeToolbarClass):1===i.length&&document.queryCommandEnabled(r)&&document.queryCommandState(r)?e.addClass(n.activeToolbarClass):e.removeClass(n.activeToolbarClass)})},i.prototype.execCommand=function(e,t,i,n,r){var o=e.split(" "),a=o.shift(),s=o.join(" ")+(t||""),l=e.split("-");1===l.length?document.execCommand(a,!1,s):"format"===l[0]&&2===l.length&&document.execCommand("formatBlock",!1,l[1]),i.trigger("change"),this.updateToolbar(i,r,n)},i.prototype.bindHotkeys=function(e,i,n){var r=this;t.each(i.hotKeys,function(o,a){a&&t(e).keydown(o,function(o){e.attr("contenteditable")&&t(e).is(":visible")&&(o.preventDefault(),o.stopPropagation(),r.execCommand(a,null,e,i,n))}).keyup(o,function(i){e.attr("contenteditable")&&t(e).is(":visible")&&(i.preventDefault(),i.stopPropagation())})}),e.keyup(function(){e.trigger("change")})},i.prototype.getCurrentRange=function(){var t,i;return e.getSelection?(t=e.getSelection()).getRangeAt&&t.rangeCount&&(i=t.getRangeAt(0)):document.selection&&(i=document.selection.createRange()),i},i.prototype.saveSelection=function(){this.selectedRange=this.getCurrentRange()},i.prototype.restoreSelection=function(){var t;if(e.getSelection||document.createRange){if(t=e.getSelection(),this.selectedRange){try{t.removeAllRanges()}catch(e){document.body.createTextRange().select(),document.selection.empty()}t.addRange(this.selectedRange)}}else document.selection&&this.selectedRange&&this.selectedRange.select()},i.prototype.toggleHtmlEdit=function(e){if(!0!==e.data("wysiwyg-html-mode")){var i=e.html(),n=t("<pre />");t(n).append(document.createTextNode(i)),t(n).attr("contenteditable",!0),t(e).html(" "),t(e).append(t(n)),t(e).attr("contenteditable",!1),t(e).data("wysiwyg-html-mode",!0),t(n).focus()}else t(e).html(t(e).text()),t(e).attr("contenteditable",!0),t(e).data("wysiwyg-html-mode",!1),t(e).focus()},i.prototype.insertFiles=function(e,i,n,r){var o=this;n.focus(),t.each(e,function(e,a){/^image\//.test(a.type)?t.when(o.readFileIntoDataUrl(a)).done(function(e){o.execCommand("insertimage",e,n,i,r),n.trigger("image-inserted")}).fail(function(e){i.fileUploadError("file-reader",e)}):i.fileUploadError("unsupported-file-type",a.type)})},i.prototype.markSelection=function(e,t,i){this.restoreSelection(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",!1,t||"transparent"),this.saveSelection(),e.data(i.selectionMarker,t)},i.prototype.bindToolbar=function(e,i,n,r){var o=this;i.find(r).click(function(){o.restoreSelection(),e.focus(),"html"===e.data(n.commandRole)?o.toggleHtmlEdit(e):o.execCommand(t(this).data(n.commandRole),null,e,n,r),o.saveSelection()}),i.find("[data-toggle=dropdown]").click(this.restoreSelection()),i.find("input[type=text][data-"+n.commandRole+"]").on("webkitspeechchange change",function(){var i=this.value;this.value="",o.restoreSelection(),i&&(e.focus(),o.execCommand(t(this).data(n.commandRole),i,e,n,r)),o.saveSelection()}).on("focus",function(){var e=t(this);e.data(n.selectionMarker)||(o.markSelection(e,n.selectionColor,n),e.focus())}).on("blur",function(){var e=t(this);e.data(n.selectionMarker)&&o.markSelection(e,!1,n)}),i.find("input[type=file][data-"+n.commandRole+"]").change(function(){o.restoreSelection(),"file"===this.type&&this.files&&this.files.length>0&&o.insertFiles(this.files,n,e,r),o.saveSelection(),this.value=""})},i.prototype.initFileDrops=function(e,t,i){var n=this;e.on("dragenter dragover",!1).on("drop",function(r){var o=r.originalEvent.dataTransfer;r.stopPropagation(),r.preventDefault(),o&&o.files&&o.files.length>0&&n.insertFiles(o.files,t,e,i)})},t.fn.wysiwyg=function(e){new i(this,e)}}(window,window.jQuery),$(document).ready(function(){$(function(){$("#tabs").tabs().addClass("ui-tabs-vertical ui-helper-clearfix"),$("#tabs li").removeClass("ui-corner-top").addClass("ui-corner-left")}),$(".history_link").click(function(){$(".payment_history").show(""),$(".pm_info").hide()}),$(".hide").click(function(){$(this).parent().hide("")}),$(".pm_info_info").click(function(){$(".pm_info").show(""),$(".payment_history").hide("")}),$(".file_item").click(function(){$(".file_item").removeClass("select"),$(this).toggleClass("select")})}),function(e){e(window).load(function(){e(".content_tab").mCustomScrollbar({})})}(jQuery),
/*! jQuery UI - v1.11.2 - 2014-10-16
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(o=(r=t.parentNode).name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(a=e("img[usemap='#"+o+"']")[0],!!a&&i(a))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=r(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(b.inline?b.dpDiv.parent()[0]:b.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function a(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}function s(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&t(i,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,o){return e.each(r,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?a["inner"+i].call(this):this.each(function(){e(this).css(o,n(this,t)+"px")})},e.fn["outer"+i]=function(t,r){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(o,n(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(u=e.fn.removeData,function(t){return arguments.length?u.call(this,e.camelCase(t)):u.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:(l=e.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var n=this;setTimeout(function(){e(n).focus(),i&&i.call(n)},t)}):l.apply(this,arguments)}),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,r=e(this[0]);r.length&&r[0]!==document;){if(("absolute"===(i=r.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var r,o=e.ui[t].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(e,t,i,n){var r,o=e.plugins[t];if(o&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,i)}};var l,u,c=0,d=Array.prototype.slice;e.cleanData=(h=e.cleanData,function(t){var i,n,r;for(r=0;null!=(n=t[r]);r++)try{(i=e._data(n,"events"))&&i.remove&&e(n).triggerHandler("remove")}catch(e){}h(t)}),e.widget=function(t,i,n){var r,o,a,s,l={},u=t.split(".")[0];return t=t.split(".")[1],r=u+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},o=e[u][t],a=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(s=new i).options=e.widget.extend({},s.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(l[t]=n)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:u,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,n,r=d.call(arguments,1),o=0,a=r.length;a>o;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(t[i]=e.isPlainObject(n)?e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,a=d.call(arguments,1),s=this;return r=!o&&a.length?e.widget.extend.apply(null,[r].concat(a)):r,o?this.each(function(){var i,o=e.data(this,n);return"instance"===r?(s=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,a))!==o&&void 0!==i?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,n);t?(t.option(r||{}),t._init&&t._init()):e.data(this,n,new i(r,this))}),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;n.length-1>o;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var r,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,a){function s(){return t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,s):i.bind(u,s)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,o,a=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?i:r.effect||i:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),a&&e.effects&&e.effects.effect[s]?n[t](r):s!==t&&n[s]?n[s](r.duration,r.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}}),e.widget;var h,p=!1;e(document).mouseup(function(){p=!1}),e.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!p){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,n=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),p=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),p=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}e.ui=e.ui||{};var n,r,o=Math.max,a=Math.abs,s=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),t=o.offsetWidth,r.css("overflow","scroll"),t===(i=o.offsetWidth)&&(i=r[0].clientWidth),r.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||r?i.width():i.outerWidth(),height:n||r?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return p.apply(this,arguments);n=e.extend({},n);var h,f,g,m,v,y,b=e(n.of),w=e.position.getWithinInfo(n.within),x=e.position.getScrollInfo(w),_=(n.collision||"flip").split(" "),C={};return y=function(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(b),b[0].preventDefault&&(n.at="left top"),f=y.width,g=y.height,m=y.offset,v=e.extend({},m),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=c.exec(i[0]),t=c.exec(i[1]),C[this]=[e?e[0]:0,t?t[0]:0],n[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===n.at[0]?v.left+=f:"center"===n.at[0]&&(v.left+=f/2),"bottom"===n.at[1]?v.top+=g:"center"===n.at[1]&&(v.top+=g/2),h=t(C.at,f,g),v.left+=h[0],v.top+=h[1],this.each(function(){var l,u,c=e(this),d=c.outerWidth(),p=c.outerHeight(),y=i(this,"marginLeft"),S=i(this,"marginTop"),k=d+y+i(this,"marginRight")+x.width,$=p+S+i(this,"marginBottom")+x.height,E=e.extend({},v),T=t(C.my,c.outerWidth(),c.outerHeight());"right"===n.my[0]?E.left-=d:"center"===n.my[0]&&(E.left-=d/2),"bottom"===n.my[1]?E.top-=p:"center"===n.my[1]&&(E.top-=p/2),E.left+=T[0],E.top+=T[1],r||(E.left=s(E.left),E.top=s(E.top)),l={marginLeft:y,marginTop:S},e.each(["left","top"],function(t,i){e.ui.position[_[t]]&&e.ui.position[_[t]][i](E,{targetWidth:f,targetHeight:g,elemWidth:d,elemHeight:p,collisionPosition:l,collisionWidth:k,collisionHeight:$,offset:[h[0]+T[0],h[1]+T[1]],my:n.my,at:n.at,within:w,elem:c})}),n.using&&(u=function(e){var t=m.left-E.left,i=t+f-d,r=m.top-E.top,s=r+g-p,l={target:{element:b,left:m.left,top:m.top,width:f,height:g},element:{element:c,left:E.left,top:E.top,width:d,height:p},horizontal:0>i?"left":t>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};d>f&&f>a(t+i)&&(l.horizontal="center"),p>g&&g>a(r+s)&&(l.vertical="middle"),l.important=o(a(t),a(i))>o(a(r),a(s))?"horizontal":"vertical",n.using.call(this,e,l)}),c.offset(e.extend(E,{using:u}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,u=s+t.collisionWidth-a-r;t.collisionWidth>a?l>0&&0>=u?(i=e.left+l+t.collisionWidth-a-r,e.left+=l-i):e.left=u>0&&0>=l?r:l>u?r+a-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=o(e.left-s,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,u=s+t.collisionHeight-a-r;t.collisionHeight>a?l>0&&0>=u?(i=e.top+l+t.collisionHeight-a-r,e.top+=l-i):e.top=u>0&&0>=l?r:l>u?r+a-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=o(e.top-s,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,d=u+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>c?(0>(i=e.left+h+p+f+t.collisionWidth-s-o)||a(c)>i)&&(e.left+=h+p+f):d>0&&(n=e.left-t.collisionPosition.marginLeft+h+p+f-l,(n>0||d>a(n))&&(e.left+=h+p+f))},top:function(e,t){var i,n,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,d=u+t.collisionHeight-s-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>c?(n=e.top+h+p+f+t.collisionHeight-s-o,e.top+h+p+f>c&&(0>n||a(c)>n)&&(e.top+=h+p+f)):d>0&&(i=e.top-t.collisionPosition.marginTop+h+p+f-l,e.top+h+p+f>d&&(i>0||d>a(i))&&(e.top+=h+p+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in n)t.style[a]=n[a];t.appendChild(l),(i=s||document.documentElement).insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=e(l).offset().left,r=o>10&&11>o,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,r=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),r=n.uniqueId().attr("id");t.attr("aria-controls",r),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=r.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),o=r[0]===n[0],a=o&&i.collapsible,s=a?e():r.next(),l={oldHeader:n,oldPanel:n.next(),newHeader:a?e():r,newPanel:s};t.preventDefault(),o&&!i.collapsible||!1===this._trigger("beforeActivate",t,l)||(i.active=!a&&this.headers.index(r),this.active=o?e():r,this._toggle(l),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,i){var n,r,o,a=this,s=0,l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},c=l&&u.down||u,d=function(){a._toggleComplete(i)};return"number"==typeof c&&(o=c),"string"==typeof c&&(r=c),r=r||c.easing||u.easing,o=o||c.duration||u.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?s+=i.now:"content"!==a.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,o,r,d):e.animate(this.showProps,o,r,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,r,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,n=this.previousFilter||"",r=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i=this,n=this.options.icons.submenu,r=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),(t=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,r,o,a,s;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(i=e(this)).offset().top-n-r}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),void((n=i.item.attr("aria-label")||r.value)&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!n)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var f,g="ui-button ui-widget ui-state-default ui-corner-all",m="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",v=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},y=function(t){var i=t.name,n=t.form,r=e([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,v),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,r=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===f&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(r)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!i.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];y(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!i.disabled&&(e(this).addClass("ui-state-active"),f=this,void t.document.one("mouseup",function(){f=null}))}).bind("mouseup"+this.eventNamespace,function(){return!i.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!i.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" ui-state-active "+m).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?y(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(m),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.2"}});var b;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,r,o;r="div"===(n=t.nodeName.toLowerCase())||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),r)).settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?r(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,r,o,a=this._get(i,"appendText"),s=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),("focus"===(n=this._get(i,"showOn"))||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[s?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(i=0,n=0,r=0;e.length>r;r++)e[r].length>i&&(i=e[r].length,n=r);return n},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,r,o){var s,l,u,c,d,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),a(h.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var i,n=e(t),r=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var r,o,s,l,u=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):u?"all"===i?e.extend({},u.settings):this._get(u,i):null:(r=i||{},"string"==typeof i&&(r={},r[i]=n),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),a(u.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,r,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return(r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),(i=e.datepicker._get(o,"onSelect"))?(n=e.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(t){if("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,r,o,s,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(r=(n=e.datepicker._get(i,"beforeShow"))?n.apply(t,[t,i]):{})&&(a(i.settings,r),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return!(o|="fixed"===e(this).css("position"))}),s={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),s=e.datepicker._checkOffset(i,s,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,b=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),r=n[1],a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&o.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?r-a:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+s?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>u&&u>o?Math.abs(o+s):0),i},_findPos:function(t){for(var i,n=this._getInst(t),r=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return[(i=e(t).offset()).left,i.top]},_hideDatepicker:function(t){var i,n,r,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),r=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,r):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var i,n=e(t),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,i,n,r){var o,a=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,r=e(t),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),(n=this._get(o,"onSelect"))?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,r,o=this._get(t,"altField");o&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t)),e(o).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?""+i:i+""))return null;var r,o,a,s,l=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(e){var i=t.length>r+1&&t.charAt(r+1)===e;return i&&r++,i},x=function(e){var t=w(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=RegExp("^\\d{"+("y"===e?n:1)+","+n+"}"),o=i.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},_=function(t,n,r){var o=-1,a=e.map(w(t)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(o=t[0],l+=n.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},C=function(){if(i.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;t.length>r;r++)if(b)"'"!==t.charAt(r)||w("'")?C():b=!1;else switch(t.charAt(r)){case"d":v=x("d");break;case"D":_("D",d,h);break;case"o":y=x("o");break;case"m":m=x("m");break;case"M":m=_("M",p,f);break;case"y":g=x("y");break;case"@":g=(s=new Date(x("@"))).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":g=(s=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?C():b=!0;break;default:C()}if(i.length>l&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),y>-1)for(m=1,v=y;!((o=this._getDaysInMonth(g,m-1))>=v);)m++,v-=o;if((s=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},u=function(e,t,i){var n=""+t;if(l(e))for(;i>n.length;)n="0"+n;return n},c=function(e,t,i,n){return l(e)?n[t]:i[t]},d="",h=!1;if(t)for(n=0;e.length>n;n++)if(h)"'"!==e.charAt(n)||l("'")?d+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":d+=u("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),r,o);break;case"o":d+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(n)}return d},_possibleChars:function(e){var t,i="",n=!1,r=function(i){var n=e.length>t+1&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;e.length>t;t++)if(n)"'"!==e.charAt(t)||r("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(i,n,a)||r}catch(e){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var r=null==i||""===i?n:"string"==typeof i?function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=n.getFullYear(),o=n.getMonth(),a=n.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(r,o))}l=s.exec(i)}return new Date(r,o,a)}(i):"number"==typeof i?isNaN(i)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(i):new Date(i.getTime());return(r=r&&"Invalid Date"==""+r?n:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,x,_,C,S,k,$,E,T,D,M,P,A,I,O,L,R,F,N,H,G=new Date,z=this._daylightSavingAdjust(new Date(G.getFullYear(),G.getMonth(),G.getDate())),B=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),V=this._get(e,"hideIfNoPrevNext"),j=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),K=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Q=e.drawMonth-q,ee=e.drawYear;if(0>Q&&(Q+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),t=Z&&Z>t?Z:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)Q--,0>Q&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,i=this._get(e,"prevText"),i=j?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q-Y,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",r=this._get(e,"nextText"),r=j?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Q+Y,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?X:z,a=j?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",_=0;U[0]>_;_++){for(C="",this.maxRows=4,S=0;U[1]>S;S++){if(k=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),$=" ui-corner-all",E="",K){if(E+="<div class='ui-datepicker-group",U[1]>1)switch(S){case 0:E+=" ui-datepicker-group-first",$=" ui-corner-"+(B?"right":"left");break;case U[1]-1:E+=" ui-datepicker-group-last",$=" ui-corner-"+(B?"left":"right");break;default:E+=" ui-datepicker-group-middle",$=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+$+"'>"+(/all|left/.test($)&&0===_?B?o:n:"")+(/all|right/.test($)&&0===_?B?n:o:"")+this._generateMonthYearHeader(e,Q,ee,Z,J,_>0||S>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)D=(x+c)%7,T+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[D]+"'>"+p[D]+"</span></th>";for(E+=T+"</tr></thead><tbody>",M=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),P=(this._getFirstDayOfMonth(ee,Q)-c+7)%7,A=Math.ceil((P+M)/7),I=K&&this.maxRows>A?this.maxRows:A,this.maxRows=I,O=this._daylightSavingAdjust(new Date(ee,Q,1-P)),L=0;I>L;L++){for(E+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(O)+"</td>":"",x=0;7>x;x++)F=m?m.apply(e.input?e.input[0]:null,[O]):[!0,""],N=O.getMonth()!==Q,H=N&&!y||!F[0]||Z&&Z>O||J&&O>J,R+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(O.getTime()===k.getTime()&&Q===e.selectedMonth&&e._keyEvent||b.getTime()===O.getTime()&&b.getTime()===k.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!v?"":" "+F[1]+(O.getTime()===X.getTime()?" "+this._currentClass:"")+(O.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(N&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(N&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===z.getTime()?" ui-state-highlight":"")+(O.getTime()===X.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);E+=R+"</tr>"}++Q>11&&(Q=0,ee++),C+=E+="</tbody></table>"+(K?"</div>"+(U[0]>0&&S===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=C}return w+=u,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,r,o,a,s){var l,u,c,d,h,p,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=n&&n.getFullYear()===i,u=r&&r.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=n.getMonth())&&(!u||r.getMonth()>=c)&&(w+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+s[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),f=(p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t})(d[0]),g=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+"</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),r=e.drawMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,r))+("D"===i?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=i&&i>t?i:t;return n&&r>n?n:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(0>t?t:r[0]*r[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),s=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(s+=n)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||s>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.2",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(e){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",t,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",t)&&i._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),r=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),void((n=(i=e(r.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var r=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,r))})},stop:function(t,i,n){var r=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,r))})},drag:function(t,i,n){e.each(n.sortables,function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",t),n.dropped=o.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(t),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var r=e("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,i,n){var r=n.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var r=e(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,i,n){var r=n.options;r._opacity&&e(i.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var r=n.options,o=!1,a=n.scrollParentNotHidden[0],s=n.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+a.offsetHeight-t.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+a.offsetWidth-t.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var r=n.options;n.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var r,o,a,s,l,u,c,d,h,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,y=i.offset.top,b=y+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)l=n.snapElements[h].left-n.margins.left,u=l+n.snapElements[h].width,c=n.snapElements[h].top-n.margins.top,d=c+n.snapElements[h].height,l-g>v||m>u+g||c-g>b||y>d+g||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=g>=Math.abs(c-b),o=g>=Math.abs(d-y),a=g>=Math.abs(l-v),s=g>=Math.abs(u-m),r&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),p=r||o||a||s,"outer"!==f.snapMode&&(r=g>=Math.abs(c-y),o=g>=Math.abs(d-b),a=g>=Math.abs(l-m),s=g>=Math.abs(u-v),r&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(r||o||a||s||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=r||o||a||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var r,o=n.options,a=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});a.length&&(r=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var r=e(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,i,n){var r=n.options;r._zIndex&&e(i.helper).css("zIndex",r._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0||(t[n]=1,r=t[n]>0,t[n]=0,r)},_create:function(){var t,i,n,r,o,a=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)n=e.trim(t[i]),o="ui-resizable-"+n,r=e("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:s.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(t){var i,n,r,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var i,n,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=e(o.containment).scrollLeft()||0,n+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,r=this.originalMousePosition,o=this.axis,a=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,n,r,o,a,s,l,u=this.options;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:this.sizeDiff.height,o=n?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-r},s=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,l=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,u.animate||this.element.css(e.extend(a,{top:l,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&u&&(e.left=s-t.minWidth),n&&u&&(e.left=s-t.maxWidth),a&&c&&(e.top=l-t.minHeight),r&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(r[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-a},u=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,r,o,a,s,l=e(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,h=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:o,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:n.left,top:n.top,width:a,height:s}))},resize:function(t){var i,n,r,o,a=e(this).resizable("instance"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||t.shiftKey,d={top:0,left:0},h=a.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),n=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,r=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,u=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:u}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-r.left-n.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):e.each(t.alsoResize,function(e){i(e)})},resize:function(t,i){var n=e(this).resizable("instance"),r=n.options,o=n.originalSize,a=n.originalPosition,s={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(t,n){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),o={},a=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(r[t]||0)+(s[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,a=i.originalPosition,s=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=l[0]||1,c=l[1]||1,d=Math.round((r.width-o.width)/u)*u,h=Math.round((r.height-o.height)/c)*c,p=o.width+d,f=o.height+h,g=n.maxWidth&&p>n.maxWidth,m=n.maxHeight&&f>n.maxHeight,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=u),y&&(f+=c),g&&(p-=u),m&&(f-=c),/^(se|s|e)$/.test(s)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.top=a.top-h):/^(sw)$/.test(s)?(i.size.width=p,i.size.height=f,i.position.left=a.left-d):((0>=f-c||0>=p-u)&&(t=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-h):(f=c-t.height,i.size.height=f,i.position.top=a.top+o.height-f),p-u>0?(i.size.width=p,i.position.left=a.left-d):(p=c-t.height,i.size.width=p,i.position.left=a.left+o.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",t)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(i=this.document[0].activeElement)&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var r,o;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(t.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(r))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(r,o){var a=o.offset.left-i.document.scrollLeft(),s=o.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,r){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(r))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(r,o){var a=i.uiDialog.offset(),s=a.left-i.document.scrollLeft(),l=a.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,r={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(r[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,n,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=r.is(":data(ui-draggable)"),i&&!t&&r.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=r.is(":data(ui-resizable)"),n&&!t&&r.resizable("destroy"),n&&"string"==typeof t&&r.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,r=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,n,r){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,l=a+t.helperProportions.height,u=i.offset.left,c=i.offset.top,d=u+i.proportions().width,h=c+i.proportions().height;switch(n){case"fit":return o>=u&&d>=s&&a>=c&&h>=l;case"intersect":return o+t.helperProportions.width/2>u&&d>s-t.helperProportions.width/2&&a+t.helperProportions.height/2>c&&h>l-t.helperProportions.height/2;case"pointer":return e(r.pageY,c,i.proportions().height)&&e(r.pageX,u,i.proportions().width);case"touch":return(a>=c&&h>=a||l>=c&&h>=l||c>a&&l>h)&&(o>=u&&d>=o||s>=u&&d>=s||u>o&&s>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var n,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=i?i.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;o.length>n;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(r=0;s.length>r;r++)if(s[r]===o[n].element[0]){o[n].proportions().height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===a&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,a=e.ui.intersect(t,this,this.options.tolerance,i),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r}),o.length&&(n=e(o[0]).droppable("instance"),n.greedyChild="isover"===s)),n&&"isover"===s&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,i),n&&"isout"===s&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var w=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var n=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:e>n.max?n.max:e)}function n(i){var n=l(),r=n._rgba=[];return i=i.toLowerCase(),p(s,function(e,o){var a,s=o.re.exec(i),l=s&&o.parse(s),c=o.space||"rgba";return l?(a=n[c](l),n[u[c].cache]=a[u[c].cache],r=n._rgba=a._rgba,!1):t}),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),n):o[i]}function r(e,t,i){return 1>6*(i=(i+1)%1)?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var o,a=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},h=e("<p>")[0],p=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=h.style.backgroundColor.indexOf("rgba")>-1,p(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(r,a,s,c){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var d=this,h=e.type(r),f=this._rgba=[];return a!==t&&(r=[r,a,s,c],h="array"),"string"===h?this.parse(n(r)||o._default):"array"===h?(p(u.rgba.props,function(e,t){f[t.idx]=i(r[t.idx],t)}),this):"object"===h?(p(u,r instanceof l?function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}:function(t,n){var o=n.cache;p(n.props,function(e,t){if(!d[o]&&n.to){if("alpha"===e||null==r[e])return;d[o]=n.to(d._rgba)}d[o][t.idx]=i(r[e],t,!0)}),d[o]&&0>e.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,n.from&&(d._rgba=n.from(d[o])))}),this):t},is:function(e){var i=l(e),n=!0,r=this;return p(u,function(e,o){var a,s=i[o.cache];return s&&(a=r[o.cache]||o.to&&o.to(r._rgba)||[],p(o.props,function(e,i){return null!=s[i.idx]?n=s[i.idx]===a[i.idx]:t})),n}),n},_space:function(){var e=[],t=this;return p(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=l(e),r=n._space(),o=u[r],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),d=s.slice();return n=n[o.cache],p(o.props,function(e,r){var o=r.idx,a=s[o],l=n[o],u=c[r.type]||{};null!==l&&(null===a?d[o]=l:(u.mod&&(l-a>u.mod/2?a+=u.mod:a-l>u.mod/2&&(a-=u.mod)),d[o]=i((l-a)*t+a,r)))}),this[r](d)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=l(t)._rgba;return l(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(n,r,o),l=Math.min(n,r,o),u=s-l,c=s+l,d=.5*c;return t=l===s?0:n===s?60*(r-o)/u+360:r===s?60*(o-n)/u+120:60*(n-r)/u+240,i=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(t)%360,i,d,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],a=.5>=n?n*(1+i):n+i-n*i,s=2*n-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},p(u,function(n,r){var o=r.props,s=r.cache,u=r.to,c=r.from;l.fn[n]=function(n){if(u&&!this[s]&&(this[s]=u(this._rgba)),n===t)return this[s].slice();var r,a=e.type(n),d="array"===a||"object"===a?n:arguments,h=this[s].slice();return p(o,function(e,t){var n=d["object"===a?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),c?((r=l(c(h)))[s]=h,r):l(h)},p(o,function(t,i){l.fn[t]||(l.fn[t]=function(r){var o,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[l](),c=u[i.idx];return"undefined"===s?c:("function"===s&&(r=r.call(this,c),s=e.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[i.idx]=r,this[l](u)))})})}),l.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=n(r)))){if(r=l(o||r),!d.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(w),function(){function t(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(o[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}var i=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(w.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,o,a,s){var l=e.speed(o,a,s);return this.queue(function(){var o,a=e(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){return{el:e(this),start:t(this)}}),(o=function(){e.each(i,function(e,t){r[t]&&a[t+"Class"](r[t])})})(),u=u.map(function(){return this.end=t(this.el[0]),this.diff=function(t,i){var r,o,a={};for(r in i)o=i[r],t[r]!==o&&(n[r]||(e.fx.step[r]||!isNaN(parseFloat(o)))&&(a[r]=o));return a}(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,u.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:(a=e.fn.addClass,function(t,i,n,r){return i?e.effects.animateClass.call(this,{add:t},i,n,r):a.apply(this,arguments)}),removeClass:(o=e.fn.removeClass,function(t,i,n,r){return arguments.length>1?e.effects.animateClass.call(this,{remove:t},i,n,r):o.apply(this,arguments)}),toggleClass:(r=e.fn.toggleClass,function(t,i,n,o,a){return"boolean"==typeof i||void 0===i?n?e.effects.animateClass.call(this,i?{add:t}:{remove:t},n,o,a):r.apply(this,arguments):e.effects.animateClass.call(this,{toggle:t},i,n,o)}),switchClass:function(t,i,n,r,o){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,o)}});var r,o,a}(),function(){function t(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.2",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data("ui-effects-"+t[i],e[0].style[t[i]])},restore:function(e,t){var i,n;for(n=0;t.length>n;n++)null!==t[n]&&(i=e.data("ui-effects-"+t[n]),void 0===i&&(i=""),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(n),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])}),r}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=n.complete,s=n.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),i()):a.call(r[0],n,i)}var n=t.apply(this,arguments),r=n.mode,o=n.queue,a=e.effects.effect[n.effect];return e.fx.off||!a?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):!1===o?this.each(i):this.queue(o||"fx",i)},show:(o=e.fn.show,function(e){if(i(e))return o.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}),hide:(r=e.fn.hide,function(e){if(i(e))return r.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}),toggle:(n=e.fn.toggle,function(e){if(i(e)||"boolean"==typeof e)return n.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}});var n,r,o}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var n,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),u=t.direction||"up",c=/up|down|vertical/.test(u),d=c?"height":"width",h=c?"top":"left",p=/up|left|vertical|horizontal/.test(u),f={},g="show"===l;a.parent().is(".ui-effects-wrapper")?e.effects.save(a.parent(),s):e.effects.save(a,s),a.show(),r=(n=e.effects.createWrapper(a).css({overflow:"hidden"}))[d](),o=parseFloat(n.css(h))||0,f[d]=g?r:0,p||(a.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),f[h]=g?o:r+o),g&&(n.css(d,0),p||n.css(h,o+r)),n.animate(f,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===l&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}})},e.effects.effect.bounce=function(t,i){var n,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),u="hide"===l,c="show"===l,d=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(c||u?1:0),g=t.duration/f,m=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=a.queue(),w=b.length;for((c||u)&&s.push("opacity"),e.effects.save(a,s),a.show(),e.effects.createWrapper(a),h||(h=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,y?2*-h:2*h).animate(o,g,m)),u&&(h/=Math.pow(2,p-1)),(o={})[v]=0,n=0;p>n;n++)r={},r[v]=(y?"-=":"+=")+h,a.animate(r,g,m).animate(o,g,m),h=u?2*h:h/2;u&&(r={opacity:0},r[v]=(y?"-=":"+=")+h,a.animate(r,g,m)),a.queue(function(){u&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),a.dequeue()},e.effects.effect.clip=function(t,i){var n,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l="show"===e.effects.setMode(a,t.mode||"hide"),u="vertical"===(t.direction||"vertical"),c=u?"height":"width",d=u?"top":"left",h={};e.effects.save(a,s),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),o=(r="IMG"===a[0].tagName?n:a)[c](),l&&(r.css(c,0),r.css(d,o/2)),h[c]=l?o:0,h[d]=l?0:o/2,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),i()}})},e.effects.effect.drop=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(r,t.mode||"hide"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",d={opacity:s?1:0};e.effects.save(r,o),r.show(),e.effects.createWrapper(r),n=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(u,"pos"===c?-n:n),d[u]=(s?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})},e.effects.effect.explode=function(t,i){function n(){v.push(this),v.length===c*d&&(h.css({visibility:"visible"}),e(v).remove(),p||h.hide(),i())}var r,o,a,s,l,u,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=c,h=e(this),p="show"===e.effects.setMode(h,t.mode||"hide"),f=h.show().css("visibility","hidden").offset(),g=Math.ceil(h.outerWidth()/d),m=Math.ceil(h.outerHeight()/c),v=[];for(r=0;c>r;r++)for(s=f.top+r*m,u=r-(c-1)/2,o=0;d>o;o++)a=f.left+o*g,l=o-(d-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:a+(p?l*g:0),top:s+(p?u*m:0),opacity:p?0:1}).animate({left:a+(p?0:l*g),top:s+(p?0:u*m),opacity:p?1:0},t.duration||500,t.easing,n)},e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var n,r,o=e(this),a=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(o,t.mode||"hide"),l="show"===s,u="hide"===s,c=t.size||15,d=/([0-9]+)%/.exec(c),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],g=t.duration/2,m={},v={};e.effects.save(o,a),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[n.width(),n.height()]:[n.height(),n.width()],d&&(c=parseInt(d[1],10)/100*r[u?0:1]),l&&n.css(h?{height:0,width:c}:{height:c,width:0}),m[f[0]]=l?r[0]:c,v[f[1]]=l?r[1]:0,n.animate(m,g,t.easing).animate(v,g,t.easing,function(){u&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()})},e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(n,t.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===o&&(a.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,r),i()}})},e.effects.effect.size=function(t,i){var n,r,o,a=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.effects.setMode(a,t.mode||"effect"),p=t.restore||"effect"!==h,f=t.scale||"both",g=t.origin||["middle","center"],m=a.css("position"),v=p?s:["position","top","bottom","left","right","overflow","opacity"],y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===h?(a.from=t.to||y,a.to=t.from||n):(a.from=t.from||("show"===h?y:n),a.to=t.to||("hide"===h?y:n)),o={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},("box"===f||"both"===f)&&(o.from.y!==o.to.y&&(v=v.concat(c),a.from=e.effects.setTransition(a,c,o.from.y,a.from),a.to=e.effects.setTransition(a,c,o.to.y,a.to)),o.from.x!==o.to.x&&(v=v.concat(d),a.from=e.effects.setTransition(a,d,o.from.x,a.from),a.to=e.effects.setTransition(a,d,o.to.x,a.to))),("content"===f||"both"===f)&&o.from.y!==o.to.y&&(v=v.concat(u).concat(l),a.from=e.effects.setTransition(a,u,o.from.y,a.from),a.to=e.effects.setTransition(a,u,o.to.y,a.to)),e.effects.save(a,v),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(r=e.effects.getBaseline(g,n),a.from.top=(n.outerHeight-a.outerHeight())*r.y,a.from.left=(n.outerWidth-a.outerWidth())*r.x,a.to.top=(n.outerHeight-a.to.outerHeight)*r.y,a.to.left=(n.outerWidth-a.to.outerWidth)*r.x),a.css(a.from),("content"===f||"both"===f)&&(c=c.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),l=s.concat(c).concat(d),a.find("*[width]").each(function(){var i=e(this),n=i.height(),r=i.width(),a=i.outerHeight(),s=i.outerWidth();p&&e.effects.save(i,l),i.from={height:n*o.from.y,width:r*o.from.x,outerHeight:a*o.from.y,outerWidth:s*o.from.x},i.to={height:n*o.to.y,width:r*o.to.x,outerHeight:n*o.to.y,outerWidth:r*o.to.x},o.from.y!==o.to.y&&(i.from=e.effects.setTransition(i,c,o.from.y,i.from),i.to=e.effects.setTransition(i,c,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=e.effects.setTransition(i,d,o.from.x,i.from),i.to=e.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){p&&e.effects.restore(i,l)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===h&&a.hide(),e.effects.restore(a,v),p||("static"===m?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,i){var n=parseInt(i,10),r=e?a.to.left:a.to.top;return"auto"===i?r+"px":n+r+"px"})})),e.effects.removeWrapper(a),i()}})},e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),o=e.effects.setMode(n,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),s=t.direction||"both",l=t.origin,u={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c="horizontal"!==s?a/100:1,d="vertical"!==s?a/100:1;r.effect="size",r.queue=!1,r.complete=i,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:u),r.to={height:u.height*c,width:u.width*d,outerHeight:u.outerHeight*c,outerWidth:u.outerWidth*d},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),o="hide"===r,a=parseInt(t.percent,10)||150,s=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:o?a:100,from:o?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),n.effect(t)},e.effects.effect.pulsate=function(t,i){var n,r=e(this),o=e.effects.setMode(r,t.mode||"show"),a="show"===o,s="hide"===o,l=a||"hide"===o,u=2*(t.times||5)+(l?1:0),c=t.duration/u,d=0,h=r.queue(),p=h.length;for((a||!r.is(":visible"))&&(r.css("opacity",0).show(),d=1),n=1;u>n;n++)r.animate({opacity:d},c,t.easing),d=1-d;r.animate({opacity:d},c,t.easing),r.queue(function(){s&&r.hide(),i()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,u+1))),r.dequeue()},e.effects.effect.shake=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,u=t.times||3,c=2*u+1,d=Math.round(t.duration/c),h="up"===s||"down"===s?"top":"left",p="up"===s||"left"===s,f={},g={},m={},v=r.queue(),y=v.length;for(e.effects.save(r,o),r.show(),e.effects.createWrapper(r),f[h]=(p?"-=":"+=")+l,g[h]=(p?"+=":"-=")+2*l,m[h]=(p?"-=":"+=")+2*l,r.animate(f,d,t.easing),n=1;u>n;n++)r.animate(g,d,t.easing).animate(m,d,t.easing);r.animate(g,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),r.dequeue()},e.effects.effect.slide=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(r,t.mode||"show"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d={};e.effects.save(r,o),r.show(),n=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(u,c?isNaN(n)?"-"+n:-n:n),d[u]=(s?c?"+=":"-=":c?"-=":"+=")+n,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})},e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),o="fixed"===r.css("position"),a=e("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,u=r.offset(),c={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-s,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){h.remove(),i()})},e.widget("ui.progressbar",{version:"1.11.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(t=e(i.options.filter,i.element[0])).addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");return r?(n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;return o>s&&(i=s,s=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),u=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?u=!(i.left>s||o>i.right||i.top>l||a>i.bottom):"fit"===r.tolerance&&(u=i.left>o&&s>i.right&&i.top>a&&l>i.bottom),u?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.2",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this,i=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:i||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var n=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger("focus",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr("aria-activedescendant",t.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var n=this,r="";e.each(i,function(i,o){o.optgroup!==r&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(t),r=o.optgroup),n._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var n=e("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),(n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](r).eq(-1):i[e+"All"](r).eq(0)).length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,n){var r=e(n),o=r.parent("optgroup");i.push({element:r,index:t,value:r.attr("value"),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),t=r.length;i>t;t++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=r.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,r,o,a,s,l,u,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-c.values(t));(r>i||r===i&&(t===c._lastChangedValue||c.values(t)===d.min))&&(r=i,o=e(this),a=t)}),s=this._start(t,a),!1!==s&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),u=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/t)>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,r,o;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(r=this.values(),r[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r}),n=this.values(t?0:1),!1!==o&&this.values(t,i))):i!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:i}),!1!==o&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,r=arguments[0],o=0;n.length>o;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var n,r=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;r>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-e},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,r,o,a=this.options.range,s=this.options,l=this,u=!this._animateOff&&s.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[u?"animate":"css"](c,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:s.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},s.animate),1===n&&l.range[u?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:s.animate}))),t=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var i,n,r,o,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,a),!1===i))return}switch(o=this.options.step,n=r=this.options.values&&this.options.values.length?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-o)}this._slide(t,a,r)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(n=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||n+u>s&&l>n+u,h="y"===this.options.axis||t+c>o&&a>t+c,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!n&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){s.push(this)}var n,r,o,a,s=[],l=[],u=this._connectWith();if(u&&t)for(n=u.length-1;n>=0;n--)for(o=e(u[n]),r=o.length-1;r>=0;r--)a=e.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,o,a,s,l,u,c=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(r=e(h[i]),n=r.length-1;n>=0;n--)o=e.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=d.length-1;i>=0;i--)for(a=d[i][1],s=d[i][0],n=0,u=s.length;u>n;n++)l=e(s[n]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,n,r,o,a,s,l,u,c,d,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,a=(c=h.floating||this._isFloating(this.currentItem))?"left":"top",s=c?"width":"height",d=c?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[a],u=!1,t[d]-l>this.items[n][s]/2&&(u=!0),r>Math.abs(t[d]-l)&&(r=Math.abs(t[d]-l),o=this.items[n],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var r=i.attr(n);void 0!==r&&r.length&&(t[n]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&n.min>e?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:s(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:s(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:s(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:s(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:s(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void s(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,n;i=(t=t.cloneNode(!1)).href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return t.hash.length>1&&i===n}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,r){return e(r).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=!!this.tabs.length&&0)),!1!==t&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=!i&&0)),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){for(var n=this.tabs.length-1;-1!==e.inArray((t>n&&(t=0),0>t&&(t=n),t),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,n=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,n){var r,o,a,s=e(n).uniqueId().attr("id"),l=e(n).closest("li"),u=l.attr("aria-controls");t._isLocal(n)?(a=(r=n.hash).substring(1),o=t.element.find(t._sanitizeSelector(r))):(r="#"+(a=l.attr("aria-controls")||e({}).uniqueId()[0].id),(o=t.element.find(r)).length||(o=t._createPanel(a),o.insertAfter(t.panels[i-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)!0===t||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget).closest("li"),o=r[0]===n[0],a=o&&i.collapsible,s=a?e():this._getPanelForTab(r),l=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:l,newTab:a?e():r,newPanel:s};t.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||!1===this._trigger("beforeActivate",t,u)||(i.active=!a&&this.tabs.index(r),this.active=o?e():r,this.xhr&&this.xhr.abort(),l.length||s.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(r),t),this._toggle(t,u))},_toggle:function(t,i){function n(){o.running=!1,o._trigger("activate",t,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,n):(a.show(),n())}var o=this,a=i.newPanel,s=i.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;!1!==i&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,i,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),n._trigger("load",i,s)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&n.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(t,i,n){var r=this;return{url:t.attr("href"),beforeSend:function(t,o){return r._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:o},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.2",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(i,n);-1!==r&&n.splice(r,1),t.removeData("ui-tooltip-id"),(n=e.trim(n.join(" ")))?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var r=e.Event("blur");r.target=r.currentTarget=n.element[0],t.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,r=this,o=t?t.type:null;return"string"==typeof n?this._open(t,e,n):void((i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&r._delay(function(){t&&(t.type=o),this._open(t,e,i)})}))&&this._open(t,e,i))},_open:function(t,i,n){function r(e){c.of=e,a.is(":hidden")||a.position(c)}var o,a,s,l,u,c=e.extend({},this.options.position);if(n){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(u=n.clone()).removeAttr("id").find("[id]").removeAttr("id"):u=n,e("<div>").html(u).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):a.position(e.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",t,{tooltip:a}),s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}},i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(a)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)}},close:function(t){var i,n=this,r=e(t?t.currentTarget:this.element),o=this._find(r);o&&(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:i}),o.hiding||(o.closing=!1)))},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var r=e.Event("blur"),o=n.element;r.target=r.currentTarget=o[0],t.close(r,!0),e("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});