<div class="form-group mb-5">
    <label for="field-input-{{$ctrl.fieldEntry.template.slug}}">{{$ctrl.fieldEntry.template.label}}</label>
    <span data-ng-if="$ctrl.fieldEntry.template.isRequired" data-ng-style="{'color':!$ctrl.fieldEntry.instance.valuesJson?'red':'black', 'font-weight':!$ctrl.fieldEntry.instance.valuesJson?'bold':'default'}"> (required)</span>

    <div data-ng-if="$ctrl.fieldEntry.template.type==='shortText'">
        <input id="field-input-{{$ctrl.fieldEntry.template.slug}}" type="text" class="form-control" data-ng-change="$ctrl.onFieldChange()" data-ng-model="$ctrl.fieldEntry.instance.valuesJson" />
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='allHomePicker'">
        TODO: Implement allHomePicker
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='assignee'">
        TODO: Implement assignee
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='checkboxList'">
        <div class="form-check" data-ng-repeat="curCheckboxItem in $ctrl.checkboxListItems track by $index">
            <input class="form-check-input" type="checkbox" name="checkbox-group-{{$ctrl.fieldEntry.template.slug}}" id="checkbox-group-{{$ctrl.fieldEntry.template.slug}}-{{$index}}" data-ng-value="curValue" data-ng-change="$ctrl.onCheckboxListChange()" data-ng-model="curCheckboxItem.isChecked">
            <label class="form-check-label" for="checkbox-group-{{$ctrl.fieldEntry.template.slug}}-{{$index}}">{{curCheckboxItem.label}}</label>
        </div>
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='dateOnly'">
        <input id="field-input-{{$ctrl.fieldEntry.template.slug}}" type="text" class="form-control form-control-sm" style="max-width: 300px;" data-ui-date="{ dateFormat: 'DD, MM d, yy' }" data-ng-change="$ctrl.onDateValueChange()" data-ng-model="$ctrl.dateValue" />
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='fileAttachment'">
        <div data-ng-if="!$ctrl.fileAttachmentInfo || $ctrl.hasNewFileAttachment">
            <input id="field-input-{{$ctrl.fieldEntry.template.slug}}" style="display: none;" type="file" on-file-change="$ctrl.onFileSelected($event)" />
            <button type="button" class="btn btn-primary" data-ng-click="$ctrl.openAttachmentPicker()" data-ng-if="!$ctrl.fileAttachmentInfo">Select File</button>
            <button type="button" class="btn btn-warning" data-ng-click="$ctrl.onFileSelected(null)" data-ng-if="$ctrl.fileAttachmentInfo">Remove File</button>
            <span>{{$ctrl.fileAttachmentInfo.originalFileName}}</span>
        </div>
        <div data-ng-if="$ctrl.oldAttachmentWillBeRemoved" class="note-text">Old attachment will be removed on save</div>
        <div data-ng-if="$ctrl.fileAttachmentInfo && !$ctrl.hasNewFileAttachment">
            <button class="btn btn-primary" type="button" data-ng-click="$ctrl.viewAttachment()">View Attachment: <b>{{$ctrl.fileAttachmentInfo.originalFileName}}</b></button>
            <br />
            ({{$ctrl.fileAttachmentInfo.fileSize | filesize}}, uploaded {{$ctrl.fileAttachmentInfo.uploadedDateUtc | date:'short'}})
            (<span class="note-text text-link" data-ng-click="$ctrl.removeExistingAttachment()">Remove Attachment</span>)
        </div>
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='longText'">
        <textarea class="form-control" rows="4" data-ng-model="$ctrl.fieldEntry.instance.valuesJson"></textarea>
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='memberPicker'">
        <select class="form-select" data-ng-options="r.userId as r.fullName for r in $ctrl.groupMembers" data-ng-model="$ctrl.fieldEntry.instance.valuesJson" data-ng-change="$ctrl.onFieldChange()">
            <option data-ng-if="!$ctrl.fieldEntry.template.isRequired"></option>
        </select>
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='number'">
        <input id="field-input-{{$ctrl.fieldEntry.template.slug}}" type="number" class="form-control" data-ng-change="$ctrl.onFieldChange()" data-ng-model="$ctrl.fieldEntry.instance.valuesJson" />
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='ownerHomePicker'">
        TODO: Implement ownerHomePicker
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='radio'">
        <div class="form-check" data-ng-repeat="curValue in $ctrl.fieldEntry.template.multiValueOptions track by $index">
            <input class="form-check-input" type="radio" name="radio-group-{{$ctrl.fieldEntry.template.slug}}" id="radio-group-{{$ctrl.fieldEntry.template.slug}}-{{$index}}" data-ng-value="curValue" data-ng-change="$ctrl.onFieldChange()" data-ng-model="$ctrl.fieldEntry.instance.valuesJson">
            <label class="form-check-label" for="radio-group-{{$ctrl.fieldEntry.template.slug}}-{{$index}}">{{curValue}}</label>
        </div>
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='richTextLabel'">
        TODO: Implement richTextLabel
    </div>
    <div data-ng-if="$ctrl.fieldEntry.template.type==='timeOnly'">
        <input id="field-input-{{$ctrl.fieldEntry.template.slug}}" type="text" class="form-control" style="max-width: 300px;" data-ng-change="$ctrl.onFieldChange()" data-ng-model="$ctrl.fieldEntry.instance.valuesJson" />
    </div>

    <small data-ng-if="$ctrl.fieldEntry.template.noteText" class="form-text text-muted">
        {{$ctrl.fieldEntry.template.noteText}}
    </small>
</div>